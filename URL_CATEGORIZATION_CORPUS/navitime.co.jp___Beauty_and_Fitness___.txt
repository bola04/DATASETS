<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja">
 <head>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <title>
   地図・ルート検索 - NAVITIME
  </title>
  <meta content="NAVITIME,ナビタイム,なびたいむ,navitime,地図,経路,探索,経路探索,電車,乗換,乗り換え,時刻表,遅延情報,地図検索,乗換検索,ルート,バス,住所, 駅,バス時刻表,乗り換え案内,病院,ガソリン,ナビ" name="KEYWORDS"/>
  <meta content="新しい地図ポータルサイト『NAVITIME』地図を探す、電車の乗換案内、自動車ルート検索、徒歩ルート案内はもちろん、週間イベント情報や季節特集も充実！さらに携帯アプリ連携もバッチリ！" name="DESCRIPTION"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="text/css" http-equiv="Content-Style-Type"/>
  <meta content="text/javascript" http-equiv="Content-Script-Type"/>
  <meta content="140183272723172" property="fb:app_id"/>
  <meta content="https://www.navitime.co.jp/pcstorage/img/common/logo_NTJ.png" property="og:image"/>
  <link href="https://www.navitime.co.jp/" rel="dns-prefetch"/>
  <link href="https://www.navitime.co.jp/" rel="dns-prefetch"/>
  <link href="http://kuchikomi.navitime.co.jp/" rel="dns-prefetch"/>
  <meta content="no" http-equiv="imagetoolbar"/>
  <link href="https://www.navitime.co.jp/" rel="canonical"/>
  <link href="android-app://com.navitime.local.navitime/navitime/appindexing/transfertop" rel="alternate"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/lib/jquery/jquery-ui-1.9.2.custom.min.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/lib/jquery/mosaic.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/ver/base_1.0.1.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/top/ver/top_1.1.3.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/article/parts/ver/top_1.0.1.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/travel/ver/modelplanList_1.0.0.css" rel="stylesheet"/>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/travel/ntTravelAirTicketLink.css?v=20171018" rel="stylesheet"/>
  <script data-prex="on" id="prebid-express" src="https://ads.rubiconproject.com/prebid/12408.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   var pbjs = pbjs || {};
	pbjs.que = pbjs.que || [];
	pbjs.setConfig({bidderTimeout:1500});
  </script>
  <script type="text/javascript">
   (function () {
	    var gads = document.createElement('script');
	    gads.async = true;
	    gads.type = 'text/javascript';
	    var useSSL = 'https:' == document.location.protocol;
	    gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
	    var node = document.getElementsByTagName('script')[0];
	    node.parentNode.insertBefore(gads, node);
	})();
  </script>
  <script type="text/javascript">
   var googletag = googletag || {};
	googletag.cmd = googletag.cmd || [];
	googletag.cmd.push(function() {
	    googletag.defineSlot('/116100890/PC_TOP_300x250', [300, 250], 'div-gpt-ad-1494311114062-0').addService(googletag.pubads());
	    googletag.defineSlot('/116100890/PC_TOP_620x100', [620, 100], 'div-gpt-ad-1512725911799-0').addService(googletag.pubads());
	    googletag.defineSlot('/116100890/PC_TOP_300x250_footer_left', [300, 250], 'div-gpt-ad-1497259075957-1').addService(googletag.pubads());
	    googletag.defineSlot('/116100890/PC_TOP_300x250_footer_right', [300, 250], 'div-gpt-ad-1497259075957-2').addService(googletag.pubads());
	    googletag.defineSlot('/116100890/PC_footer_728x90_970x90_970x250', [[970, 250], [970, 90], [728, 90]], 'div-gpt-ad-1487330629651-0').addService(googletag.pubads());
	    googletag.pubads().enableSingleRequest();
	    googletag.enableServices();
	});
  </script>
 </head>
 <body>
  <style>
   #service-header #search-box-area {
				width: 296px !important;
			}
			#service-header #search-box-area #search-text-box {
				width: 280px !important;
			}
  </style>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/ver/header_1.1.0.css" rel="stylesheet"/>
  <div class="" id="service-header">
   <div id="service-header-top-container">
    <div class="cell-middle" id="service-header-logo-area">
     <h1>
      <a href="https://www.navitime.co.jp/">
       <img alt="NAVITIME" height="35px" src="https://www.navitime.co.jp/pcstorage/img/common/header/logo_header_ntj.png" title="NAVITIME" width="156px"/>
      </a>
     </h1>
    </div>
    <dl class="cell-middle" id="service-main-menu-list">
     <dt class="menu-title-area menu-title-train" data-menutype="train">
      <img alt="電車/時刻表" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_train.png" title="電車/時刻表"/>
     </dt>
     <dd class="service-list-area menu-train" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        電車/時刻表
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/transfer/">
          ・乗換案内
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/diagram/">
          ・電車時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/balletdiagram/">
          ・新幹線時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/diagram/limitedExpress/">
          ・特急列車時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/transfer/pass/">
          ・定期代検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/railroad/">
          ・路線図検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/train/">
          ・運行状況
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/?ctl=0171">
          ・電車混雑リポート
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/congestion/prediction/">
          ・混雑予報
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://transit.navitime.com/ja/?from=pcnavi.header" target="_blank">
          ・海外乗換案内
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-car" data-menutype="car">
      <img alt="自動車" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_car.png" title="自動車"/>
     </dt>
     <dd class="service-list-area menu-car" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        自動車
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/drive/">
          ・自動車ルート検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/highway/">
          ・高速料金・高速道路地図
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/parking/">
          ・駐車場検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/gasstation/">
          ・ガソリンスタンド検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/traffic/patrol/13/">
          ・交通取締情報
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/ranking/routespotlist?acode=&amp;term=w&amp;method=DRIVE">
          ・ドライブ人気スポット
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/pcstorage/html/evcharge/index.html">
          ・電気自動車(EV)充電スタンド
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/?ctl=0010&amp;invite=menu01traffic">
          ・道路交通情報(渋滞情報)
         </a>
         <span class="icon-sprite-lock">
         </span>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/?ctl=0010&amp;invite=menu01mycarmanager">
          ・マイカーマネージャー
         </a>
         <span class="icon-sprite-lock">
         </span>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-taxi" data-menutype="taxi">
      <img alt="タクシー" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_taxi.png" title="タクシー"/>
     </dt>
     <dd class="service-list-area menu-taxi" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        タクシー
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/taxi/">
          ・タクシー料金検索
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-cycle" data-menutype="cycle">
      <img alt="自転車/バイク" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_bicycle.png" title="自転車/バイク"/>
     </dt>
     <dd class="service-list-area menu-cycle" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        自転車/バイク
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/bicycle/">
          ・自転車ルート検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/ranking/routespotlist?acode=&amp;term=w&amp;method=CYCLE">
          ・自転車人気スポット
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/motorbike/parking/">
          ・バイク駐車場検索
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-airplane" data-menutype="airplane">
      <img alt="飛行機" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_airplane.png" title="飛行機"/>
     </dt>
     <dd class="service-list-area menu-airplane" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        飛行機
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/air/">
          ・飛行機時刻表/予約〔国内線〕
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/airstate/">
          ・飛行機運航状況〔国内線〕
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/lcc/">
          ・LCC時刻表・格安航空券予約
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://travel.navitime.com/ja/flight/?from=pcnavi.footer.sitelink" target="_blank">
          ・飛行機時刻表/予約〔国際線〕
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-bus" data-menutype="bus">
      <img alt="バス/時刻表" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_bus.png" title="バス/時刻表"/>
     </dt>
     <dd class="service-list-area menu-bus" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        バス/時刻表
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/bustransit/">
          ・バス乗換案内
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/bus/">
          ・路線バス時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/highwaybus/">
          ・高速バス時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/nonstopbus/">
          ・空港バス時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/midnightbus/">
          ・深夜急行バス時刻表
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/bus/route/">
          ・バス路線図検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/busstop/">
          ・バス停検索
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-travel" data-menutype="travel">
      <img alt="旅行/レジャー" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_travel.png" title="旅行/レジャー"/>
     </dt>
     <dd class="service-list-area menu-travel" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        旅行/レジャー
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="http://travel.navitime.co.jp/?from=pcnavi.header" target="_blank">
          ・国内航空券・ホテル予約
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://transit.navitime.com/ja/travel?from=pcnavi.header" target="_blank">
          ・海外航空券・ホテル予約
         </a>
        </li>
        <li class="service-list-item">
         <a href="http://travel.navitime.co.jp/hotel">
          ・国内ホテル予約
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://plat.navitime.co.jp/">
          ・おでかけスポット検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/ticket/">
          ・レジャー・体験チケット検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/event/list?eventId=99999">
          ・イベント検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/walkingcourse/">
          ・ウォーキングコース検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="http://kuchikomi.navitime.co.jp/" target="_blank">
          ・クチコミ広場
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://travel.navitime.com/ja/area/jp/feature/hanami/" target="_blank">
          ・季節のおすすめ
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-spot" data-menutype="spot">
      <img alt="地図/スポット" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_spot.png" title="地図/スポット"/>
     </dt>
     <dd class="service-list-area menu-spot" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        地図/スポット
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="javascript:void(0);" onclick="N_HEADER.moveMap(this.event);">
          ・地図検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/?ctl=0050">
          ・住所から探す
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/category/">
          ・ジャンルから探す
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/gourmet" target="_blank">
          ・グルメスポット検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/ranking/top">
          ・人気スポットランキング
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/newspot/list">
          ・新規オープンスポット検索
         </a>
        </li>
       </ul>
      </div>
     </dd>
     <dt class="menu-title-area menu-title-life" data-menutype="life">
      <img alt="生活/お役立ち" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_life.png" title="生活/お役立ち"/>
     </dt>
     <dd class="service-list-area menu-life" style="visibility: hidden;">
      <div class="service-list-content-box">
       <span class="menu-title-heading">
        生活/お役立ち
       </span>
       <ul class="service-list">
        <li class="service-list-item">
         <a href="https://realestate.navitime.co.jp/" target="_blank">
          ・住まい検索
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/dental/">
          ・歯医者を探す
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/saigai/">
          ・災害情報
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/weather/">
          ・天気情報
         </a>
        </li>
        <li class="service-list-item">
         <a href="https://www.navitime.co.jp/postcode/">
          ・郵便番号検索
         </a>
        </li>
       </ul>
      </div>
     </dd>
    </dl>
    <ul class="cell-middle" id="service-topic-menu-list">
     <li>
      <a class="menu-title-totalnavi" href="https://www.navitime.co.jp/?ctl=0010&amp;invite=menu01totalnavi#totalnavi">
       <img alt="トータルナビ" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_total.png" title="トータルナビ"/>
      </a>
     </li>
     <li>
      <a class="menu-title-map" href="javascript:void(0);" onclick="N_HEADER.moveMap(this.event);">
       <img alt="地図" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_map.png" title="地図"/>
      </a>
     </li>
     <li>
      <a class="menu-title-navitimetravel" href="https://travel.navitime.co.jp/?from=pcnavi.header.menutitle" target="_blank">
       <img alt="NAVITIMEトラベル" src="https://www.navitime.co.jp/pcstorage/img/common/header/btn_header_navitimetravel.png" title="NAVITIMEトラベル"/>
      </a>
     </li>
    </ul>
   </div>
   <div id="service-header-bottom-container">
    <div id="search-box-area">
     <form action="https://www.navitime.co.jp/freeword/" method="GET" name="header-freeword-search-form" onsubmit="return N_HEADER.search();">
      <input autocomplete="off" id="search-text-box" name="keyword" placeholder="駅/店舗/住所/〒/TEL" type="text"/>
      <button id="search-submit-btn" type="submit">
       <span class="icon-sprite-search">
       </span>
      </button>
     </form>
    </div>
    <div id="boom-word-area">
     <span id="boom-word-title">
      急上昇
      <br/>
      ワード
     </span>
     <span class="word">
      <a href="https://www.navitime.co.jp/?keyword=%E5%B9%95%E5%BC%B5%E3%83%A1%E3%83%83%E3%82%BB&amp;ctl=0110">
       <i class="icon_arrow left">
       </i>
       幕張メッセ
      </a>
     </span>
     <span class="word">
      <a href="https://www.navitime.co.jp/?keyword=%E9%8A%80%E5%B1%B1%E6%B8%A9%E6%B3%89&amp;ctl=0110">
       <i class="icon_arrow left">
       </i>
       銀山温泉
      </a>
     </span>
     <a href="https://www.navitime.co.jp/ranking/boomkeyword">
      <span class="icon-sprite-more">
      </span>
     </a>
    </div>
    <ul id="user-info-menu-list">
     <li>
      <a href="javascript:void(0);" onclick="location.href='https://www.navitime.co.jp/?ctl=0010&amp;url='+encodeURIComponent('https://www.navitime.co.jp/?ctl=0510&amp;url='+location.href);">
       <span class="icon-sprite-setting">
       </span>
       My設定
      </a>
     </li>
     <li>
      <a href="https://pcc.navitime.co.jp/navitimeid/pcc/mobilelist/?invite=global01">
       <span class="icon-sprite-entry">
       </span>
       新規会員登録
      </a>
     </li>
     <li>
      <a href="javascript:void(0);" onclick="N_HEADER.moveLogin('https://www.navitime.co.jp/');">
       <span class="icon-sprite-arrow">
       </span>
       ログイン
      </a>
     </li>
     <li>
      <a href="javascript:void(0);" onclick="return N_HEADER.moveComment();">
       <span class="icon-sprite-arrow">
       </span>
       ご意見/ご要望
      </a>
     </li>
    </ul>
   </div>
  </div>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/build/common/header/ver/top_1.0.6.js" type="text/javascript">
  </script>
  <div class="main_frame">
   <div id="foreigner-traveler-travel-link" style="text-align:center;">
    <a href="https://travel.navitime.com/en/redirect" style="font-size:0;">
     <img alt="Find English resources that help with your travel in Japan." height="auto" src="https://www.navitime.co.jp/pcstorage/img/common/travel/banner_foreigner_traveler.png" width="960"/>
    </a>
   </div>
   <script>
    function viewTouchSite(){
	document.cookie = "st=sp; domain=.navitime.co.jp; expires=Tue, 1-Jan-2030 00:00:00 GMT;";
	location.href = "https://touch.navitime.co.jp/?utm_source=pcnavitime&utm_medium=pcnavitime&utm_campaign=goto_spsite";
}
function closeTransitBanner(){
	$("#transit_banner_area").hide();
	document.cookie = "trstBn=0; domain=.navitime.co.jp; expires=Tue, 1-Jan-2030 00:00:00 GMT;";
}
   </script>
   <div class="news_topics">
    <!-- トピックス用のスタイルです -->
    <style>
     <!-- 
    #topics_logo{ font-size: 10px; background-color: #008C00; font-weight: bold; color: #FFFFFF; margin-right: 12px; padding: 0 2px;}
    .topics_contents{margin-right: 12px;font-size:12px;}
    .topic_left{ float: left; }
    .topic_clear{ clear: both; }
-->
    </style>
    <div id="topics_frame">
     <div id="topicstitle_frame">
      <div id="topics_logo">
       Topics
      </div>
     </div>
     <div id="topicscontents_frame">
      <div class="topics_contents">
       <img src="//www.navitime.co.jp/pcstorage/img/icon_new.gif"/>
       <a _trackevent="" href="https://travel.navitime.co.jp/ja/booking/?reserveType=jr&amp;cid=pcnavi.top.news&amp;from=pctop_news" onclick=" _gaq.push([" target="_blank">
        【出張・旅行におすすめ】新幹線チケットのご予約はこちら！
       </a>
      </div>
     </div>
     <div class="clear">
     </div>
    </div>
   </div>
   <div class="body_container center clear">
    <div class="left" id="left_pane">
     <div id="search_pane">
      <div class="route_search clear">
       <div class="route_tabs">
        <span class="left pointer totalnavi " data-type="totalnavi">
         <div class="tab_center totalnavi">
          <i class="tab_icon totalnavi ">
          </i>
         </div>
        </span>
        <span class="left pointer transfer on" data-type="transfer">
         <div class="tab_center transfer">
          <i class="tab_icon transfer on">
          </i>
         </div>
        </span>
        <span class="left pointer car" data-type="car">
         <div class="tab_center car">
          <i class="tab_icon car">
          </i>
         </div>
        </span>
        <span class="left pointer bus" data-type="bus">
         <div class="tab_center bus">
          <i class="tab_icon bus">
          </i>
         </div>
        </span>
        <span class="left pointer bicycle" data-type="bicycle">
         <div class="tab_center bicycle">
          <i class="tab_icon bicycle">
          </i>
         </div>
        </span>
        <span class="left pointer airplane" data-type="airplane">
         <div class="tab_center airplane">
          <i class="tab_icon airplane">
          </i>
         </div>
        </span>
       </div>
       <div class="route_arrows clear">
        <span class="left totalnavi ">
        </span>
        <span class="left transfer on">
        </span>
        <span class="left car">
        </span>
        <span class="left bus">
        </span>
        <span class="left bicycle">
        </span>
        <span class="left airplane">
        </span>
       </div>
       <div class="route_contents clear">
        <div class="search_condition totalnavi none">
         <div class="searchcondition totalnavi">
          <div class="invite_totalnavi">
           <div class="contents">
            <div class="description">
             トータルナビは、有料会員の方がご利用になれる機能です。
             <br/>
             電車・飛行機・バス・徒歩などさまざまな移動手段を組み合わせて、
             <span>
              出発地から目的地までの最適ルートを検索することができます。
             </span>
            </div>
            <div class="btns">
             <a href="https://www.navitime.co.jp/?ctl=0010&amp;invite=total01&amp;pccType=1">
              <span class="btn login_entry">
               ログイン/新規会員登録
              </span>
             </a>
             <a href="https://www.navitime.co.jp/serviceinfo/totalnaviinfo">
              <span class="btn howto">
               トータルナビの使い方
              </span>
             </a>
            </div>
           </div>
           <div class="freenavi">
            <div class="description">
             <span>
              【無料おためし】
             </span>
             人気スポット｢
             <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=A1000&amp;spotId=0027&amp;dnv=502923955.128371651..%E6%9D%B1%E6%80%A5%E3%83%8F%E3%83%B3%E3%82%BA%E6%B8%8B%E8%B0%B7%E5%BA%97&amp;mode=propernavi">
              東急ハンズ渋谷店
             </a>
             ｣までのルート案内をしてみよう！
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="search_condition transfer ">
         <form action="https://www.navitime.co.jp/transfer/searchlist" id="transfer_form" method="GET">
          <div class="input_condition">
           <span class="left contents_start">
            <label class="left cursor start">
             出発駅
            </label>
            <input autocomplete="off" class="input_position input_orv transfer suggest_on " name="orvStationName" type="text"/>
           </span>
           <span class="left exchange pointer transfer">
           </span>
           <span class="left contents_goal">
            <label class="left cursor goal">
             到着駅
            </label>
            <input autocomplete="off" class="input_position input_dnv transfer suggest_on " name="dnvStationName" type="text"/>
           </span>
          </div>
          <div class="time_condition clear transfer">
           <select class="time_month forms left" name="month">
            <option value="2018/6">
             2018年6
            </option>
            <option value="2018/7">
             2018年7
            </option>
            <option value="2018/8">
             2018年8
            </option>
           </select>
           <span class="unit left">
            月
           </span>
           <select class="time_day forms left" name="day">
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option selected="" value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
           </select>
           <span class="unit left">
            日
           </span>
           <select class="time_hour forms left" name="hour">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option selected="" value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
           </select>
           <span class="unit left">
            時
           </span>
           <select class="time_minute forms left" name="minute">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option selected="" value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
            <option value="32">
             32
            </option>
            <option value="33">
             33
            </option>
            <option value="34">
             34
            </option>
            <option value="35">
             35
            </option>
            <option value="36">
             36
            </option>
            <option value="37">
             37
            </option>
            <option value="38">
             38
            </option>
            <option value="39">
             39
            </option>
            <option value="40">
             40
            </option>
            <option value="41">
             41
            </option>
            <option value="42">
             42
            </option>
            <option value="43">
             43
            </option>
            <option value="44">
             44
            </option>
            <option value="45">
             45
            </option>
            <option value="46">
             46
            </option>
            <option value="47">
             47
            </option>
            <option value="48">
             48
            </option>
            <option value="49">
             49
            </option>
            <option value="50">
             50
            </option>
            <option value="51">
             51
            </option>
            <option value="52">
             52
            </option>
            <option value="53">
             53
            </option>
            <option value="54">
             54
            </option>
            <option value="55">
             55
            </option>
            <option value="56">
             56
            </option>
            <option value="57">
             57
            </option>
            <option value="58">
             58
            </option>
            <option value="59">
             59
            </option>
           </select>
           <span class="unit left">
            分
           </span>
           <span>
            <span class="left pointer time_now setting_time_now forms btns">
             <div class="setting_title">
              現在時刻
             </div>
            </span>
            <span class="left pointer time_basis forms start on btns" data-basis="1">
             <div class="setting_title">
              出発
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="0">
             <div class="setting_title">
              到着
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="4">
             <div class="setting_title">
              始発
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="3">
             <div class="setting_title">
              終電
             </div>
            </span>
           </span>
          </div>
          <div class="detail_condition clear">
           <div class="t_center add_link">
            <a class="pointer detail_condition_toggle off">
             詳細条件設定＋
            </a>
            <a class="option_link" href="javascript:void(0);" id="submit_detail_transfer">
             <i class="icon_blue_arrow">
             </i>
             経由駅を設定
            </a>
           </div>
           <div class="contents none">
            <div>
             <div class="left title">
              表示順序
             </div>
             <div class="left checks">
              <input checked="" name="sort" type="radio" value="0"/>
              <span class="unit">
               時間
              </span>
              <input name="sort" type="radio" value="1"/>
              <span class="unit">
               運賃
              </span>
              <input name="sort" type="radio" value="2"/>
              <span class="unit">
               乗換回数
              </span>
              <input name="sort" type="radio" value="6"/>
              <span class="unit">
               CO2排出量
              </span>
              <div>
              </div>
              <input name="sort" type="radio" value="7"/>
              <span class="unit">
               エレベーター優先
              </span>
              <input name="sort" type="radio" value="8"/>
              <span class="unit">
               エレベーター・エスカレーター優先
              </span>
              <div>
              </div>
              <input disabled="" type="radio"/>
              <span class="unit">
               <a class="lock_func" href="https://www.navitime.co.jp/?ctl=0010&amp;invite=pass01&amp;pccType=1">
                <img src="https://www.navitime.co.jp/pcstorage/img/top/new/nologin/nologin_key.png"/>
                定期券区間優先
               </a>
              </span>
             </div>
            </div>
            <div class="clear separate">
            </div>
            <div>
             <div class="left title">
              徒歩速度
             </div>
             <div class="left checks">
              <input checked="" name="wspeed" type="radio" value="100"/>
              <span class="unit">
               標準
              </span>
              <input name="wspeed" type="radio" value="125"/>
              <span class="unit">
               ゆっくり
              </span>
              <input name="wspeed" type="radio" value="83"/>
              <span class="unit">
               せかせか
              </span>
             </div>
            </div>
            <div class="clear separate">
            </div>
            <div>
             <div class="left title">
              使用路線
             </div>
             <div class="left checks">
              <input checked="" name="airplane" type="checkbox" value="1"/>
              <span class="unit">
               飛行機
              </span>
              <input checked="" name="sprexprs" type="checkbox" value="1"/>
              <span class="unit">
               新幹線
              </span>
              <input checked="" name="utrexprs" type="checkbox" value="1"/>
              <span class="unit">
               特急線
              </span>
              <input checked="" name="othexprs" type="checkbox" value="1"/>
              <span class="unit">
               その他有料路線
              </span>
              <input checked="" name="mtrplbus" type="checkbox" value="1"/>
              <span class="unit">
               路線バス(
               <a href="" onclick="window.open('https://www.navitime.co.jp/serviceinfo/buscompanylist/','','width=360,height=460,resizable=yes,scrollbars=yes');return false;">
                対応路線
               </a>
               )
              </span>
              <div>
              </div>
              <input checked="" name="intercitybus" type="checkbox" value="1"/>
              <span class="unit">
               高速バス
              </span>
              <input checked="" name="ferry" type="checkbox" value="1"/>
              <span class="unit">
               フェリー
              </span>
             </div>
            </div>
            <div class="clear">
            </div>
           </div>
          </div>
          <div>
           <button class="btn btn_submit" data-type="transfer" id="submit_route_search_transfer">
            検　索
           </button>
          </div>
          <input class="dynamic" id="transfer_orv_code" name="orvStationCode" type="hidden" value=""/>
          <input class="dynamic" id="transfer_dnv_code" name="dnvStationCode" type="hidden" value=""/>
          <input name="basis" type="hidden" value="1"/>
          <input id="transfer_ctl" name="ctl" type="hidden" value="020010"/>
          <input name="atr" type="hidden" value="2"/>
          <input name="detailset" type="hidden" value="1"/>
          <input class="dynamic" id="transfer_init" name="init" type="hidden"/>
         </form>
        </div>
        <div class="search_condition car none">
         <form action="https://www.navitime.co.jp/drive/map/result" id="car_form" method="GET">
          <div class="input_condition">
           <span class="left contents_start">
            <label class="left cursor start">
             出発地
            </label>
            <input autocomplete="off" class="input_position input_orv car modal_on" type="text"/>
           </span>
           <span class="left exchange pointer car">
           </span>
           <span class="left contents_goal">
            <label class="left cursor goal">
             目的地
            </label>
            <input autocomplete="off" class="input_position input_dnv car modal_on" type="text"/>
           </span>
          </div>
          <div class="time_condition clear">
           <select class="time_month forms left">
            <option value="2018/6">
             2018年6
            </option>
            <option value="2018/7">
             2018年7
            </option>
            <option value="2018/8">
             2018年8
            </option>
           </select>
           <span class="unit left">
            月
           </span>
           <select class="time_day forms left">
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option selected="" value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
           </select>
           <span class="unit left">
            日
           </span>
           <select class="time_hour forms left">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option selected="" value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
           </select>
           <span class="unit left">
            時
           </span>
           <select class="time_minute forms left">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option selected="" value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
            <option value="32">
             32
            </option>
            <option value="33">
             33
            </option>
            <option value="34">
             34
            </option>
            <option value="35">
             35
            </option>
            <option value="36">
             36
            </option>
            <option value="37">
             37
            </option>
            <option value="38">
             38
            </option>
            <option value="39">
             39
            </option>
            <option value="40">
             40
            </option>
            <option value="41">
             41
            </option>
            <option value="42">
             42
            </option>
            <option value="43">
             43
            </option>
            <option value="44">
             44
            </option>
            <option value="45">
             45
            </option>
            <option value="46">
             46
            </option>
            <option value="47">
             47
            </option>
            <option value="48">
             48
            </option>
            <option value="49">
             49
            </option>
            <option value="50">
             50
            </option>
            <option value="51">
             51
            </option>
            <option value="52">
             52
            </option>
            <option value="53">
             53
            </option>
            <option value="54">
             54
            </option>
            <option value="55">
             55
            </option>
            <option value="56">
             56
            </option>
            <option value="57">
             57
            </option>
            <option value="58">
             58
            </option>
            <option value="59">
             59
            </option>
           </select>
           <span class="unit left">
            分
           </span>
           <span>
            <span class="left pointer time_now setting_time_now forms btns">
             <div class="setting_title">
              現在時刻
             </div>
            </span>
            <span class="left pointer time_basis forms start on btns" data-basis="1">
             <div class="setting_title">
              出発
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="0">
             <div class="setting_title">
              到着
             </div>
            </span>
           </span>
          </div>
          <div class="detail_condition clear">
           <div class="t_center add_link">
            <a class="pointer detail_condition_toggle off">
             詳細条件設定＋
            </a>
            <a class="option_link" href="https://www.navitime.co.jp/drive/">
             <i class="icon_blue_arrow">
             </i>
             渋滞/ガソリン価格を見る
            </a>
           </div>
           <div class="contents none">
            <div>
             <div class="left title">
              検索条件
             </div>
             <div class="left checks">
              <input disabled="" type="checkbox"/>
              <span class="unit">
               <a class="lock_func" href="https://www.navitime.co.jp/?ctl=0010&amp;invite=pcnew_traffic&amp;pccType=2">
                <img src="https://www.navitime.co.jp/pcstorage/img/top/new/nologin/nologin_key.png"/>
                渋滞考慮
               </a>
              </span>
              <input name="carRoute" type="checkbox" value="smic"/>
              <span class="unit">
               スマートIC考慮
              </span>
              <input name="movePriority" type="checkbox" value="gas"/>
              <span class="unit">
               ガソリン節約
              </span>
              <a href="#" onclick="window.open('https://www.navitime.co.jp/pcstorage/html/carrouteinfo.html','','width=400,height=600');return false;">
               <i class="icon_blue_arrow">
               </i>
               検索条件について
              </a>
             </div>
            </div>
            <div class="clear">
            </div>
           </div>
          </div>
          <div>
           <button class="btn btn_submit" data-type="car" id="submit_route_search_car">
            検　索
           </button>
          </div>
          <input class="dynamic" name="start" type="hidden" value=""/>
          <input class="dynamic" name="goal" type="hidden" value=""/>
          <input class="dynamic" name="time" type="hidden" value=""/>
         </form>
        </div>
        <div class="search_condition bus none">
         <form action="https://www.navitime.co.jp/bustransit/search" id="bus_form" method="GET">
          <div class="input_condition">
           <span class="left contents_start">
            <label class="left cursor start">
             出発地
            </label>
            <input autocomplete="off" class="input_position input_orv bus busSuggest_on" name="orvStationName" type="text"/>
           </span>
           <span class="left exchange pointer bus">
           </span>
           <span class="left contents_goal">
            <label class="left cursor goal">
             目的地
            </label>
            <input autocomplete="off" class="input_position input_dnv bus busSuggest_on" name="dnvStationName" type="text"/>
           </span>
          </div>
          <div class="time_condition clear bus">
           <select class="time_month forms left" name="month">
            <option value="2018/6">
             2018年6
            </option>
            <option value="2018/7">
             2018年7
            </option>
            <option value="2018/8">
             2018年8
            </option>
           </select>
           <span class="unit left">
            月
           </span>
           <select class="time_day forms left" name="day">
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option selected="" value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
           </select>
           <span class="unit left">
            日
           </span>
           <select class="time_hour forms left" name="hour">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option selected="" value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
           </select>
           <span class="unit left">
            時
           </span>
           <select class="time_minute forms left" name="minute">
            <option value="0">
             0
            </option>
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option selected="" value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
            <option value="32">
             32
            </option>
            <option value="33">
             33
            </option>
            <option value="34">
             34
            </option>
            <option value="35">
             35
            </option>
            <option value="36">
             36
            </option>
            <option value="37">
             37
            </option>
            <option value="38">
             38
            </option>
            <option value="39">
             39
            </option>
            <option value="40">
             40
            </option>
            <option value="41">
             41
            </option>
            <option value="42">
             42
            </option>
            <option value="43">
             43
            </option>
            <option value="44">
             44
            </option>
            <option value="45">
             45
            </option>
            <option value="46">
             46
            </option>
            <option value="47">
             47
            </option>
            <option value="48">
             48
            </option>
            <option value="49">
             49
            </option>
            <option value="50">
             50
            </option>
            <option value="51">
             51
            </option>
            <option value="52">
             52
            </option>
            <option value="53">
             53
            </option>
            <option value="54">
             54
            </option>
            <option value="55">
             55
            </option>
            <option value="56">
             56
            </option>
            <option value="57">
             57
            </option>
            <option value="58">
             58
            </option>
            <option value="59">
             59
            </option>
           </select>
           <span class="unit left">
            分
           </span>
           <span>
            <span class="left pointer time_now setting_time_now forms btns">
             <div class="setting_title">
              現在時刻
             </div>
            </span>
            <span class="left pointer time_basis forms start on btns" data-basis="1">
             <div class="setting_title">
              出発
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="0">
             <div class="setting_title">
              到着
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="4">
             <div class="setting_title">
              始発
             </div>
            </span>
            <span class="left pointer time_basis forms goal btns" data-basis="3">
             <div class="setting_title">
              終発
             </div>
            </span>
           </span>
          </div>
          <div class="detail_condition clear">
           <div class="t_right">
            <a class="option_link" href="https://www.navitime.co.jp/bus/">
             <i class="icon_blue_arrow">
             </i>
             バス時刻表を見る
            </a>
           </div>
          </div>
          <div>
           <button class="btn btn_submit" data-type="bus" id="submit_route_search_bus">
            検　索
           </button>
          </div>
          <input class="dynamic" id="bus_orv_code" name="orvStationCode" type="hidden" value=""/>
          <input class="dynamic" id="bus_dnv_code" name="dnvStationCode" type="hidden" value=""/>
          <input name="basis" type="hidden" value="1"/>
          <input id="transfer_ctl" name="ctl" type="hidden" value="020010"/>
          <input name="atr" type="hidden" value="2"/>
          <input name="detailset" type="hidden" value="1"/>
          <input class="dynamic" id="bus_init" name="init" type="hidden"/>
         </form>
        </div>
        <div class="search_condition bicycle none">
         <form action="https://www.navitime.co.jp/" id="bicycle_form" method="GET">
          <div class="input_condition">
           <span class="left contents_start">
            <label class="left cursor start">
             出発地
            </label>
            <input autocomplete="off" class="input_position input_orv bicycle modal_on" name="keyword0" type="text"/>
           </span>
           <span class="left exchange pointer bicycle">
           </span>
           <span class="left contents_goal">
            <label class="left cursor goal">
             目的地
            </label>
            <input autocomplete="off" class="input_position input_dnv bicycle modal_on" name="keyword1" type="text"/>
           </span>
          </div>
          <div class="detail_condition clear">
           <div class="t_center description">
            ※出発地と目的地は200Km以内の地点を設定してください。
           </div>
          </div>
          <div class="detail_condition clear">
           <div class="t_right">
            <a class="option_link" href="https://www.navitime.co.jp/bicycle/?fromlink=top">
             <i class="icon_blue_arrow">
             </i>
             経由地を設定
            </a>
           </div>
          </div>
          <div class="clear">
           <button class="btn btn_submit" data-type="bicycle" id="submit_route_search_bicycle">
            検　索
           </button>
          </div>
          <input name="ctl" type="hidden" value="00001"/>
          <input name="mode" type="hidden" value="propernavi"/>
          <input name="bicycle" type="hidden" value="1"/>
          <input class="dynamic" name="orv" type="hidden" value=""/>
          <input class="dynamic" name="dnv" type="hidden" value=""/>
          <input class="dynamic" name="orvAdd" type="hidden" value=""/>
          <input class="dynamic" name="dnvAdd" type="hidden" value=""/>
         </form>
        </div>
        <div class="search_condition airplane none">
         <form action="https://www.navitime.co.jp/" id="airplane_form" method="GET">
          <div class="input_condition">
           <span class="left contents_start">
            <label class="left cursor start t_center">
             出発
            </label>
            <select class="airport-select-box" id="d_place" name="orvStationCode" size="1">
             <option selected="" value="00000592">
              [東京]羽田空港
             </option>
             <option value="00004332">
              [東京]成田国際空港
             </option>
             <option value="TYO">
              [東京]羽田・成田
             </option>
             <option value="00005607">
              [大阪]伊丹空港
             </option>
             <option value="00001353">
              [大阪]関西空港
             </option>
             <option value="OSA">
              [大阪]伊丹・関西
             </option>
             <option value="00004286">
              [札幌]新千歳空港
             </option>
             <option value="00009406">
              [名古屋]中部国際空港
             </option>
             <option value="NGY">
              [名古屋]中部・小牧
             </option>
             <option value="00008012">
              福岡空港
             </option>
             <option value="00007011">
              [沖縄]那覇空港
             </option>
             <option value="dummy">
              ---------- 北海道 ----------
             </option>
             <option value="00004286">
              [札幌]新千歳空港
             </option>
             <option value="00001590">
              [札幌]丘珠空港
             </option>
             <option value="00008925">
              利尻空港
             </option>
             <option value="00005957">
              稚内空港
             </option>
             <option value="00000037">
              オホーツク紋別空港
             </option>
             <option value="00003627">
              女満別空港
             </option>
             <option value="00000211">
              旭川空港
             </option>
             <option value="00002759">
              根室中標津空港
             </option>
             <option value="00001958">
              釧路空港
             </option>
             <option value="00005495">
              帯広空港
             </option>
             <option value="00007488">
              函館空港
             </option>
             <option value="00000798">
              奥尻空港
             </option>
             <option value="00009049">
              礼文空港
             </option>
             <option value="dummy">
              ---------- 東北 ----------
             </option>
             <option value="00004976">
              青森空港
             </option>
             <option value="00003047">
              三沢空港
             </option>
             <option value="00005555">
              大館能代空港
             </option>
             <option value="00003493">
              秋田空港
             </option>
             <option value="00001096">
              花巻空港
             </option>
             <option value="00003802">
              庄内空港
             </option>
             <option value="00003108">
              山形空港
             </option>
             <option value="00005126">
              仙台空港
             </option>
             <option value="00008033">
              福島空港
             </option>
             <option value="dummy">
              ---------- 関東 ----------
             </option>
             <option selected="" value="00000592">
              [東京]羽田空港
             </option>
             <option value="00004332">
              [東京]成田国際空港
             </option>
             <option value="TYO">
              [東京]羽田・成田
             </option>
             <option value="00009568">
              茨城空港
             </option>
             <option value="00006198">
              調布空港
             </option>
             <option value="00005731">
              大島空港
             </option>
             <option value="00008926">
              利島空港
             </option>
             <option value="00004330">
              新島空港
             </option>
             <option value="00004459">
              神津島空港
             </option>
             <option value="00003043">
              三宅島空港
             </option>
             <option value="00002293">
              御蔵島空港
             </option>
             <option value="00007528">
              八丈島空港
             </option>
             <option value="00004963">
              青ヶ島空港
             </option>
             <option value="dummy">
              ---------- 中部 ----------
             </option>
             <option value="00004193">
              新潟空港
             </option>
             <option value="00002788">
              佐渡空港
             </option>
             <option value="00003877">
              松本空港
             </option>
             <option value="00007874">
              富山空港
             </option>
             <option value="00003695">
              小松空港
             </option>
             <option value="00009345">
              能登空港
             </option>
             <option value="00009406">
              [名古屋]中部国際空港
             </option>
             <option value="00008577">
              [名古屋]小牧空港
             </option>
             <option value="NGY">
              [名古屋]中部・小牧
             </option>
             <option value="00009564">
              静岡空港
             </option>
             <option value="dummy">
              ---------- 近畿 ----------
             </option>
             <option value="00005607">
              [大阪]伊丹空港
             </option>
             <option value="00001353">
              [大阪]関西空港
             </option>
             <option value="00009457">
              [大阪]神戸空港
             </option>
             <option value="OSA">
              [大阪]伊丹・関西
             </option>
             <option value="00007060">
              南紀白浜空港
             </option>
             <option value="00005852">
              但馬空港
             </option>
             <option value="dummy">
              ---------- 中国 ----------
             </option>
             <option value="00000861">
              岡山空港
             </option>
             <option value="00002399">
              広島空港
             </option>
             <option value="00002400">
              広島西空港
             </option>
             <option value="00009617">
              岩国空港
             </option>
             <option value="00003111">
              山口宇部空港
             </option>
             <option value="00006290">
              鳥取空港
             </option>
             <option value="00008120">
              米子空港
             </option>
             <option value="00005017">
              石見空港
             </option>
             <option value="00003560">
              出雲空港
             </option>
             <option value="00000507">
              隠岐空港
             </option>
             <option value="dummy">
              ---------- 四国 ----------
             </option>
             <option value="00006986">
              徳島空港
             </option>
             <option value="00002579">
              高松空港
             </option>
             <option value="00003847">
              松山空港
             </option>
             <option value="00002600">
              高知空港
             </option>
             <option value="dummy">
              ---------- 九州 ----------
             </option>
             <option value="00008012">
              福岡空港
             </option>
             <option value="00009459">
              北九州空港
             </option>
             <option value="00005751">
              大分空港
             </option>
             <option value="00002768">
              佐賀空港
             </option>
             <option value="00006222">
              長崎空港
             </option>
             <option value="00000466">
              壱岐空港
             </option>
             <option value="00003726">
              小値賀空港
             </option>
             <option value="00003946">
              上五島空港
             </option>
             <option value="00005492">
              対馬空港
             </option>
             <option value="00002240">
              五島福江空港
             </option>
             <option value="00001971">
              熊本空港
             </option>
             <option value="00006435">
              天草空港
             </option>
             <option value="00001647">
              宮崎空港
             </option>
             <option value="00003345">
              鹿児島空港
             </option>
             <option value="00003465">
              種子島空港
             </option>
             <option value="00000883">
              屋久島空港
             </option>
             <option value="00001450">
              喜界島空港
             </option>
             <option value="00000749">
              奄美大島空港
             </option>
             <option value="00006987">
              徳之島空港
             </option>
             <option value="00000874">
              沖永良部空港
             </option>
             <option value="00008884">
              与論空港
             </option>
             <option value="dummy">
              ---------- 沖縄 ----------
             </option>
             <option value="00007011">
              [沖縄]那覇空港
             </option>
             <option value="00008366">
              北大東空港
             </option>
             <option value="00007134">
              南大東空港
             </option>
             <option value="00001621">
              久米島空港
             </option>
             <option value="00001644">
              宮古空港
             </option>
             <option value="00005468">
              多良間空港
             </option>
             <option value="00005010">
              石垣空港
             </option>
             <option value="00008881">
              与那国空港
             </option>
             <option value="00000248">
              粟国空港
             </option>
             <option value="00000054">
              ケラマ空港
             </option>
             <option value="00007360">
              波照間空港
             </option>
            </select>
           </span>
           <span class="left search_arrow pointer airplane">
           </span>
           <span class="left contents_goal">
            <label class="left cursor goal t_center">
             到着
            </label>
            <select class="airport-select-box" id="a_place" name="dnvStationCode" size="1">
             <option value="00000592">
              [東京]羽田空港
             </option>
             <option value="00004332">
              [東京]成田国際空港
             </option>
             <option value="TYO">
              [東京]羽田・成田
             </option>
             <option value="00005607">
              [大阪]伊丹空港
             </option>
             <option value="00001353">
              [大阪]関西空港
             </option>
             <option value="OSA">
              [大阪]伊丹・関西
             </option>
             <option selected="" value="00004286">
              [札幌]新千歳空港
             </option>
             <option value="00009406">
              [名古屋]中部国際空港
             </option>
             <option value="NGY">
              [名古屋]中部・小牧
             </option>
             <option value="00008012">
              福岡空港
             </option>
             <option value="00007011">
              [沖縄]那覇空港
             </option>
             <option value="dummy">
              ---------- 北海道 ----------
             </option>
             <option selected="" value="00004286">
              [札幌]新千歳空港
             </option>
             <option value="00001590">
              [札幌]丘珠空港
             </option>
             <option value="00008925">
              利尻空港
             </option>
             <option value="00005957">
              稚内空港
             </option>
             <option value="00000037">
              オホーツク紋別空港
             </option>
             <option value="00003627">
              女満別空港
             </option>
             <option value="00000211">
              旭川空港
             </option>
             <option value="00002759">
              根室中標津空港
             </option>
             <option value="00001958">
              釧路空港
             </option>
             <option value="00005495">
              帯広空港
             </option>
             <option value="00007488">
              函館空港
             </option>
             <option value="00000798">
              奥尻空港
             </option>
             <option value="00009049">
              礼文空港
             </option>
             <option value="dummy">
              ---------- 東北 ----------
             </option>
             <option value="00004976">
              青森空港
             </option>
             <option value="00003047">
              三沢空港
             </option>
             <option value="00005555">
              大館能代空港
             </option>
             <option value="00003493">
              秋田空港
             </option>
             <option value="00001096">
              花巻空港
             </option>
             <option value="00003802">
              庄内空港
             </option>
             <option value="00003108">
              山形空港
             </option>
             <option value="00005126">
              仙台空港
             </option>
             <option value="00008033">
              福島空港
             </option>
             <option value="dummy">
              ---------- 関東 ----------
             </option>
             <option value="00000592">
              [東京]羽田空港
             </option>
             <option value="00004332">
              [東京]成田国際空港
             </option>
             <option value="TYO">
              [東京]羽田・成田
             </option>
             <option value="00009568">
              茨城空港
             </option>
             <option value="00006198">
              調布空港
             </option>
             <option value="00005731">
              大島空港
             </option>
             <option value="00008926">
              利島空港
             </option>
             <option value="00004330">
              新島空港
             </option>
             <option value="00004459">
              神津島空港
             </option>
             <option value="00003043">
              三宅島空港
             </option>
             <option value="00002293">
              御蔵島空港
             </option>
             <option value="00007528">
              八丈島空港
             </option>
             <option value="00004963">
              青ヶ島空港
             </option>
             <option value="dummy">
              ---------- 中部 ----------
             </option>
             <option value="00004193">
              新潟空港
             </option>
             <option value="00002788">
              佐渡空港
             </option>
             <option value="00003877">
              松本空港
             </option>
             <option value="00007874">
              富山空港
             </option>
             <option value="00003695">
              小松空港
             </option>
             <option value="00009345">
              能登空港
             </option>
             <option value="00009406">
              [名古屋]中部国際空港
             </option>
             <option value="00008577">
              [名古屋]小牧空港
             </option>
             <option value="NGY">
              [名古屋]中部・小牧
             </option>
             <option value="00009564">
              静岡空港
             </option>
             <option value="dummy">
              ---------- 近畿 ----------
             </option>
             <option value="00005607">
              [大阪]伊丹空港
             </option>
             <option value="00001353">
              [大阪]関西空港
             </option>
             <option value="00009457">
              [大阪]神戸空港
             </option>
             <option value="OSA">
              [大阪]伊丹・関西
             </option>
             <option value="00007060">
              南紀白浜空港
             </option>
             <option value="00005852">
              但馬空港
             </option>
             <option value="dummy">
              ---------- 中国 ----------
             </option>
             <option value="00000861">
              岡山空港
             </option>
             <option value="00002399">
              広島空港
             </option>
             <option value="00002400">
              広島西空港
             </option>
             <option value="00009617">
              岩国空港
             </option>
             <option value="00003111">
              山口宇部空港
             </option>
             <option value="00006290">
              鳥取空港
             </option>
             <option value="00008120">
              米子空港
             </option>
             <option value="00005017">
              石見空港
             </option>
             <option value="00003560">
              出雲空港
             </option>
             <option value="00000507">
              隠岐空港
             </option>
             <option value="dummy">
              ---------- 四国 ----------
             </option>
             <option value="00006986">
              徳島空港
             </option>
             <option value="00002579">
              高松空港
             </option>
             <option value="00003847">
              松山空港
             </option>
             <option value="00002600">
              高知空港
             </option>
             <option value="dummy">
              ---------- 九州 ----------
             </option>
             <option value="00008012">
              福岡空港
             </option>
             <option value="00009459">
              北九州空港
             </option>
             <option value="00005751">
              大分空港
             </option>
             <option value="00002768">
              佐賀空港
             </option>
             <option value="00006222">
              長崎空港
             </option>
             <option value="00000466">
              壱岐空港
             </option>
             <option value="00003726">
              小値賀空港
             </option>
             <option value="00003946">
              上五島空港
             </option>
             <option value="00005492">
              対馬空港
             </option>
             <option value="00002240">
              五島福江空港
             </option>
             <option value="00001971">
              熊本空港
             </option>
             <option value="00006435">
              天草空港
             </option>
             <option value="00001647">
              宮崎空港
             </option>
             <option value="00003345">
              鹿児島空港
             </option>
             <option value="00003465">
              種子島空港
             </option>
             <option value="00000883">
              屋久島空港
             </option>
             <option value="00001450">
              喜界島空港
             </option>
             <option value="00000749">
              奄美大島空港
             </option>
             <option value="00006987">
              徳之島空港
             </option>
             <option value="00000874">
              沖永良部空港
             </option>
             <option value="00008884">
              与論空港
             </option>
             <option value="dummy">
              ---------- 沖縄 ----------
             </option>
             <option value="00007011">
              [沖縄]那覇空港
             </option>
             <option value="00008366">
              北大東空港
             </option>
             <option value="00007134">
              南大東空港
             </option>
             <option value="00001621">
              久米島空港
             </option>
             <option value="00001644">
              宮古空港
             </option>
             <option value="00005468">
              多良間空港
             </option>
             <option value="00005010">
              石垣空港
             </option>
             <option value="00008881">
              与那国空港
             </option>
             <option value="00000248">
              粟国空港
             </option>
             <option value="00000054">
              ケラマ空港
             </option>
             <option value="00007360">
              波照間空港
             </option>
            </select>
           </span>
          </div>
          <div class="time_condition clear airplane">
           <select class="time_month forms left">
            <option value="2018/6">
             2018年6
            </option>
            <option value="2018/7">
             2018年7
            </option>
            <option value="2018/8">
             2018年8
            </option>
           </select>
           <span class="left time_menu">
            月
           </span>
           <select class="time_day forms left">
            <option value="1">
             1
            </option>
            <option value="2">
             2
            </option>
            <option value="3">
             3
            </option>
            <option value="4">
             4
            </option>
            <option value="5">
             5
            </option>
            <option value="6">
             6
            </option>
            <option value="7">
             7
            </option>
            <option value="8">
             8
            </option>
            <option value="9">
             9
            </option>
            <option value="10">
             10
            </option>
            <option value="11">
             11
            </option>
            <option value="12">
             12
            </option>
            <option value="13">
             13
            </option>
            <option value="14">
             14
            </option>
            <option value="15">
             15
            </option>
            <option value="16">
             16
            </option>
            <option value="17">
             17
            </option>
            <option value="18">
             18
            </option>
            <option value="19">
             19
            </option>
            <option value="20">
             20
            </option>
            <option value="21">
             21
            </option>
            <option value="22">
             22
            </option>
            <option selected="" value="23">
             23
            </option>
            <option value="24">
             24
            </option>
            <option value="25">
             25
            </option>
            <option value="26">
             26
            </option>
            <option value="27">
             27
            </option>
            <option value="28">
             28
            </option>
            <option value="29">
             29
            </option>
            <option value="30">
             30
            </option>
            <option value="31">
             31
            </option>
           </select>
           <span class="left time_menu">
            日
           </span>
           <label class="left cursor select_air_label t_center">
            航空会社指定
           </label>
           <select class="air_company_select forms left" name="pCode">
            <option checked="checked" value="00000000">
             なし
            </option>
            <option value="00000001">
             ANA
            </option>
            <option value="00000002">
             JAL
            </option>
            <option value="99999999">
             LCC/その他
            </option>
           </select>
          </div>
          <div>
           <button class="btn btn_submit" data-type="airplane" id="submit_airplane_diagram_search">
            検　索
           </button>
          </div>
         </form>
        </div>
       </div>
      </div>
     </div>
     <div class="clear">
     </div>
     <div class="banner">
      <div id="div-gpt-ad-1512725911799-0" style="text-align: center;">
       <script>
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1512725911799-0'); });
       </script>
      </div>
     </div>
     <div class="clear">
     </div>
     <div id="articleList">
      <h2 class="left inline">
       <a href="https://travel.navitime.com/ja/area/jp/destinations/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', '記事一覧へ', 'click']);" target="_blank">
        おでかけ記事
       </a>
      </h2>
      <span class="subtitle">
       NAVITIME Travelオリジナルの観光情報
      </span>
      <hr/>
      <ul>
       <li class="article_list_width inline_block">
        <div class="img_div_0">
         <a class="left_img" href="https://travel.navitime.com/ja/area/jp/guide/NTJtyo0009/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
          <img alt="" height="auto" src="//api-pc-img.cld.navitime.jp/images/https://svcstrg2.navitime.jp/curation/img/NTJtyo0009/NTJtyo0009_top.jpg" width="310"/>
         </a>
        </div>
        <h3 style="width:310px;padding-top:9px;">
         <a href="https://travel.navitime.com/ja/area/jp/guide/NTJtyo0009/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
          <span class="">
           フォトジェニック過ぎる！東京近郊で海外気分が味わえるスポット14選
          </span>
         </a>
        </h3>
        <span class="time ">
         <img alt="new" height="12" src="https://www.navitime.co.jp/pcstorage/img/article/icon/pc_icon_new_plat.png" style="margin:0px;" width="30"/>
         2018/06/23
        </span>
       </li>
       <div class="article_list_width inline_block" style="vertical-align:top; float:right;">
        <li class="article_list_width ">
         <div class="img_div_1">
          <a class="img_block" href="https://travel.navitime.com/ja/area/jp/guide/NTJlei0014/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
           <img alt="" height="auto" src="//api-pc-img.cld.navitime.jp/images/https://svcstrg2.navitime.jp/curation/img/NTJlei0014/n_lei0014_1.jpg" width="144"/>
          </a>
         </div>
         <div class="inline_block right_div">
          <h3>
           <a href="https://travel.navitime.com/ja/area/jp/guide/NTJlei0014/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
            <span class="right_article_title">
             静岡・伊東市で陶芸アート体験！ファミリーや女子旅におすすめ施設5選
            </span>
           </a>
          </h3>
          <span class="time bottom">
           <img alt="new" height="12" src="https://www.navitime.co.jp/pcstorage/img/article/icon/pc_icon_new_plat.png" style="margin:0px;" width="30"/>
           2018/06/23
          </span>
         </div>
        </li>
        <li class="article_list_width ">
         <div class="img_div_2">
          <a class="img_block" href="https://travel.navitime.com/ja/area/jp/guide/NTJlei0013/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
           <img alt="" height="auto" src="//api-pc-img.cld.navitime.jp/images/https://svcstrg2.navitime.jp/curation/img/NTJlei0013/n_lei0013_1.jpg" width="144"/>
          </a>
         </div>
         <div class="inline_block right_div">
          <h3>
           <a href="https://travel.navitime.com/ja/area/jp/guide/NTJlei0013/" onclick="_gaq.push(['_trackEvent', '記事チラ見せ_top', 'index:, title:', 'click']);" target="_blank">
            <span class="right_article_title">
             今度の休みは家族で横浜！親子で楽しめるレジャースポット5選
            </span>
           </a>
          </h3>
          <span class="time bottom">
           <img alt="new" height="12" src="https://www.navitime.co.jp/pcstorage/img/article/icon/pc_icon_new_plat.png" style="margin:0px;" width="30"/>
           2018/06/22
          </span>
         </div>
        </li>
       </div>
      </ul>
      <div class="content_footer">
       <div class="left infoArea">
        NAVITIME Travelでしか読めない観光情報が満載！
        <br/>
        行きたい場所を集めて、自分だけの観光プランを作ることもできます！
       </div>
       <a href="https://travel.navitime.com/ja/area/jp/destinations/" onclick="_gaq.push(['_trackEvent', '記事一覧_top-フッター', '記事一覧へ', 'click']);" target="_blank">
        <div class="search_btn right">
         <div class="search_link_area t_center">
          NAVITIME Travelへ
          <img src="https://www.navitime.co.jp/pcstorage/img/common/travel/newwindow_icon.svg" title="NAVITIME Travelへのリンク"/>
         </div>
        </div>
       </a>
      </div>
     </div>
     <div class="clear">
     </div>
     <div class="ad_frame">
      <div id="div-gpt-ad-1497259075957-1" style="height:250px; width:300px; float:left;">
       <script>
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1497259075957-1'); });
       </script>
      </div>
      <div id="div-gpt-ad-1497259075957-2" style="height:250px; width:300px; float:right; margin-left:20px;">
       <script>
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1497259075957-2'); });
       </script>
      </div>
     </div>
     <div class="clear">
     </div>
     <div class="modelplanList">
      <h2 class="left inline">
       <a href="https://travel.navitime.com/ja/plan/" onclick="_gaq.push(['_trackEvent', 'モデルプラン_top-ヘッダー', 'モデルプラン一覧へ', 'click']);" target="_blank">
        おすすめの旅行プラン
       </a>
      </h2>
      <hr/>
      <ul class="modelplan-list-contaienr">
       <li class="modelplan-list-item">
        <a class="modelplan-list-item-link" href="https://travel.navitime.com/ja/area/jp/model-plan/detail/ntjplan136" onclick="_gaq.push(['_trackEvent', 'モデルプラン_詳細', 'index:0, title:フルーツ狩り＆長瀞ライン下りを満喫する夏の秩父ドライブ', 'click']);" target="_blank">
         <img onerror="this.src='https://www.navitime.co.jp/pcstorage/img/top/modelplan/no-image.png';" src="https://svcstrg2.navitime.jp/modelplan/img//ntjplan136/ntjplan136_top.jpg" title="フルーツ狩り＆長瀞ライン下りを満喫する夏の秩父ドライブ"/>
         <dl>
          <div class="area-days-container">
           <dd>
            埼玉県
            <div class="area-days-separator">
             |
            </div>
            <dd>
             1日
            </dd>
           </dd>
          </div>
          <dt>
           フルーツ狩り＆長瀞ライン下りを満喫する夏の秩父ドライブ
          </dt>
         </dl>
        </a>
       </li>
       <li class="modelplan-list-item">
        <a class="modelplan-list-item-link" href="https://travel.navitime.com/ja/area/jp/model-plan/detail/ntjplan195" onclick="_gaq.push(['_trackEvent', 'モデルプラン_詳細', 'index:1, title:都心から最も近い温泉街「箱根」1DAY満喫プラン', 'click']);" target="_blank">
         <img onerror="this.src='https://www.navitime.co.jp/pcstorage/img/top/modelplan/no-image.png';" src="https://svcstrg2.navitime.jp/modelplan/img//ntjplan195/ntjplan195_top.jpg" title="都心から最も近い温泉街「箱根」1DAY満喫プラン"/>
         <dl>
          <div class="area-days-container">
           <dd>
            神奈川県
            <div class="area-days-separator">
             |
            </div>
            <dd>
             1日
            </dd>
           </dd>
          </div>
          <dt>
           都心から最も近い温泉街「箱根」1DAY満喫プラン
          </dt>
         </dl>
        </a>
       </li>
       <li class="modelplan-list-item">
        <a class="modelplan-list-item-link" href="https://travel.navitime.com/ja/area/jp/model-plan/detail/ntjplan236" onclick="_gaq.push(['_trackEvent', 'モデルプラン_詳細', 'index:2, title:箱根フリーパスを活用！一泊二日のお得で楽しい箱根女子旅プラン', 'click']);" target="_blank">
         <img onerror="this.src='https://www.navitime.co.jp/pcstorage/img/top/modelplan/no-image.png';" src="https://svcstrg2.navitime.jp/modelplan/img//ntjplan236/ntjplan236_top.jpg" title="箱根フリーパスを活用！一泊二日のお得で楽しい箱根女子旅プラン"/>
         <dl>
          <div class="area-days-container">
           <dd>
            神奈川県
            <div class="area-days-separator">
             |
            </div>
            <dd>
             2日
            </dd>
           </dd>
          </div>
          <dt>
           箱根フリーパスを活用！一泊二日のお得で楽しい箱根女子旅プラン
          </dt>
         </dl>
        </a>
       </li>
      </ul>
      <div class="content_footer">
       <div class="left infoArea">
        NAVITIME Travelのおすすめする観光プラン。
        <br/>
        モデルプランをカスタマイズして、旅行プランを作ることもできます！
       </div>
       <a href="https://travel.navitime.com/ja/plan/" onclick="_gaq.push(['_trackEvent', 'モデルプラン_top-フッター', 'モデルプラン一覧へ', 'click']);" target="_blank">
        <div class="search_btn right">
         <div class="search_link_area t_center">
          NAVITIME Travelへ
          <img src="https://www.navitime.co.jp/pcstorage/img/common/travel/newwindow_icon.svg" title="NAVITIME Travelへのリンク"/>
         </div>
        </div>
       </a>
       <div class="clear">
       </div>
      </div>
     </div>
     <div>
      <div id="kuchikomi">
       <div class="spSearchTitle">
        <h2>
         <a href="http://kuchikomi.navitime.co.jp/searchList/photo_rank">
          クチコミ写真
         </a>
        </h2>
       </div>
       <hr/>
       <div class="ranking">
        <div class="title">
         評価ランキング
         <span>
          (毎週更新)
         </span>
        </div>
        <div class="cgm_img first mosaic_bar mosaic-block bar">
         <div class="cgm_description rank mosaic-overlay">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=00004.37160100006&amp;from=pc.top.cgm" title="父母ヶ浜海岸">
             父母ヶ浜海岸
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000004083018" title="AmeOyajiさん">
             AmeOyaji
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000092747">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             267
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_rank_first_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000092747_00004_37160100006">
           <div class="img_rank rank1">
           </div>
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/47/00000092747.jpg" title="まるでウユニ塩湖、天空の鏡！のはずが…泣"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img under_second mosaic_bar mosaic-block bar upper">
         <div class="cgm_description rank mosaic-overlay _under">
          <div class="contents _under">
           <div class="spot _under">
            <a href="https://www.navitime.co.jp/poi?spt=00020.A4103510&amp;from=pc.top.cgm" title="あわじ花さじき">
             あわじ花さじき
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000004083018" title="AmeOyajiさん">
             AmeOyaji
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000090457">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             242
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_rank_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000090457_00020_A4103510">
           <div class="img_rank rank2">
           </div>
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/57/00000090457.JPG" title="天空の菜の花畑！"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img under_second mosaic_bar mosaic-block bar end upper">
         <div class="cgm_description rank mosaic-overlay _under">
          <div class="contents _under">
           <div class="spot _under">
            <a href="https://www.navitime.co.jp/poi?spt=00004.25167200004&amp;from=pc.top.cgm" title="三筋の滝">
             三筋の滝
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000004083018" title="AmeOyajiさん">
             AmeOyaji
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000092474">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             163
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_rank_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000092474_00004_25167200004">
           <div class="img_rank rank3">
           </div>
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/74/00000092474.jpg" title="車は横づけ、気軽に鑑賞できる滝！"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img under_second mosaic_bar mosaic-block bar ">
         <div class="cgm_description rank mosaic-overlay _under">
          <div class="contents _under">
           <div class="spot _under">
            <a href="https://www.navitime.co.jp/poi?spt=02301.1300615&amp;from=pc.top.cgm" title="神田神社(神田明神)">
             神田神社(神田…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000002812075" title="NAVITIMEユーザーさん">
             NAVITIMEユー…
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000086862">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             235
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_rank_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000086862_02301_1300615">
           <div class="img_rank rank4">
           </div>
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/62/00000086862.jpg" title="2017神田祭"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img under_second mosaic_bar mosaic-block bar end ">
         <div class="cgm_description rank mosaic-overlay _under">
          <div class="contents _under">
           <div class="spot _under">
            <a href="https://www.navitime.co.jp/poi?spt=01125.J001051536&amp;from=pc.top.cgm" title="ｽーﾌﾟｶﾚー ﾎﾟﾆﾋﾟﾘｶ">
             ｽーﾌﾟｶﾚー ﾎﾟﾆﾋ…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000004089347" title="yukinoさん">
             yukino
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000089047">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             152
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_rank_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000089047_01125_J001051536">
           <div class="img_rank rank5">
           </div>
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/47/00000089047.JPG" title="スープカレー ポニピリカ"/>
           </div>
          </a>
         </div>
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="new">
        <div class="title">
         新着写真
        </div>
        <div class="cgm_img recents mosaic_bar mosaic-block bar">
         <div class="cgm_description recent mosaic-overlay _recent">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=00004.22161300019&amp;from=pc.top.cgm" title="諏訪神社奉納煙火">
             諏訪神社奉納…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000004086810" title="Asoka55さん">
             Asoka55
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000098983">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             0
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_recent_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000098983_00004_22161300019">
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/83/00000098983.jpg" title="入口鳥居"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img recents mosaic_bar mosaic-block bar">
         <div class="cgm_description recent mosaic-overlay _recent">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=02022.1250486&amp;from=pc.top.cgm" title="【4/28オープン】AKIYA Beach House(ｱｷﾔﾋﾞｰﾁﾊｳｽ)">
             【4/28オープ…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000002812075" title="NAVITIMEユーザーさん">
             NAVITIMEユ…
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000098994">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             0
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_recent_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000098994_02022_1250486">
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/94/00000098994.jpeg" title="【4/28オープン】AKIYA Beach House(アキヤビーチハウス)"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img recents mosaic_bar mosaic-block bar">
         <div class="cgm_description recent mosaic-overlay _recent">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=02025.950483&amp;from=pc.top.cgm" title="内川遊覧&amp;12橋巡り">
             内川遊覧&amp;…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000002812075" title="NAVITIMEユーザーさん">
             NAVITIMEユ…
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000099002">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             0
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_recent_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000099002_02025_950483">
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/2/00000099002.jpg" title="射水市内川　なかしんばし"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img recents mosaic_bar mosaic-block bar">
         <div class="cgm_description recent mosaic-overlay _recent">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=00011.021134767&amp;from=pc.top.cgm" title="株式会社ｲﾝﾀｰｺﾑR&amp;Dｾﾝﾀｰ">
             株式会社ｲﾝﾀｰｺ…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000002812075" title="NAVITIMEユーザーさん">
             NAVITIMEユ…
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000098998">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             0
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_recent_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000098998_00011_021134767">
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/98/00000098998.jpg" title="温かみのある社屋"/>
           </div>
          </a>
         </div>
        </div>
        <div class="cgm_img recents mosaic_bar mosaic-block bar end">
         <div class="cgm_description recent mosaic-overlay _recent">
          <div class="contents">
           <div class="spot">
            <a href="https://www.navitime.co.jp/poi?spt=02022.1250486&amp;from=pc.top.cgm" title="【4/28オープン】AKIYA Beach House(ｱｷﾔﾋﾞｰﾁﾊｳｽ)">
             【4/28オープ…
            </a>
           </div>
           <div class="user">
            <a href="http://kuchikomi.navitime.co.jp/user/N000002812075" title="NAVITIMEユーザーさん">
             NAVITIMEユ…
            </a>
            さん
           </div>
           <div class="score vote_cgm pointer left" data-id="00000098991">
            <i class="icon_score left">
            </i>
            <span class="score_val">
             1
            </span>
           </div>
          </div>
         </div>
         <div class="cgm_recent_img mosaic-backdrop">
          <a href="http://kuchikomi.navitime.co.jp/spot/image/00000098991_02022_1250486">
           <div class="contents">
            <img src="//api-pc-img.cld.navitime.jp/images/http://kuchikomi.navitime.co.jp/storage/spot/thum2/91/00000098991.jpeg" title="【4/28オープン】AKIYA Beach House(アキヤビーチハウス)"/>
           </div>
          </a>
         </div>
        </div>
       </div>
       <div class="clear">
       </div>
       <input data-map="http://kuchikomi.navitime.co.jp/" id="kuchikomi_url" type="hidden"/>
       <div class="content_footer">
        <div class="left infoArea">
         行った場所の写真や感想を投稿しよう！
         <br/>
         あなたのクチコミが役に立ったら、みんなから評価をもらえます。
        </div>
        <a href="http://kuchikomi.navitime.co.jp/">
         <div class="search_btn right">
          <div class="search_link_area t_center">
           <img src="https://www.navitime.co.jp/pcstorage/img/top/new/special/btn_kuchikomi.png"/>
           クチコミ広場へ
          </div>
         </div>
        </a>
        <div class="clear">
        </div>
       </div>
      </div>
      <script id="recrute_cgm_template" type="text/x-jquery-tmpl">
       <div class="spot_detail_area">
		<div class="spot_name left">
			<a href="https://www.navitime.co.jp/poi?spt=${reviewInfo.info.provId}.${reviewInfo.info.spotId}" class="spot_name_link">${reviewInfo.info.name}</a>
		</div>
		<div class="category_area left"><${reviewInfo.info.category}></div>
		<div class="clear"></div>
		<div class="address_area">
			<span class="address">${reviewInfo.info.address}</span>
			<span>[<a href="https://www.navitime.co.jp/?ctl=0190&provId=${reviewInfo.info.provId}&spotId=${reviewInfo.info.spotId}">地図</a>]</span>
		</div>
		<div class="button_area">
			<a href="http://kuchikomi.navitime.co.jp/review/post_form?name=${reviewInfo.info.name}&provId=${reviewInfo.info.provId}&spotId=${reviewInfo.info.spotId}&from=top_recruit" style="border-bottom: 2px solid #0c8e8e;border-radius: 4px 4px 0 0;"><span class="review_button_img"></span><span class="info">クチコミを投稿する</span></a>
			<a href="http://kuchikomi.navitime.co.jp/spot/post_image_form?name=${reviewInfo.info.name}&provId=${reviewInfo.info.provId}&spotId=${reviewInfo.info.spotId}&from=top_recruit" style="border-radius: 0 0 4px 4px;"><span class="photo_button_img"></span><span class="info">写真を投稿する</span></a>
		</div>
		
		<div class="picture_area">
			<div class="photo_info">
				<span class="photo_img"></span>
				<span class="photo_cap">人気写真</span>
			</div>
			<div class="review_img_area">
				<img src="">
			</div>
		</div>
		
		<div class="cgm_area">
			<span class="cgm_info">
				<span class="review_img"></span>
				<span class="review_cap">最新クチコミ</span>
			</span>
			<div class="review_area">${reviewInfo.review.review}</div>
			<a href="http://kuchikomi.navitime.co.jp/user/${reviewInfo.review.userId}" class="user_name left">${reviewInfo.review.userName}</a><span class="left" style="margin-top: 6px;">さん</span>
			{{if reviewInfo.substringFlg}}
				<a href="http://kuchikomi.navitime.co.jp/spot/review/${reviewInfo.review.reviewId}_${reviewInfo.info.provId}_${reviewInfo.info.spotId}" class="more_link">
					<span class="more_link_icon"></span>
					<span style="width: 58px;">続きを読む</span>
				</a>
			{{/if}}
		</div>
		
	</div>
	<div class=clear></div>
      </script>
      <style>
       #hoge{
	width:70px;
	height:70px;
	display: block;
}
      </style>
      <script type="text/javascript">
       function chk(){
	if( document.search_form.kWord.value.replace(/^\s+|\s+$/g, "") == "" ){
		alert("キーワードを入力してください");
		return false;
	}
	return true;
}
function send(){
	if(chk()){
		document.search_form.submit();
	}
}
      </script>
     </div>
     <style>
      <!--
		#two_banner_area{ margin-top: 24px; }
		#two_banner_area img{ width: 300px height: 100px; }
		.two_banner_area_left{ margin-right: 19px; }
		.left{ float: left; }
		.clear{ clear: both; }
	-->
     </style>
     <div id="two_banner_area">
      <div class="two_banner_area_left left">
       <a href="//www.navitime.co.jp/air/" target="_blank" title="飛行機時刻表">
        <img alt="飛行機時刻表" src="//www.navitime.co.jp/pcstorage/img/upTool/two_air_banner.jpg"/>
       </a>
      </div>
      <div class="left">
       <a href="https://travel.navitime.co.jp/?from=top" target="_blank" title="NAVITIMEトラベル">
        <img alt="NAVITIMEトラベル" src="https://www.navitime.co.jp/pcstorage/img/upTool/travel_top_banner_autumn_300x100.png" width="300px"/>
       </a>
      </div>
      <div class="clear">
      </div>
     </div>
     <div id="newSpot">
      <div class="spSearchTitle">
       <h2 class="left">
        <a href="https://www.navitime.co.jp/newspot/list?from=pc.top.newspot">
         新規オープンスポット
        </a>
       </h2>
       <div class="clear">
       </div>
      </div>
      <hr/>
      <div class="contents_pane">
       <ul id="newSpot_list">
        <li>
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 22 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 22 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1265640&amp;from=pc.top.newspot">
            Seria(セリア) レッドキャベツ友丘店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            福岡県福岡市城南区友丘2-3-8 レッドキャベツ友丘店2F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1265640&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li>
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 22 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 22 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1266710&amp;from=pc.top.newspot">
            トイザらス 三井ショッピングパーク ららぽー…
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            埼玉県富士見市山室1-1313 三井ショッピングパーク ららぽーと富士見 1F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1266710&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li>
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 22 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 22 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267462&amp;from=pc.top.newspot">
            いきなりステーキ 宇都宮東簗瀬店
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            栃木県宇都宮市東簗瀬1-1-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267462&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li>
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 22 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 22 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268871&amp;from=pc.top.newspot">
            XFLAG STORE SHINSAIBASHI(エックスフラグスト…
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            大阪府大阪市中央区西心斎橋1-5-17
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268871&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li>
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 23 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 23 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268482&amp;from=pc.top.newspot">
            モードオフ 秋葉原店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都千代田区外神田3-8-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268482&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 23 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 23 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268884&amp;from=pc.top.newspot">
            ディスカウントドラッグコスモス 直川店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            和歌山県和歌山市直川572-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268884&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 23 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 23 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268885&amp;from=pc.top.newspot">
            ディスカウントドラッグコスモス 曽師店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            宮崎県宮崎市吉村町ハシテ甲2386-30
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268885&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 23 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 23 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=06041.0002600034&amp;from=pc.top.newspot">
            Edge line イオンモール橿原店
           </a>
           <span class="little weak">
            &lt;おしゃれ/ファッシ…&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            奈良県橿原市曲川町7-20-1 イオンモール橿原 2F[221]
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=06041&amp;spotId=0002600034&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Mon Jun 25 00:00:00 JST 2018
           </div>
           <div class="date">
            Mon Jun 25 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1266409&amp;from=pc.top.newspot">
            横浜銀行 下北沢支店
           </a>
           <span class="little weak">
            &lt;暮らし/生活/病院&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都世田谷区北沢2-28-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1266409&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Mon Jun 25 00:00:00 JST 2018
           </div>
           <div class="date">
            Mon Jun 25 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1266709&amp;from=pc.top.newspot">
            サンマルクカフェ ららぽーと富士見店
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            埼玉県富士見市山室1-1313 ららぽーと富士見 1F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1266709&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Mon Jun 25 00:00:00 JST 2018
           </div>
           <div class="date">
            Mon Jun 25 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02042.6937&amp;from=pc.top.newspot">
            B&amp;W(ビーアンドダブリュー)
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            神奈川県横浜市中区石川町2-73-2 タークォイスビル2F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02042&amp;spotId=6937&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Tue Jun 26 00:00:00 JST 2018
           </div>
           <div class="date">
            Tue Jun 26 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1250633&amp;from=pc.top.newspot">
            上越市立水族博物館 うみがたり
           </a>
           <span class="little weak">
            &lt;遊ぶ/趣味&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            新潟県上越市五智2-15-15
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1250633&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Tue Jun 26 00:00:00 JST 2018
           </div>
           <div class="date">
            Tue Jun 26 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1266994&amp;from=pc.top.newspot">
            UP GARAGE(アップガレージ) 青森弘前店
           </a>
           <span class="little weak">
            &lt;交通&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            青森県弘前市高田3-3-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1266994&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Tue Jun 26 00:00:00 JST 2018
           </div>
           <div class="date">
            Tue Jun 26 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268879&amp;from=pc.top.newspot">
            いきなりステーキ学園南店
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            兵庫県神戸市垂水区小束台868-1038
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268879&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Wed Jun 27 00:00:00 JST 2018
           </div>
           <div class="date">
            Wed Jun 27 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267413&amp;from=pc.top.newspot">
            Seria(セリア) カインズ前橋小島田店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            群馬県前橋市小島田町178 CAINZ前橋小島田店内
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267413&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Wed Jun 27 00:00:00 JST 2018
           </div>
           <div class="date">
            Wed Jun 27 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268412&amp;from=pc.top.newspot">
            いきなりステーキ 千葉こてはし店
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            千葉県千葉市花見川区犢橋町1457-1
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268412&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Thu Jun 28 00:00:00 JST 2018
           </div>
           <div class="date">
            Thu Jun 28 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267977&amp;from=pc.top.newspot">
            niko and...(ニコアンド) ペリエ千葉店
           </a>
           <span class="little weak">
            &lt;おしゃれ/ファッシ…&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            千葉県千葉市中央区新千葉1-1-1 ペリエ千葉本館1F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267977&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Thu Jun 28 00:00:00 JST 2018
           </div>
           <div class="date">
            Thu Jun 28 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268870&amp;from=pc.top.newspot">
            BAGEL&amp;BAGEL(ベーグル&amp;ベーグル) 京急…
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            神奈川県横浜市港南区上大岡西1-6-1 京急百貨店上大岡店内
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268870&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 29 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 29 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1266745&amp;from=pc.top.newspot">
            Seria(セリア) タイヨー国分店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            鹿児島県霧島市国分中央3-14-14 タイヨー国分店2F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1266745&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 29 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 29 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267303&amp;from=pc.top.newspot">
            Seria(セリア) ライフ北越谷店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            埼玉県越谷市北越谷2-38-8 ライフ北越谷店2F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267303&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 29 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 29 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268505&amp;from=pc.top.newspot">
            TKPガーデンシティ 大阪リバーサイドホテル
           </a>
           <span class="little weak">
            &lt;暮らし/生活/病院&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            大阪府大阪市都島区中野町5-12-30 大阪リバーサイドホテル会館棟 2F-6F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268505&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Fri Jun 29 00:00:00 JST 2018
           </div>
           <div class="date">
            Fri Jun 29 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1269038&amp;from=pc.top.newspot">
            伝説の串 新時代 秋葉原本店
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都千代田区神田佐久間町2-10-2
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1269038&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 30 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 30 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267144&amp;from=pc.top.newspot">
            Seria(セリア) ダイエー船堀店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都江戸川区船堀1-1-51 ダイエー船堀店2F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267144&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 30 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 30 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268477&amp;from=pc.top.newspot">
            2nd STREET(セカンドストリート) 大村店
           </a>
           <span class="little weak">
            &lt;おしゃれ/ファッシ…&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            長崎県大村市幸町25-198
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268477&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sat Jun 30 00:00:00 JST 2018
           </div>
           <div class="date">
            Sat Jun 30 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1268478&amp;from=pc.top.newspot">
            セカンドストリート 八尾旭ヶ丘店
           </a>
           <span class="little weak">
            &lt;おしゃれ/ファッシ…&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            大阪府八尾市旭ヶ丘5-5-4
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1268478&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sun Jul 01 00:00:00 JST 2018
           </div>
           <div class="date">
            Sun Jul 01 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1267412&amp;from=pc.top.newspot">
            &amp;all(アンドオール) 上野店
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都台東区上野6-10-7 アメ横高架下ビルB棟・84号
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1267412&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sun Jul 01 00:00:00 JST 2018
           </div>
           <div class="date">
            Sun Jul 01 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02042.6703&amp;from=pc.top.newspot">
            コインランドリー 新井1丁目店
           </a>
           <span class="little weak">
            &lt;暮らし/生活/病院&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            東京都中野区新井1-31-9
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02042&amp;spotId=6703&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Sun Jul 01 00:00:00 JST 2018
           </div>
           <div class="date">
            Sun Jul 01 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02042.6881&amp;from=pc.top.newspot">
            eKOREA TOWN(イーコリアタウン) 大阪
           </a>
           <span class="little weak">
            &lt;お買い物&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            大阪府大阪市生野区鶴橋3-8-38
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02042&amp;spotId=6881&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Mon Jul 02 00:00:00 JST 2018
           </div>
           <div class="date">
            Mon Jul 02 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1255141&amp;from=pc.top.newspot">
            ホテルメルパルク名古屋 ビアホール リュミエ…
           </a>
           <span class="little weak">
            &lt;グルメ/お酒&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            愛知県名古屋市東区葵3-16-16 ホテルメルパルク名古屋1F
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1255141&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
        <li class="none last">
         <div class="left t_center">
          <div class="spot_label">
          </div>
          <div class="spot_date">
           <div class="month">
            Mon Jul 02 00:00:00 JST 2018
           </div>
           <div class="date">
            Mon Jul 02 00:00:00 JST 2018
           </div>
          </div>
         </div>
         <div class="contents">
          <p>
           <a class="bold" href="https://www.navitime.co.jp/poi?spt=02022.1265654&amp;from=pc.top.newspot">
            Times Car RENTAL(タイムズカーレンタル) 札幌…
           </a>
           <span class="little weak">
            &lt;旅行/観光&gt;
           </span>
          </p>
          <p class="little weak">
           <span>
            北海道札幌市中央区北一条西1-6
           </span>
           [
           <a href="https://www.navitime.co.jp/?ctl=0190&amp;provId=02022&amp;spotId=1265654&amp;from=pc.top.newspot">
            地図
           </a>
           ]
          </p>
         </div>
         <div class="clear">
         </div>
        </li>
       </ul>
      </div>
      <div class="clear">
      </div>
      <div class="content_footer">
       <div class="left infoArea">
        <p>
         近日オープンするスポットを先取りチェック！
         <br/>
         地域やジャンルで絞り込んで探すことも出来ます。
        </p>
       </div>
       <a href="https://www.navitime.co.jp/newspot/list?from=pc.top.newspot">
        <div class="search_btn right">
         <div class="search_link_area t_center">
          <img src="https://www.navitime.co.jp/pcstorage/img/top/new/special/btn_new_spot.png"/>
          <span>
           新規オープンスポット検索へ
          </span>
         </div>
        </div>
       </a>
       <div class="clear">
       </div>
      </div>
     </div>
     <div id="gourmet">
      <div class="spSearchTitle">
       <h2 class="left inline">
        <a href="https://www.navitime.co.jp/ranking/spotlist?category1_1=03&amp;category1_2=03&amp;term=w&amp;from=pc.top.gourmet">
         イチオシ！グルメ
        </a>
       </h2>
       <div class="right">
        <select class="gourmet_select" name="gourmetSelectArea">
         <optgroup class="area_name" label="北海道・東北">
          <option class="area_name" value="1">
           北海道
          </option>
          <option class="area_name" value="2">
           青森県
          </option>
          <option class="area_name" value="3">
           岩手県
          </option>
          <option class="area_name" value="4">
           宮城県
          </option>
          <option class="area_name" value="5">
           秋田県
          </option>
          <option class="area_name" value="6">
           山形県
          </option>
          <option class="area_name" value="7">
           福島県
          </option>
         </optgroup>
         <optgroup class="area_name" label="関東">
          <option class="area_name" selected="" value="13">
           東京都
          </option>
          <option class="area_name" value="14">
           神奈川県
          </option>
          <option class="area_name" value="12">
           千葉県
          </option>
          <option class="area_name" value="11">
           埼玉県
          </option>
          <option class="area_name" value="8">
           茨城県
          </option>
          <option class="area_name" value="9">
           栃木県
          </option>
          <option class="area_name" value="10">
           群馬県
          </option>
         </optgroup>
         <optgroup class="area_name" label="北陸・甲信越">
          <option class="area_name" value="19">
           山梨県
          </option>
          <option class="area_name" value="20">
           長野県
          </option>
          <option class="area_name" value="15">
           新潟県
          </option>
          <option class="area_name" value="16">
           富山県
          </option>
          <option class="area_name" value="17">
           石川県
          </option>
          <option class="area_name" value="18">
           福井県
          </option>
         </optgroup>
         <optgroup class="area_name" label="東海">
          <option class="area_name" value="23">
           愛知県
          </option>
          <option class="area_name" value="22">
           静岡県
          </option>
          <option class="area_name" value="21">
           岐阜県
          </option>
          <option class="area_name" value="24">
           三重県
          </option>
         </optgroup>
         <optgroup class="area_name" label="関西">
          <option class="area_name" value="27">
           大阪府
          </option>
          <option class="area_name" value="28">
           兵庫県
          </option>
          <option class="area_name" value="26">
           京都府
          </option>
          <option class="area_name" value="25">
           滋賀県
          </option>
          <option class="area_name" value="29">
           奈良県
          </option>
          <option class="area_name" value="30">
           和歌山県
          </option>
         </optgroup>
         <optgroup class="area_name" label="中国">
          <option class="area_name" value="33">
           岡山県
          </option>
          <option class="area_name" value="34">
           広島県
          </option>
          <option class="area_name" value="31">
           鳥取県
          </option>
          <option class="area_name" value="32">
           島根県
          </option>
          <option class="area_name" value="35">
           山口県
          </option>
         </optgroup>
         <optgroup class="area_name" label="四国">
          <option class="area_name" value="36">
           徳島県
          </option>
          <option class="area_name" value="37">
           香川県
          </option>
          <option class="area_name" value="38">
           愛媛県
          </option>
          <option class="area_name" value="39">
           高知県
          </option>
         </optgroup>
         <optgroup class="area_name" label="九州・沖縄">
          <option class="area_name" value="40">
           福岡県
          </option>
          <option class="area_name" value="41">
           佐賀県
          </option>
          <option class="area_name" value="42">
           長崎県
          </option>
          <option class="area_name" value="43">
           熊本県
          </option>
          <option class="area_name" value="44">
           大分県
          </option>
          <option class="area_name" value="45">
           宮崎県
          </option>
          <option class="area_name" value="46">
           鹿児島県
          </option>
          <option class="area_name" value="47">
           沖縄県
          </option>
         </optgroup>
        </select>
       </div>
       <div class="clear">
       </div>
      </div>
      <hr/>
      <div id="gourmet_view">
      </div>
      <script id="gourmet-tmpl" type="text/template">
       {{#item}}
	<div class=unit>
		<div class=title_area>
			<div class="spotName font-bold left"><a href="{{spotUrl}}&from=pc.top.gourmet">{{spotName}}</a></div><div class="category left">{{category}}</div>
			<div class=clear></div>
			<div class="address">{{address}} [<a href="{{mapUrl}}&from=pc.top.gourmet">地図</a>]</div>
		</div>
		<div class=detailArea>
			{{#imgPath}}
			<div class="left pict">
				<div class=center><a href="{{spotUrl}}&from=pc.top.gourmet"><img src="//api-pc-img.cld.navitime.jp/images/{{imgPath}}" /></a></div>
			</div>
			{{/imgPath}}
			{{^imgPath}}
				<a href="{{cgmPostUrl}}&from=pc.top.gourmet">
					<div class="left spot_image_area noImage">
						<div class="t_center cgmPostLink">
							<div class=cgmPostLink_text>写真を投稿する</div>
						</div>
					</div>
				</a>
			{{/imgPath}}
			<div class="right gourmetInfo">
				<div class=pr>{{prWord}}</div>
				<div class=info><div class="grLabel left t_center">定休日</div><div class="grValue right">{{closed}}</div><div class=clear></div></div>
				<div class=info><div class="grLabel left t_center">営業時間</div><div class="grValue right">{{open}}</div><div class=clear></div></div>
				<div class=info><div class="grLabel left t_center">平均予算</div><div class="grValue right">{{price}}</div><div class=clear></div></div>
					{{#courponFlag}}
						<div class=info>
							<div class="grLabel left t_center">クーポン</div><div class="grValue right"><a href="{{courponUrl}}">{{providerName}}</a> <img src="{{providerIcon}}" /></div>
							<div class=clear></div>
						</div>
					{{/courponFlag}}
				<div class=info></div>
			</div>
			<div class=clear></div>
		</div>
	</div>
	{{/item}}
	{{^item}}
		<div class=no_spot>
			<p>現在、表示できるスポットがありません。<br>イチオシ！グルメは「グルメ/お酒」ランキングで上位に入った人気のお店を都道府県毎に紹介しています。<br>
				場所や料理のジャンル/用途などの条件を指定してお店を探すなら「グルメ検索」が便利です。</p>
		</div>
	{{/item}}
      </script>
      <div class="clear">
      </div>
      <div class="content_footer">
       <div class="left infoArea">
        <p>
         グルメサイトの店舗をまとめて検索！お得なクーポンも使えます。
        </p>
        <i class="footer_icon gourmet hotpepper left">
        </i>
        <i class="footer_icon gourmet gurunavi left">
        </i>
        <i class="footer_icon gourmet ramendata left">
        </i>
       </div>
       <a href="https://www.navitime.co.jp/gourmet?from=pc.top.gourmet">
        <div class="search_btn right">
         <div class="search_link_area t_center">
          <img src="https://www.navitime.co.jp/pcstorage/img/top/new/special/btn_gourmet.png"/>
          <span>
           グルメ検索へ
          </span>
         </div>
        </div>
       </a>
       <div class="clear">
       </div>
      </div>
     </div>
     <!-- <script type="text/javascript" src="//static.criteo.net/js/ld/publishertag.js"></script>
<script type="text/javascript">
Criteo.DisplayAd({
    "zoneid": 184680,
    "async": false});
</script> -->
     <script src="//static.criteo.net/js/ld/publishertag.js" type="text/javascript">
     </script>
     <script type="text/javascript">
      Criteo.DisplayAd({
   "zoneid": 253387,
   "async": false});
     </script>
    </div>
    <div class="left" id="right_pane">
     <div id="div-gpt-ad-1494311114062-0" style="height:250px; width:300px;">
      <script>
       googletag.cmd.push(function() { googletag.display('div-gpt-ad-1494311114062-0'); });
      </script>
     </div>
     <script src="//static.criteo.net/js/ld/publishertag.js" type="text/javascript">
     </script>
     <div id="757860" style="width:300px;height:250px;">
     </div>
     <script type="text/javascript">
      Criteo.DisplayAcceptableAdIfAdblocked({
	    "zoneid": 757860,
	    "containerid": "757860"});
     </script>
     <a href="https://www.navitime.co.jp/ad/?from=about_ad_link" target="_brank">
      広告掲載について
     </a>
     <div id="login_area">
      <div class="login_header">
       <i class="login_icon login_blue_arrow left">
       </i>
       <div class="left font-bold">
        <a href="https://www.navitime.co.jp/?ctl=0010">
         ログイン
        </a>
       </div>
       <div class="right">
        <i class="login_icon login_arrow left">
        </i>
        <a class="left" href="https://www.navitime.co.jp/systemnavitimeid/confirm">
         ID/パスワードをお忘れの方
        </a>
       </div>
       <div class="clear">
       </div>
      </div>
      <div class="clear">
      </div>
      <div class="regist_frame">
       <div class="left">
        <a href="https://pcc.navitime.co.jp/navitimeid/pcc/mobilelist/?invite=top01">
         <div class="btn_submit left t_center">
          新規会員登録
         </div>
        </a>
       </div>
       <div class="service_list left">
        <div>
         有料機能一覧
        </div>
        <div>
         <i class="login_icon login_arrow left">
         </i>
         <div class="left">
          <a href="https://www.navitime.co.jp/serviceinfo/totalnaviinfo/">
           トータルナビ
          </a>
         </div>
        </div>
        <div class="clear">
        </div>
        <div>
         <i class="login_icon login_arrow left">
         </i>
         <div class="left">
          <a href="https://www.navitime.co.jp/serviceinfo/drivesupporterinfo/">
           ドライブサポーター
          </a>
         </div>
        </div>
       </div>
       <div class="clear">
       </div>
      </div>
      <div class="cregit_provider">
       <a href="https://pcc.navitime.co.jp/navitimeid/pcc/mobilelist/?invite=top.loginbanner">
        <img src="https://www.navitime.co.jp/pcstorage/img/top/new/my/select_settlement.png"/>
       </a>
      </div>
      <div style="margin: 0 36px;">
       <i class="login_icon login_arrow left">
       </i>
       <a href="https://inquiry.navitime.co.jp/payment/inquiry.html?utm_source=pcnavitime&amp;utm_medium=link&amp;utm_campaign=login_part" target="_blank">
        法人の方は一括決済が可能です。
       </a>
      </div>
      <div class="clear">
      </div>
     </div>
     <a href="https://sbs.navitime.co.jp/spot_registration/" target="_blank">
      <img src="https://www.navitime.co.jp/pcstorage/img/top/new/etc/banner_NBA_01.png" style="margin-top: 10px;"/>
     </a>
     <h2>
      <div class="mycolor">
       My
      </div>
      天気予報
     </h2>
     <div id="weather_area">
      <div>
       <div class="no_setting left">
        地域を設定してください。
       </div>
       <div class="right">
        <a href="https://www.navitime.co.jp/address/_101">
         設定
        </a>
       </div>
       <div class="clear">
       </div>
      </div>
     </div>
     <h2>
      <div class="mycolor">
       My
      </div>
      時刻表
     </h2>
     <div id="diagram_area">
      <div>
       <div class="no_setting left">
        駅を設定してください。
       </div>
       <div class="right">
        <a href="https://www.navitime.co.jp/station/_103_s0">
         設定
        </a>
       </div>
       <div class="clear">
       </div>
      </div>
      <div class="clear">
      </div>
     </div>
     <h2 class="my_rail">
      <div class="mycolor">
       My
      </div>
      運行情報/混雑リポート
     </h2>
     <div id="rail_congestion_area">
      <div>
       <div class="no_setting left">
        路線を設定してください。
       </div>
       <div class="right">
        <a href="https://www.navitime.co.jp/station/_102_s0">
         設定
        </a>
       </div>
       <div class="clear">
       </div>
      </div>
     </div>
     <div id="komirepo_area">
      <div class="no_record">
       <a href="https://www.navitime.co.jp/?ctl=0171">
        混雑リポートはありません。
        <br/>
        携帯サイト / 「こみれぽ」アプリよりぜひご投稿ください。
       </a>
      </div>
     </div>
     <div class="clear">
     </div>
     <div id="ntjinfo_frame">
      <h2 class="htjinfo_title">
       お知らせ/プレスリリース
      </h2>
      <div class="ntjinfo_contents_frame">
       <div class="ntjinfo_unit">
        <div class="ntjinfo_date left">
         2018/06/21
        </div>
        <div class="ntjinfo_text left">
         <a href="http://corporate.navitime.co.jp/topics/pr/201806/21_4483.html">
          『NAVITIME』「着せ替え」機能、手塚治虫作品と連携開始 ～第一弾は、「鉄腕アトム」の「着せ替え」アイテムを無料で提供～
         </a>
        </div>
        <div class="clear">
        </div>
       </div>
       <div class="ntjinfo_unit">
        <div class="ntjinfo_date left">
         2018/06/21
        </div>
        <div class="ntjinfo_text left">
         <a href="http://corporate.navitime.co.jp/topics/pr/201806/21_4484.html">
          「Amazon Alexa」対応の『NAVITIME-乗換案内・運行情報-』、「Amazon Echo Spot」で利用可能に
         </a>
        </div>
        <div class="clear">
        </div>
       </div>
       <div class="ntjinfo_unit">
        <div class="ntjinfo_date left">
         2018/06/20
        </div>
        <div class="ntjinfo_text left">
         <a href="http://corporate.navitime.co.jp/topics/pr/201806/20_4481.html">
          法人向け『NAVITIME API』、大型車向け機能を追加
         </a>
        </div>
        <div class="clear">
        </div>
       </div>
       <div class="ntjinfo_additional">
        <a href="http://corporate.navitime.co.jp/topics/index2018.html">
         もっと見る
        </a>
       </div>
      </div>
     </div>
     <!-- アプリ紹介用のスタイルです -->
     <style>
      <!--
		#appli_area{ font-size: 12px; }
                h2.news_apple{ margin: 24px 0 2px 0; }
		.appli_unit{ padding: 10px 0;}
                .appli_unit_last{ padding: 2px 0 0 0; }
		.appli_image{ width: 58px; height: 42px; }
		.appli_info{ padding-left: 14px; width: 226px; line-height: 16px; }
		.appli_title{ margin-bottom: 4px; font-size: 14px;	font-weight: bold; }
		.appli_link{ margin-top: 12px; padding: 3px 6px 3px 0; text-align: right; background-color: #f6f6f6; }
                .t_center{ text-align: center; }
		.mini_icon{ padding-right: 6px; }
		.left{ float: left; }
		.right{ float: right; }
		.clear{ clear: both; }
	-->
     </style>
     <h2 class="news_apple">
      アプリ紹介
     </h2>
     <div id="appli_area">
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/navitime/">
         <img alt="NAVITIME" src="https://www.navitime.co.jp/pcstorage/img/upTool/navitime_icon_PC.png" title="NAVITIME"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         NAVITIME
        </div>
        <div>
         詳細地図、音声案内、乗換。様々な移動手段を組み合わせた経路探索。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="
		https://play.google.com/store/apps/details?id=com.navitime.local.navitime&amp;referrer=utm_source%3dpc%26utm_medium%3dpc_top%26utm_campaign%3dpc_140108" target="_blank">
         Google playへ
        </a>
        <a href="
	https://itunes.apple.com/jp/app/navitime-xiang-xi-tude-yin/id365876050?mt=8&amp;uo=4" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/navitime/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/drive/">
         <img alt="ドライブサポーター" src="https://www.navitime.co.jp/pcstorage/img//upTool/drive_icon_PC.png" title="ドライブサポーター"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         ドライブサポーター
        </div>
        <div>
         リアルタイムな渋滞・交通情報。わかりやすい3D地図と駐車場検索も。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="
	https://play.google.com/store/apps/details?id=com.navitime.local.navitimedrive&amp;referrer=utm_source%3dpc_navitime%26utm_medium%3dpc_navitime_top%26utm_campaign%3dpc_navitime_top20140108" target="_blank">
         Google playへ
        </a>
        <a href="
	https://itunes.apple.com/jp/app/navitimedoraibusapota-se-zhi/id413487517?mt=8&amp;uo=4&amp;ct=pc_navitime_top" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/drive/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/carnavitime/">
         <img alt="カーナビタイム" src="https://www.navitime.co.jp/pcstorage/img/upTool/carnavi_icon_PC.png" title="カーナビタイム"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         カーナビタイム
        </div>
        <div>
         ボイスコントロールに対応。圏外でも使える本格派カーナビアプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.local.carnavitime&amp;referrer=utm_source%3dpc_navitime%26utm_medium%3dpc_navitime_top%26utm_campaign%3dpc_navitime_top20140108" target="_blank">
         Google playへ
        </a>
        <a alt='Appstoreでカーナビタイムをダウンロード"' href="https://itunes.apple.com/jp/app/kanabitaimu-for-smartphone/id555847992?mt=8&amp;uo=4&amp;ct=pc_navitime_top" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/carnavitime/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="https://itunes.apple.com/jp/app/se-zhi-qing-baomappu-by-navitime/id880002612?mt=8" onclick="_gaq.push(['_trackEvent', 'TOP', 'アプリ紹介', '渋滞アプリ']);" target="_blank">
         <img alt="渋滞情報マップ by NAVITIME" src="https://www.navitime.co.jp/pcstorage/img//upTool/20141015_traffic_app_PC.png" title="渋滞情報マップ by NAVITIMEー"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         渋滞情報マップ by NAVITIME
        </div>
        <div>
         全国の高速・一般道のリアルタイムな渋滞・規制情報を快適な操作で。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://itunes.apple.com/jp/app/se-zhi-qing-baomappu-by-navitime/id880002612?mt=8" store="" target="_blank">
         App storeへ
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/transfer/">
         <img alt="乗換NAVITIME" src="https://www.navitime.co.jp/pcstorage/img//upTool/train_icon_PC.png" title="乗換NAVITIME"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         乗換NAVITIME
        </div>
        <div>
         路線図、時刻表、最適な乗車位置。シンプル操作の乗換専用アプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.local.nttransfer&amp;referrer=utm_source%3dpc_navitime%26utm_medium%3dpc_navitime_top%26utm_campaign%3dpc_navitime_top20150709" target="_blank">
         Google playへ
        </a>
        <a href="https://itunes.apple.com/jp/app/cheng-huannavitime/id528532387" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/transfer/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/bicycle/">
         <img alt="自転車NAVITIME" src="https://www.navitime.co.jp/pcstorage/img/upTool/bicycle_icon_PC.png" title="自転車NAVITIME"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         自転車NAVITIME
        </div>
        <div>
         走りたい距離から目的地を検索。7種類のルート、高低差グラフも。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="http://products.navitime.co.jp/service/bicycle/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/bus/">
         <img alt="バスNAVITIME" src="https://www.navitime.co.jp/pcstorage/img/upTool/bus_icon_PC.png" title="バスNAVITIME"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         バスNAVITIME
        </div>
        <div>
         全国約10,000の路線に対応。バス乗り換えルート、停車駅、運行情報。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="http://products.navitime.co.jp/service/bus/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/motorcycle/android_sp.html?srv=bike&amp;media=pc&amp;point=appli_intro">
         <img alt="ツーリングサポーター" src="https://www.navitime.co.jp/pcstorage/img//upTool/motorcycle_icon_PC.png" title="ツーリングサポーター"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         ツーリングサポーター
        </div>
        <div>
         カーナビとは違う、ツーリングを楽しむためのバイク用アプリ
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.local.bike&amp;referrer=utm_source%3dpc%26utm_medium%3dappli_info%26utm_campaign%3dpc_02" target="_blank">
         Google playへ
        </a>
        <a href="https://itunes.apple.com/us/app/tsuringusapota-by-navitime/id958072896?l=ja&amp;ls=1&amp;mt=8" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/motorcycle/?srv=bike&amp;media=pc&amp;point=appli_intro">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/komirepo/">
         <img alt="こみれぽ" src="https://www.navitime.co.jp/pcstorage/img/upTool/komirepo_icon.png" title="こみれぽ"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         こみれぽ
        </div>
        <div>
         電車の混雑状況や運行状況を共有する、コミュニケーションアプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="http://products.navitime.co.jp/service/komirepo/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/alkoo/ios_sp.html">
         <img alt="ALKOO" src="https://www.navitime.co.jp/pcstorage/img//upTool/alkoo_icon_58.png" title="ALKOO"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         ウォーキングNAVITIME-ALKOO-
        </div>
        <div>
         歩数や移動距離を自動計測できるウォーキング・お散歩向けアプリ
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.local.alkoo&amp;hl=ja" play="" target="_blank">
         Google Playへ
        </a>
        <a href="http://goo.gl/sbf5e4" store="" target="_blank">
         App Storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/alkoo/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit" stle="padding-bottom: 0;">
       <div class="appli_image left">
        <a href="http://www.navitime.co.jp/pcstorage/html/japan_travel/english/">
         <img alt="NAVITIME for Japan Travel" src="https://www.navitime.co.jp/pcstorage/img/upTool/japantravel_icon2_PC.png" title="NAVITIME for Japan Travel"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         NAVITIME for Japan Travel
        </div>
        <div>
         日本を訪れる外国人観光客向けのスマートフォンアプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link" style="margin-bottom: 0; padding-bottom: 0;">
        <a href="http://www.navitime.co.jp/pcstorage/html/japan_travel/english/">
         More（English）
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <img alt="NAVITIME_TRANSIT" height="58px" src="https://www.navitime.co.jp/pcstorage/img//upTool/navitime_transit_global_icon.png" title="NAVITIME_TRANSIT" width="58px"/>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         NAVITIME Transit
        </div>
        <div>
         日本語で使える、ナビタイムの世界版乗換案内アプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.transit.global" target="_blank">
         Google playへ
        </a>
        <a href="https://itunes.apple.com/jp/app/navitime-transit/id1262989655" target="_blank">
         App storeへ
        </a>
        <a href="https://transit.navitime.com/ja/?from=pc.top.app_frame" target="_blank">
         Webサイト
        </a>
       </div>
      </div>
      <div class="appli_unit" stle="padding-bottom: 0;">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/plat/">
         <img alt="Plat by NAVITIME" src="//www.navitime.co.jp/pcstorage/img/upTool/plat_new_icon_58_58.png" title="Plat by NAVITIME"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         Plat by NAVITIME
        </div>
        <div>
         NAVITIMEが厳選する旬なおでかけ情報キュレーションアプリ
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a by="" href="https://play.google.com/store/apps/details?id=com.navitime.local.plat&amp;hl=ja" navitime="" plat="" play="" target="_blank">
         Google Playへ
        </a>
        <a by="" href="https://itunes.apple.com/jp/app/navitime-nabi-tu-cheng-huan/id967967361?mt=8" navitime="" plat="" store="" target="_blank">
         App Storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/plat/">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit">
       <div class="appli_image left">
        <a href="http://products.navitime.co.jp/service/truck/?from=pc_navitime_top">
         <img alt="トラックカーナビ" src="https://www.navitime.co.jp/pcstorage/img//upTool/truck_58_58.png" title="トラックカーナビ"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         トラックカーナビ
        </div>
        <div>
         車高/車幅/車長/トラック通行止などを考慮したトラック専用カーナビアプリ。
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href=" https://play.google.com/store/apps/details?id=com.navitime.local.navitimetruck&amp;referrer=utm_source%3dpc_navitime%26utm_medium%3dpc_navitime_app_dl%26utm_campaign%3dtop" target="_blank">
         Google playへ
        </a>
        <a href=" https://itunes.apple.com/jp/app/torakkukanabi-by-nabitaimu/id1147473077?ct=pc_navitime_top&amp;mt=8" target="_blank">
         App storeへ
        </a>
        <a href="http://products.navitime.co.jp/service/truck/?from=pc_navitime_top">
         詳細を見る
        </a>
       </div>
      </div>
      <div class="appli_unit" stle="padding-bottom: 0;">
       <div class="appli_image left">
        <a href="https://static.aws.navitime.com/web/parche/2.4.3/htmls/travel_app_lp.html?utm_source=pc_site&amp;utm_medium=app_list&amp;utm_campaign=pc_site_app_list">
         <img alt="NAVITIME Travel" src="https://www.navitime.co.jp/pcstorage/img/upTool/travel_app_icon_58_58.png" title="NAVITIME Travel"/>
        </a>
       </div>
       <div class="appli_info left">
        <div class="appli_title">
         NAVITIME Travel
        </div>
        <div>
         「行きたい場所」を選ぶだけで旅行プランが簡単に作成できるアプリ
        </div>
       </div>
       <div class="clear">
       </div>
       <div class="appli_link">
        <a href="https://play.google.com/store/apps/details?id=com.navitime.travel&amp;hl=ja&amp;utm_source=pc_site&amp;utm_medium=app_list&amp;utm_campaign=pc_site_app_list" navitime="" play="" target="_blank" travel="">
         Google Playへ
        </a>
        <a href="https://itunes.apple.com/jp/app/id1279724919?pt=13969&amp;mt=8&amp;ct=pc_top_app_list" navitime="" store="" target="_blank" travel="">
         App Storeへ
        </a>
        <a href="https://static.aws.navitime.com/web/parche/2.4.3/htmls/travel_app_lp.html?utm_source=pc_site&amp;utm_medium=app_list&amp;utm_campaign=pc_site_app_list">
         詳細を見る
        </a>
       </div>
      </div>
     </div>
     <h2 style="margin: 24px 0;font-weight: bold;font-size: 14px;line-height: 20px;border: none;">
      法人向けアプリ
     </h2>
     <div style="margin-bottom: 24px;">
      <div style="width: 58px;height: 42px;float: left;">
       <a href="http://fleet.navitime.biz/?from=pc" target="_blank">
        <img alt="動態管理ソリューション" src="https://www.navitime.co.jp/pcstorage/img/top/new/etc/fleet_icon_PC.png" title="動態管理ソリューション"/>
       </a>
      </div>
      <div style="padding-left: 14px;width: 226px;line-height: 16px;float: left;">
       <div style="margin-bottom: 4px;font-size: 14px;font-weight: bold;">
        動態管理ソリューション
       </div>
       <div style="font-size: 12px;">
        スマートフォンを活用した動態管理、ナビゲーション機能を提供する運行管理システム
       </div>
      </div>
      <div style="clear: both;">
      </div>
      <div style="margin-top: 12px;padding: 3px 6px 3px 0;text-align: right;background-color: #F6F6F6;font-size: 12px;">
       <a href="http://fleet.navitime.biz/?from=pc" target="_blank">
        詳細を見る
       </a>
      </div>
     </div>
     <div class="banner_unit" style="margin-top: 10px; margin-bottom: 10px;">
      <a href="http://blog.navitime.co.jp/drive/?utm_source=TOP&amp;utm_medium=PC_navitime&amp;utm_campaign=PC_SP%E3%82%B5%E3%82%A4%E3%83%88%E5%86%85%E3%83%AA%E3%83%B3%E3%82%AF" target="_blank" title="カーナビブログ">
       <img alt="カーナビブログ" src="https://www.navitime.co.jp/pcstorage/img/banner/banner_car_navi_blog_300_84.png"/>
      </a>
     </div>
     <div class="banner_unit" style="margin-top: 10px; margin-bottom: 10px;">
      <a href="http://recruit.navitime.co.jp/" target="_blank" title="新卒採用">
       <img alt="新卒採用" src="https://www.navitime.co.jp/pcstorage/img/banner/pc_banner_recruit.png"/>
      </a>
     </div>
     <!-- バナー枠用のスタイルです -->
     <style>
      <!--
		#banner_area img{ width: 300px; height: 70px; }
		.banner_unit{ margin-bottom: 12px; }
	-->
     </style>
     <div id="banenr_area">
     </div>
     <iframe allowtransparency="true" frameborder="0" scrolling="no" src="//www.facebook.com/plugins/likebox.php?href=https%3A%2F%2Fwww.facebook.com%2FNAVITIME&amp;width&amp;height=290&amp;colorscheme=light&amp;show_faces=true&amp;header=true&amp;stream=false&amp;show_border=true" style="border:none; overflow:hidden; height:290px;">
     </iframe>
    </div>
   </div>
  </div>
  <div class="modal_myInfo none" id="input_modal_myInfo">
  </div>
  <div class="modal_myInfo none" id="input_modal_transferInfo">
   <div class="lists">
   </div>
  </div>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/siteLinkFooter.css?v=20151028" rel="stylesheet"/>
  <div class="clear">
  </div>
  <div id="top_link_footer">
   <div class="footer-banner-frame center">
    <div id="div-gpt-ad-1487330629651-0" style="text-align:center;">
     <script>
      googletag.cmd.push(function() { googletag.display('div-gpt-ad-1487330629651-0'); });
     </script>
    </div>
   </div>
   <div class="container center no_full">
    <div class="main t_left">
     <div class="content-frame left r_border no_full">
      <div class="classification space">
       <div class="title">
        トータルナビ
       </div>
       <div class="links">
        <div>
         <a class="block t_left" href="https://www.navitime.co.jp/?ctl=0010&amp;invite=StudyTimer01totalnavi#totalnavi&amp;fromlink=footer">
          ・トータルナビ
         </a>
        </div>
       </div>
      </div>
      <div class="classification space">
       <div class="title">
        電車/時刻表
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/transfer/?fromlink=footer">
          ・乗換案内
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/diagram/?fromlink=footer">
          ・電車時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/balletdiagram/?fromlink=footer">
          ・新幹線時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/diagram/limitedExpress/?fromlink=footer">
          ・特急列車時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/transfer/pass/?fromlink=footer">
          ・定期代検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/railroad/?fromlink=footer">
          ・路線図検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/train/?fromlink=footer">
          ・運行状況
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/?ctl=0171&amp;fromlink=footer">
          ・電車混雑リポート
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/congestion/prediction/?fromlink=footer">
          ・混雑予報
         </a>
        </div>
       </div>
      </div>
      <div class="classification">
       <div class="title">
        タクシー
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/taxi/?fromlink=footer">
          ・タクシー料金検索
         </a>
        </div>
       </div>
      </div>
     </div>
     <div class="content-frame left r_border no_full">
      <div class="classification space">
       <div class="title">
        自動車
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/drive/?fromlink=footer">
          ・自動車ルート検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/highway/?fromlink=footer">
          ・高速料金・高速道路地図
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/parking/?fromlink=footer">
          ・駐車場検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/gasstation/?fromlink=footer">
          ・ガソリンスタンド検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/traffic/patrol/13/?fromlink=footer">
          ・交通取締情報
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/ranking/routespotlist?acode=&amp;term=w&amp;method=DRIVE&amp;fromlink=footer">
          ・ドライブ人気スポット
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/pcstorage/html/evcharge/index.html?fromlink=footer">
          ・電気自動車(EV)充電スタンド
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/?ctl=0400&amp;fromlink=footer">
          ・道路交通情報(渋滞情報)
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/mycar/?fromlink=footer">
          ・マイカーマネージャー
         </a>
        </div>
       </div>
      </div>
      <div class="classification">
       <div class="title">
        自転車/バイク
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/bicycle/?fromlink=footer">
          ・自転車ルート検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/ranking/routespotlist?acode=&amp;term=w&amp;method=CYCLE&amp;fromlink=footer">
          ・自転車人気スポット
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/motorbike/parking/?fromlink=footer">
          ・バイク駐車場検索
         </a>
        </div>
       </div>
      </div>
     </div>
     <div class="content-frame left r_border no_full">
      <div class="classification space">
       <div class="title">
        バス/時刻表
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/bustransit/?fromlink=footer">
          ・バス乗換案内
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/bus/?fromlink=footer">
          ・路線バス時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/highwaybus/?fromlink=footer">
          ・高速バス時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/nonstopbus/?fromlink=footer">
          ・空港バス時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/midnightbus/?fromlink=footer">
          ・深夜急行バス時刻表
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/bus/route/?fromlink=footer">
          ・バス路線図検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/busstop/?fromlink=footer">
          ・バス停検索
         </a>
        </div>
       </div>
      </div>
      <div class="classification">
       <div class="title">
        飛行機
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/air/?fromlink=footer">
          ・飛行機時刻表/予約〔国内線〕
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/airstate/?fromlink=footer">
          ・飛行機運航状況〔国内線〕
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/lcc/?fromlink=footer">
          ・LCC時刻表・格安航空券予約
         </a>
        </div>
        <div>
         <a href="https://travel.navitime.com/ja/flight/?from=pcnavi.footer.sitelink" target="_blank">
          ・飛行機時刻表/予約〔国際線〕
         </a>
        </div>
       </div>
      </div>
     </div>
     <div class="content-frame left r_border no_full">
      <div class="classification space">
       <div class="title">
        旅行/レジャー
       </div>
       <div class="links">
        <div>
         <a href="http://travel.navitime.co.jp/?fromlink=footer">
          ・国内航空券・ホテル予約
         </a>
        </div>
        <div>
         <a href="https://transit.navitime.com/ja/travel?fromlink=footer">
          ・海外航空券・ホテル予約
         </a>
        </div>
        <div>
         <a href="http://travel.navitime.co.jp/hotel?fromlink=footer">
          ・国内ホテル予約
         </a>
        </div>
        <div>
         <a href="https://plat.navitime.co.jp/">
          ・おでかけスポット検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/ticket/?from=footer">
          ・レジャー・体験チケット検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/event/list?eventId=99999&amp;fromlink=footer">
          ・イベント検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/walkingcourse/?fromlink=footer">
          ・ウォーキングコース検索
         </a>
        </div>
        <div>
         <a href="http://kuchikomi.navitime.co.jp/?fromlink=footer">
          ・クチコミ広場
         </a>
        </div>
        <div>
         <a href="https://travel.navitime.com/ja/area/jp/feature/hanami/?fromlink=footer" target="_blank">
          ・季節のおすすめ
         </a>
        </div>
       </div>
      </div>
      <div class="classification">
       <div class="title">
        地図/スポット
       </div>
       <div class="links">
        <div>
         <a href="javascript:void(0);" onclick="N_HEADER.moveMap(this.event);">
          ・地図検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/?ctl=0050&amp;fromlink=footer">
          ・住所から探す
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/category/?fromlink=footer">
          ・ジャンルから探す
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/gourmet?fromlink=footer">
          ・グルメスポット検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/ranking/top?fromlink=footer">
          ・人気スポットランキング
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/newspot/list?fromlink=footer">
          ・新規オープンスポット検索
         </a>
        </div>
       </div>
      </div>
     </div>
     <div class="content-frame left no_full">
      <div class="classification space">
       <div class="title">
        生活/お役立ち
       </div>
       <div class="links">
        <div>
         <a href="https://realestate.navitime.co.jp/" target="_blank">
          ・住まい検索
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/dental/?fromlink=footer">
          ・歯医者を探す
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/saigai/?fromlink=footer">
          ・災害情報
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/weather/">
          ・天気情報
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/postcode/?fromlink=footer">
          ・郵便番号検索
         </a>
        </div>
       </div>
      </div>
      <div class="classification space">
       <div class="title">
        My設定
       </div>
       <div class="links">
        <div>
         <a href="https://www.navitime.co.jp/?ctl=0510&amp;fromlink=footer">
          ・My設定
         </a>
        </div>
       </div>
      </div>
      <div class="classification">
       <div class="title">
        ヘルプ/サポート
       </div>
       <div class="links">
        <div>
         <a href="http://navitime.dga.jp/?body=%7b%22service%22%3a%22pc%22%2c%22ua%22%3a%22Python-urllib%5c%2f3.5%22%2c%22seq%22%3a%22%22%7d">
          ・よくある質問
         </a>
        </div>
        <div>
         <a href="http://corporate.navitime.co.jp/contact/index.html">
          ・お問合わせ
         </a>
        </div>
        <div>
         <a href="https://www.navitime.co.jp/pcstorage/html/help/?fromlink=footer">
          ・ヘルプ
         </a>
        </div>
        <div>
         <a href="/pcstorage/html/sitemap/?fromlink=footer">
          ・サイトマップ
         </a>
        </div>
        <div>
         <a class="comment" href="javascript:void(0);" onclick="return N_HEADER.moveComment();" target="blank">
          ・ご意見/ご要望
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="clear">
  </div>
  <div id="top_link_footer">
   <div class="appli_link_area center no_full">
    <div class="main appli_link_main t_left" style="height:165px;padding:0;">
     <div class="left no_full" style="width:100%;">
      <div class="classification">
       <div class="title">
        海外向け乗換サービス
       </div>
       <div class="links left" style="width:175px;">
        <div class="link">
         <a href="https://transit.navitime.com/ja-us/?from=pcnavi.footer.sitelink" target="_blank">
          ・アメリカ乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-gb/?from=pcnavi.footer.sitelink" target="_blank">
          ・イギリス乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-fr/?from=pcnavi.footer.sitelink" target="_blank">
          ・フランス乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-de/?from=pcnavi.footer.sitelink" target="_blank">
          ・ドイツ乗換案内
         </a>
        </div>
       </div>
       <div class="links left" style="width:175px;">
        <div class="link">
         <a href="https://transit.navitime.com/ja-it/?from=pcnavi.footer.sitelink" target="_blank">
          ・イタリア乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-es/?from=pcnavi.footer.sitelink" target="_blank">
          ・スペイン乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-ch/?from=pcnavi.footer.sitelink" target="_blank">
          ・スイス乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-fi/?from=pcnavi.footer.sitelink" target="_blank">
          ・フィンランド乗換案内
         </a>
        </div>
       </div>
       <div class="links left" style="width:175px;">
        <div class="link">
         <a href="https://transit.navitime.com/ja-no/?from=pcnavi.footer.sitelink" target="_blank">
          ・ノルウェー乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-se/?from=pcnavi.footer.sitelink" target="_blank">
          ・スウェーデン乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-sg/?from=pcnavi.footer.sitelink" target="_blank">
          ・シンガポール乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-id/?from=pcnavi.footer.sitelink" target="_blank">
          ・インドネシア乗換案内
         </a>
        </div>
       </div>
       <div class="links left" style="width:175px;">
        <div class="link">
         <a href="https://transit.navitime.com/ja-my/?from=pcnavi.footer.sitelink" target="_blank">
          ・マレーシア乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-th/?from=pcnavi.footer.sitelink" target="_blank">
          ・タイ乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-ph/?from=pcnavi.footer.sitelink" target="_blank">
          ・フィリピン乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-kr/?from=pcnavi.footer.sitelink" target="_blank">
          ・韓国乗換案内
         </a>
        </div>
       </div>
       <div class="links left" style="width:175px;">
        <div class="link">
         <a href="https://transit.navitime.com/ja-hk/?from=pcnavi.footer.sitelink" target="_blank">
          ・香港乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-tw/?from=pcnavi.footer.sitelink" target="_blank">
          ・台湾乗換案内
         </a>
        </div>
        <div class="link">
         <a href="https://transit.navitime.com/ja-cn/?from=pcnavi.footer.sitelink" target="_blank">
          ・上海乗換案内
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <link href="https://www.navitime.co.jp/pcstorage/lib/css/common/parts/ver/footer_1.0.9.css" rel="stylesheet"/>
  <div class="clear">
  </div>
  <div id="top_footer">
   <div class="container center no_full">
    <div class="main t_left">
     <div class="left pane general no_full">
      <div class="contents r_border">
       <div class="title">
        <h2>
         ナビタイムジャパン
        </h2>
       </div>
       <div class="description block">
        <p>
         ナビタイムでは
         <a href="https://www.navitime.co.jp/">
          PC向け
         </a>
         のサービスはもちろん、
         <a href="https://www.navitime.co.jp/pcstorage/html/master/">
          携帯
         </a>
         や
         <br/>
         <a href="http://products.navitime.co.jp/">
          スマートフォン
         </a>
         向けにもサービスを展開しています。
        </p>
       </div>
       <div class="links">
        <ul>
         <li>
          <span class="left">
           <a href="http://corporate.navitime.co.jp">
            ・会社概要
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/pcstorage/html/regulations/001.html">
            ・利用規約
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/pcstorage/html/trademark/">
            ・商標について
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/pcstorage/html/privacy/001.html">
            ・プライバシーポリシー
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/pcstorage/html/sct/001.html">
            ・特定商取引法に基づく表示
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/pcstorage/html/about.html">
            ・ナビタイムについて
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://recruit.navitime.co.jp/" target="_blank">
            ・採用情報
           </a>
          </span>
         </li>
        </ul>
       </div>
      </div>
     </div>
     <div class="left pane business no_full">
      <div class="contents r_border">
       <div class="title">
        <h2>
         法人向けサービス
        </h2>
       </div>
       <div class="description block">
        <p>
         ナビタイムの地図表示・経路案内を、御社のシステムへ！
        </p>
       </div>
       <div class="links">
        <ul>
         <li>
          <div class="full">
           <a href="http://corporate.navitime.co.jp/business/index.html">
            ナビタイム法人向けサービス一覧
           </a>
          </div>
         </li>
         <li>
          <span class="left">
           <a href="http://asp-pr.navitime.co.jp/shopsearch/">
            ・店舗案内ASPサービス
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://asp-pr.navitime.co.jp/api/">
            ・APIサービス
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://asp-pr.navitime.co.jp/solution/">
            ・鉄道バス会社サービス
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://www.navitime.co.jp/ad/">
            ・広告掲載について
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://consulting.navitime.biz/">
            ・交通コンサルティング
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://sbs.navitime.co.jp/spot_registration/?referrer=pc_footer">
            ・無料スポット登録
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://inquiry.navitime.co.jp/truckcarnavi/bussiness.html?from=hojin_site">
            ・法人向けトラックカーナビ
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://fleet.navitime.biz/">
            ・動態管理
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="https://inquiry.navitime.co.jp/payment/inquiry.html" onclick="_gaq.push(['_trackEvent', 'footer', 'link', 'business']);" target="_blank">
            ・法人契約について
           </a>
          </span>
         </li>
         <li>
          <span class="left">
           <a href="http://connect.navitime.co.jp/">
            ・通信カーナビ開発支援
           </a>
          </span>
         </li>
        </ul>
       </div>
      </div>
     </div>
     <div class="left sns">
      <div class="contents">
       <ul>
        <li>
         <div class="icons">
          <a href="https://www.facebook.com/NAVITIME" target="_blank">
           <i class="icon_facebook left">
           </i>
           Facebook
          </a>
         </div>
        </li>
        <li>
         <div class="icons">
          <a href="http://twitter.com/#!/navitime_pr" target="_blank">
           <i class="icon_twitter left">
           </i>
           Twitter(広報)
          </a>
         </div>
        </li>
        <li>
         <div class="icons">
          <a href="http://twitter.com/#!/navitime_spt" target="_blank">
           <i class="icon_twitter_support left">
           </i>
           Twitter(サポート)
          </a>
         </div>
        </li>
       </ul>
      </div>
     </div>
    </div>
    <div class="clear">
    </div>
    <div class="under">
     <div class="copyright left">
      © 2018 NAVITIME JAPAN. All Rights Reserved.
     </div>
     <div class="menu right">
      <a href="http://navitime.dga.jp/?body=%7B%22service%22%3A%22pc%22%2C%22sid%22%3A%22%22%2C%22seq%22%3A%22vp4PlUGbd1Uu4lFR2cOgu1Vg8euRQXKaWCM67cnN3HU%3D%3D%3D%22%2C%22ua%22%3A%22Python-urllib%2F3.5%22%7D">
       よくある質問
      </a>
      <a href="http://corporate.navitime.co.jp/contact/index.html">
       お問合わせ
      </a>
      <a href="https://www.navitime.co.jp/pcstorage/html/help/">
       ヘルプ
      </a>
      <a href="/pcstorage/html/sitemap/">
       サイトマップ
      </a>
     </div>
    </div>
   </div>
  </div>
  <img alt="" height="1" src="https://www.navitime.co.jp/pcstorage/cntlog/20180623062543?ctl=view.top.top&amp;ACode=&amp;LCode=&amp;ECode=&amp;atr=&amp;path-group=top" style="display:none;" width="1"/>
  <img height="1" src="//tg.socdm.com/aux/extsync?aid=navitime&amp;sid=test_PC&amp;attr_raw=all%3d1" style="display:none;position:absolute;border:none;padding:0;margin:0;" width="1"/>
  <script type="text/javascript">
   var _gaq = _gaq || [];
  var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-27448126-2']);
  _gaq.push(['_setCustomVar', 1, 'clnt', '-1', 3]);
  _gaq.push(['_setCustomVar', 2, 'info', 'none', 3]);
  _gaq.push(['_setCustomVar', 4, 'dateInfo', '2018062306_5__none', 2]);
  _gaq.push(['_setCustomVar', 5, 'startDate', '20180623_00000000_00000000', 1]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  if (document.referrer.match(/google\.(com|co\.jp)/gi) && document.referrer.match(/cd/gi)) {
	  var ga_myString = document.referrer;
	  var ga_r        = ga_myString.match(/cd=(.*?)&/);
	  var ga_rank     = parseInt(ga_r[1]);
	  var ga_kw       = ga_myString.match(/q=(.*?)&/);
	  
	  if (ga_kw[1].length > 0) {
	    var ga_keyWord  = decodeURI(ga_kw[1]);
	  } else {
	    ga_keyWord = "(not provided)";
	  }

	  var ga_p        = document.location.pathname;
	  _gaq.push(['_trackEvent', 'RankTracker', ga_keyWord, ga_p, ga_rank, true]);
  }

  
  var gaUaClientId = "";
  if (gaUaClientId != ""){
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-39959835-1', {'cookieDomain': 'navitime.co.jp', 'clientId': gaUaClientId});
		  ga('send', 'pageview');
  }
  </script>
  <script type="text/javascript">
   try{jQuery('a[href^="mailto:"]').live('click',function(){_gaq.push(['_trackEvent','Email','mailto',this.href]);});}catch(e){}
  </script>
  <script type="text/javascript">
   window.dataLayer = window.dataLayer || [];
dataLayer.push({
	'出発路線': '',
	'到着路線': '',
	'出発地点': '',
	'到着地点': '',
	'日付時刻': '',
	'検索種別': '',
	'経由地点': '',
	'表示順序': '',
	'徒歩速度': '',
	'使用交通': '',
	'路線': ''
});
  </script>
  <!-- Google Tag Manager -->
  <noscript>
   <iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TGJN5X" style="display:none;visibility:hidden" width="0">
   </iframe>
  </noscript>
  <script>
   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TGJN5X');
  </script>
  <!-- End Google Tag Manager -->
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/jquery-1.9.1.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/jquery-ui-1.9.2.custom.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/bootstrap/bootstrap.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/plugin/jquery.ah-placeholder.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/plugin/mosaic.1.0.1.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/plugin/jquery.spin.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/jquery/plugin/jquery.tmpl.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/lib/template/hogan-2.0.0.min.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/build/util/ver/util_1.0.2.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/build/top/ver/model_1.1.2.js" type="text/javascript">
  </script>
  <script src="https://www.navitime.co.jp/pcstorage/lib/js/build/top/ver/top_1.1.1.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window["ID"]="00010001";window["VERSION"]="3.1";window["LANG"]="ja";window["MAP_URL"]="http://geo.cld.navitime.jp/mapimg/";window["COPYRIGHT_TEXT"]="&copy; NAVITIME JAPAN. All Rights Reserved. 地図 &copy;ゼンリン";window["REQUEST_URL"]="http://api.navitime.jp/v1/{sid}/mapscript/css";window["PALETTE_TYPE"]="PC";var navitime=navitime||{};navitime.geo=navitime.geo||{};navitime.geo.parent=navitime;navitime.geo.namespace=function(a){a=a.split(".");var b=navitime.geo.parent;b===window[a[0]]&&(a=a.slice(1));for(var c=0,d=a.length;c<d;c++)"undefined"===typeof b[a[c]]&&(b[a[c]]={}),b=b[a[c]];return b};navitime.geo.namespace("navitime.geo.Util");navitime.geo.namespace("navitime.geo.Util.Function");navitime.geo.Util.falseFn=function(){return!1};navitime.geo.Util.extend=function(a,b){a=a||{};if(b){for(var c in b){var d=b[c];void 0!==d&&(a[c]=d)}"function"==typeof window.Event&&b instanceof window.Event||(!b.hasOwnProperty||!b.hasOwnProperty("toString"))||(a.toString=b.toString)}return a};
navitime.geo.Util.indexOf=function(a,b){if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return c;return-1};
navitime.geo.Util.pagePosition=function(a){for(var b=0,c=0,d=a,e=a;d&&(d!=document.body||"absolute"!=navitime.geo.Util.getStyle(e,"position"));){b+=d.offsetTop||0;c+=d.offsetLeft||0;e=d;try{d=d.offsetParent}catch(f){break}}for(d=a;d;){if(d.scrollTop||d.scrollLeft)if(b-=d.scrollTop||0,c-=d.scrollLeft||0,d===document.body)break;d=d.parentNode}return[c,b]};
navitime.geo.Util.getStyle=function(a,b){var c=null;if(a&&a.style){c=b;c||(document.defaultView&&document.defaultView.getComputedStyle?c=(c=document.defaultView.getComputedStyle(a,null))?c.getPropertyValue(b):null:a.currentStyle&&(c=a.currentStyle[b]));var d=["left","top","right","bottom"];window.opera&&(-1!=d.indexOf(b)&&"static"==navitime.geo.Util.getStyle(a,"position"))&&(c="auto")}return"auto"==c?null:c};
navitime.geo.Util.CheckAlpha=function(){var a=null,b=navigator.appVersion.split("MSIE"),b=parseFloat(b[1]),c=!1;try{c=!!document.body.filters}catch(d){}a=!(c&&5.5<=b&&7>b);navitime.geo.Util.CheckAlpha=function(){return a};return a};
navitime.geo.Util.transDatumJtoW=function(){return function(a){var b=a.lat/1E3*Math.PI/648E3,c=a.lng/1E3*Math.PI/648E3,d=6377397.155/Math.sqrt(1-0.006674372174974933*Math.sin(b)*Math.sin(b));a=(d+0)*Math.cos(b)*Math.cos(c)-147.54;var c=(d+0)*Math.cos(b)*Math.sin(c)- -507.26,b=(0.9933256278250251*d+0)*Math.sin(b)- -680.47,d=Math.sqrt(a*a+c*c),e=Math.atan(6378137*b/(6356752.31424518*d)),b=Math.atan2(b+42841.311513312336*Math.sin(e)*Math.sin(e)*Math.sin(e),d-42697.67270717874*Math.cos(e)*Math.cos(e)*
Math.cos(e));a=Math.atan2(c,a);return new navitime.geo.LatLng(Math.round(1E3*b*(648E3/Math.PI)),Math.round(1E3*a*(648E3/Math.PI)))}}();
navitime.geo.Util.transDatumWtoJ=function(){return function(a){var b=a.lat/1E3*(Math.PI/648E3),c=a.lng/1E3*(Math.PI/648E3),d=6378137/Math.sqrt(1-0.006694379990141124*Math.sin(b)*Math.sin(b));a=(d+0)*Math.cos(b)*Math.cos(c)+147.54;var c=(d+0)*Math.cos(b)*Math.sin(c)-507.26,b=(0.9933056200098589*d+0)*Math.sin(b)-680.47,d=Math.sqrt(a*a+c*c),e=Math.atan(6377397.155*b/(6356078.963*d)),b=Math.atan2(b+42707.88489116032*Math.sin(e)*Math.sin(e)*Math.sin(e),d-42565.1221200963*Math.cos(e)*Math.cos(e)*Math.cos(e));
a=Math.atan2(c,a);return new navitime.geo.LatLng(Math.round(1E3*b*(648E3/Math.PI)),Math.round(1E3*a*(648E3/Math.PI)))}}();
navitime.geo.Util.calcAutomaticAdjustmentViewPort=function(a,b,c,d){if(!b)return!1;for(var e,f,g,h,k=0,l=b.length;k<l;k++){var m=b[k];if(!e||e>m.lng)e=m.lng;if(!f||f<m.lng)f=m.lng;if(!g||g>m.lat)g=m.lat;if(!h||h<m.lat)h=m.lat}k=a._grid.tileSize;b=12756274*Math.PI/k;k=1.271350462849036E7*Math.PI/k;d||(d=new navitime.geo.LatLng(Math.round((h+g)/2),Math.round((f+e)/2)));e=Math.abs(d.lng-f)>Math.abs(d.lng-e)?f:e;h=Math.abs(d.lat-h)>Math.abs(d.lat-g)?h:g;g=2.6*navitime.geo.LatLng.getDistance(new navitime.geo.LatLng(0,
d.lng),new navitime.geo.LatLng(0,e));h=2.6*navitime.geo.LatLng.getDistance(new navitime.geo.LatLng(d.lat,0),new navitime.geo.LatLng(h,0));c||(c=a.ZOOM_MAX);e=-1;for(f=a._displayBounds;g<b*f.getWidth()&&h<k*f.getHeight()&&e<c;)b/=2,k/=2,e++;return{zoom:e<a.ZOOM_MIN?a.ZOOM_MIN:e,latlng:d}};navitime.geo.Util.getYYYYMMDDHHMMSS=function(){var a=(new Date).getSeconds();10>a&&(a="0"+a);return navitime.geo.Util.getYYYYMMDDHHMM()+a};
navitime.geo.Util.getYYYYMMDDHHMM=function(){var a=new Date,b=a.getYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),a=a.getMinutes();2E3>b&&(b+=1900);10>c&&(c="0"+c);10>d&&(d="0"+d);10>e&&(e="0"+e);10>a&&(a="0"+a);return""+b+c+d+e+a};navitime.geo.Util.Function.bindAsEventListener=function(a,b){return function(c){return a.call(b,c||window.event)}};
navitime.geo.Util.Function.bind=function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}};navitime.geo.Util.fixOnMouseOut=function(a,b){var c=null;b.toElement?c=b.toElement:b.relatedTarget&&(c=b.relatedTarget);var d;a:{d=c;if(null!=d)for(;d.parentNode;)if((d=d.parentNode)==a){d=!0;break a}d=!1}return d||a==c?!1:!0};
navitime.geo.Util.getRealImageSize=function(a){var b,c,d=a.width,e=a.height;if("undefined"!==typeof a.naturalWidth)d=a.naturalWidth,e=a.naturalHeight;else if("undefined"!==typeof a.runtimeStyle){var f=a.runtimeStyle;b=f.width;c=f.height;f.width="auto";f.height="auto";d=a.width;e=a.height;f.width=b;f.height=c}else b=a.width,c=a.height,a.removeAttribute("width"),a.removeAttribute("height"),d=a.width,e=a.height,a.width=b,a.height=c;return new navitime.geo.Size(d,e)};
navitime.geo.Util.changeDynamicArray=function(a,b,c){if(a instanceof Array){var d=Array.prototype.slice.apply(arguments,[3]);a.push=function(){var e=Array.prototype.push.apply(a,arguments);c.apply(b,d);return e};a.pop=function(){var e=Array.prototype.pop.apply(a,arguments);c.apply(b,d);return e};a.shift=function(){var e=Array.prototype.shift.apply(a,arguments);c.apply(b,d);return e};a.unshift=function(){var e=Array.prototype.unshift.apply(a,arguments);c.apply(b,d);return e};a.splice=function(){var e=
Array.prototype.splice.apply(a,arguments);c.apply(b,d);return e}}};navitime.geo.Util._getSerial=function(){var a=0;return function(){return a++}}();String.prototype.trim||(String.prototype.trim=function(){for(var a=this.toString();" "==a.charAt(0);)a=a.substring(1,a.length);for(;" "==a.charAt(a.length-1);)a=a.substring(0,a.length-1);return a});navitime.geo.namespace("navitime.geo");navitime.geo.Browser={touchable:function(){var a=document.documentElement;return window.navigator&&window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||"ontouchstart"in a?!0:!1}()};navitime.geo.namespace("navitime.geo.MeshUtil");
navitime.geo.MeshUtil.toMeshCode=function(a,b){var c=navitime.geo.MeshUtil._toScale(b),d=[[6,6],[3,3],[10,10],[5,5],[1,1]],e=[],f=[],g=[],h=[],k=a.lng,l=a.lat+324E6,m=k%36E5,p=l%24E5,q=l%3E5,r=k%45E4;e[1]=Math.floor(l/24E5);e[0]=Math.floor(k/36E5);360<=e[0]&&(e[0]-=360);var n;n=""+e[1];n+=e[0];1===c?(f[1]=Math.floor(p/(24E5/d[0][1]))+10,f[0]=Math.floor(m/(36E5/d[0][0]))+10,n+=f[1].toString(16),n+=f[0].toString(16)):(f[1]=Math.floor(p/3E5),f[0]=Math.floor(m/45E4),2===c?(g[1]=Math.floor(q/(3E5/d[1][1]))+
10,g[0]=Math.floor(r/(45E4/d[1][0]))+10,n+=f[1],n+=f[0],n+=g[1].toString(16),n+=g[0].toString(16)):3===c?(g[1]=Math.floor(q/(3E5/d[2][1])),g[0]=Math.floor(r/(45E4/d[2][0])),n+=f[1],n+=f[0],n+=g[1],n+=g[0]):4===c&&(g[1]=Math.floor(q/(3E5/d[2][1])),g[0]=Math.floor(r/(45E4/d[2][0])),h[1]=Math.floor(l%3E4/(3E4/d[3][1])),h[0]=Math.floor(k%45E3/(45E3/d[3][0])),n+=f[1],n+=f[0],n+=g[1],n+=g[0],n+=h[1],n+=h[0]));return n};
navitime.geo.MeshUtil._toScale=function(a){switch(a){case 6:case 7:case 8:return 0;case 9:case 10:case 11:return 1;case 12:case 13:case 14:return 2;case 15:case 16:return 3;case 17:case 18:case 19:return 4;default:return 0}};navitime.geo.MeshUtil.getGap=function(a){a=navitime.geo.MeshUtil._toScale(a);var b={};0>=a?(b.y=24E5,b.x=36E5):1===a?(b.y=4E5,b.x=6E5):2===a?(b.y=1E5,b.x=15E4):3===a?(b.y=3E4,b.x=45E3):4<=a&&(b.y=6E3,b.x=9E3);return b};navitime.geo.namespace("navitime.geo.base");
navitime.geo.base.Class=function(){for(var a=function(){arguments&&this.initialize.apply(this,arguments)},b={},c,d=0,e=arguments.length;d<e;++d)"function"==typeof arguments[d]?(0==d&&1<e&&(c=arguments[d].prototype.initialize,arguments[d].prototype.initialize=function(){},b=new arguments[d],void 0===c?delete arguments[d].prototype.initialize:arguments[d].prototype.initialize=c),c=arguments[d].prototype):c=arguments[d],navitime.geo.Util.extend(b,c);a.prototype=b;return a};navitime.geo.namespace("navitime.geo.base.config");
navitime.geo.base.config.Constants=navitime.geo.base.Class({URL_TILE_SUFFIX:"tile",URL_FILE_SUFFIX:"files",URL_ROUTE_SUFFIX:"route",BLANK_URL:"blank.png",BG_URL:"bg.png",CLOSE_URL:"close.png",URL_SATELLITE_TILE:"http://mars.navitime.co.jp/mars/tile/satellite/256/",initialize:function(){},clone:function(){var a=new navitime.geo.base.config.Constants,b;for(b in this){var c=this[b];void 0!==c&&"function"!=typeof c&&(a[b]=c)}return a},getTileRequestURL:function(){return this.URL_TILE+this.SERVICE_ID+
"/"+this.URL_TILE_SUFFIX},getFileRequestURL:function(){return this.URL_TILE+this.SERVICE_ID+"/"+this.URL_FILE_SUFFIX},getRouteRequestURL:function(){return this.URL_TILE+this.SERVICE_ID+"/"+this.URL_ROUTE_SUFFIX}});navitime.geo.base.Config=new navitime.geo.base.config.Constants;(function(){var a=-1!==location.protocol.search(/http/)?location.protocol:"http:";navitime.geo.base.Config.SERVICE_ID=window.ID;navitime.geo.base.Config.URL_TILE=window.MAP_URL.replace(/https?:/,a);navitime.geo.base.Config.URL_SATELLITE_TILE=navitime.geo.base.Config.URL_SATELLITE_TILE.replace(/https?:/,a);navitime.geo.base.Config.COPYRIGHT_TEXT=window.COPYRIGHT_TEXT;navitime.geo.base.Config.PALETTE_TYPE=window.PALETTE_TYPE;navitime.geo.base.Config.LANG=window.LANG;var a=window.REQUEST_URL.replace("{sid}",
navitime.geo.base.Config.SERVICE_ID).replace(/https?:/,a),b=window.VERSION,c=document.getElementsByTagName("head")[0],d=document.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=a+"?version\x3d"+b;c.appendChild(d);try{delete window.ID,delete window.MAP_URL,delete window.COPYRIGHT_TEXT,delete window.REQUEST_URL,delete window.VERSION,delete window.PALETTE_TYPE,delete window.LANG}catch(e){window.ID=void 0,window.MAP_URL=void 0,window.COPYRIGHT_TEXT=void 0,window.REQUEST_URL=void 0,window.VERSION=
void 0,window.PALETTE_TYPE=void 0,window.LANG=void 0}})();navitime.geo.namespace("navitime.geo");
navitime.geo.BoundsInfo=navitime.geo.base.Class({left:null,right:null,top:null,bottom:null,initialize:function(a,b,c,d){null!=!a&&(this.left=parseFloat(a));null!=d&&(this.bottom=parseFloat(d));null!=b&&(this.right=parseFloat(b));null!=c&&(this.top=parseFloat(c))},clone:function(){return new navitime.geo.BoundsInfo(this.left,this.right,this.top,this.bottom)},equals:function(a){var b=!1;null!=a&&(b=this.left==a.left&&this.right==a.right&&this.top==a.top&&this.bottom==a.bottom);return b},getWidth:function(){return this.right-
this.left},getHeight:function(){return this.bottom-this.top},getCenterX:function(){return(this.left+this.right)/2},getCenterY:function(){return(this.bottom+this.top)/2},add:function(a,b){return new navitime.geo.BoundsInfo(this.left+a,this.right+a,this.top+b,this.bottom+b)},move:function(a,b){return this.add(a-this.left,b-this.top)},contains:function(a,b){return this.left<=a&&a<=this.right&&this.top<=b&&b<=this.bottom}});navitime.geo.namespace("navitime.geo.DOM");navitime.geo.DOM.create=function(a,b,c){a=document.createElement(a);b&&(a.className=b);c&&c.appendChild(a);return a};
navitime.geo.DOM.addElementOption=function(a,b,c,d,e,f,g,h){var k=a.style;b&&(k.left=b.left+"px",k.top=b.top+"px");c&&(k.width=c.width+"px",k.height=c.height+"px");d&&(k.position=d);e&&(k.border=e);f&&(k.overflow=f);g&&(0<=parseFloat(g)&&1>parseFloat(g)?(k.filter="alpha(opacity\x3d"+100*g+")",k.opacity=g):1==parseFloat(g)&&(k.filter="",k.opacity=""));h&&!navitime.geo.Util.CheckAlpha()&&(k.display="inline-block",h.sizing||(h.sizing="scale"),k.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+
h.src+"', sizingMethod\x3d'"+h.sizing+"')",0<=parseFloat(k.opacity)&&1>parseFloat(k.opacity)&&(k.filter+=" alpha(opacity\x3d"+100*k.opacity+")"),a=a.childNodes[0])&&(a.style.filter="alpha(opacity\x3d0)")};navitime.geo.DOM.createImage=function(a,b,c,d,e,f,g){var h=document.createElement("img");d||(d="relative");navitime.geo.DOM.addElementOption(h,a,b,d,e,null,f);a=h.style;g||(a.display="none");h.galleryImg="no";c&&(h.src=c);return h};
navitime.geo.DOM.createAlphaImage=function(a,b,c,d,e,f,g){var h=navitime.geo.DOM.create("div");f=c||f?{sizing:f,src:c}:null;c=navitime.geo.DOM.createImage(null,b,c,"relative",e,null,!0);h.appendChild(c);navitime.geo.DOM.addElementOption(h,a,b,d,null,"hidden",g,f);return h};
navitime.geo.DOM.setCss=function(){if(document.all){var a=document.createStyleSheet();return function(b,d){a.addRule(b,"{"+d+"}")}}var b=document.createElement("style");b.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(b);a=b.sheet;return function(b,d){a.insertRule(b+"{"+d+"}",a.cssRules.length)}}();navitime.geo.namespace("navitime.geo");
navitime.geo.LatLng=navitime.geo.base.Class({lng:0,lat:0,initialize:function(a,b){this.lng=navitime.geo.LatLng.transMillisec(b+"");this.lat=navitime.geo.LatLng.transMillisec(a+"")},add:function(a,b){return new navitime.geo.LatLng(this.lat+navitime.geo.LatLng.transMillisec(a+""),this.lng+navitime.geo.LatLng.transMillisec(b+""))},clone:function(){return new navitime.geo.LatLng(this.lat,this.lng)},equals:function(a){return a&&a.lng===this.lng&&a.lat===this.lat},getLon:function(){return this.lng},getLng:function(){return navitime.geo.LatLng.transMILLItoDEG(this.lng)+
""},getLat:function(){return navitime.geo.LatLng.transMILLItoDEG(this.lat)+""}});navitime.geo.LatLng.getDistance=function(a,b){var c=navitime.geo.LatLng.getDifference(a,b);return Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2))};
navitime.geo.LatLng.getDifference=function(a,b){var c=navitime.geo.LatLng.transMILLItoDEG(a.lat),d=navitime.geo.LatLng.transMILLItoDEG(a.lng),e=navitime.geo.LatLng.transMILLItoDEG(b.lat),f=navitime.geo.LatLng.transMILLItoDEG(b.lng),g=(e+c)/2*Math.PI/180,c=(e-c)*Math.PI/180,d=(f-d)*Math.PI/180,f=Math.sqrt(1-0.00669437999019758*Math.pow(Math.sin(g),2)),e=6335439.32729246/Math.pow(f,3);return{x:d*(6378137/f)*Math.cos(g),y:c*e}};
navitime.geo.LatLng.transMILLItoDMS=function(a){var b=null,c=null,c=a%1E3;a=parseInt(a/1E3);c="0"+c/10;b=c.substring(c.length-2);c=a%60;a=parseInt(a/60);c="0"+c;b=c.substring(c.length-2)+"."+b;c=a%60;a=parseInt(a/60);c="0"+c;return b=a+"."+c.substring(c.length-2)+"."+b};navitime.geo.LatLng.transMILLItoDEG=function(a){return Math.round(a/3.6)/1E6};
navitime.geo.LatLng.transMillisec=function(a){var b=null,c=1;a=a.trim();0==a.indexOf("+")&&(a=a.substring(1));0==a.indexOf("-")&&(a=a.substring(1),c=-1);if(-1!=a.indexOf(","))b=a.split(",");else if(-1!=a.indexOf("."))b=a.split(".");else return parseInt(a)*c;if(2==b.length)return Math.round(36E5*parseFloat(a));a=parseInt(b[0]);var d=parseInt(b[1]),e=parseInt(b[2]);if(4==b.length&&0<b[3].length){3<b[3].length&&(b[3]=b[3].substring(0,3));var f=parseInt(b[3])*Math.pow(10,3-b[3].length)}return(1E3*(3600*
a+60*d+e)+f)*c};navitime.geo.LatLng.transDEGtoDMS=function(a){a=a.trim();0==a.indexOf("+")&&(a=a.substring(1));0==a.indexOf("-")&&(a=a.substring(1));var b=null;if(-1!=a.indexOf(","))b=a.split(",");else if(-1!=a.indexOf("."))b=a.split(".");else return 0;a=60*parseFloat("0."+b[1]);var c=Math.round(6E4*(a-Math.floor(a)))/1E3;return b[0]+"."+Math.floor(a)+"."+c};
navitime.geo.LatLng.transDEGtoMillisec=function(a){var b=[];a=a.trim();0==a.indexOf("+")&&(a=a.substring(1));0==a.indexOf("-")&&(a=a.substring(1));-1!=a.indexOf(",")?b=a.split(","):-1!=a.indexOf(".")?b=a.split("."):b.push(a);return 2>=b.length?Math.round(36E5*parseFloat(a)):parseInt(a,10)};navitime.geo.namespace("navitime.geo");navitime.geo.Size=navitime.geo.base.Class({width:0,height:0,initialize:function(a,b){this.width=parseFloat(a);this.height=parseFloat(b)},clone:function(){return new navitime.geo.Size(this.width,this.height)}});navitime.geo.namespace("navitime.geo.base");
navitime.geo.Color=navitime.geo.base.Class({_color:null,initialize:function(a){a=a.toLowerCase();for(var b=navitime.geo.Color.table,c=0,d=b.length;c<d;c++)if(b[c].decimal===a||b[c].color===a||b[c].hex===a){this._color=b[c];return}this._color={decimal:navitime.geo.Color.changeHexToDecimal(a),hex:navitime.geo.Color.changeDecimalToHex(a)}},getDecimal:function(){return null===this._color?null:this._color.decimal},getHex:function(){return null===this._color?null:this._color.hex},getColor:function(){return null===
this._color?null:this._color.color},addBrightness:function(a){var b=navitime.geo.Color.changeDecimalToHSV(this._color.decimal);b.v+=a;b.v=255<b.v?255:0>b.v?0:b.v;a=navitime.geo.Color.changeHSVToDecimal(b);this._color={decimal:a,hex:navitime.geo.Color.changeDecimalToHex(a)}},addBrightnessPercent:function(a){this.addBrightness(2.55*a)},equals:function(a){return this.getDecimal()===a.getDecimal()}});
navitime.geo.Color.changeHexToDecimal=function(a){if(!a)return null;-1!==a.indexOf("#")&&(a=parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+","+parseInt(a.substring(5,8),16));return a};navitime.geo.Color.changeDecimalToHex=function(a){if(!a)return null;-1!==a.indexOf(",")&&(a=a.split(","),a="#"+("0"+parseInt(a[0]).toString(16)).slice(-2)+("0"+parseInt(a[1]).toString(16)).slice(-2)+("0"+parseInt(a[2]).toString(16)).slice(-2));return a};
navitime.geo.Color.changeDecimalToHSV=function(a){if(!a)return null;if(-1!==a.indexOf(",")){a=a.split(",");var b=a[0]-0,c=a[1]-0,d=a[2]-0;a=Math.max(b,c,d);var e=Math.min(b,c,d);a===e?c=b=0:(b=a===b?60*(c-d)/(a-e):a===c?60*(d-b)/(a-e)+120:60*(b-c)/(a-e)+240,c=255*(a-e)/a);return{h:0>b?b+360:359<b?b-360:b,s:c,v:a}}return null};
navitime.geo.Color.changeHSVToDecimal=function(a){if(!a)return null;if(a){var b,c,d,e=a.h,f=a.s;a=a.v;if(0===f)return Math.round(a)+","+Math.round(a)+","+Math.round(a);var g=Math.floor(e/60),h=e/60-g,e=a*(1-f/255),k=a*(1-h*f/255),f=a*(1-(1-h)*f/255);0===g?(b=a,c=f,d=e):1===g?(b=k,c=a,d=e):2===g?(b=e,c=a,d=f):3===g?(b=e,c=k,d=a):4===g?(b=f,c=e,d=a):5===g&&(b=a,c=e,d=k);return Math.round(b)+","+Math.round(c)+","+Math.round(d)}return null};
navitime.geo.Color.changeHex=function(a){if(!a)return null;a=a.toLowerCase();for(var b=navitime.geo.Color.table,c=0,d=b.length;c<d;c++)if(b[c].decimal===a||b[c].color===a)return b[c].hex;return navitime.geo.Color.changeDecimalToHex(a)};navitime.geo.Color.changeDecimal=function(a){if(!a)return null;a=a.toLowerCase();for(var b=navitime.geo.Color.table,c=0,d=b.length;c<d;c++)if(b[c].color===a||b[c].hex===a)return b[c].decimal;return navitime.geo.Color.changeHexToDecimal(a)};
navitime.geo.Color.table=[{color:"aliceblue",hex:"#f0f8ff",decimal:"240,248,255"},{color:"antiquewhite",hex:"#faebd7",decimal:"250,235,215"},{color:"aqua",hex:"#00ffff",decimal:"0,255,255"},{color:"aquamarine",hex:"#7fffd4",decimal:"127,255,212"},{color:"azure",hex:"#f0ffff",decimal:"240,255,255"},{color:"beige",hex:"#f5f5dc",decimal:"245,245,220"},{color:"bisque",hex:"#ffe4c4",decimal:"255,228,196"},{color:"black",hex:"#000000",decimal:"0,0,0"},{color:"blanchedalmond",hex:"#ffebcd",decimal:"255,235,205"},
{color:"blue",hex:"#0000ff",decimal:"0,0,255"},{color:"blueviolet",hex:"#8a2be2",decimal:"138,43,226"},{color:"brown",hex:"#a52a2a",decimal:"165,42,42"},{color:"burlywood",hex:"#deb887",decimal:"222,184,135"},{color:"cadetblue",hex:"#5f9ea0",decimal:"95,158,160"},{color:"chartreuse",hex:"#7fff00",decimal:"127,255,0"},{color:"chocolate",hex:"#d2691e",decimal:"210,105,30"},{color:"coral",hex:"#ff7f50",decimal:"255,127,80"},{color:"cornflowerblue",hex:"#6495ed",decimal:"100,149,237"},{color:"cornsilk",
hex:"#fff8dc",decimal:"255,248,220"},{color:"crimson",hex:"#dc143c",decimal:"220,20,60"},{color:"cyan",hex:"#00ffff",decimal:"0,255,255"},{color:"darkblue",hex:"#00008b",decimal:"0,0,139"},{color:"darkcyan",hex:"#008b8b",decimal:"0,139,139"},{color:"darkgoldenrod",hex:"#b8860b",decimal:"184,134,11"},{color:"darkgray",hex:"#a9a9a9",decimal:"169,169,169"},{color:"darkgreen",hex:"#006400",decimal:"0,100,0"},{color:"darkgrey",hex:"#a9a9a9",decimal:"169,169,169"},{color:"darkkhaki",hex:"#bdb76b",decimal:"189,183,107"},
{color:"darkmagenta",hex:"#8b008b",decimal:"139,0,139"},{color:"darkolivegreen",hex:"#556b2f",decimal:"85,107,47"},{color:"darkorange",hex:"#ff8c00",decimal:"255,140,0"},{color:"darkorchid",hex:"#9932cc",decimal:"153,50,204"},{color:"darkred",hex:"#8b0000",decimal:"139,0,0"},{color:"darksalmon",hex:"#e9967a",decimal:"233,150,122"},{color:"darkseagreen",hex:"#8fbc8f",decimal:"143,188,143"},{color:"darkslateblue",hex:"#483d8b",decimal:"72,61,139"},{color:"darkslategray",hex:"#2f4f4f",decimal:"47,79,79"},
{color:"darkslategrey",hex:"#2f4f4f",decimal:"47,79,79"},{color:"darkturquoise",hex:"#00ced1",decimal:"0,206,209"},{color:"darkviolet",hex:"#9400d3",decimal:"148,0,211"},{color:"deeppink",hex:"#ff1493",decimal:"255,20,147"},{color:"deepskyblue",hex:"#00bfff",decimal:"0,191,255"},{color:"dimgray",hex:"#696969",decimal:"105,105,105"},{color:"dimgrey",hex:"#696969",decimal:"105,105,105"},{color:"dodgerblue",hex:"#1e90ff",decimal:"30,144,255"},{color:"firebrick",hex:"#b22222",decimal:"178,34,34"},{color:"floralwhite",
hex:"#fffaf0",decimal:"255,250,240"},{color:"forestgreen",hex:"#228b22",decimal:"34,139,34"},{color:"fuchsia",hex:"#ff00ff",decimal:"255,0,255"},{color:"gainsboro",hex:"#dcdcdc",decimal:"220,220,220"},{color:"ghostwhite",hex:"#f8f8ff",decimal:"248,248,255"},{color:"gold",hex:"#ffd700",decimal:"255,215,0"},{color:"goldenrod",hex:"#daa520",decimal:"218,165,32"},{color:"gray",hex:"#808080",decimal:"128,128,128"},{color:"green",hex:"#008000",decimal:"0,128,0"},{color:"greenyellow",hex:"#adff2f",decimal:"173,255,47"},
{color:"grey",hex:"#808080",decimal:"128,128,128"},{color:"honeydew",hex:"#f0fff0",decimal:"240,255,240"},{color:"hotpink",hex:"#ff69b4",decimal:"255,105,180"},{color:"indianred",hex:"#cd5c5c",decimal:"205,92,92"},{color:"indigo",hex:"#4b0082",decimal:"75,0,130"},{color:"ivory",hex:"#fffff0",decimal:"255,255,240"},{color:"khaki",hex:"#f0e68c",decimal:"240,230,140"},{color:"lavender",hex:"#e6e6fa",decimal:"230,230,250"},{color:"lavenderblush",hex:"#fff0f5",decimal:"255,240,245"},{color:"lawngreen",
hex:"#7cfc00",decimal:"124,252,0"},{color:"lemonchiffon",hex:"#fffacd",decimal:"255,250,205"},{color:"lightblue",hex:"#add8e6",decimal:"173,216,230"},{color:"lightcoral",hex:"#f08080",decimal:"240,128,128"},{color:"lightcyan",hex:"#e0ffff",decimal:"224,255,255"},{color:"lightgoldenrodyellow",hex:"#fafad2",decimal:"250,250,210"},{color:"lightgray",hex:"#d3d3d3",decimal:"211,211,211"},{color:"lightgreen",hex:"#90ee90",decimal:"144,238,144"},{color:"lightgrey",hex:"#d3d3d3",decimal:"211,211,211"},{color:"lightpink",
hex:"#ffb6c1",decimal:"255,182,193"},{color:"lightsalmon",hex:"#ffa07a",decimal:"255,160,122"},{color:"lightseagreen",hex:"#20b2aa",decimal:"32,178,170"},{color:"lightskyblue",hex:"#87cefa",decimal:"135,206,250"},{color:"lightslategray",hex:"#778899",decimal:"119,136,153"},{color:"lightslategrey",hex:"#778899",decimal:"119,136,153"},{color:"lightsteelblue",hex:"#b0c4de",decimal:"176,196,222"},{color:"lightyellow",hex:"#ffffe0",decimal:"255,255,224"},{color:"lime",hex:"#00ff00",decimal:"0,255,0"},
{color:"limegreen",hex:"#32cd32",decimal:"50,205,50"},{color:"linen",hex:"#faf0e6",decimal:"250,240,230"},{color:"magenta",hex:"#ff00ff",decimal:"255,0,255"},{color:"maroon",hex:"#800000",decimal:"128,0,0"},{color:"mediumaquamarine",hex:"#66cdaa",decimal:"102,205,170"},{color:"mediumblue",hex:"#0000cd",decimal:"0,0,205"},{color:"mediumorchid",hex:"#ba55d3",decimal:"186,85,211"},{color:"mediumpurple",hex:"#9370db",decimal:"147,112,219"},{color:"mediumseagreen",hex:"#3cb371",decimal:"60,179,113"},{color:"mediumslateblue",
hex:"#7b68ee",decimal:"123,104,238"},{color:"mediumspringgreen",hex:"#00fa9a",decimal:"0,250,154"},{color:"mediumturquoise",hex:"#48d1cc",decimal:"72,209,204"},{color:"mediumvioletred",hex:"#c71585",decimal:"199,21,133"},{color:"midnightblue",hex:"#191970",decimal:"25,25,112"},{color:"mintcream",hex:"#f5fffa",decimal:"245,255,250"},{color:"mistyrose",hex:"#ffe4e1",decimal:"255,228,225"},{color:"moccasin",hex:"#ffe4b5",decimal:"255,228,181"},{color:"navajowhite",hex:"#ffdead",decimal:"255,222,173"},
{color:"navy",hex:"#000080",decimal:"0,0,128"},{color:"oldlace",hex:"#fdf5e6",decimal:"253,245,230"},{color:"olive",hex:"#808000",decimal:"128,128,0"},{color:"olivedrab",hex:"#6b8e23",decimal:"107,142,35"},{color:"orange",hex:"#ffa500",decimal:"255,165,0"},{color:"orangered",hex:"#ff4500",decimal:"255,69,0"},{color:"orchid",hex:"#da70d6",decimal:"218,112,214"},{color:"palegoldenrod",hex:"#eee8aa",decimal:"238,232,170"},{color:"palegreen",hex:"#98fb98",decimal:"152,251,152"},{color:"paleturquoise",
hex:"#afeeee",decimal:"175,238,238"},{color:"palevioletred",hex:"#db7093",decimal:"219,112,147"},{color:"papayawhip",hex:"#ffefd5",decimal:"255,239,213"},{color:"peachpuff",hex:"#ffdab9",decimal:"255,218,185"},{color:"peru",hex:"#cd853f",decimal:"205,133,63"},{color:"pink",hex:"#ffc0cb",decimal:"255,192,203"},{color:"plum",hex:"#dda0dd",decimal:"221,160,221"},{color:"powderblue",hex:"#b0e0e6",decimal:"176,224,230"},{color:"purple",hex:"#800080",decimal:"128,0,128"},{color:"red",hex:"#ff0000",decimal:"255,0,0"},
{color:"rosybrown",hex:"#bc8f8f",decimal:"188,143,143"},{color:"royalblue",hex:"#4169e1",decimal:"65,105,225"},{color:"saddlebrown",hex:"#8b4513",decimal:"139,69,19"},{color:"salmon",hex:"#fa8072",decimal:"250,128,114"},{color:"sandybrown",hex:"#f4a460",decimal:"244,164,96"},{color:"seagreen",hex:"#2e8b57",decimal:"46,139,87"},{color:"seashell",hex:"#fff5ee",decimal:"255,245,238"},{color:"sienna",hex:"#a0522d",decimal:"160,82,45"},{color:"silver",hex:"#c0c0c0",decimal:"192,192,192"},{color:"skyblue",
hex:"#87ceeb",decimal:"135,206,235"},{color:"slateblue",hex:"#6a5acd",decimal:"106,90,205"},{color:"slategray",hex:"#708090",decimal:"112,128,144"},{color:"slategrey",hex:"#708090",decimal:"112,128,144"},{color:"snow",hex:"#fffafa",decimal:"255,250,250"},{color:"springgreen",hex:"#00ff7f",decimal:"0,255,127"},{color:"steelblue",hex:"#4682b4",decimal:"70,130,180"},{color:"tan",hex:"#d2b48c",decimal:"210,180,140"},{color:"teal",hex:"#008080",decimal:"0,128,128"},{color:"thistle",hex:"#d8bfd8",decimal:"216,191,216"},
{color:"tomato",hex:"#ff6347",decimal:"255,99,71"},{color:"turquoise",hex:"#40e0d0",decimal:"64,224,208"},{color:"violet",hex:"#ee82ee",decimal:"238,130,238"},{color:"wheat",hex:"#f5deb3",decimal:"245,222,179"},{color:"white",hex:"#ffffff",decimal:"255,255,255"},{color:"whitesmoke",hex:"#f5f5f5",decimal:"245,245,245"},{color:"yellow",hex:"#ffff00",decimal:"255,255,0"},{color:"yellowgreen",hex:"#9acd32",decimal:"154,205,50"}];navitime.geo.namespace("navitime.geo");
navitime.geo.RouteInfo=navitime.geo.base.Class({type:0,size:0,color:new navitime.geo.Color("none"),opacity:0,linecap:null,linejoin:null,dasharray:null,initialize:function(a,b,c,d){null!==a&&void 0!==a&&(this.type=a,0===this.type||"0"===this.type)&&(this.linejoin=this.linecap="round");b&&(this.size=b);c&&(this.color=new navitime.geo.Color(c));d&&(1<d&&(d/=100),this.opacity=d)},clone:function(){return new navitime.geo.RouteInfo(this.type,this.size,this.color,this.opacity)},equals:function(a){return this.type===
a.type&&this.size===a.size&&this.color.equals(a.color)&&this.opacity===a.opacity}});navitime.geo.namespace("navitime.geo");
navitime.geo.LatLngBounds=navitime.geo.base.Class({_northWest:null,_southEast:null,_northEast:null,_southWest:null,initialize:function(a,b){this._southWest=a;this._northEast=b},getNorthWest:function(){this._northWest||(this._northWest=new navitime.geo.LatLng(this._southWest.lat,this._northEast.lng));return this._northWest},getSouthEast:function(){this._southEast||(this._southEast=new navitime.geo.LatLng(this._northEast.lat,this._southWest.lng));return this._southEast},getNorthEast:function(){return this._northEast},
getSouthWest:function(){return this._southWest}});navitime.geo.namespace("navitime.geo.base");
navitime.geo.base.LineInfo=navitime.geo.base.Class({_inlineInfo:null,_outlineInfo:null,initialize:function(a,b,c,d){this._inlineInfo=a?a:new navitime.geo.RouteInfo;this._outlineInfo=b},destroy:function(){this._outlineInfo=this._inlineInfo=null},clone:function(){return new navitime.geo.base.LineInfo(this._inlineInfo.clone(),this._outlineInfo?this._outlineInfo.clone():null,this._inarrowInfo.clone())},equals:function(a){return this._inlineInfo.equals(a._inlineInfo)&&(!this._outlineInfo||this._outlineInfo.equals(a._outlineInfo))}});navitime.geo.namespace("navitime.geo.base");
navitime.geo.base.Ajax={getURL:function(a,b){var c;window.XDomainRequest?(c=new XDomainRequest,c.onload=function(){b(c.responseText,c.contentType)},c.open("GET",a)):(c=this._createXMLHttpRequest(b),c.open("GET",a,!0));c.send()},_createXMLHttpRequest:function(a){var b=null;try{b=new XMLHttpRequest}catch(c){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}b&&(b.onreadystatechange=function(){4==b.readyState&&(200==b.status?a(b.responseText):
window.console.log("status \x3d "+b.status))});return b}};
navitime.geo.base.Ajax.JSONP={_scripts:{},_charset:"utf-8",_counter:1,_lastTime:null,_head:document.getElementsByTagName("head")[0],_name:function(a){this._lastTime=(new Date).getTime();var b="jsonp_"+this._lastTime+"_"+this._counter;this._counter++;window[b]=function(c){return function(d){window[b]=void 0;try{delete window[b]}catch(e){}a(d,b);c._head.removeChild(c._scripts[b]);delete c._scripts[b]}}(this);return b},_load:function(a,b){var c=document.createElement("script");c.type="text/javascript";
c._charset=this._charset;c.src=a;this._head.appendChild(c);this._scripts[b]=c},getJSONP:function(a,b){var c=this._name(b);a=a.replace(/{callback}/,c);this._load(a,c);return this}};navitime.geo.namespace("navitime.geo.base");
navitime.geo.base.TileMapParameter=navitime.geo.base.Class({x:null,y:null,z:null,ts:null,layer:null,vics:null,searchtime:null,pos:null,mthd:null,tr:null,type:null,cb:null,queryParam:null,product:"tile",devicePixelRatio:null,basis:null,_defTollLoad:-1,_defAlongside:0,_basisArray:["goal","start"],tfsrc:null,uid:null,initialize:function(a,b,c,d,e,f){this.setX(a);this.setY(b);this.setZ(c);d&&this.setTs(d);e&&this.setLayer(e);f&&(this.devicePixelRatio=Math.round(f));this.queryParam={}},clone:function(){var a=
new navitime.geo.base.TileMapParameter(this.x,this.y,this.z,this.ts,this.layer,this.devicePixelRatio);a.setVics(this.vics);a.setSearchTime(this.searchtime);a.setPos(this.pos);a.setMthd(this.mthd);a.setTr(this.tr);a.setType(this.type);a.setBasis(this.basis);a.setTfsrc(this.tfsrc);a.setUid(this.uid);for(var b in this.queryParam)this.queryParam.hasOwnProperty(b)&&(a.queryParam[b]=this.queryParam[b]);return a},toString:function(){return this.queryParam.hasOwnProperty("tileType")&&"satellite"===this.queryParam.tileType?
this._createSatelliteQueryString():this._createQueryString()},_createQueryString:function(){var a="?product\x3d"+this.product;this.x&&(this.y&&this.z)&&(a+="\x26x\x3d"+this.x+"\x26y\x3d"+this.y+"\x26z\x3d"+this.z);this.ts&&(a+="\x26ts\x3d"+this.ts);if(this.vics){var b="function"==typeof this.vics?this.vics():this.vics;b&&(a+="\x26vics\x3d"+b)}this.layer&&(a+="\x26layer\x3d"+this.layer);this.searchtime&&(b="function"==typeof this.searchtime?this.searchtime():this.searchtime)&&(a+="\x26searchtime\x3d"+
b);if(this.pos){for(var b=0,c=this.pos.length;b<c;b++)a+="\x26POS"+(b+1)+"\x3d"+this.pos[b].lng+"."+this.pos[b].lat+".0."+(this.pos[b].alongside||this._defAlongside)+".."+(this.pos[b].tollLoad||this._defTollLoad);b=1;for(c=this._basisArray.length;c--;)if(this._basisArray[c]===this.basis){b=c;break}a+="\x26basis\x3d"+b}this.mthd&&(a+="\x26method\x3d"+this.mthd);this.tr&&(a+="\x26tr\x3d"+this.tr);this.type&&(a+="\x26type\x3d"+this.type);this.cb&&(a+="\x26cb\x3d"+this.cb);this.devicePixelRatio&&(a+=
"\x26devicePixelRatio\x3d"+this.devicePixelRatio);this.tfsrc&&(b="function"==typeof this.tfsrc?this.tfsrc():this.tfsrc)&&(a+="\x26tfsrc\x3d"+b);this.uid&&(b="function"==typeof this.uid?this.uid():this.uid)&&(a+="\x26uid\x3d"+b);if(this.queryParam)for(var d in this.queryParam)this.queryParam.hasOwnProperty(d)&&(a="function"==typeof this.queryParam[d]?a+("\x26"+d+"\x3d"+this.queryParam[d]()):a+("\x26"+d+"\x3d"+this.queryParam[d]));return a},_createSatelliteQueryString:function(){var a="";this.x&&(this.y&&
this.z)&&(a+=this.x+"/"+this.y+"/"+this.z);return a},setX:function(a){this.x=parseInt(a)},setY:function(a){this.y=parseInt(a)},setZ:function(a){this.z=parseInt(a)},setTs:function(a){this.ts=parseInt(a)},setLayer:function(a){this.layer=a},setVics:function(a){this.vics=a},setSearchTime:function(a){this.searchtime=a},setPos:function(a){this.pos=a},setMthd:function(a){this.mthd=a},setTr:function(a){this.tr=a},setType:function(a){this.type=a},setCb:function(a){this.cb=a},setBasis:function(a){this.basis=
a},setTfsrc:function(a){this.tfsrc=a},setUid:function(a){this.uid=a},addQueryParam:function(a,b){this.queryParam[a]=b}});navitime.geo.namespace("navitime.geo.event");
navitime.geo.event.BrowserEventController={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,observers:null,addEvent:function(a,b,c,d){d=d||!1;"keypress"==b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.attachEvent)&&(b="keydown");null==this.observers&&(this.observers={});var e=a.id;this.observers[e]||(this.observers[e]=[]);this.observers[e].push({element:a,name:b,observer:c,useCapture:d});a.addEventListener?a.addEventListener(b,
c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEvent:function(a,b,c,d){d=d||!1;"keypress"==b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.attachEvent)&&(b="keydown");a.removeEventListener?a.removeEventListener(b,c,d):a&&a.detachEvent&&a.detachEvent("on"+b,c)},removeElementEvents:function(a){if(a=this.observers[a.id])for(var b=0,c=a.length;b<c;b++){var d=a[b];this.removeEvent(d.element,d.name,d.observer,d.useCapture)}},isLeftClick:function(a){return a.which&&1==a.which||a.button&&
1==a.button},isRightClick:function(a){return a.which&&3==a.which||a.button&&2==a.button},stop:function(a,b){b||(a.preventDefault?a.preventDefault():a.returnValue=!1);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}};navitime.geo.namespace("navitime.geo.event");
navitime.geo.event.InnerEventController=navitime.geo.base.Class({BROWSER_EVENTS:"mouseover mouseout mousedown mouseup mousemove click dblclick resize focus blur mousewheel DOMMouseScroll touchstart touchmove touchend gesturestart gesturechange gestureend pointerdown MSPointerDown MSGestureChange MSGestureEnd".split(" "),_object:null,_element:null,_eventTypes:null,_listeners:null,_eventHandler:null,_fallThrough:null,initialize:function(a,b,c,d){this._object=a;this._listeners={};this._fallThrough=d;
this._eventTypes=[];if(null!=c)for(a=0,d=c.length;a<d;a++)this.addEventType(c[a]);this._eventHandler=navitime.geo.Util.Function.bindAsEventListener(this._handleBrowserEvent,this);b&&this.attachToElement(b)},destroy:function(){this.detachFromElement();this._fallThrough=this._eventTypes=this._object=this._listeners=this._element=null},attachToElement:function(a){this._element=a;this._element.hasScrollEvent||(navitime.geo.event.BrowserEventController.addEvent(window,"scroll",navitime.geo.Util.Function.bind(this._clearMouseCache,
this)),this._element.hasScrollEvent=!0);for(var b=0;b<this.BROWSER_EVENTS.length;b++){var c=this.BROWSER_EVENTS[b];this.addEventType(c);navitime.geo.event.BrowserEventController.addEvent(a,c,this._eventHandler)}navitime.geo.event.BrowserEventController.addEvent(a,"dragstart",navitime.geo.event.BrowserEventController.stop)},detachFromElement:function(){if(this._element){for(var a=0;a<this.BROWSER_EVENTS.length;a++)navitime.geo.event.BrowserEventController.removeEvent(this._element,this.BROWSER_EVENTS[a],
this._eventHandler);this._element.hasScrollEvent&&navitime.geo.event.BrowserEventController.removeEvent(window,"scroll",navitime.geo.Util.Function.bind(this._clearMouseCache,this))}},addEventType:function(a){this._listeners[a]||(this._eventTypes.push(a),this._listeners[a]=[])},register:function(a,b,c){-1===navitime.geo.Util.indexOf(this._eventTypes,a)&&this.addEventType(a);null!=c&&(null==b&&(b=this._object),this._listeners[a].push({obj:b,func:c}))},registerPriority:function(a,b,c){-1===navitime.geo.Util.indexOf(this._eventTypes,
a)&&this.addEventType(a);null!=c&&(null==b&&(b=this.obj),this._listeners[a].unshift({obj:b,func:c}))},unregister:function(a,b,c){null==b&&(b=this._object);a=this._listeners[a];if(null!=a)for(var d=0,e=a.length;d<e;d++)if(a[d].obj==b&&a[d].func==c){a.splice(d,1);break}},triggerEvent:function(a,b){var c=this._listeners[a];if(c&&0!=c.length){null==b&&(b={});b.object=this._object;b.element=this._element;b.type||(b.type=a);b.stop=function(){navitime.geo.event.BrowserEventController.stop(b,!0)};b.getLatLng||
(b.getLatLng=function(){});for(var c=c.slice(),d,e=0,f=c.length;e<f&&(d=c[e],d=d.func.apply(d.obj,[b]),void 0==d||!1!=d);e++);!1===this._fallThrough&&navitime.geo.event.BrowserEventController.stop(b,!0);return d}},_handleBrowserEvent:function(a){a.xy=this._getMousePosition(a);if(this._object&&this._object.getMap){var b=this._object.getMap();if(b){var c=a.xy[0]||a.xy;a.getLatLng=function(){var a=b.getViewDivPixel();return b.getMovedLatLng(a.left+b._displayBounds.getCenterX()-c.x,a.top+b._displayBounds.getCenterY()-
c.y)}}}this.triggerEvent(a.type,a)},_getMousePosition:function(a){if(this._element){this._element.scrolls||(this._element.scrolls=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]);this._element.lefttop||(this._element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]);this._element.offsets=navitime.geo.Util.pagePosition(this._element);this._element.offsets[0]+=this._element.scrolls[0];this._element.offsets[1]+=
this._element.scrolls[1];if(a.touches){var b=[],c=[];if("touchstart"===a.type||"touchmove"===a.type){for(var d=0,e=a.touches.length;d<e;d++)b.push({x:Math.round(a.touches[d].pageX)-this._element.offsets[0]-this._element.lefttop[0],y:Math.round(a.touches[d].pageY)-this._element.offsets[1]-this._element.lefttop[1]});this._xy=b}else if("touchend"===a.type){var b=this._xy,f=Math.round(a.changedTouches[0].pageX)-this._element.offsets[0]-this._element.lefttop[0];a=Math.round(a.changedTouches[0].pageY)-
this._element.offsets[1]-this._element.lefttop[1];d=0;for(e=this._xy.length;d<e;d++)f!==this._xy[d].x&&a!==this._xy[d].y&&c.push(this._xy[d]);this._xy=0===b.length?null:c}return b}return{x:Math.round(a.clientX)+this._element.scrolls[0]-this._element.offsets[0]-this._element.lefttop[0],y:Math.round(a.clientY)+this._element.scrolls[1]-this._element.offsets[1]-this._element.lefttop[1]}}},_clearMouseCache:function(){this._element&&(this._element.scrolls=null,this._element.lefttop=null,this._element.offsets=
null)}});navitime.geo.namespace("navitime.geo.ControlPosition");navitime.geo.ControlPosition.BOTTOM=6;navitime.geo.ControlPosition.BOTTOM_LEFT=7;navitime.geo.ControlPosition.BOTTOM_RIGHT=5;navitime.geo.ControlPosition.LEFT=8;navitime.geo.ControlPosition.RIGHT=4;navitime.geo.ControlPosition.TOP=2;navitime.geo.ControlPosition.TOP_LEFT=1;navitime.geo.ControlPosition.TOP_RIGHT=3;navitime.geo.ControlPosition.CENTER=0;navitime.geo.namespace("navitime.geo.DisplayType");navitime.geo.DisplayType.ALWAYS=1;navitime.geo.DisplayType.FOCUSED=2;navitime.geo.namespace("navitime.geo");
navitime.geo.Icon=navitime.geo.base.Class({url:null,bounds:null,imageDiv:null,iconCenter:null,_afterLoad:null,_onloadListener:null,_timerId:null,_visibility:!0,initialize:function(a,b){b=b||{};this.url=a;if(void 0===b.centerType||null===b.centerType)b.centerType=6;if(b.size)this.bounds=new navitime.geo.BoundsInfo(0,b.size.width,0,b.size.height),this._setCenterPoint(b.centerType),this.imageDiv=navitime.geo.DOM.createAlphaImage(this.bounds,b.size,a);else{this.imageDiv=navitime.geo.DOM.createAlphaImage();
var c=this.imageDiv.childNodes[0];c.style.visibility="hidden";this._onloadListener=navitime.geo.Util.Function.bind(function(){this._timerId=window.setTimeout(navitime.geo.Util.Function.bind(function(){var d=navitime.geo.Util.getRealImageSize(c);this.bounds=new navitime.geo.BoundsInfo(0,d.width,0,d.height);navitime.geo.DOM.addElementOption(this.imageDiv,null,d,null,null,null,null,{src:a});navitime.geo.DOM.addElementOption(c,null,d);this._setCenterPoint(b.centerType);this._afterLoad&&(this._afterLoad(),
this.moveTo=this._moveTo,this._afterLoad=null);c.style.visibility=""},this),50);navitime.geo.event.BrowserEventController.removeEvent(c,"load",this._onloadListener)},this);navitime.geo.event.BrowserEventController.addEvent(c,"load",this._onloadListener);c.src=a}this.imageDiv.className="ntgeo-icon"},destroy:function(){this.bounds=this.url=null;window.clearTimeout(this._timerId);this._timerId=null;navitime.geo.event.BrowserEventController.removeEvent(this.imageDiv.childNodes[0],"load",this._onloadListener);
this.imageDiv.parentNode&&this.imageDiv.parentNode.removeChild(this.imageDiv);this.imageDiv=null},clone:function(){return new navitime.geo.Icon(this.url,this.bounds)},moveTo:function(a,b){this.bounds?this._moveTo(a,b):this._afterLoad=navitime.geo.Util.Function.bind(this._moveTo,this,a,b)},_moveTo:function(a,b){this.bounds=this.bounds.move(a+this.iconCenter.x,b+this.iconCenter.y);var c=this.imageDiv.style;c.left=this.bounds.left+"px";c.top=this.bounds.top+"px"},display:function(a){this.imageDiv.style.display=
a?"":"none"},_setCenterPoint:function(a){switch(a){case navitime.geo.ControlPosition.CENTER:this.iconCenter={x:-1*Math.floor(this.bounds.getWidth()/2),y:-1*Math.floor(this.bounds.getHeight()/2)};break;case navitime.geo.ControlPosition.TOP_LEFT:this.iconCenter={x:0,y:0};break;case navitime.geo.ControlPosition.TOP:this.iconCenter={x:-1*Math.floor(this.bounds.getWidth()/2),y:0};break;case navitime.geo.ControlPosition.TOP_RIGHT:this.iconCenter={x:-1*this.bounds.getWidth(),y:0};break;case navitime.geo.ControlPosition.RIGHT:this.iconCenter=
{x:-1*this.bounds.getWidth(),y:-1*Math.floor(this.bounds.getHeight()/2)};break;case navitime.geo.ControlPosition.BOTTOM_RIGHT:this.iconCenter={x:-1*this.bounds.getWidth(),y:-1*this.bounds.getHeight()};break;case navitime.geo.ControlPosition.BOTTOM:this.iconCenter={x:-1*Math.floor(this.bounds.getWidth()/2),y:-1*this.bounds.getHeight()};break;case navitime.geo.ControlPosition.BOTTOM_LEFT:this.iconCenter={x:0,y:-1*this.bounds.getHeight()};break;case navitime.geo.ControlPosition.LEFT:this.iconCenter=
{x:0,y:-1*Math.floor(this.bounds.getHeight()/2)};break;default:this.iconCenter={x:-1*Math.floor(this.bounds.getWidth()/2),y:-1*this.bounds.getHeight()}}},setVisibility:function(a){this._visibility=a;this.imageDiv.style.visibility=this._visibility?"":"hidden"},changeImageUrl:function(a){var b=this.imageDiv.childNodes[0];b&&(this.url=b.src=a)}});navitime.geo.namespace("navitime.geo.handler");
navitime.geo.handler.AbstractHandler=navitime.geo.base.Class({_control:null,_callbacks:null,_events:null,map:null,isActive:!1,initialize:function(a,b,c){this._control=a;this._callbacks=b;a.map&&(this.map=a.map.getMap());this._events=c?c:this.map.events},destroy:function(){this.deactivate();this._events=this.map=this._control=this._callbacks=null},activate:function(){if(this.isActive)return!1;for(var a=navitime.geo.event.InnerEventController.prototype.BROWSER_EVENTS,b=0,c=a.length;b<c;b++)this[a[b]]&&
this._events.registerPriority(a[b],this,this[a[b]]);return this.isActive=!0},deactivate:function(){if(!this.isActive)return!1;for(var a=navitime.geo.event.InnerEventController.prototype.BROWSER_EVENTS,b=0,c=a.length;b<c;b++)this[a[b]]&&this._events.unregister(a[b],this,this[a[b]]);this.isActive=!1;return!0},callback:function(a,b){a&&this._callbacks[a]&&this._callbacks[a].apply(this._control,b)}});navitime.geo.namespace("navitime.geo.handler");
navitime.geo.handler.Click=navitime.geo.base.Class(navitime.geo.handler.AbstractHandler,{singleClick:!0,doubleClick:!0,DOUBLE_CLICK_DELAY:300,stopSingle:!1,stopDouble:!1,_timerId:null,_rightclickTimerId:null,initialize:function(a,b,c){navitime.geo.handler.AbstractHandler.prototype.initialize.apply(this,arguments)},mousedown:function(a){},mouseup:function(a){return navitime.geo.event.BrowserEventController.isRightClick(a)?this.rightclick(a):!0},rightclick:function(a){if(null!=this._rightclickTimerId)return this._clearTimer(),
this.callback("dblrightclick",[a]),!this.stopDouble;a=this.doubleClick?navitime.geo.Util.extend({},a):this.callback("rightclick",[a]);a=navitime.geo.Util.Function.bind(this.delayedRightCall,this,a);this._rightclickTimerId=window.setTimeout(a,this.DOUBLE_CLICK_DELAY);return!this.stopSingle},delayedRightCall:function(a){this._rightclickTimerId=null;a&&this.callback("rightclick",[a]);return!this.stopSingle},click:function(a){null!=this._timerId?this._clearTimer():(a=this.singleClick?navitime.geo.Util.extend({},
a):null,this._timerId=window.setTimeout(navitime.geo.Util.Function.bind(this._delayedCall,this,a),this.DOUBLE_CLICK_DELAY));return!this.stopSingle},dblclick:function(a){this.doubleClick&&this.callback("dblclick",[a]);this._clearTimer();return!this.stopDouble},_clearTimer:function(){null!=this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null);null!=this._rightclickTimerId&&(window.clearTimeout(this._rightclickTimerId),this._rightclickTimerId=null)},_delayedCall:function(a){this._timerId=
null;a&&this.callback("click",[a])}});navitime.geo.namespace("navitime.geo.handler");
navitime.geo.handler.Drag=navitime.geo.base.Class(navitime.geo.handler.AbstractHandler,{_startXY:null,_endXY:null,_boobyXY:null,_oldOnselectstart:null,_isIE:!1,_documentEvents:null,initialize:function(a,b,c){navitime.geo.handler.AbstractHandler.prototype.initialize.apply(this,arguments);this._isIE=!!window.ActiveXObject},destroy:function(){this._documentEvents&&this._destroyDocumentEvents();this._endXY=this._startXY=null;this.isWait=!1;this._oldOnselectstart=null;navitime.geo.handler.AbstractHandler.prototype.destroy.apply(this,
arguments)},activate:function(){if(this.isActive)return!1;this._events.registerPriority("mousedown",this,this.mousedown);return this.isActive=!0},deactivate:function(){if(!this.isActive)return!1;this._events.unregister("mousedown",this,this.mousedown);this.isActive=!1;return!0},mousedown:function(a){return navitime.geo.event.BrowserEventController.isLeftClick(a)?(null!==this._documentEvents&&this._destroyDocumentEvents(),this._documentEvents=new navitime.geo.event.InnerEventController(this),this._documentEvents.BROWSER_EVENTS=
["mouseup","mousemove"],this._documentEvents.attachToElement(document),this._documentEvents.register("mousemove",this,this.mousemove),this._documentEvents.register("mouseup",this,this.mouseup),this._isIE&&this.map._parentDiv.setCapture(),this._endXY=this._startXY=a.xy,this.callback("down",[a]),navitime.geo.event.BrowserEventController.stop(a,!0),this._oldOnselectstart||(this._oldOnselectstart=document.onselectstart?document.onselectstart:function(){return!0},document.onselectstart=function(){return!1}),
!0):!1},mousemove:function(a){this._addBrowserStatus(a);if(!this._endXY||a.xy.x==this._endXY.x&&a.xy.y==this._endXY.y)return!1;this.callback("move",[a]);this._oldOnselectstart||(this._oldOnselectstart=document.onselectstart,document.onselectstart=function(){return!1});this._boobyXY={x:this._endXY.x,y:this._endXY.y,timeStamp:this._endXY.timeStamp};this._endXY=a.xy;this._endXY.timeStamp=a.timeStamp?a.timeStamp:(new Date).getTime();return!0},mouseup:function(a){return navitime.geo.event.BrowserEventController.isLeftClick(a)?
(this._addBrowserStatus(a),this._isIE&&this.map._parentDiv.releaseCapture(),this._destroyDocumentEvents(),a.time=a.timeStamp?a.timeStamp:(new Date).getTime(),this._startXY!=this._endXY?this.callback("dragged",[a]):this.callback("cancel",[a]),document.onselectstart=this._oldOnselectstart,this._boobyXY=this._endXY=this._startXY=null,!0):!1},_destroyDocumentEvents:function(){this._documentEvents.destroy();this._documentEvents=null},_addBrowserStatus:function(a){var b=this._events._element;a.xy.x-=b.offsets[0];
a.xy.y-=b.offsets[1];a.xy.x+=b.scrolls[0];a.xy.y+=b.scrolls[1];a.xy.x-=b.lefttop[0];a.xy.y-=b.lefttop[1]}});navitime.geo.namespace("navitime.geo.handler");
navitime.geo.handler.MouseWheel=navitime.geo.base.Class(navitime.geo.handler.AbstractHandler,{initialize:function(a,b,c){navitime.geo.handler.AbstractHandler.prototype.initialize.apply(this,arguments)},DOMMouseScroll:function(a){this._wheelZoom(a);navitime.geo.event.BrowserEventController.stop(a,!1)},mousewheel:function(a){this._wheelZoom(a);navitime.geo.event.BrowserEventController.stop(a,!1)},_wheelZoom:function(a){var b=0;a||(a=window.event);a.wheelDelta?(b=a.wheelDelta/120,window.opera&&9.2>window.opera.version()&&
(b=-b)):a.detail&&(b=-a.detail/3);0>b?this.callback("down",[a,b]):this.callback("up",[a,b])}});navitime.geo.namespace("navitime.geo.handler");
navitime.geo.handler.Keyboard=navitime.geo.base.Class(navitime.geo.handler.AbstractHandler,{KEY_EVENTS:["keydown","keyup","keypress"],_eventListener:null,initialize:function(a,b,c){navitime.geo.handler.AbstractHandler.prototype.initialize.apply(this,arguments);this._eventListener=navitime.geo.Util.Function.bindAsEventListener(this._handleKeyEvent,this)},destroy:function(){this.deactivate();this._eventListener=null;navitime.geo.handler.AbstractHandler.prototype.destroy.apply(this,arguments)},activate:function(){if(navitime.geo.handler.AbstractHandler.prototype.activate.apply(this,
arguments)){for(var a=0,b=this.KEY_EVENTS.length;a<b;a++)navitime.geo.event.BrowserEventController.addEvent(document,this.KEY_EVENTS[a],this._eventListener);return!0}return!1},deactivate:function(){if(navitime.geo.handler.AbstractHandler.prototype.deactivate.apply(this,arguments)){for(var a=0,b=this.KEY_EVENTS.length;a<b;a++)navitime.geo.event.BrowserEventController.removeEvent(document,this.KEY_EVENTS[a],this._eventListener);return!0}return!1},_handleKeyEvent:function(a){this.callback(a.type,[a])}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.AbstractControl=navitime.geo.base.Class({EVENT_TYPES:["activate","deactivate"],id:null,div:null,map:null,events:null,isActive:!1,handlers:null,initialize:function(a){this.id=a;this.div=navitime.geo.DOM.create("div","ntgeo-control");this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPE);this.handlers={};this.setUnSelectable()},destroy:function(){if(this.handlers){for(var a in this.handlers)this.handlers.hasOwnProperty(a)&&"function"==typeof this.handlers[a].destroy&&
this.handlers[a].destroy();this.handlers=null}this.events&&(this.events.destroy(),this.evens=null);this.map&&(this.map.removeControl(this),this.map=null);this.div=null},setMap:function(a){if(a)return this.map=a,this.map.addControl(this)&&this._onAdd(),this.activate(),!0;this.map&&(this.map.removeControl(this),this.map=null);this.deactivate();return!1},_onAdd:function(){},activate:function(){if(this.isActive)return!1;if(this.handlers)for(var a in this.handlers)this.handlers.hasOwnProperty(a)&&"function"==
typeof this.handlers[a].activate&&this.handlers[a].activate();this.isActive=!0;this.events.triggerEvent("activate");return!0},deactivate:function(){if(!this.isActive)return!1;if(this.handlers)for(var a in this.handlers)this.handlers.hasOwnProperty(a)&&"function"==typeof this.handlers[a].deactivate&&this.handlers[a].deactivate();this.isActive=!1;this.events.triggerEvent("deactivate");return!0},setUnSelectable:function(){this.div.setAttribute("unselectable","on",0);this.div.onselectstart=function(){return!1}},
getMap:function(){return this.map}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.MouseControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{_timerId:null,_total:0,WHEEL_DELAY:100,_isDrag:!1,initialize:function(){navitime.geo.control.AbstractControl.prototype.initialize.apply(this,["MouseCtl"])},_onAdd:function(){this.map._mouseKey=this.id;this.handlers.click=new navitime.geo.handler.Click(this,{rightclick:this._defaultRightClick,dblclick:this._defaultDblClick,dblrightclick:this._defaultDblRightClick});this.handlers.wheel=new navitime.geo.handler.MouseWheel(this,
{up:this._wheelUp,down:this._wheelDown});this.handlers.drag=new navitime.geo.handler.Drag(this,{down:this._dragStart,cancel:this._cancelDrag,move:this._move,dragged:this._drag})},_defaultRightClick:function(a){this.map.events.triggerEvent("rightclick",a)},_defaultDblClick:function(a){a.xy.x-=this.map._displayBounds.getCenterX();a.xy.y-=this.map._displayBounds.getCenterY();this.map.zoomToCenter(1,a.xy.x,a.xy.y)},_defaultDblRightClick:function(a){a.xy.x-=this.map._displayBounds.getCenterX();a.xy.y-=
this.map._displayBounds.getCenterY();this.map.zoomToCenter(-1,a.xy.x,a.xy.y);this.map.events.triggerEvent("dblrightclick",a)},_wheelUp:function(a,b){this._wheelChange(a,b||1)},_wheelDown:function(a,b){this._wheelChange(a,b||-1)},_wheelChange:function(a,b){if(!a.ctrlKey){null!=this._timerId&&this.clearTimer();this._total+=b;var c=0<this._total?Math.ceil(this._total/5):Math.floor(this._total/5);0!=c&&(this._timerId=window.setTimeout(navitime.geo.Util.Function.bind(this._delayedZoomCall,this,a,c),this.WHEEL_DELAY))}},
_dragStart:function(a){this._isDrag=this.map.isMovingStop=!0;this.map.events.triggerEvent("panstart",a);this.map.events.triggerEvent("dragstart",a)},_cancelDrag:function(a){this._isDrag=this.map.isMovingStop=!1;this.map.events.triggerEvent("dragcancel",a)},_move:function(a){this._isDrag&&(this.map._moveToPix(this.handlers.drag._endXY.x-a.xy.x,this.handlers.drag._endXY.y-a.xy.y),this.map.events.triggerEvent("drag",a))},_drag:function(a){this._isDrag=this.map.isMovingStop=!1;var b,c,d;40>a.time-this.handlers.drag._endXY.timeStamp?
(b=this.handlers.drag._boobyXY.x-a.xy.x,c=this.handlers.drag._boobyXY.y-a.xy.y,d=a.time-this.handlers.drag._boobyXY.timeStamp):(b=this.handlers.drag._endXY.x-a.xy.x,c=this.handlers.drag._endXY.y-a.xy.y,d=a.time-this.handlers.drag._endXY.timeStamp);var e=0,f=0;200>d&&(d=0===d?1:d,b=0<b?Math.ceil(13*(b/d)):Math.floor(13*(b/d)),c=0<c?Math.ceil(13*(c/d)):Math.floor(13*(c/d)),b=80<=b?80:-80>=b?-80:b,c=80<=c?80:-80>=c?-80:c,e=Math.ceil(0-Math.pow(10*Math.round(b/10),2)/-10),f=Math.ceil(0-Math.pow(10*Math.round(c/
10),2)/-10),e*=0<b?1:-1,f*=0<c?1:-1);this.map._moving(e,f);this.map.events.triggerEvent("dragend",a)},_delayedZoomCall:function(a,b){a.xy.x-=this.map._displayBounds.getCenterX();a.xy.y-=this.map._displayBounds.getCenterY();this.map.zoomTo(b,a.xy.x,a.xy.y);this._total=0;return!0},clearTimer:function(){null!=this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null)},enableDragging:function(){return this.handlers.drag.activate()},disableDragging:function(){return this.handlers.drag.deactivate()},
enableWheel:function(){return this.handlers.wheel.activate()},disableWheel:function(){return this.handlers.wheel.deactivate()},enableClick:function(){return this.handlers.click.activate()},disableClick:function(){return this.handlers.click.deactivate()}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.ZoomBarControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{ZOOM_MINUS_URL:"zoom-minus.png",ZOOM_PLUS_URL:"zoom-plus.png",ZOOM_BAR_URL:"zoombar.png",ZOOM_SLIDER_URL:"slider.png",zoomStartY:5,zoomStartX:10,_defaultZIndex:1E3,_url:null,_plusIcon:null,_minusIcon:null,_sliderIcon:null,_zoomBarIcon:null,_documentEvents:null,_isCapture:!1,_sliderEvents:null,_zoomBarEvents:null,_zoomPlusListener:null,_zoomMinusListener:null,_rightClickListener:null,_isInit:!1,initialize:function(a){navitime.geo.control.AbstractControl.prototype.initialize.apply(this,
["ZoomBarCtl"]);this._url=a;this._plusIcon=navitime.geo.DOM.createImage(null,null,null,"absolute",null,null,!0);this._minusIcon=navitime.geo.DOM.createImage(null,null,null,"absolute",null,null,!0);this._zoomBarIcon=navitime.geo.DOM.createImage(null,null,null,"absolute",null,null,!0);this._sliderIcon=navitime.geo.DOM.createImage(null,null,null,"absolute",null,null,!0);this._count=0;this.div.className+=" ntgeo-zoombar"},_onAdd:function(){this.map._zoomBarKey=this.id;this._url=this._url?this._url+(this._url.lastIndexOf("/")==
this._url.length-1?this.map._config.SERVICE_ID:"/"+this.map._config.SERVICE_ID):this.map._config.getFileRequestURL()+"/";this._onload(this._plusIcon);this._onload(this._zoomBarIcon);this._onload(this._minusIcon);this._onload(this._sliderIcon);this._plusIcon.src=this._url+this.ZOOM_PLUS_URL;this._minusIcon.src=this._url+this.ZOOM_MINUS_URL;this._zoomBarIcon.src=this._url+this.ZOOM_BAR_URL;this._sliderIcon.src=this._url+this.ZOOM_SLIDER_URL;this.div.appendChild(this._plusIcon);this.div.appendChild(this._minusIcon);
this.div.appendChild(this._zoomBarIcon);this.div.appendChild(this._sliderIcon);navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.div.setAttribute("unselectable","on",0);this.div.onselectstart=function(){return!1};this.map._parentDiv.appendChild(this.div);this.map.events.register("zoomend",this,this._moveSliderPosition);this.map.events.register("moveend",this,this._moveSliderPosition);this._zoomPlusListener=navitime.geo.Util.Function.bindAsEventListener(function(a){this.map.zoomTo(1,
0,0);navitime.geo.event.BrowserEventController.stop(a,!0)},this);this._plusIcon.style.zIndex=this._defaultZIndex;this._zoomMinusListener=navitime.geo.Util.Function.bindAsEventListener(function(a){this.map.zoomTo(-1,0,0);navitime.geo.event.BrowserEventController.stop(a,!0)},this);this._minusIcon.style.zIndex=this._defaultZIndex;this._addSlider();this._rightClickListener=navitime.geo.Util.Function.bindAsEventListener(function(a){navitime.geo.event.BrowserEventController.isRightClick(a)&&navitime.geo.event.BrowserEventController.stop(a,
!0)},this);this.resize=function(){this.div.style.left=this.map._displayBounds.left+"px";this.div.style.top=this.map._displayBounds.top+"px"};this.map.events.register("resize",this,this.resize)},activate:function(){this.isActive||(this.div.style.visibility="",navitime.geo.event.BrowserEventController.addEvent(this._plusIcon,"dblclick",this._zoomPlusListener),navitime.geo.event.BrowserEventController.addEvent(this._plusIcon,"click",this._zoomPlusListener),navitime.geo.event.BrowserEventController.addEvent(this._plusIcon,
"touchend",this._zoomPlusListener),navitime.geo.event.BrowserEventController.addEvent(this._minusIcon,"dblclick",this._zoomMinusListener),navitime.geo.event.BrowserEventController.addEvent(this._minusIcon,"click",this._zoomMinusListener),navitime.geo.event.BrowserEventController.addEvent(this._minusIcon,"touchend",this._zoomMinusListener),this._zoomBarEvents.register("click",this,this._zoomBarAction),this._zoomBarEvents.register("dblclick",this,this._zoomBarAction),this._zoomBarEvents.register("touchend",
this,this._zoomBarAction),this._sliderEvents.register("mousedown",this,this._sliderMouseDown),navitime.geo.event.BrowserEventController.addEvent(this.div,"mouseup",this._rightClickListener));return navitime.geo.control.AbstractControl.prototype.activate.apply(this,arguments)},deactivate:function(){this.isActive&&(this.div.style.visibility="hidden",navitime.geo.event.BrowserEventController.removeEvent(this._plusIcon,"dblclick",this._zoomPlusListener),navitime.geo.event.BrowserEventController.removeEvent(this._plusIcon,
"click",this._zoomPlusListener),navitime.geo.event.BrowserEventController.removeEvent(this._plusIcon,"touchend",this._zoomPlusListener),navitime.geo.event.BrowserEventController.removeEvent(this._minusIcon,"dblclick",this._zoomMinusListener),navitime.geo.event.BrowserEventController.removeEvent(this._minusIcon,"click",this._zoomMinusListener),navitime.geo.event.BrowserEventController.removeEvent(this._minusIcon,"touchend",this._zoomMinusListener),this._zoomBarEvents.unregister("click",this,this._zoomBarAction),
this._zoomBarEvents.unregister("dblclick",this,this._zoomBarAction),this._zoomBarEvents.unregister("touchend",this,this._zoomBarAction),this._sliderEvents.unregister("mousedown",this,this._sliderMouseDown),navitime.geo.event.BrowserEventController.removeEvent(this.div,"mouseup",this._rightClickListener));return navitime.geo.control.AbstractControl.prototype.deactivate.apply(this,arguments)},destroy:function(){this._url=null;this.deactivate();this._documentEvents&&(this._documentEvents.destroy(),this._documentEvents=
null);this._sliderEvents&&(this._sliderEvents.destroy(),this._sliderEvents=null);this._zoomBarEvents&&(this._zoomBarEvents.destroy(),this._zoomBarEvents=null);this.map.events.unregister("zoomend",this,this._moveSliderPosition);this.map.events.unregister("moveend",this,this._moveSliderPosition);this.map.events.unregister("resize",this,this.resize);return navitime.geo.control.AbstractControl.prototype.destroy.apply(this,arguments)},_addSlider:function(){this._zoomBarIcon.style.zIndex=this._defaultZIndex;
this.div.appendChild(this._zoomBarIcon);this._zoomBarEvents=new navitime.geo.event.InnerEventController(this);this._zoomBarEvents.BROWSER_EVENTS=["dblclick","click","touchstart","touchmove","touchend"];this._zoomBarEvents.attachToElement(this._zoomBarIcon);this._sliderIcon.style.zIndex=this._defaultZIndex+100;this.div.appendChild(this._sliderIcon);this._sliderEvents=new navitime.geo.event.InnerEventController(this);this._sliderEvents.BROWSER_EVENTS=["mousedown","dblclick"];this._sliderEvents.attachToElement(this._sliderIcon);
this._sliderEvents.register("dblclick",this,function(a){navitime.geo.event.BrowserEventController.stop(a,!0)})},_zoomBarAction:function(a){var b=Math.round(parseInt(this._zoomBarIcon.style.height)/(this.map.ZOOM_MAX-this.map.ZOOM_MIN+2));a.xy=a.xy[0]?a.xy[0]:a.xy;b=this.map.ZOOM_MAX-Math.round((a.xy.y-b/2)/(b+1));this.map.zoomTo(b-this.map.getZoom(),0,0,{animation:!0});navitime.geo.event.BrowserEventController.stop(a,!0)},_sliderMouseDown:function(a){navitime.geo.event.BrowserEventController.isLeftClick(a)&&
!this._isCapture&&(this._sliderIcon.setCapture&&this._sliderIcon.setCapture(),this._documentEvents||(this._documentEvents=new navitime.geo.event.InnerEventController(this),this._documentEvents.BROWSER_EVENTS=["mouseup","mousemove"],this._documentEvents.attachToElement(document),this._documentEvents.register("mousemove",this,this._sliderMouseMove),this._documentEvents.register("mouseup",this,this._sliderMouseUp)),this._isCapture=!0);navitime.geo.event.BrowserEventController.stop(a,!0)},_sliderMouseMove:function(a){var b=
navitime.geo.Util.pagePosition(this._zoomBarIcon)[1];a.xy=a.xy[0]?a.xy[0]:a.xy;b<a.xy.y&&b+parseInt(this._zoomBarIcon.style.height)-Math.round(parseInt(this._sliderIcon.style.height)/2)>a.xy.y&&(this._sliderIcon.style.top=a.xy.y-navitime.geo.Util.pagePosition(this.div)[1]+"px",navitime.geo.event.BrowserEventController.stop(a,!0))},_sliderMouseUp:function(a){this._isCapture&&(this._sliderIcon.releaseCapture&&this._sliderIcon.releaseCapture(),this._documentEvents.destroy(),this._documentEvents=null,
this._isCapture=!1);a.xy=a.xy[0]?a.xy[0]:a.xy;a.xy.y-=navitime.geo.Util.pagePosition(this._zoomBarIcon)[1];this._zoomBarAction(a)},_moveSliderPosition:function(){if(this._isInit){var a=Math.round(parseInt(this._zoomBarIcon.style.height)/(this.map.ZOOM_MAX-this.map.ZOOM_MIN+2)),a=(this.map.ZOOM_MAX-this.map.getZoom())*a+Math.round(a/2-parseInt(this._sliderIcon.style.height)/2);this._sliderIcon.style.top=a+parseInt(this._zoomBarIcon.style.top)+(this.map.ZOOM_MAX-this.map.getZoom())+"px"}},_onload:function(a){a.style.visibility=
"hidden";var b=function(){window.setTimeout(navitime.geo.Util.Function.bind(function(){var b=navitime.geo.Util.getRealImageSize(a);this.bounds=new navitime.geo.BoundsInfo(0,b.width,0,b.height);navitime.geo.DOM.addElementOption(a,null,b);if(3===this._count){b=this._plusIcon.style;b.left=this.zoomStartX+"px";b.top=this.zoomStartY+"px";var d=this._zoomBarIcon.style;d.left=this.zoomStartX+parseInt(b.width)/2-parseInt(d.width)/2+"px";d.top=parseInt(b.top)+parseInt(b.height)-2+"px";var e=this._minusIcon.style;
e.left=this.zoomStartX+"px";e.top=parseInt(b.top)+parseInt(b.width)+parseInt(d.height)+"px";this._sliderIcon.style.left=this.zoomStartX-4+"px";this._isInit=!0;this._moveSliderPosition();this._plusIcon.style.visibility="";this._minusIcon.style.visibility="";this._zoomBarIcon.style.visibility="";this._sliderIcon.style.visibility=""}else this._count++},this),50);navitime.geo.event.BrowserEventController.removeEvent(a,"load",navitime.geo.Util.Function.bind(b,this))};navitime.geo.event.BrowserEventController.addEvent(a,
"load",navitime.geo.Util.Function.bind(b,this))}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.MenuControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{_menuList:null,_latlng:null,_style:null,initialize:function(a){navitime.geo.control.AbstractControl.prototype.initialize.apply(this,["MenuCtl"]);navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.div.setAttribute("unselectable","on",0);this.div.onselectstart=function(){return!1};this.div.className+=" ntgeo-menu";this._style=
this.div.style;this._style.visibility="hidden";this._menuList=[];a=a||{};a.map&&this.setMap(a.map)},_onAdd:function(){this.handlers.click=new navitime.geo.handler.Click(this,{rightclick:this.rightClick})},destroy:function(){if(this._menuList){for(var a=0,b=this._menuList.length;a<b;a++)this._menuList[a].destroy();this._menuList=null}return navitime.geo.control.AbstractControl.prototype.destroy.apply(this,arguments)},addMenuColumn:function(a,b,c){a=new navitime.geo.control.MenuColumn(a,this,function(a){b.apply(c,
[a]);this.click(a)});this.div.appendChild(a._colmDiv);this._menuList.push(a)},rightClick:function(a){this._latlng=a.getLatLng();a=this.getMenuPosition(a);this._style.top=a.top+"px";this._style.left=a.left+"px";this._style.visibility="";this.map.events.register("mouseout",this,this.mouseOut);this.map.events.register("mouseup",this,this.click)},mouseOut:function(a){navitime.geo.Util.fixOnMouseOut(this.map.div,a)&&this.click()},click:function(a){this._style.visibility="hidden";this.map.events.unregister("mouseout",
this,this.mouseOut);this.map.events.unregister("click",this,this.click)},getMenuPosition:function(a){var b=a.xy.x,c=a.xy.y;a.xy.x+this.div.offsetWidth-this.map._displayBounds.left>this.map._displayBounds.getWidth()&&(b-=this.div.offsetWidth+4);a.xy.y+this.div.offsetHeight-this.map._displayBounds.top>this.map._displayBounds.getHeight()&&(c-=this.div.offsetHeight+4);return{top:c,left:b}},getLonLat:function(){return this._latlng},getLatLng:function(){return this._latlng}});
navitime.geo.control.MenuColumn=navitime.geo.base.Class({events:null,_colmDiv:null,initialize:function(a,b,c){this._colmDiv=navitime.geo.DOM.create("div","ntgeo-menuColm");a.nodeType?this._colmDiv.appendChild(a):this._colmDiv.innerHTML=a;this.events=new navitime.geo.event.InnerEventController(this,this._colmDiv,null,!1);this.events.register("click",b,c);this.events.register("mouseover",this,navitime.geo.Util.Function.bind(function(){this._colmDiv.className+=" ntgeo-menuColm-mouseover"},this));this.events.register("mouseout",
this,navitime.geo.Util.Function.bind(function(){this._colmDiv.className=this._colmDiv.className.replace(" ntgeo-menuColm-mouseover","")},this))},destroy:function(){null!=this.events&&this.events.destroy();this._colmDiv.parentNode&&this._colmDiv.parentNode.removeChild(this._colmDiv);this._colmDiv=null}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.KeyboardControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{_keyUpDown:0,_keyRightLeft:0,_timerId:null,_isCapture:!0,_documentEvents:null,_centerMarker:null,MOVE_MAX_SPEED:40,AFTER_MOVE:50,initialize:function(){navitime.geo.control.AbstractControl.prototype.initialize.apply(this,["KeyboardCtl"]);this._timerId={}},destroy:function(){this._documentEvents&&(this._documentEvents.destroy(),this._documentEvents=null);this._centerMarker&&(this._centerMarker.destroy(),
this._centerMarker=null);navitime.geo.control.AbstractControl.prototype.destroy.apply(this,arguments)},_onAdd:function(){this.map._keyBoardKey=this.id;this.handlers.keyboard=new navitime.geo.handler.Keyboard(this,{keydown:this.keydown,keyup:this.keyup});this.map.events.register("click",this,function(a){if(this._isCapture&&this.isActive){this._documentEvents&&(this._documentEvents.destroy(),this._documentEvents=null);this.handlers.keyboard.activate();var b=document.createElement("input");b.type="text";
b.style.visivility="hidden";b.style.position="absolute";var c=this.map._displayBounds.getWidth()-10,d=this.map._displayBounds.getHeight()-10;b.style.left=0<a.xy.x?c<a.xy.x?c+"px":a.xy.x+"px":"0px";b.style.top=0<a.xy.y?d<a.xy.y?d+"px":a.xy.y+"px":"0px";b.style.width="0px";b.style.height="0px";this.map._parentDiv.appendChild(b);b.focus();this.map._parentDiv.removeChild(b);this._isCapture=!1}});this.map.events.register("mouseout",this,function(a){navitime.geo.Util.fixOnMouseOut(this.map._parentDiv,a)&&
(!this._isCapture&&this.isActive)&&(null===this._documentEvents&&(this._documentEvents=new navitime.geo.event.InnerEventController(this),this._documentEvents.BROWSER_EVENTS=["click"],this._documentEvents.attachToElement(document),this._documentEvents.register("click",this,function(a){this.handlers.keyboard.deactivate();for(var c in this._timerId)this._timerId.hasOwnProperty(c)&&null!==this._timerId[c]&&(window.clearInterval(this._timerId[c]),this._timerId[c]=null);this._documentEvents&&(this._documentEvents.destroy(),
this._documentEvents=null)})),this._isCapture=!0)})},keyup:function(a){switch(a.keyCode){case navitime.geo.event.BrowserEventController.KEY_LEFT:window.clearInterval(this._timerId[a.keyCode]);this._timerId[a.keyCode]=null;this.map.isMovingStop=!1;this.map._moving(-this.AFTER_MOVE,0);break;case navitime.geo.event.BrowserEventController.KEY_RIGHT:window.clearInterval(this._timerId[a.keyCode]);this._timerId[a.keyCode]=null;this.map.isMovingStop=!1;this.map._moving(this.AFTER_MOVE,0);break;case navitime.geo.event.BrowserEventController.KEY_UP:window.clearInterval(this._timerId[a.keyCode]);
this._timerId[a.keyCode]=null;this.map.isMovingStop=!1;this.map._moving(0,-this.AFTER_MOVE);break;case navitime.geo.event.BrowserEventController.KEY_DOWN:window.clearInterval(this._timerId[a.keyCode]);this._timerId[a.keyCode]=null;this.map.isMovingStop=!1;this.map._moving(0,this.AFTER_MOVE);break;case 106:case 186:case 59:if(!1!==this.isCMAdd){if(null===this._centerMarker){a=new navitime.geo.parts.CenterMarker;if(!(this.isCMAdd=a.setMap(this.map)))break;this._centerMarker=a;this._centerMarker.changeVisibility(!1)}this._centerMarker.changeVisibility(!this._centerMarker.isVisibility())}break;
case 91:case 93:this.stopMove()}},_pressKey:null,keydown:function(a){if(!a.metaKey)switch(a.keyCode){case navitime.geo.event.BrowserEventController.KEY_LEFT:this._timerId[a.keyCode]||this.controlMove(a.keyCode,-1,0);break;case navitime.geo.event.BrowserEventController.KEY_RIGHT:this._timerId[a.keyCode]||this.controlMove(a.keyCode,1,0);break;case navitime.geo.event.BrowserEventController.KEY_UP:this._timerId[a.keyCode]||this.controlMove(a.keyCode,0,-1);break;case navitime.geo.event.BrowserEventController.KEY_DOWN:this._timerId[a.keyCode]||
this.controlMove(a.keyCode,0,1);break;case 43:case 61:case 187:case 107:this.map.zoomTo(1,0,0);break;case 109:case 189:case 95:this.map.zoomTo(-1,0,0);break;case navitime.geo.event.BrowserEventController.KEY_ESC:navitime.geo.event.BrowserEventController.stop(a,!1)}},controlMove:function(a,b,c){var d=0;this._timerId[a]=window.setInterval(navitime.geo.Util.Function.bind(function(){this.map._moveToPix(b*d,c*d);d<this.MOVE_MAX_SPEED&&d++},this),20)},outclick:function(){this.handlers.keyboard.deactivate()},
stopMove:function(){this._timerId[navitime.geo.event.BrowserEventController.KEY_LEFT]&&(window.clearInterval(this._timerId[navitime.geo.event.BrowserEventController.KEY_LEFT]),this._timerId[navitime.geo.event.BrowserEventController.KEY_LEFT]=null);this._timerId[navitime.geo.event.BrowserEventController.KEY_RIGHT]&&(window.clearInterval(this._timerId[navitime.geo.event.BrowserEventController.KEY_RIGHT]),this._timerId[navitime.geo.event.BrowserEventController.KEY_RIGHT]=null);this._timerId[navitime.geo.event.BrowserEventController.KEY_UP]&&
(window.clearInterval(this._timerId[navitime.geo.event.BrowserEventController.KEY_UP]),this._timerId[navitime.geo.event.BrowserEventController.KEY_UP]=null);this._timerId[navitime.geo.event.BrowserEventController.KEY_DOWN]&&(window.clearInterval(this._timerId[navitime.geo.event.BrowserEventController.KEY_DOWN]),this._timerId[navitime.geo.event.BrowserEventController.KEY_DOWN]=null)}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.DivideLogicControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{_options:{events:["panend","moveend","zoomend","resize"]},initialize:function(a){for(var b in a)this._options[b]=a[b];navitime.geo.control.AbstractControl.prototype.initialize.apply(this,["DivideLogicCtl"]);this._options.map&&this.setMap(this._options.map)},activate:function(){if(this.map&&!this.isActive)for(var a=this._options.events.length;a--;)this.map.events.register(this._options.events[a],this,
this._startDivide);return navitime.geo.control.AbstractControl.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.map&&this.isActive)for(var a=this._options.events.length;a--;)this.map.events.unregister(this._options.events[a],this,this._startDivide);return navitime.geo.control.AbstractControl.prototype.deactivate.apply(this,arguments)},destroy:function(){this.deactivate();navitime.geo.control.AbstractControl.prototype.destroy.apply(this,arguments)},_startDivide:function(a){if(this._options.divider.isChange(this.map)){var b=
this._options.divider.divide(this.map);a.getPieces=function(){return b};this._options.listener(a)}}});navitime.geo.namespace("navitime.geo.control");
navitime.geo.control.PeriodicControl=navitime.geo.base.Class(navitime.geo.control.AbstractControl,{_interval:0,_timerId:0,initialize:function(a,b,c){navitime.geo.control.AbstractControl.prototype.initialize.apply(this,["PeriodicCtl"+navitime.geo.Util._getSerial]);this.map=a;this._handler=b;this._interval=c;this.map.events.register("dragstart",this,this.deactivate);this.map.events.register("dragend",this,this.activate);this.map.events.register("zoomstart",this,this.deactivate);this.map.events.register("zoomend",
this,this.activate);this.setMap(a)},activate:function(){return this._timerId?!1:(this._timerId=setInterval(this._handler,this._interval),!0)},deactivate:function(){return this._timerId?(clearInterval(this._timerId),this._timerId=null,!0):!1},destroy:function(){this.deactivate();this.map.events.unregister("dragstart",this,this.deactivate);this.map.events.unregister("dragend",this,this.activate);this.map.events.unregister("zoomstart",this,this.deactivate);this.map.events.unregister("zoomend",this,this.activate);
navitime.geo.control.AbstractControl.prototype.destroy.apply(this,arguments)}});navitime.geo.namespace("navitime.geo.divider");navitime.geo.divider.Divider=navitime.geo.base.Class({initialize:function(){},devide:function(){return[]},isChange:function(a){return!0}});navitime.geo.namespace("navitime.geo.divider");
navitime.geo.divider.MeshDivider=navitime.geo.base.Class(navitime.geo.divider.Divider,{_currentMesh:{lefttop:null,righttop:null,leftbottom:null,equals:function(a,b,c){return this.lefttop===a&&this.righttop===b&&this.leftbottom===c}},_options:{buffer:0},initialize:function(a){this._options=a?a:{};for(var b in a)this._options[b]=a[b]},divide:function(a){var b=a.getCenter(),c=a._grid._drawBounds,d=a.getMovedLatLng(c.right/2,c.bottom/2,b),e=a.getMovedLatLng(-1*(c.right/2),c.bottom/2,b),f=a.getMovedLatLng(c.right/
2,-1*(c.bottom/2),b),b=[];a=a.getZoom();c=navitime.geo.MeshUtil.getGap(a);d.lat+=c.y*this._options.buffer;d.lng-=c.x*this._options.buffer;e.lat+=c.y*this._options.buffer;e.lng+=c.x*this._options.buffer;f.lat-=c.y*this._options.buffer;f.lng-=c.x*this._options.buffer;var f=navitime.geo.MeshUtil.toMeshCode(f,a),e=e.clone(),g=d.clone(),h=navitime.geo.MeshUtil.toMeshCode(g,a);do this._addHorizontalMeshes(b,g,e,c,a),g.lng=d.lng,g.lat-=c.y,e.lat-=c.y,h=navitime.geo.MeshUtil.toMeshCode(g,a);while(f!==h);
return b},_addHorizontalMeshes:function(a,b,c,d,e){var f=navitime.geo.MeshUtil.toMeshCode(b,e);c=navitime.geo.MeshUtil.toMeshCode(c,e);for(a.push(f);f!==c;)b.lng+=d.x,f=navitime.geo.MeshUtil.toMeshCode(b,e),a.push(f)},isChange:function(a){var b=a.getCenter(),c=a._grid._drawBounds,d=a.getMovedLatLng(c.right/2,c.bottom/2,b),e=a.getMovedLatLng(-1*(c.right/2),c.bottom/2,b),b=a.getMovedLatLng(c.right/2,-1*(c.bottom/2),b),d=navitime.geo.MeshUtil.toMeshCode(d,a.getZoom()),e=navitime.geo.MeshUtil.toMeshCode(e,
a.getZoom());a=navitime.geo.MeshUtil.toMeshCode(b,a.getZoom());b=!this._currentMesh.equals(d,e,a);this._currentMesh.lefttop=d;this._currentMesh.righttop=e;this._currentMesh.leftbottom=a;return b}});navitime.geo.namespace("navitime.geo.parts");
navitime.geo.parts.AbstractParts=navitime.geo.base.Class({id:null,div:null,_map:null,initialize:function(){this.div=navitime.geo.DOM.create("div","ntgeo-parts");navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.div.setAttribute("unselectable","on",0);this.div.onselectstart=function(){return!1}},destroy:function(){this.map&&this.map.removeParts(this);this.div=this._map=null},setMap:function(a){if(a)return this._map=
a.getMap(),this._map.addParts(this),this._draw(),!0;this._map&&(this._map.removeParts(this),this.map=null);return!1},_draw:function(){}});navitime.geo.namespace("navitime.geo.parts");
navitime.geo.parts.ScaleBar=navitime.geo.base.Class(navitime.geo.parts.AbstractParts,{defaultZIndex:1,_scaleBarBackDiv:null,_scaleBarDiv:null,_scaleBarMeterDiv:null,initialize:function(a){navitime.geo.parts.AbstractParts.prototype.initialize.apply(this,[]);var b=this.div.style;b.left="5px";b.bottom=a?a+"px":"3px"},destroy:function(){this._map.events.unregister("zoomend",this,this._setScale);this._map.events.unregister("moveend",this,this._setScale);return navitime.geo.parts.AbstractParts.prototype.destroy.apply(this,arguments)},
setMap:function(a){a?a.events.register("resize",this,this._resize):this._map.events.unregister("resize",this,this._resize);return navitime.geo.parts.AbstractParts.prototype.setMap.apply(this,arguments)},_draw:function(){this._scaleBarBackDiv=navitime.geo.DOM.create("div");var a=this._scaleBarBackDiv.style;a.zIndex=this.defaultZIndex;a.position="absolute";a.font="0px Arial";a.backgroundColor="#FFF";a.height="18px";a.bottom=this.div.style.bottom;a.left="10px";this._setAlpha(this._scaleBarBackDiv,60);
this._scaleBarBackDiv.setAttribute("unselectable","on",0);this._scaleBarBackDiv.onselectstart=function(){return!1};this._scaleBarDiv=navitime.geo.DOM.create("div");var b=this._scaleBarDiv.style;b.zIndex=this.defaultZIndex+1;b.position="absolute";b.border="1px #000 solid";b.width="0px";b.height="6px";b.backgroundColor="#FFF";b.fontSize="0px";b.bottom=parseInt(a.bottom)+5+"px";b.left=parseInt(a.left)+2+"px";this._scaleBarDiv.setAttribute("unselectable","on",0);this._scaleBarDiv.onselectstart=function(){return!1};
this._scaleBarMeterDiv=navitime.geo.DOM.create("div");b=this._scaleBarMeterDiv.style;b.zIndex=this.defaultZIndex+1;b.position="absolute";b.color="#555";b.font="bold 10px Arial";b.bottom=parseInt(a.bottom)+3+"px";this._scaleBarMeterDiv.setAttribute("unselectable","on",0);this._scaleBarMeterDiv.onselectstart=function(){return!1};this.div.appendChild(this._scaleBarBackDiv);this.div.appendChild(this._scaleBarDiv);this.div.appendChild(this._scaleBarMeterDiv);this._setScale();this._map.events.register("zoomend",
this,this._setScale);this._map.events.register("moveend",this,this._setScale)},_setScale:function(){var a=this._map.getCenterLatLng(),b=new navitime.geo.LatLng(a.lat,new Number(a.lng+this._getRange())),a=navitime.geo.LatLng.getDistance(a,b),c=this._getScaleStyle(12.5*a/1E3,"Km",12.5*a,"m",1);this._scaleBarDiv.style.width=c.length+"px";this._scaleBarMeterDiv.style.left=c.length+17+"px";this._scaleBarMeterDiv.innerHTML=c.display;a=function(a){return function(){a._scaleBarBackDiv.style.width=c.length+
17+a._scaleBarMeterDiv.offsetWidth+"px"}}(this);setTimeout(a,10)},_getRange:function(){return Math.floor(5*this.getLonFactor())},getLonFactor:function(){return[2E5,33333.3,2727.27,818.181,163.636][this._getScale()]/this._getZoom()*this._map._grid.ratio},_getScaleStyle:function(a,b,c,d,e){a*=e;1>a&&(a=c,b=d);c=this._getMeterText(a);return{length:Math.round(125*c/(2*a)),display:c+"\x26nbsp;"+b}},_getMeterText:function(a){if(1<a){for(var b=0;10<=a;)a/=10,b+=1;for(a=5<=a?5:2<=a?2:1;0<b;)a*=10,b-=1}return a},
_getScale:function(){return 17<=this._map.getZoom()&&19>=this._map.getZoom()?4:15<=this._map.getZoom()&&16>=this._map.getZoom()?3:12<=this._map.getZoom()&&14>=this._map.getZoom()?2:9<=this._map.getZoom()&&11>=this._map.getZoom()?1:0},_getZoom:function(){if(256==this._map._grid.tileSize)switch(this._map.getZoom()){case 19:return 16.94;case 18:return 8.47;case 17:return 4.24;case 16:return 10.59;case 15:return 5.29;case 14:return 8.82;case 13:return 4.41;case 12:return 2.2;case 11:return 13.48;case 10:return 6.74;
case 9:return 3.37;case 8:return 10.11;case 7:return 5.06;case 6:return 2.53}else if(512==this._map._grid.tileSize)switch(this._map.getZoom()){case 19:return 33.88;case 18:return 16.94;case 17:return 8.48;case 16:return 21.18;case 15:return 10.58;case 14:return 17.64;case 13:return 8.82;case 12:return 4.4;case 11:return 26.96;case 10:return 13.48;case 9:return 6.74;case 8:return 20.22;case 7:return 10.12;case 6:return 5.06}else switch(this._map.getZoom()){case 19:return 8.47;case 18:return 4.23;case 17:return 2.11;
case 16:return 5.29;case 15:return 2.64;case 14:return 4.41;case 13:return 2.2;case 12:return 1.1;case 11:return 6.74;case 10:return 3.37;case 9:return 1.68;case 8:return 5.05;case 7:return 2.52;case 6:return 1.26}},_setAlpha:function(a,b){var c=a.style;c.MozOpacity=b/100;c.opacity=b/100;c.filter&&0<c.filter.length?-1<c.filter.indexOf("progid:DXImageTransform.Microsoft.Alpha(")&&(c.filter.match(/(.*progid:DXImageTransform.Microsoft.Alpha\(opacity=)\d+(\).*)/),c.filter=RegExp.$1+b+RegExp.$2):c.filter=
"progid:DXImageTransform.Microsoft.alpha(opacity\x3d"+b+")"},_resize:function(){this._map&&(this.div.style.left=this._map._displayBounds.left+5+"px")}});navitime.geo.namespace("navitime.geo.parts");
navitime.geo.parts.CopyrightText=navitime.geo.base.Class(navitime.geo.parts.AbstractParts,{initialize:function(a){a&&a.text&&(navitime.geo.parts.AbstractParts.prototype.initialize.apply(this,[]),this.div.className+=" ntgeo-copyright",a.left||a.right||(this.div.style.right="5px"),a.top||a.bottom||(this.div.style.bottom="3px"),a.top&&(this.div.style.top=a.top+"px"),a.bottom&&(this.div.style.bottom=a.bottom+"px"),a.left&&(this.div.style.left=a.left+"px"),a.right&&(this.div.style.right=a.right+"px"),
this.div.innerHTML=a.text)}});navitime.geo.namespace("navitime.geo.parts");
navitime.geo.parts.CenterMarker=navitime.geo.base.Class(navitime.geo.parts.AbstractParts,{_group:null,_visibility:"",initialize:function(){this._renderer=navitime.geo.base.graphics.Renderer;this.div=this._renderer.createBaseDiv();this._group=this._renderer.createGroupDiv("CenterMark");this.div.appendChild(this._group);this.div.style.zIndex="100"},destroy:function(){this._map.events.unregister("zoomstart",this,this._hiddenVisibility);this._map.events.unregister("zoomend",this,this._returnVisibility);
this._map.events.unregister("resize",this,this._draw)},setMap:function(a){if(a)a.events.register("zoomstart",this,this._hiddenVisibility),a.events.register("zoomend",this,this._returnVisibility),a.events.register("resize",this,this._draw);else{this._map.events.unregister("zoomstart",this,this._hiddenVisibility);this._map.events.unregister("zoomend",this,this._returnVisibility);this._map.events.unregister("resize",this,this._draw);var b=this._group.childNodes;if(0<b.length)for(var c=b.length;c--;)this._group.removeChild(b[c])}return navitime.geo.parts.AbstractParts.prototype.setMap.apply(this,
arguments)},_draw:function(){var a=this._group.childNodes;if(0<a.length)for(var b=a.length;b--;)this._group.removeChild(a[b]);var c=Math.round(this._map._displayBounds.getCenterX()),d=Math.round(this._map._displayBounds.getCenterY()),a=c-5,b=d-5,e=c+5,f=d+5,d=this._renderer.drawLine(this._map.id+"_horizontal",a,d,e,d,null,{strokecolor:"#FF0000",strokeweight:2}),c=this._renderer.drawLine(this._map.id+"_vertical",c,b,c,f,null,{strokecolor:"#FF0000",strokeweight:2});this._group.appendChild(c);this._group.appendChild(d);
this._renderer.setViewPort(this.div,new navitime.geo.BoundsInfo(a,e,b,f))},changeVisibility:function(a){this._visibility=a?"":"hidden";this.div.style.visibility=this._visibility},isVisibility:function(){return""===this.div.style.visibility},_returnVisibility:function(){this.div.style.visibility=this._visibility},_hiddenVisibility:function(){this.div.style.visibility="hidden"}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.AbstractOverlay=navitime.geo.base.Class({EVENT_TYPES:["dblclick","rightclick","dblrightclick"],events:null,id:"Overlay",div:null,_options:null,_map:null,_serialNum:null,_visibility:"",_clickEventHandler:null,_fallThrough:!0,initialize:function(a){this._options=a?a:{};this._serialNum=navitime.geo.Util._getSerial();this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES,this._fallThrough);this._clickEventHandler=new navitime.geo.handler.Click(this,{dblrightclick:function(a){this.events.triggerEvent("dblrightclick",
a)},rightclick:function(a){this.events.triggerEvent("rightclick",a)}},this.events);this._setMapEventlistener=navitime.geo.Util.Function.bind(this._draw,this)},destroy:function(){this._map&&this.setMap(null);this.events&&this.events.destroy();this.div&&(this.div=null);this._options=null},getMap:function(){return this._map},setMap:function(a){if(a){if(this._map){if(this._map==a)return;this.setMap(null)}this._map=a.getMap();a.addOverlay(this);this._draw();this.events.attachToElement(this.eventDiv);a.events.register("moveend",
this,this._setMapEventlistener);a.events.register("zoomend",this,this._setMapEventlistener);a.events.register("resize",this,this._setMapEventlistener);this._clickEventHandler.activate();this.events.triggerEvent("setmap")}else this._map&&(this._map.events.unregister("moveend",this,this._setMapEventlistener),this._map.events.unregister("zoomend",this,this._setMapEventlistener),this._map.events.unregister("resize",this,this._setMapEventlistener),this._clickEventHandler&&this._clickEventHandler.deactivate(),
this.getMap().removeOverlay(this),this._map=null)},_controlDragSelect:function(){navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.div.setAttribute("unselectable","on",0);this.div.onselectstart=navitime.geo.Util.falseFn},_draw:function(){},setPosition:function(a){if(this._map){var b=this._map.getPixcelFromLatLng(a);this.moveTo(b.left,b.top);this._options.position=a}else{var c=navitime.geo.Util.Function.bind(function(){this.setPosition(a);
this.events.unregister("setmap",this,c)},this);this.events.register("setmap",this,c)}},getPosition:function(){return this._options.position.clone()},setVisible:function(a){if(this._map)this._visibility=a?"":"hidden",this._options.visible=a,this.div&&(this.div.style.visibility=this._visibility);else{var b=navitime.geo.Util.Function.bind(function(){this.setVisible(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},getVisible:function(){return"hidden"===this._visibility?
!1:!0},getZIndex:function(){return this.div.style.zIndex},setZIndex:function(a){if(this._map)this.div.style.zIndex=a,this._options.zIndex=a;else{var b=navitime.geo.Util.Function.bind(function(){this.setZIndex(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.AbstractPin=navitime.geo.base.Class(navitime.geo.overlay.AbstractOverlay,{_icon:null,initialize:function(a){navitime.geo.overlay.AbstractOverlay.prototype.initialize.apply(this,arguments);"string"===typeof a.icon?this._icon=new navitime.geo.Icon(a.icon,{centerType:a.iconPosition}):(this._icon=a.icon,this._options.icon=a.icon.url);this.eventDiv=this.div=this._icon.imageDiv;this._controlDragSelect();this.setOptions(a);a.map&&this.setMap(a.map)},_activateDraggable:function(){},_deactivateDraggable:function(){},
_draw:function(){this.setPosition(this._options.position)},destroy:function(){this._deactivateDraggable();navitime.geo.overlay.AbstractOverlay.prototype.destroy.apply(this);this._icon&&(this._icon.destroy(),this._icon=null)},getDraggable:function(){return this._options.draggable},getIcon:function(){return this._icon.url},getTitle:function(){return this._icon.imageDiv.title},getVisible:function(){return this._icon._visibility},getRaiseOnDrag:function(){return this._options.raiseOnDrag},getCursor:function(){return this._options.cursor},
setDraggable:function(a){if(this._map)a?this._activateDraggable():this._deactivateDraggable(),this._options.draggable=a;else{var b=navitime.geo.Util.Function.bind(function(){this.setDraggable(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},setIcon:function(a){if(this._map)if("string"===typeof a)this._icon.changeImageUrl(a),this._options.icon=a;else{this.events.detachFromElement();var b=this.div.parentNode;b&&(b.removeChild(this.div),b.appendChild(a.imageDiv));
this._icon.destroy();this._icon=a;this.eventDiv=this.div=a.imageDiv;this.events.attachToElement(this.eventDiv);this.setTitle(this._options.title);this.setVisible(this._options.visible);this.setCursor(this._options.cursor);this.setZIndex(this._options.zIndex);this._options.icon=a.url;this.setPosition(this._options.position)}else{var c=navitime.geo.Util.Function.bind(function(){this.setIcon(a);this.events.unregister("setmap",this,c)},this);this.events.register("setmap",this,c)}},setTitle:function(a){if(this._map)a=
a?a:"",this._icon.imageDiv.title=a,this._options.title=a;else{var b=navitime.geo.Util.Function.bind(function(){this.setTitle(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},setVisible:function(a){if(this._map)this._options.visible=a,this._icon.setVisibility(a);else{var b=navitime.geo.Util.Function.bind(function(){this.setVisible(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},setRaiseOnDrag:function(a){if(this._map)this._options.raiseOnDrag=
a||!1;else{var b=navitime.geo.Util.Function.bind(function(){this.setRaiseOnDrag(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},setCursor:function(a){if(this._map)this._icon.imageDiv.style.cursor=a,this._options.cursor=a;else{var b=navitime.geo.Util.Function.bind(function(){this.setCursor(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},moveTo:function(a,b){this._icon.moveTo(a,b)},setOptions:function(a){this._options=
this._initOptions(a);if(this._map)this._icon.changeImageUrl(this._options.icon),this.setDraggable(this._options.draggable),this.setTitle(this._options.title),this.setZIndex(this._options.zIndex),this.setCursor(this._options.cursor),this.setVisible(this._options.visible),this.setRaiseOnDrag(this._options.raiseOnDrag);else{var b=navitime.geo.Util.Function.bind(function(){this.setOptions(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},_initOptions:function(a){var b=
{draggable:!1,raiseOnDrag:!1,title:"",zIndex:"",visible:!0},c;for(c in a)"map"!==c&&(b[c]=a[c]);return b}});navitime.geo.overlay.AbstractInfoWindow=navitime.geo.base.Class(navitime.geo.overlay.AbstractOverlay,{EVENT_TYPES:["closeclick","content_changed","position_changed"],_fallThrough:!1,_centerOffset:0,_tailDirection:null,TAIL_DIV_WIDTH:20,TAIL_DIV_HEIGHT:20,_tailDivFillColor:"#ffffff",_tailDivStrokeColor:"#bbbbbb",TAIL_DIV_FIRST_PATH_DESCRIPTION_LEFT:"M 159.283 164.03",TAIL_DIV_SECOND_PATH_DESCRIPTION_LEFT:"M 8.867 11.834 L 18.719 29.585 L 0.968 29.585 L 8.867 11.834 Z",TAIL_DIV_MATRIX_LEFT:"matrix(-0.000006, -1, 1, -0.000007, -8.974499, 19.52533)",
TAIL_DIV_TRIANGLE_LEFT:"triangle 0.968 11.834 17.751 17.751 0.445 0 1@9bb76b38",TAIL_DIV_POINTS_LEFT:"45.271 30.854",TAIL_DIV_FIRST_PATH_DESCRIPTION_UP:"M 159.283 164.03",TAIL_DIV_SECOND_PATH_DESCRIPTION_UP:"M 8.867 11.834 L 18.719 29.585 L 0.968 29.585 L 8.867 11.834 Z",TAIL_DIV_MATRIX_UP:"matrix(1, -0.000006, 0.000007, 1, 0.163256, -9.056256)",TAIL_DIV_TRIANGLE_UP:"triangle 0.968 11.834 17.751 17.751 0.445 0 1@9bb76b38",TAIL_DIV_POINTS_UP:"45.271 30.854",TAIL_DIV_FIRST_PATH_DESCRIPTION_RIGHT:"M 159.283 164.03",
TAIL_DIV_SECOND_PATH_DESCRIPTION_RIGHT:"M 8.867 11.834 L 18.719 29.585 L 0.968 29.585 L 8.867 11.834 Z",TAIL_DIV_MATRIX_RIGHT:"matrix(0.000006, 1, -1, 0.000007, 29.038936, 0.308238)",TAIL_DIV_TRIANGLE_RIGHT:"triangle 0.968 11.834 17.751 17.751 0.445 0 1@9bb76b38",TAIL_DIV_POINTS_RIGHT:"45.271 30.854",TAIL_DIV_FIRST_PATH_DESCRIPTION_DOWN:"M 159.283 164.03",TAIL_DIV_SECOND_PATH_DESCRIPTION_DOWN:"M 8.867 11.834 L 18.719 29.585 L 0.968 29.585 L 8.867 11.834 Z",TAIL_DIV_MATRIX_DOWN:"matrix(-1, 0.000006, -0.000007, -1, 19.799916, 29.071485)",
TAIL_DIV_TRIANGLE_DOWN:"triangle 0.968 11.834 17.751 17.751 0.445 0 1@9bb76b38",TAIL_DIV_POINTS_DOWN:"45.271 30.854",_backgroundColor:null,_borderColor:null,_margin:null,initialize:function(a){navitime.geo.overlay.AbstractOverlay.prototype.initialize.apply(this,arguments);null!=a&&(a.hasOwnProperty("backgroundColor")&&(this._tailDivFillColor=this._backgroundColor=a.backgroundColor),a.hasOwnProperty("borderColor")&&(this._tailDivStrokeColor=this._borderColor=a.borderColor),a.hasOwnProperty("margin")&&
(this._margin=a.margin))},_resize:function(){},_draw:function(){this.setPosition(this._options.position)},getContent:function(){return this._options.content},getPixelOffset:function(){return this._options.pixelOffset},setContent:function(a){if(this._map){this.div&&(this.div.style.visibility="hidden");for(var b=this.contentDiv.childNodes,c=b.length;c--;)this.contentDiv.removeChild(b[c]);this.contentDiv.style.whiteSpace="nowrap";this.contentDiv.style.width="";a.nodeType?this.contentDiv.appendChild(a):
this.contentDiv.innerHTML=a?a:"";this._options.content=a;b=this.contentDiv.getElementsByTagName("img");for(c=this.loadCount=b.length;c--;){var d=b[c],e=navitime.geo.Util.Function.bind(function(){navitime.geo.event.BrowserEventController.removeEvent("load");this.loadCount--;0===this.loadCount&&this.events.triggerEvent("content_changed")},this);navitime.geo.event.BrowserEventController.addEvent(d,"load",e);(d.complete||"uninitialized"===d.readyState)&&this.loadCount--}0===this.loadCount&&this.events.triggerEvent("content_changed")}else{var f=
navitime.geo.Util.Function.bind(function(){this.setContent(a);this.events.unregister("setmap",this,f)},this);this.events.register("setmap",this,f)}},setPixelOffset:function(a){if(this._map)a=a||{},a.x=a.x||0,a.y=a.y||0,this._options.pixelOffset=a,this.setPosition(this._options.position);else{var b=navitime.geo.Util.Function.bind(function(){this.setPixelOffset(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},setOptions:function(a){this._options=this._initOptions(a);
if(this._map)this.setPixelOffset(this._options.pixelOffset),this.setVisible(this._options.visible),this.setContent(this._options.content),this.setZIndex(this._options.zIndex);else{var b=navitime.geo.Util.Function.bind(function(){this.setOptions(a);this.events.unregister("setmap",this,b)},this);this.events.register("setmap",this,b)}},moveTo:function(a,b){this.div.style.left=this._calculateDivLeftPosition(a,b,this._tailDirection)+"px";this.div.style.top=this._calculateDivTopPosition(a,b,this._tailDirection)+
"px";this.events.triggerEvent("position_changed")},_initOptions:function(a){var b={content:"",zIndex:"",visible:!0,disableClose:!1,pixelOffset:{x:0,y:0},closeButtonDisplay:navitime.geo.DisplayType.FOCUSED},c;for(c in a)"map"!==c&&(b[c]=a[c]);return b},_calculateDivLeftPosition:function(a,b,c){switch(c){case "left":return a+this.TAIL_DIV_WIDTH;case "up":return a-this.div.offsetWidth/2;case "right":return a-this.TAIL_DIV_WIDTH-this.div.offsetWidth;case "down":return a-this.div.offsetWidth/2;default:return a-
this._centerOffset+this._options.pixelOffset.x}},_calculateDivTopPosition:function(a,b,c){switch(c){case "left":return b-this.div.offsetHeight/2;case "up":return b+this.TAIL_DIV_HEIGHT;case "right":return b-this.div.offsetHeight/2;case "down":return b-this.div.offsetHeight-this.TAIL_DIV_HEIGHT;default:return b-this.div.offsetHeight-32+this._options.pixelOffset.y}},_createSvgPathAsBase64:function(){var a='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\n\x3csvg viewBox\x3d"0 0 20 20" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:bx\x3d"https://boxy-svg.com"\x3e\n\x3cpath style\x3d"fill:'+
this._tailDivFillColor+"; stroke:"+this._tailDivStrokeColor+';"/\x3e\n\x3cpath style\x3d"fill:'+this._tailDivFillColor+"; stroke:"+this._tailDivStrokeColor+';" d\x3d"'+this._getTailDivFirstPathDescription()+'"/\x3e\n\x3cpath d\x3d"'+this._getTailDivSecondPathDescription()+'" style\x3d"fill: '+this._tailDivFillColor+"; stroke: "+this._tailDivStrokeColor+';" transform\x3d"'+this._getTailDivMatrix()+'" bx:shape\x3d"'+this._getTailDivTriangle()+'"/\x3e\n\x3cpolyline style\x3d"fill: '+this._tailDivFillColor+
"; stroke: "+this._tailDivStrokeColor+';" points\x3d"'+this._getTailDivPoints()+'"/\x3e\n\x3c/svg\x3e';return"url(data:image/svg+xml;base64,"+this._b64EncodeUnicode(a)+")"},_b64EncodeUnicode:function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,c){return String.fromCharCode("0x"+c)}))},_getTailDivFirstPathDescription:function(){switch(this._tailDirection){case "left":return this.TAIL_DIV_FIRST_PATH_DESCRIPTION_LEFT;case "up":return this.TAIL_DIV_FIRST_PATH_DESCRIPTION_UP;
case "right":return this.TAIL_DIV_FIRST_PATH_DESCRIPTION_RIGHT;case "down":return this.TAIL_DIV_FIRST_PATH_DESCRIPTION_DOWN}},_getTailDivSecondPathDescription:function(){switch(this._tailDirection){case "left":return this.TAIL_DIV_SECOND_PATH_DESCRIPTION_LEFT;case "up":return this.TAIL_DIV_SECOND_PATH_DESCRIPTION_UP;case "right":return this.TAIL_DIV_SECOND_PATH_DESCRIPTION_RIGHT;case "down":return this.TAIL_DIV_SECOND_PATH_DESCRIPTION_DOWN}},_getTailDivMatrix:function(){switch(this._tailDirection){case "left":return this.TAIL_DIV_MATRIX_LEFT;
case "up":return this.TAIL_DIV_MATRIX_UP;case "right":return this.TAIL_DIV_MATRIX_RIGHT;case "down":return this.TAIL_DIV_MATRIX_DOWN}},_getTailDivTriangle:function(){switch(this._tailDirection){case "left":return this.TAIL_DIV_TRIANGLE_LEFT;case "up":return this.TAIL_DIV_TRIANGLE_UP;case "right":return this.TAIL_DIV_TRIANGLE_RIGHT;case "down":return this.TAIL_DIV_TRIANGLE_DOWN}},_getTailDivPoints:function(){switch(this._tailDirection){case "left":return this.TAIL_DIV_POINTS_LEFT;case "up":return this.TAIL_DIV_POINTS_UP;
case "right":return this.TAIL_DIV_POINTS_RIGHT;case "down":return this.TAIL_DIV_POINTS_DOWN}},_calculateBaloonTailRightPosition:function(a){switch(a){case "left":return this.div.offsetWidth-2;case "up":return this.div.offsetWidth/2-this.TAIL_DIV_WIDTH/2-2;case "right":return-this.TAIL_DIV_WIDTH;case "down":return this.div.offsetWidth/2-this.TAIL_DIV_WIDTH/2+2;default:return this._centerOffset}},_calculateBaloonTailTopPosition:function(a){switch(a){case "left":return this.div.offsetHeight/2-this.TAIL_DIV_HEIGHT/
2;case "up":return-this.TAIL_DIV_HEIGHT;case "right":return this.div.offsetHeight/2-this.TAIL_DIV_HEIGHT/2;case "down":return this.div.offsetHeight-2;default:return this.div.offsetHeight-13}},_createOldSvgPathAsBase64:function(){return"url(data:image/svg+xml;base64,"+this._b64EncodeUnicode('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" width\x3d"50px" height\x3d"50px" viewBox\x3d"0 0 50 50" enable-background\x3d"new 0 0 50 50" xml:space\x3d"preserve"\x3e\x3cpath fill\x3d"'+
this._tailDivFillColor+'" stroke\x3d"'+this._tailDivStrokeColor+'" d\x3d"M48.855,10.385L1.451,42.896l12.119-25.09c0.343-0.655,0.537-1.399,0.537-2.189c0-2.613-2.118-4.731-4.731-4.731"/\x3e\x3cpath fill\x3d"'+this._tailDivFillColor+'" stroke\x3d"'+this._tailDivStrokeColor+'" d\x3d"M49.482,9.953L1.451,42.896l12.119-25.09c0.343-0.655,0.537-1.399,0.537-2.189c0-2.613-2.118-4.731-4.731-4.731"/\x3e\x3cline fill\x3d"none" stroke\x3d"'+this._tailDivFillColor+'" stroke-width\x3d"4" x1\x3d"9.375" y1\x3d"9.37" x2\x3d"49.761" y2\x3d"9.37"/\x3e\x3c/svg\x3e')+
")"}});navitime.geo.namespace("navitime.geo.base");
navitime.geo.base.Grid=navitime.geo.base.Class({EVENT_TYPES:["loadstart","loadend","tileload"],tileSize:256,bufferTileNum:2,events:null,tileGrid:null,ratio:1,_layers:null,_drawBounds:null,_centerTile:null,_numLoadingTiles:0,initialize:function(a,b,c,d){this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES);this._layers=[];this.tileGrid=[];d&&(void 0!==d.bufferNum&&null!==d.bufferNum&&(this.bufferTileNum=d.bufferNum),d.tilesize&&(this.tileSize=d.tilesize),d.devicePixelRatio&&
(this.ratio=d.devicePixelRatio));this._calculateDrawBounds(a,b,c)},destroy:function(){this.events&&(this.events.destroy(),this.events=null);if(this.tileGrid){for(var a=this.tileGrid.length;a--;)for(var b=this.tileGrid[a],c=b.length;c--;)for(var d=b[c],e=d.length;e--;){var f=d[e];f.destroy();delete f}this.tileGrid=null}if(this._layers){for(a=this._layers.length;a--;)delete this._layers[a];this._layers=null}this._drawBounds=this._centerTile=null},moveALLTiles:function(a,b){for(var c=0,d=this.tileGrid.length;c<
d;c++)0!==this.tileGrid[c].length&&this._moveGriddedTiles(c,a,b)},_moveGriddedTiles:function(a,b){for(var c=this.tileGrid[a];;){var d=c[c.length-1],e=d[d.length-1],d=Math.round(this.tileSize/this.ratio),f=this._layers[0].map._displayBounds,g=e.bounds.right-f.right+b.left-d*this.bufferTileNum,e=e.bounds.bottom-f.bottom+b.top-d*this.bufferTileNum;if(g>d)this._shiftColumn(a,!0);else if(0>g)this._shiftColumn(a,!1);else if(e>d)this._shiftRow(a,!0);else if(0>e)this._shiftRow(a,!1);else break}},_shiftRow:function(a,
b,c){var d=this.tileGrid[a],e=d[b?0:d.length-1],f=b?-Math.round(this.tileSize/this.ratio):Math.round(this.tileSize/this.ratio);a=c?this._cloneRow(e,a):b?d.pop():d.shift();c=b?-1:1;for(var g=0,h=e.length;g<h;g++){var k=e[g],l=k.bounds.clone();l.bottom+=f;l.top+=f;a[g].moveTo(l,{x:k._parameter.x,y:k._parameter.y+c});a[g].draw()}b?d.unshift(a):d.push(a)},_shiftColumn:function(a,b,c){for(var d=this.tileGrid[a],e=b?-Math.round(this.tileSize/this.ratio):Math.round(this.tileSize/this.ratio),f=0,g=d.length;f<
g;f++){var h=d[f],k=h[b?0:h.length-1],l=k.bounds.clone();l.left+=e;l.right+=e;var m=b?-1:1,p=c?this._cloneColumn(k,a):b?h.pop():h.shift();p.moveTo(l,{x:k._parameter.x+m,y:k._parameter.y});p.draw();b?h.unshift(p):h.push(p)}},_cloneRow:function(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(this._cloneColumn(a[d],b));return c},_cloneColumn:function(a,b){var c=a.clone();this._layers[b].div.appendChild(c.imageTag);return c},createAllTiles:function(){for(var a=this._centerTile.tile_x-Math.round((this._centerTile.bounds.left-
this._drawBounds.left)/(this.tileSize/this.ratio)),b=this._centerTile.tile_y-Math.round((this._centerTile.bounds.top-this._drawBounds.top)/(this.tileSize/this.ratio)),c=Math.round(this._drawBounds.getWidth()/(this.tileSize/this.ratio)),d=Math.round(this._drawBounds.getHeight()/(this.tileSize/this.ratio)),e=0,f=this._layers.length;e<f;e++)this._createTiles(e,d,c,a,b)},createTargetTiles:function(a){var b=this._centerTile.tile_x-Math.round((this._centerTile.bounds.left-this._drawBounds.left)/(this.tileSize/
this.ratio)),c=this._centerTile.tile_y-Math.round((this._centerTile.bounds.top-this._drawBounds.top)/(this.tileSize/this.ratio)),d=Math.round(this._drawBounds.getWidth()/(this.tileSize/this.ratio)),e=Math.round(this._drawBounds.getHeight()/(this.tileSize/this.ratio));this._createTiles(a,e,d,b,c)},_createTiles:function(a,b,c,d,e){var f=document.createDocumentFragment(),g=this._layers[a],h=g.map.getZoom(),k=this._numLoadingTiles=0,l=this.tileGrid[a];0!=l.length&&this._removeExcessTiles(a,b,c);var m=
[],p=this._drawBounds.left,q=this._drawBounds.top;do{var r=l[k];r||(r=[],l.push(r));var n=0;do{var s=new navitime.geo.BoundsInfo(p,p+Math.round(this.tileSize/this.ratio),q,q+Math.round(this.tileSize/this.ratio)),t=r[n];t?t.moveTo(s,new navitime.geo.base.TileMapParameter(d+n,e+k,h)):(t=null,0!=a&&(t=this.tileGrid[0][k][n])?t=g.createNewTile(t.bounds,new navitime.geo.base.TileMapParameter(t._parameter.x,t._parameter.y,t._parameter.z,this.tileSize,null,this.ratio)):(t=g.createNewTile(s,new navitime.geo.base.TileMapParameter(d+
n,e+k,h,this.tileSize,null,this.ratio)),this._addTileMonitoringHooks(t)),r[n]=t);f.appendChild(t.imageTag);n++;m.push(t);p+=Math.round(this.tileSize/this.ratio)}while(n<c);k++;q+=Math.round(this.tileSize/this.ratio);p=this._drawBounds.left}while(k<b);var u=this._centerTile;m.sort(function(a,b){var c=a._parameter.x-u.tile_x,d=a._parameter.y-u.tile_y,e=b._parameter.x-u.tile_x,f=b._parameter.y-u.tile_y;return Math.sqrt(c*c+d*d)-Math.sqrt(e*e+f*f)});a=0;for(b=m.length;a<b;a++)m[a].draw();g._addNode(f)},
_calculateDrawBounds:function(a,b,c){this._centerTile=this._calculateTileNumber(b,c);b=Math.round(a.getCenterX())-this._centerTile.tilePoint_x;c=Math.round(a.getCenterY())-this._centerTile.tilePoint_y;b=new navitime.geo.BoundsInfo(b,b+Math.round(this.tileSize/this.ratio),c,c+Math.round(this.tileSize/this.ratio));this._centerTile.bounds=b;var d=Math.ceil((b.left-a.left)/(this.tileSize/this.ratio));c=Math.ceil((a.right-b.right)/(this.tileSize/this.ratio));c=d+c+1+Math.max(1,2*this.bufferTileNum);var e=
Math.ceil((b.top-a.top)/(this.tileSize/this.ratio));a=Math.ceil((a.bottom-b.bottom)/(this.tileSize/this.ratio));a=e+a+1+Math.max(1,2*this.bufferTileNum);d=b.left-Math.round(this.tileSize/this.ratio*(d+this.bufferTileNum));b=b.top-Math.round(this.tileSize/this.ratio*(e+this.bufferTileNum));this._drawBounds=new navitime.geo.BoundsInfo(d,d+Math.round(c*(this.tileSize/this.ratio)),b,b+Math.round(a*(this.tileSize/this.ratio)))},_calculateTileNumber:function(a,b){var c=this.tileSize/(2*Math.PI),d=this.tileSize/
2,e=this.tileSize/2+a.lng/36E5*(this.tileSize/360),f=Math.min(Math.max(Math.sin(a.lat/36E5*(Math.PI/180)),-0.9999),0.9999),c=d+0.5*Math.log((1+f)/(1-f))*-c,d=e*Math.pow(2,b),f=c*Math.pow(2,b),e=Math.floor(d/this.tileSize),c=Math.floor(f/this.tileSize),d=Math.round((d-e*this.tileSize)/this.ratio),f=Math.round((f-c*this.tileSize)/this.ratio);return{tile_x:e,tile_y:c,tilePoint_x:d,tilePoint_y:f}},_recalculationDrawTiles:function(a){for(var b=0,c=this.tileGrid.length;b<c;b++){for(var d=this.tileGrid[b],
e=Math.ceil((d[0][0].bounds.top-this._drawBounds.top+a.top)/(this.tileSize/this.ratio)),f=Math.floor((this._drawBounds.bottom-d[d.length-1][d[d.length-1].length-1].bounds.bottom-a.top)/(this.tileSize/this.ratio)),g=Math.ceil((d[0][0].bounds.left-this._drawBounds.left+a.left)/(this.tileSize/this.ratio)),h=Math.floor((this._drawBounds.right-d[d.length-1][d[d.length-1].length-1].bounds.right-a.left)/(this.tileSize/this.ratio)),k=Math.abs(e);k--;)if(0>e)for(var l=d.shift(),m=null;m=l.pop();)m.destroy();
else 0<e&&this._shiftRow(b,!0,!0);for(k=Math.abs(f);k--;)if(0>f)for(l=d.pop();m=l.pop();)m.destroy();else 0<f&&this._shiftRow(b,!1,!0);for(k=Math.abs(g);k--;)if(0>g)for(e=0,f=d.length;e<f;e++)m=d[e].shift(),m.destroy();else 0<g&&this._shiftColumn(b,!0,!0);for(k=Math.abs(h);k--;)if(0>h)for(e=0,f=d.length;e<f;e++)m=d[e].pop(),m.destroy();else 0<h&&this._shiftColumn(b,!1,!0)}},_removeExcessTiles:function(a,b,c){for(a=this.tileGrid[a];a.length>b;)for(var d=a.pop(),e=0,f=d.length;e<f;e++){var g=d[e];g.destroy()}for(;a[0].length>
c;)for(e=0,b=a.length;e<b;e++)g=a[e].pop(),g.destroy()},_getMovedLatLng:function(a,b,c,d){null==d&&(d=this._centerTile);a=1<<a;b=-180+(d.tile_x+(d.tilePoint_x-b)/(this.tileSize/this.ratio))*(360/a);c=1+(d.tile_y+(d.tilePoint_y-c)/(this.tileSize/this.ratio))*(-2/a);c=2*Math.atan(Math.exp(Math.PI*c))-Math.PI/2;c*=180/Math.PI;return new navitime.geo.LatLng(Math.round(36E5*c),Math.round(36E5*b))},_getPixcelFromLatLng:function(a,b){var c=this._calculateTileNumber(a,b),d=this.tileGrid[0][0][0],e=c.tilePoint_y+
(c.tile_y-d._parameter.y)*(this.tileSize/this.ratio)+d.bounds.top;return{left:Math.round(c.tilePoint_x+(c.tile_x-d._parameter.x)*(this.tileSize/this.ratio)+d.bounds.left),top:Math.round(e)}},_addTileMonitoringHooks:function(a){a.onLoadStart=function(){0==this._numLoadingTiles&&this.events.triggerEvent("loadstart");this._numLoadingTiles++};a.events.register("loadstart",this,a.onLoadStart);a.onLoadEnd=function(){this._numLoadingTiles--;0==this._numLoadingTiles&&this.events.triggerEvent("loadend")};
a.events.register("loadend",this,a.onLoadEnd);a.events.register("loadcancel",this,a.onLoadEnd)},clearGrid:function(a){var b=this.tileGrid[a];if(b){for(var c=b.length;c--;){for(var d=b[c],e=d.length;e--;)d[e].destroy(),delete this.tileGrid[a][c][e];delete this.tileGrid[a][c]}delete this.tileGrid[a];this.tileGrid.splice(a,1);this._layers.splice(a,1)}}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.GraphicUtil={createSimplifiedIndex:function(a){for(var b=Array(a.length),c=a.length;c--;)b[c]=!0;this._reducePoints(a,1,b);this._simplifyDP(a,1,b,0,a.length-1);return b},_reducePoints:function(a,b,c){for(var d=1,e=d-1,f=a.length-1;d<f;d++)this._sqDist(a[d],a[e])<=b?c[d]=!1:e=d},_simplifyDP:function(a,b,c,d,e){for(var f=0,g,h=0,k=d+1;k<=e-1;k++)!1!==c[k]&&(g=this._sqDistanceOnSegment(a[k],a[d],a[e]),g>f&&(h=k,f=g));if(f>b)this._simplifyDP(a,b,c,d,h),this._simplifyDP(a,b,c,h,e);
else for(a=d+1;a<e-1;a++)c[a]=!1},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_calcConstantFactor:function(a,b,c){var d=b.x;b=b.y;var e=a.x;a=a.y;var f=c.x-d;c=c.y-b;var g=f*f+c*c;return 0<g?((e-d)*f+(a-b)*c)/g:0},_calcPerpendicularFoot:function(a,b,c){var d=a.x;a=a.y;return{x:d+c*(b.x-d),y:a+c*(b.y-a)}},_sqDistanceOnSegment:function(a,b,c){var d=this._calcConstantFactor(a,b,c);b=this._calcPerpendicularFoot(b,c,d);return this._sqDist(a,b)},clipPolyline:function(a,b){for(var c={min:{x:b.left,
y:b.top},max:{x:b.right,y:b.bottom}},d=a.length,e=[],f=0,g=0;f<d-1;f++){var h=this._clipSegment(a[f],a[f+1],c,f);h&&(e[g]=e[g]||[],e[g].push(h[0]),h[1]!==a[f+1]||f===d-2)&&(e[g].push(h[1]),g++)}return e},_clipSegment:function(a,b,c,d){d=d?this._lastCode:this._getBitCode(a,c);var e=this._getBitCode(b,c),f,g,h;for(this._lastCode=e;;)if(d|e){if(d&e)return!1;f=d||e;g=this._getEdgeIntersection(a,b,f,c);h=this._getBitCode(g,c);f===d?(a=g,d=h):(b=g,e=h)}else return[a,b]},clipPolygon:function(a,b){for(var c=
{min:{x:b.left,y:b.top},max:{x:b.right,y:b.bottom}},d=[1,4,2,8],e=0,f=a.length;e<f;e++)a[e]._code=this._getBitCode(a[e],c);for(var g=0;4>g;g++){for(var h=d[g],k=[],e=0,f=a.length,l=f-1;e<f;l=e++){var m=a[e],l=a[l];m._code&h?l._code&h||(l=this._getEdgeIntersection(l,m,h,c),l._code=this._getBitCode(l,c),k.push(l)):(l._code&h&&(l=this._getEdgeIntersection(l,m,h,c),l._code=this._getBitCode(l,c),k.push(l)),k.push(m))}a=k}return a},isClipArrow:function(a,b,c){c={min:{x:c.left,y:c.top},max:{x:c.right,y:c.bottom}};
a=this._getBitCode(a,c);b=this._getBitCode(b,c);return!(a&&b)},_calcVector:function(a,b){var c=a.x-b.x,d=a.y-b.y,e=Math.sqrt(c*c+d*d);return{x:c,y:d,vectorLen:e}},_getBitCode:function(a,b){var c=0;a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2);a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8);return c},_getEdgeIntersection:function(a,b,c,d){var e=b.x-a.x;b=b.y-a.y;var f=d.min;d=d.max;if(c&8)return{x:Math.floor(a.x+e*(d.y-a.y)/b),y:d.y};if(c&4)return{x:Math.floor(a.x+e*(f.y-a.y)/b),y:f.y};if(c&2)return{x:d.x,y:Math.floor(a.y+
b*(d.x-a.x)/e)};if(c&1)return{x:f.x,y:Math.floor(a.y+b*(f.x-a.x)/e)}}};navitime.geo.namespace("navitime.geo.layer");
navitime.geo.layer.AbstractLayer=navitime.geo.base.Class({EVENT_TYPES:[],div:null,map:null,events:null,_isTileLayer:!1,initialize:function(){this.div=navitime.geo.DOM.create("div","ntgeo-layer");this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES)},destroy:function(){this.map&&(this._isTileLayer&&this._gridNum&&this.map._grid.clearGrid(this._gridNum),this.map.removeLayer(this));this.div=this.map=null;this.events&&this.events.destroy();this.events=null},_onAdd:function(a){this.map=
a.getMap()},setMap:function(a){if(a)return this.map=a.getMap(),this.map.addLayer(this),this.draw(),!0;this.map&&(this._isTileLayer&&this._gridNum&&this.map._grid.clearGrid(this._gridNum),this.map.removeLayer(this),this.map=null);return!1},getMap:function(){return this._map},draw:function(){},changeVisibility:function(a){this.div&&(this.div.style.visibility=a?"":"hidden")},isVisible:function(){return this.div&&"hidden"===this.div.style.visibility?!1:!0},displayAllSpecifyLatLngs:function(a,b,c){a=navitime.geo.Util.calcAutomaticAdjustmentViewPort(this.map,
a,b,c);this.map.setCenter(a.latlng,a.zoom)||window.setTimeout(navitime.geo.Util.Function.bind(this.map.setCenter,this.map,a.latlng,a.zoom),250);return a},getDiv:function(){return this.div}});navitime.geo.namespace("navitime.geo.layer");
navitime.geo.layer.MarkerLayer=navitime.geo.base.Class(navitime.geo.layer.AbstractLayer,{_markers:null,initialize:function(){navitime.geo.layer.AbstractLayer.prototype.initialize.apply(this,arguments);this.div.style.zIndex="1000";this._markers=[]},destroy:function(){this.clearMarkers();this._markers=null;navitime.geo.layer.AbstractLayer.prototype.destroy.apply(this,arguments)},_onAdd:function(a){navitime.geo.layer.AbstractLayer.prototype._onAdd.apply(this,arguments)},setMap:function(a){a?(a.events.register("zoomend",
this,this.draw),a.events.register("moveend",this,this.draw),a.events.register("resize",this,this.draw),navitime.geo.marker.Popup&&(navitime.geo.marker.Popup.prototype.CLOSE_ICON_URL=a._config.getFileRequestURL()+"/"+a._config.CLOSE_URL)):(this.map.events.unregister("zoomend",this,this.draw),this.map.events.unregister("moveend",this,this.draw),this.map.events.unregister("resize",this,this.draw));navitime.geo.layer.AbstractLayer.prototype.setMap.apply(this,arguments)},draw:function(){for(var a=0,b=
this._markers.length;a<b;a++)this.moveMarker(this._markers[a])},addMarker:function(a,b){if(void 0===b||null===b)b=!0;this._markers.push(a);a._appendDiv(this.div);a.display(b);this.map&&setTimeout(navitime.geo.Util.Function.bind(function(){this.moveMarker(a)},this),50)},removeMarker:function(a){for(var b=this._markers.length;b--;)this._markers[b]==a&&(this._markers.splice(b,1),a.destroy())},clearMarkers:function(){for(;0<this._markers.length;)this.removeMarker(this._markers[0])},moveMarker:function(a){var b=
this.map.getPixcelFromLatLng(a.latlng);null==b?a.display(!1):a.moveTo(b.left,b.top)},showAll:function(){for(var a=this._markers.length;a--;)this._markers[a].display(!0),this.moveMarker(this._markers[a])},displayAllMarkers:function(a,b){for(var c=[],d=0,e=this._markers.length;d<e;d++)this._markers[d].excludedTraget||c.push(this._markers[d].latlng);0!==c.length&&this.displayAllSpecifyLatLngs(c,b,a)}});navitime.geo.namespace("navitime.geo.layer");
navitime.geo.layer.PolylineLayer=navitime.geo.base.Class(navitime.geo.layer.AbstractLayer,{_json:null,_wayPoints:null,_renderer:null,_isAllDisplay:!1,_drawBounds:null,_isDisplayAllRoute:!1,displayArrowRange:null,displayArrow:!1,_serial:null,_inslide:-4,_outslide:1,DASH_ARRAY:[null,"2,2","1,1","2,2,1,2","2,2,1,2,1,2"],_lineInfo:null,_simplifiedRoutes:null,_routeBounds:null,_buffer:1,_zIndex:0,_graphicUtil:navitime.geo.graphics.GraphicUtil,DEFAULT_ROUTE_INFO:new navitime.geo.RouteInfo(0,7,"blue",0.7),
initialize:function(a){this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES);this._renderer=navitime.geo.base.graphics.Renderer;this._simplifiedRoutes=[];this._serial=navitime.geo.Util._getSerial();a&&(this.displayArrow=a.displayArrow?!0:!1,this._zIndex=a.zIndex?a.zIndex:500)},destroy:function(){this._json=this._simplifiedRoutes=null;this.map&&this.setMap(null);navitime.geo.layer.AbstractLayer.prototype.destroy.apply(this,arguments)},_onAdd:function(a){this.displayArrowRange=
{min:this.map.ZOOM_MIN,max:this.map.ZOOM_MAX}},setMap:function(a){if(a){if(this.map){if(this.map==a)return;this.setMap(null)}a.events.register("zoomend",this,this.draw);a.events.register("moveend",this,this.draw);a.events.register("resize",this,this.draw);a.events.register("panend",this,this._moveend)}else if(this.map&&(this.map.events.unregister("zoomend",this,this.draw),this.map.events.unregister("moveend",this,this.draw),this.map.events.unregister("resize",this,this.draw),this.map.events.unregister("panend",
this,this._moveend)),this.div)for(var b=this.div.childNodes,c=b.length;c--;)for(var d=b[c].childNodes,e=d.length;e--;)b[c].removeChild(d[e]);navitime.geo.layer.AbstractLayer.prototype.setMap.apply(this,arguments)},setDrawData:function(a){if(this._json){if(this.div)for(var b=this.div.childNodes,c=b.length;c--;)for(var d=b[c].childNodes,e=d.length;e--;)b[c].removeChild(d[e]);this._json=null;this._simplifiedRoutes=[]}this._json=a;this._json.route[0].line||(this._json.route[0].line=[{type:0,size:7,color:"#4bff00",
opacity:195,is_use:1},{type:0,size:7,color:"#325a00",opacity:128,is_use:1}]);b=a.pos;this._wayPoints=[];for(c=b.length;c--;)d=a.route[b[c].no],this._wayPoints.push(new navitime.geo.LatLng(d.lat,d.lon));this.map&&this.draw()},_moveend:function(){if(!this._isAllDisplay&&this._drawBounds){var a=this.map.getViewDivPixel(),b=this._drawBounds.getCenterX()+a.left-this._drawBounds.prevLeft,c=this._drawBounds.getCenterY()+a.top-this._drawBounds.prevTop,d=this.map._displayBounds.getWidth()/2,e=this.map._displayBounds.getHeight()/
2;this._drawBounds.left+d<=b&&b<=this._drawBounds.right-d&&this._drawBounds.top+e<=c&&c<=this._drawBounds.bottom-e||(this.draw(),this._drawBounds.prevLeft=a.left,this._drawBounds.prevTop=a.top)}},draw:function(){if(!this._json||1>=this._json.route.length)return!0;this.div||(this.div=this._renderer.createBaseDiv(),this.div.style.zIndex=this._zIndex,navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none"),this.div.setAttribute("unselectable",
"on",0),this.div.onselectstart=function(){return!1},this.map._objectContainerDiv.appendChild(this.div),this._isDisplayAllRoute&&this.displayAllRoute());this.div.style.display="none";var a=this.map._grid._drawBounds,b=this.map.getViewDivPixel();this._drawBounds=new navitime.geo.BoundsInfo(a.left-a.getWidth()*this._buffer-b.left,a.right+a.getWidth()*this._buffer-b.left,a.top-a.getHeight()*this._buffer-b.top,a.bottom+a.getHeight()*this._buffer-b.top);this._drawBounds.prevLeft=0;this._drawBounds.prevTop=
0;for(var a=this._simplifiedRoutes[this.map._zoom]?this._createPixelPoints(this._calcPixelPoints(this._simplifiedRoutes[this.map._zoom].simplifiedLatlngPoints)):this._createSimplifiedPixelPoints(this._json.route,this._json.pos),b=this._json.pos,c=0,d=0,e=!0,f=0,g=b.length-1;f<g;f++){var h=document.getElementById("group_"+this._serial+"_"+f);h||(h=this._renderer.createGroupDiv("group_"+this._serial+"_"+f),this.div.appendChild(h));for(var k=h.childNodes,l=k.length;l--;){var m=k.childNodes;if(m)for(var p=
m.length;p--;)k.removeChild(m[p]);h.removeChild(k[l])}h.style.display="none";m=a[c];void 0==m.line[0]&&(m.line[0]={is_use:0});void 0==m.line[1]&&(m.line[1]={is_use:0});for(var q=[],k={inline:[],outline:[],arrowList:[]},l=c,c=a.length;l<c;l++)if(0===m.line[0].is_use&&0===m.line[1].is_use||q.push(a[l]),void 0!==a[l].line&&!this._isEqualLineInfo(m,a[l])||a[l].no===b[f+1].no){for(var r=this._graphicUtil.clipPolyline(q,this._drawBounds),n=0,p=0,s=r.length;p<s;p++)0!==r[p].length&&(n+=r[p].length,this._drawPolyline(m,
r[p],k));q.length!==n&&(e=!1);if(a[l].no===b[f+1].no){a[l].line=a[d].line;d=l;break}m=a[l];void 0==m.line[0]&&(m.line[0]={is_use:0});void 0==m.line[1]&&(m.line[1]={is_use:0});q=[];d=l;l--}c=l;p=k.inline;m=k.outline;q=k.arrowList;l=0;for(r=k.outline.length;l<r;l++)h.appendChild(m[l]);l=0;for(r=k.inline.length;l<r;l++)h.appendChild(p[l]);l=0;for(r=k.arrowList.length;l<r;l++)h.appendChild(q[l]);h.style.display=""}this._isAllDisplay=e;this._renderer.setViewPort(this.div,new navitime.geo.BoundsInfo(this._drawBounds.left-
20,this._drawBounds.right+20,this._drawBounds.top-20,this._drawBounds.bottom+20));this.events.triggerEvent("routedrawend");this.div.style.display="";return!0},_drawPolyline:function(a,b,c){for(var d=c.arrowList,e=this._lineInfo?this._lineInfo:this._getLineInfo(a),f="",g="",h=0,k=b.length;h<k;h++){var l=b[h],f=f+(l.x+this._inslide+","+(l.y+this._inslide)+" "),g=g+(l.x+this._outslide+","+(l.y+this._outslide)+" ");this.displayArrow&&(l.arrowFlag&&0<h)&&d.push(this._createArrow({left:b[h].x,top:b[h].y},
{left:b[h-1].x,top:b[h-1].y},a,e))}b=this._serial+"_"+a.no;0!==a.line[0].is_use&&(f=this._renderer.drawPolyline("i_"+b,f,null,{strokecolor:e._inlineInfo.color.getHex(),strokeweight:e._inlineInfo.size,strokeopacity:e._inlineInfo.opacity,strokelinecap:e._inlineInfo.linecap,strokelinejoin:e._inlineInfo.linejoin,strokedasharray:this.DASH_ARRAY[e._inlineInfo.type]}),c.inline.push(f));e._outlineInfo&&0!==a.line[1].is_use&&(a=this._renderer.drawPolyline("o_"+b,g,null,{strokecolor:e._outlineInfo.color.getHex(),
strokeweight:e._outlineInfo.size,strokeopacity:e._outlineInfo.opacity,strokelinecap:e._outlineInfo.linecap,strokelinejoin:e._outlineInfo.linejoin,strokedasharray:this.DASH_ARRAY[e._outlineInfo.type]}),c.outline.push(a))},_createSimplifiedPixelPoints:function(a,b){for(var c=this._calcPixelPoints(a),d=this._graphicUtil.createSimplifiedIndex(c),e=b.length;e--;)d[b[e].no]=!0;for(var f=this._drawBounds.getHeight()/(2*this._buffer+1)/3,g=0,h=[],k=[a[0]],l=[c[0]],m=c[0],e=1,p=d.length;e<p;e++)if(h[e]=!1,
a[e].line)d[e]=!0,k.push(a[e]),l.push(c[e]);else if(d[e]){k.push(a[e]);var q=c[e].x-m.x,m=c[e].y-m.y,q=q*q+m*m;0!==q&&(g+=Math.sqrt(q),g>f&&e<p-10&&(h[k.length-1]=!0,c[e].arrowFlag=!0,g=0));m=c[e];l.push(c[e])}this._simplifiedRoutes[this.map._zoom]={simplifiedLatlngPoints:k,arrowIndex:h};return l},_createPixelPoints:function(a){for(var b=this._simplifiedRoutes[this.map._zoom].arrowIndex,c=[],d=a.length;d--;)b[d]&&(a[d].arrowFlag=!0),c.push(a[d]);return c.reverse()},_calcPixelPoints:function(a){for(var b=
this.map,c=[],d=a.length;d--;){var e=a[d],f=b.getPixcelFromLatLng({lat:e.lat,lng:e.lon});c.push({x:f.left,y:f.top,no:e.no,roadtype:e.roadtype,line:e.line})}return c.reverse()},_getLineInfo:function(a){var b=this.DEFAULT_ROUTE_INFO,c=null;a.line&&(b=new navitime.geo.RouteInfo(a.line[0].type,a.line[0].size,a.line[0].color,a.line[0].opacity/256),a.line[1]&&(c=new navitime.geo.RouteInfo(a.line[1].type,a.line[1].size,a.line[1].color,a.line[1].opacity/256)));return new navitime.geo.base.LineInfo(b,c)},
_isEqualLineInfo:function(a,b){if(!b.line)return!1;for(var c,d,e,f=!0,g=0,h=b.line.length;g<h;g++)if(c=a.line[g],d=b.line[g],c&&d)for(e in c)c[e]!==d[e]&&(f=!1);return f},visibleTargetRoute:function(a){for(var b=this._json.pos.length;b--;){var c=document.getElementById("group_"+this._serial+"_"+b);c&&(c.style.visibility=a===b?"":"hidden")}},visibleAllRoute:function(){for(var a=0,b=this._json.pos.length;a<b;a++){var c=document.getElementById("group_"+this._serial+"_"+a);c&&(c.style.visibility="")}},
_createArrow:function(a,b,c,d){var e=a.left-b.left;b=a.top-b.top;var f=Math.sqrt(e*e+b*b),e=e/f;b/=f;var g=a.left-7*b-7*e,h=a.top+7*e-7*b,k=a.left+7*b-7*e,l=a.top-7*e-7*b,e=Math.round((k+g)/2)+this._inslide;b=Math.round((l+h)/2)+this._inslide;var f=a.left+this._inslide,m=a.top+this._inslide,p=Math.round(Math.sqrt((e-f)*(e-f)+(b-m)*(b-m))+4),g=Math.round((3*g+a.left)/4)+this._inslide,h=Math.round((3*h+a.top)/4)+this._inslide,k=Math.round((3*k+a.left)/4)+this._inslide;a=Math.round((3*l+a.top)/4)+this._inslide;
d=new navitime.geo.Color(d._inlineInfo.color.getHex());d.addBrightnessPercent(-50);d=this._renderer.drawCircle("circle",e,b,p,p,null,{strokecolor:"white",strokeweight:2,fillopacity:0.8,strokeopacity:0.8,fillcolor:d.getHex()});p=""+(g+","+h+" ")+(f+","+m+" ");p+=k+","+a;a=this._renderer.drawPolyline("arrow",p,null,{strokecolor:"white",strokeweight:2,strokeopacity:1,strokelinecap:"butt",strokelinejoin:"butt"});e=""+(f+","+m+" ")+(2*e-f+","+(2*b-m));e=this._renderer.drawPolyline("straight",e,null,{strokecolor:"white",
strokeweight:2,strokeopacity:1,strokelinecap:"butt",strokelinejoin:"butt"});c=this._renderer.createGroupDiv("arrowGroup_"+this._serial+"_"+c.start);c.appendChild(d);c.appendChild(a);c.appendChild(e);return c},displayAllRoute:function(a,b){0!==this._wayPoints.length&&this.displayAllSpecifyLatLngs(this._wayPoints,b,a)},showArrow:function(){this.displayArrow=!0;this.draw()},hideArrow:function(){this.displayArrow=!1;this.draw()},setDisplayAllRoute:function(a){this._isDisplayAllRoute=a},setRouteInfo:function(a){this._lineInfo=
a?new navitime.geo.base.LineInfo(a.inLine,a.outLine):null},setDisplayArrowRange:function(a,b){a&&(this.displayArrowRange.min=a);b&&(this.displayArrowRange.max=b)},setDisplayArrow:function(a){a?this.showArrow():this.hideArrow()}});navitime.geo.namespace("navitime.geo.layer");
navitime.geo.layer.OldPolylineLayer=navitime.geo.base.Class(navitime.geo.layer.AbstractLayer,{_json:null,_wayPoints:null,_renderer:null,_isAllDisplay:!1,_drawBounds:null,_isDisplayAllRoute:!1,displayArrowRange:null,displayArrow:!1,_serial:null,THINNING_POINT:10,_inslide:-4,_outslide:1,DASH_ARRAY:[null,"2,2","1,1","2,2,1,2","2,2,1,2,1,2"],_lineInfo:null,_optimalPoint:null,_routeBounds:null,_buffer:1,_zIndex:500,DEFAULT_ROUTE_INFO:new navitime.geo.RouteInfo(0,7,"blue",0.7),initialize:function(a){this.events=
new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES);this._renderer=navitime.geo.base.graphics.Renderer;this._serial=navitime.geo.Util._getSerial();this._optimalPoint={};a&&(this.displayArrow=a.displayArrow?!0:!1,this._zIndex=a.zIndex?a.zIndex:500)},destroy:function(){this._json=this._optimalPoint=null;this.map&&this.setMap(null);navitime.geo.layer.AbstractLayer.prototype.destroy.apply(this,arguments)},_onAdd:function(a){this.displayArrowRange={min:this.map.ZOOM_MIN,max:this.map.ZOOM_MAX}},
setMap:function(a){if(a){if(this.map){if(this.map==a)return;this.setMap(null)}a.events.register("zoomend",this,this.draw);a.events.register("moveend",this,this.draw);a.events.register("panend",this,this._moveend)}else if(this.map&&(this.map.events.unregister("zoomend",this,this.draw),this.map.events.unregister("moveend",this,this.draw),this.map.events.unregister("panend",this,this._moveend)),this.div)for(var b=this.div.childNodes,c=b.length;c--;)for(var d=b[c].childNodes,e=d.length;e--;)b[c].removeChild(d[e]);
navitime.geo.layer.AbstractLayer.prototype.setMap.apply(this,arguments)},setDrawData:function(a){if(this._json){if(this.div)for(var b=this.div.childNodes,c=b.length;c--;)for(var d=b[c].childNodes,e=d.length;e--;)b[c].removeChild(d[e]);this._json=null;this._optimalPoint={}}this._json=a;b=a.pos;this._wayPoints=[];for(c=b.length;c--;)d=a.route[b[c].no],this._wayPoints.push(new navitime.geo.LatLng(d.lat,d.lon));this.map&&this.draw()},_moveend:function(){if(!this._isAllDisplay&&this._drawBounds){var a=
this.map.getViewDivPixel(),b=this._drawBounds.getCenterX()+a.left-this._drawBounds.prevLeft,c=this._drawBounds.getCenterY()+a.top-this._drawBounds.prevTop,d=this.map._displayBounds.getWidth()/2,e=this.map._displayBounds.getHeight()/2;this._drawBounds.left+d<=b&&b<=this._drawBounds.right-d&&this._drawBounds.top+e<=c&&c<=this._drawBounds.bottom-e||(this.draw(),this._drawBounds.prevLeft=a.left,this._drawBounds.prevTop=a.top)}},draw:function(){if(!this._json||1>=this._json.route.length)return!0;this.div||
(this.div=this._renderer.createBaseDiv(),this.div.style.zIndex=this._zIndex,navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none"),this.div.setAttribute("unselectable","on",0),this.div.onselectstart=function(){return!1},this.map._objectContainerDiv.appendChild(this.div),this._isDisplayAllRoute&&this.displayAllRoute());this.div.style.display="none";var a=this.map._grid._drawBounds,b=this.map.getViewDivPixel();this._drawBounds=
new navitime.geo.BoundsInfo(a.left-a.getWidth()*this._buffer-b.left,a.right+a.getWidth()*this._buffer-b.left,a.top-a.getHeight()*this._buffer-b.top,a.bottom+a.getHeight()*this._buffer-b.top);this._optimalPoint[this.map._zoom]||this._createOptimalPoint();var a=this._optimalPoint[this.map._zoom],b=this.map.getMovedLatLng(-this._drawBounds.left+this.map._displayBounds.getCenterX(),-this._drawBounds.top+this.map._displayBounds.getCenterY()),c=this.map.getMovedLatLng(-this._drawBounds.right+this.map._displayBounds.getCenterX(),
-this._drawBounds.bottom+this.map._displayBounds.getCenterY());this._drawBounds.minlng=b.lng;this._drawBounds.maxlat=b.lat;this._drawBounds.maxlng=c.lng;this._drawBounds.minlat=c.lat;this._drawBounds.prevLeft=0;this._drawBounds.prevTop=0;b=[];if(20<a.data.length)for(var d=a.index,c=0,e=d.length-1;c<e;c++)b.push(this._getDrawArea(d[c],d[c+1],a.data));else b.push({start:0,end:a.data.length-1});this._isAllDisplay=!1;if(0===b[0].start&&b[b.length-1].end===a.data.length-1)for(c=0,e=b.length-1;c<e;c++){if(b[c].end!==
b[c+1].start){this._isAllDisplay=!1;break}this._isAllDisplay=!0}else{e=!1;for(c=b.length;c--;)if(b[c].start!==b[c].end){e=!0;break}if(!e)return!0}this._routeBounds=new navitime.geo.BoundsInfo(0,0,0,0);c=0;for(e=b.length;c<e;c++){d=document.getElementById("group_"+this._serial+"_"+c);d||(d=this._renderer.createGroupDiv("group_"+this._serial+"_"+c),this.div.appendChild(d));for(var f=d.childNodes,g=f.length;g--;){var h=f.childNodes;if(h)for(var k=h.length;k--;)f.removeChild(h[k]);d.removeChild(f[g])}b[c].start===
b[c].end?d.style.display="none":(d.style.display="",this._drawPolyline(b[c].start,b[c].end,a,d))}this._renderer.setViewPort(this.div,new navitime.geo.BoundsInfo(this._routeBounds.left-20,this._routeBounds.right+20,this._routeBounds.top-20,this._routeBounds.bottom+20));this.events.triggerEvent("routedrawend");window.setTimeout(navitime.geo.Util.Function.bind(function(){this.div.style.display=""},this),50);return!0},_drawPolyline:function(a,b,c,d){var e=this._getPreviousRoute(c.data,a),f;if(0!==a){var g=
c.data[a-1],h=this.map.getPixcelFromLatLng(new navitime.geo.LatLng(g.lat,g.lon));f={left:h.left,top:h.top}}for(var k=[],l=[],m=[],p=[],q=[],r=new navitime.geo.LatLng(0,0),n=a;n<=b;n++){g=c.data[n];if(e.line&&0===e.line[0].is_use&&0===e.line[1].is_use)if(void 0!==g.line){if(0===g.line[0].is_use&&0===g.line[1].is_use){e=g;continue}}else continue;r.lat=g.lat;r.lng=g.lon;h=this.map.getPixcelFromLatLng(r);this._routeBounds.left>h.left&&(this._routeBounds.left=h.left);this._routeBounds.right<h.left&&(this._routeBounds.right=
h.left);this._routeBounds.top>h.top&&(this._routeBounds.top=h.top);this._routeBounds.bottom<h.top&&(this._routeBounds.bottom=h.top);(new Date).getTime();k.push(h.left+this._inslide);k.push(",");k.push(h.top+this._inslide);k.push(" ");l.push(h.left+this._outslide);l.push(",");l.push(h.top+this._outslide);l.push(" ");if((void 0!==g.line||n===b)&&n!==a){var s=this._lineInfo?this._lineInfo:this._getLineInfo(e);0!==e.line[0].is_use&&(k=this._renderer.drawPolyline("i_"+this._serial+"_"+e.no,k.join(""),
null,{strokecolor:s._inlineInfo.color.getHex(),strokeweight:s._inlineInfo.size,strokeopacity:s._inlineInfo.opacity,strokelinecap:s._inlineInfo.linecap,strokelinejoin:s._inlineInfo.linejoin,strokedasharray:this.DASH_ARRAY[s._inlineInfo.type]}),m.push(k));s._outlineInfo&&0!==e.line[1].is_use&&(l=this._renderer.drawPolyline("o_"+this._serial+"_"+e.no,l.join(""),null,{strokecolor:s._outlineInfo.color.getHex(),strokeweight:s._outlineInfo.size,strokeopacity:s._outlineInfo.opacity,strokelinecap:s._outlineInfo.linecap,
strokelinejoin:s._outlineInfo.linejoin,strokedasharray:this.DASH_ARRAY[s._outlineInfo.type]}),p.push(l));k=[];l=[];k.push(h.left+this._inslide);k.push(",");k.push(h.top+this._inslide);k.push(" ");l.push(h.left+this._outslide);l.push(",");l.push(h.top+this._outslide);l.push(" ");n!==b&&(e=g)}this.displayArrow&&(this.displayArrowRange.min<=this.map.getZoom()&&this.map.getZoom()<=this.displayArrowRange.max&&c.arrow[n])&&q.push(this._createArrow(h,f,e));f={left:h.left,top:h.top}}n=0;for(b=p.length;n<
b;n++)d.appendChild(p[n]);n=0;for(b=m.length;n<b;n++)d.appendChild(m[n]);n=0;for(b=q.length;n<b;n++)d.appendChild(q[n])},_createOptimalPoint:function(){var a=this.map.getPixcelFromLatLng(new navitime.geo.LatLng(this._json.route[0].lat,this._json.route[0].lon)),b=this.map.getPixcelFromLatLng(new navitime.geo.LatLng(this._json.route[1].lat,this._json.route[1].lon)),c=this._json.route[0];c.pix=b;for(var c={index:[0],data:[c],arrow:[!1]},d=0,e=175*Math.PI/180,f=185*Math.PI/180,g=5*Math.PI/180,h=355*Math.PI/
180,k=this._getLineInfo(this._json.route[0]),l=this._json.pos,m=function(a){for(var b=0,c=l.length;b<c;b++)if(a===l[b].no)return!0;return!1},p=this._drawBounds.getHeight()/(2*this._buffer+1)/3,q=0,r=new navitime.geo.LatLng(0,0),n=1,s=this._json.route.length-1;n<s;n++){var t=this._json.route[n];if(void 0!==t.line){var u=this._getLineInfo(t);k.equals(u)?(delete t.line,delete t.roadtype):k=u}r.lat=this._json.route[n+1].lat;r.lng=this._json.route[n+1].lon;var u=this.map.getPixcelFromLatLng(r),w=a.top-
b.top,x=a.left-b.left,y=u.top-b.top,z=u.left-b.left,v=Math.atan2(x,w)-Math.atan2(z,y),v=Math.abs(v);(0===w&&0===x||0===y&&0===z||f>=v&&v>=e||v>=h||v<=g)&&void 0===t.line&&!m(n)&&this.THINNING_POINT!==d?(b={left:u.left,top:u.top},d++):(c.data.push(t),d=b.left-a.left,a=b.top-a.top,q+=Math.sqrt(d*d+a*a),q>p&&n<s-10?(c.arrow.push(!0),q=0):c.arrow.push(!1),m(n)&&c.index.push(c.data.length-1),a={left:b.left,top:b.top},b={left:u.left,top:u.top},d=0)}c.data.push(this._json.route[this._json.route.length-1]);
c.index.push(c.data.length-1);c.data[0].line||(c.data[0].line=[{type:0,size:7,color:"#4bff00",opacity:195,is_use:1},{type:0,size:7,color:"#325a00",opacity:128,is_use:1}]);this._optimalPoint[this.map._zoom]=c},_getLineInfo:function(a){var b=this.DEFAULT_ROUTE_INFO,c=null;a.line&&(b=new navitime.geo.RouteInfo(a.line[0].type,a.line[0].size,a.line[0].color,a.line[0].opacity/256),a.line[1]&&(c=new navitime.geo.RouteInfo(a.line[1].type,a.line[1].size,a.line[1].color,a.line[1].opacity/256)));return new navitime.geo.base.LineInfo(b,
c)},_getPreviousRoute:function(a,b){var c=a[b];if(!c.line)for(var d=b;d--;)if(a[d].line){c=a[d];break}return c},visibleTargetRoute:function(a){for(var b=this._json.pos.length;b--;){var c=document.getElementById("group_"+this._serial+"_"+b);c&&(c.style.visibility=a===b?"":"hidden")}},visibleAllRoute:function(){for(var a=0,b=this._json.pos.length;a<b;a++){var c=document.getElementById("group_"+this._serial+"_"+a);c&&(c.style.visibility="")}},_getDrawArea:function(a,b,c){for(var d=[a,b],e=0,f=Math.round(Math.LOG2E*
Math.log(b-a))+1;e<f;e++)for(a=0;a+1<d.length;a+=2){b=Math.floor((d[a]+d[a+1])/2);if(d[a]===b)return{start:-1,end:-1};d.splice(a+1,0,b);var g=c[b];if(this._drawBounds.minlng<=g.lon&&g.lon<=this._drawBounds.maxlng&&this._drawBounds.minlat<=g.lat&&g.lat<=this._drawBounds.maxlat)return e=this._binarySearch(c,d[a],b,!0),c=this._binarySearch(c,b,d[a+2],!1),{start:e,end:c}}return{start:-1,end:-1}},_binarySearch:function(a,b,c,d){var e=b,f=c;for(b=d?{innner:function(){f=g},outer:function(){e=g}}:{innner:function(){e=
g},outer:function(){f=g}};1<f-e;){var g=Math.floor((e+f)/2);c=a[g];this._drawBounds.minlng<=c.lon&&c.lon<=this._drawBounds.maxlng&&this._drawBounds.minlat<=c.lat&&c.lat<=this._drawBounds.maxlat?b.innner():b.outer()}return d?e:f},_createArrow:function(a,b,c){var d=a.left-b.left;b=a.top-b.top;var e=Math.sqrt(d*d+b*b),d=d/e;b/=e;var f=a.left-7*b-7*d,g=a.top+7*d-7*b,h=a.left+7*b-7*d,k=a.top-7*d-7*b,d=Math.round((h+f)/2)+this._inslide;b=Math.round((k+g)/2)+this._inslide;var e=a.left+this._inslide,l=a.top+
this._inslide,m=Math.round(Math.sqrt((d-e)*(d-e)+(b-l)*(b-l))+4),f=Math.round((3*f+a.left)/4)+this._inslide,g=Math.round((3*g+a.top)/4)+this._inslide,h=Math.round((3*h+a.left)/4)+this._inslide,k=Math.round((3*k+a.top)/4)+this._inslide;a=this._renderer.drawCircle("circle",d,b,m,m,null,{strokecolor:"white",strokeweight:2,fillopacity:0.7,strokeopacity:0.95,fillcolor:this._getColorByRoute(c.roadtype)});m=""+(f+","+g+" ")+(e+","+l+" ");m+=h+","+k;h=this._renderer.drawPolyline("arrow",m,null,{strokecolor:"white",
strokeweight:2,strokeopacity:1,strokelinecap:"butt",strokelinejoin:"butt"});d=""+(e+","+l+" ")+(2*d-e+","+(2*b-l));d=this._renderer.drawPolyline("straight",d,null,{strokecolor:"white",strokeweight:2,strokeopacity:1,strokelinecap:"butt",strokelinejoin:"butt"});c=this._renderer.createGroupDiv("arrowGroup_"+this._serial+"_"+c.no);c.appendChild(a);c.appendChild(h);c.appendChild(d);return c},_getColorByRoute:function(a){switch(a){case 1:case 2:case 8:return"#234b9b";case 14:return"#007300";default:return"#007300"}},
displayAllRoute:function(a,b){0!==this._wayPoints.length&&this.displayAllSpecifyLatLngs(this._wayPoints,b,a)},showArrow:function(){this.displayArrow=!0;this.draw()},hideArrow:function(){this.displayArrow=!1;this.draw()},setDisplayAllRoute:function(a){this._isDisplayAllRoute=a},setRouteInfo:function(a){this._lineInfo=a?new navitime.geo.base.LineInfo(a.inLine,a.outLine):null},setDisplayArrowRange:function(a,b){a&&(this.displayArrowRange.min=a);b&&(this.displayArrowRange.max=b)},setDisplayArrow:function(a){a?
this.showArrow():this.hideArrow()}});navitime.geo.layer.OldPolylineLayer.isEnabled=eval("(function() {/*@cc_on @if (@_jscript_version \x3e\x3d 9) return false; @else return true; @end @*/ return true; })()");navitime.geo.layer.OldPolylineLayer.isEnabled&&(navitime.geo.layer.PolylineLayer=navitime.geo.layer.OldPolylineLayer);navitime.geo.namespace("navitime.geo.service");
navitime.geo.service.RouteSearchService=navitime.geo.base.Class({initialize:function(){},destroy:function(){},draw:function(a,b){var c=function(a){if(a instanceof navitime.geo.LatLng)return a;a.latlng.tollLoad=a.tollLoad;a.latlng.alongside=a.alongside;return a.latlng};a.startPos=c(a.startPos);a.endPos=c(a.endPos);if((!a.startPos||!a.endPos||a.startPos.equals(this.endPos))&&0===a.midPos.length)return!1;var d=[];d.push(a.startPos);a.midPos=a.midPos||[];for(var e=0,f=a.midPos.length;e<f;e++)d.push(c(a.midPos[e]));
d.push(a.endPos);c=new navitime.geo.base.TileMapParameter;c.setPos(d);c.setType("json");c.setTr(a.tr);c.setMthd(a.method);c.setSearchTime(a.searchtime);c.setVics(a.vics);c.setBasis(a.basis);b.map._config.PALETTE_TYPE&&""!==b.map._config.PALETTE_TYPE&&c.addQueryParam("res",b.map._config.PALETTE_TYPE);if(a.queryParameter)for(var g in a.queryParameter)a.queryParameter.hasOwnProperty&&c.addQueryParam(g,a.queryParameter[g]);c.setCb("{callback}");d=a.url||b.map._config.getRouteRequestURL();navitime.geo.base.Ajax.JSONP.getJSONP(d+
c.toString(),navitime.geo.Util.Function.bind(b.setDrawData,b))}});navitime.geo.namespace("navitime.geo.layer.tile");
navitime.geo.layer.tile.TransparencyTileLayer=navitime.geo.base.Class(navitime.geo.layer.AbstractLayer,{url:null,mapsvrParam:null,_isTileLayer:!0,initialize:function(a){navitime.geo.layer.AbstractLayer.prototype.initialize.apply(this,arguments);navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.div.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.div.setAttribute("unselectable","on",0);this.div.onselectstart=function(){return!1};a=a?a:{};this.url=a.url;this.mapsvrParam=
[]},destroy:function(){navitime.geo.layer.AbstractLayer.prototype.destroy.apply(this,arguments)},setMap:function(a){this.url=this.url?this.url+(this.url.lastIndexOf("/")==this.url.length-1?"":"/"):a._config.getTileRequestURL();navitime.geo.layer.AbstractLayer.prototype.setMap.apply(this,arguments)},draw:function(){this.map._grid.createTargetTiles(this._gridNum)},_addNode:function(a){this.div.appendChild(a)},createNewTile:function(a,b){return null},addQueryParam:function(a,b){for(var c=0,d=this.mapsvrParam.length;c<
d;c++)if(this.mapsvrParam[c].key===a){this.mapsvrParam.splice(c,1);break}this.mapsvrParam.push({key:a,value:b})}});navitime.geo.namespace("navitime.geo.layer.tile");
navitime.geo.layer.tile.SatelliteAnnotationLayer=navitime.geo.base.Class(navitime.geo.layer.tile.TransparencyTileLayer,{initialize:function(a){navitime.geo.layer.tile.TransparencyTileLayer.prototype.initialize.apply(this,arguments);this.div.style.zIndex=300},createNewTile:function(a,b){b.setLayer("string.icon");var c=this.mapsvrParam?this.mapsvrParam.length:0;if(0!==c)for(var d=0;d<c;d++)b.addQueryParam(this.mapsvrParam[d].key,this.mapsvrParam[d].value);this.map._config.PALETTE_TYPE&&b.addQueryParam("res",
this.map._config.PALETTE_TYPE);return new navitime.geo.tile.Tile(this.url,this.map._config.getFileRequestURL()+"/"+this.map._config.BLANK_URL,a,b)}});navitime.geo.namespace("navitime.geo.layer.tile");
navitime.geo.layer.tile.TrafficJamLayer=navitime.geo.base.Class(navitime.geo.layer.tile.TransparencyTileLayer,{vics:null,_searchtime:null,_annotation:!0,_tfsrc:"vics.probe",_uid:"",initialize:function(a){navitime.geo.layer.tile.TransparencyTileLayer.prototype.initialize.apply(this,arguments);a&&a.hasOwnProperty("annotation")&&(this._annotation=a.annotation);a&&a.hasOwnProperty("tfsrc")&&(this._tfsrc=a.tfsrc);if(navitime.geo.base.Config.hasOwnProperty("TFSRC")){var b=navitime.geo.base.Config.TFSRC;
if("none"===b)throw Error("\u6e0b\u6ede\u60c5\u5831\u3092\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u305b\u3093");this._tfsrc=b}a&&a.hasOwnProperty("uid")&&(this._uid=a.uid);this.div.style.zIndex=300},createNewTile:function(a,b){this._annotation?b.setLayer("trafficjam.onitems"):b.setLayer("trafficjam.icon");b.setVics(navitime.geo.Util.Function.bind(function(){return this._vics},this));b.setSearchTime(navitime.geo.Util.Function.bind(function(){return this._searchtime},this));b.setTfsrc(navitime.geo.Util.Function.bind(function(){return this._tfsrc},
this));b.setUid(navitime.geo.Util.Function.bind(function(){return this._uid},this));b.addQueryParam("timestamp",function(){return navitime.geo.Util.getYYYYMMDDHHMM()});if(this.mapsvrParam&&0!==this.mapsvrParam.length)for(var c=0,d=this.mapsvrParam.length;c<d;c++)b.addQueryParam(this.mapsvrParam[c].key,this.mapsvrParam[c].value);this.map._config.PALETTE_TYPE&&""!==this.map._config.PALETTE_TYPE&&b.addQueryParam("res",this.map._config.PALETTE_TYPE);return new navitime.geo.tile.Tile(this.url,this.map._config.getFileRequestURL()+
"/"+this.map._config.BLANK_URL,a,b)},setVics:function(a){this._vics=a},setSearchTime:function(a){this._searchtime=a},setTfsrc:function(a){this._tfsrc=a},setUid:function(a){this._uid=a}});navitime.geo.namespace("navitime.geo.layer.tile");
navitime.geo.layer.tile.TrafficRecordLayer=navitime.geo.base.Class(navitime.geo.layer.tile.TransparencyTileLayer,{initialize:function(a){navitime.geo.layer.tile.TransparencyTileLayer.prototype.initialize.apply(this,arguments);this.div.style.zIndex=200},createNewTile:function(a,b){b.setLayer("trafficjam");b.addQueryParam("trrec",1);if(this.mapsvrParam&&0!==this.mapsvrParam.length)for(var c=0,d=this.mapsvrParam.length;c<d;c++)b.addQueryParam(this.mapsvrParam[c].key,this.mapsvrParam[c].value);this.map._config.PALETTE_TYPE&&
""!==this.map._config.PALETTE_TYPE&&b.addQueryParam("res",this.map._config.PALETTE_TYPE);return new navitime.geo.tile.Tile(this.url,this.map._config.getFileRequestURL()+"/"+this.map._config.BLANK_URL,a,b)}});navitime.geo.namespace("navitime.geo.marker");
navitime.geo.marker.Marker=navitime.geo.base.Class({icon:null,latlng:null,events:null,_listeners:null,_excludedTraget:!1,initialize:function(a,b,c,d){this.latlng=a;this.icon=b;this.events=new navitime.geo.event.InnerEventController(this);if(null!=c){this.events.BROWSER_EVENTS=[];this._listeners=c;for(var e in c)"scope"!=e&&(this.events.BROWSER_EVENTS.push(e),this.events.addEventType(e),this.events.register(e,c.scope,c[e]));this.events.attachToElement(this.icon.imageDiv)}d&&(void 0!==d.exclude&&null!==
d.exclude)&&(this._excludedTraget=d.exclude);navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(this.icon.imageDiv.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this.icon.imageDiv.setAttribute("unselectable","on",0);this.icon.imageDiv.onselectstart=function(){return!1}},destroy:function(){this.events.destroy();this.events=null;null!=this.icon&&(this.icon.destroy(),this.icon=null)},moveTo:function(a,b){null!=this.icon&&this.icon.moveTo(a,b)},display:function(a){this.icon.display(a)},
isShow:function(){return""==this.icon.imageDiv.style.display},_appendDiv:function(a){a.appendChild(this.icon.imageDiv)},getLatLng:function(){return this.latlng.clone()},setLatLng:function(a){this.latlng=a}});navitime.geo.namespace("navitime.geo.map");
navitime.geo.map.AbstractMap=navitime.geo.base.Class({EVENT_TYPES:"panstart pan panend movestart moveend zoomstart zoomend rightclick dblrightclick dragstart drag dragcancel dragend".split(" "),id:null,div:null,_parentDiv:null,_layerContainerDiv:null,_objectContainerDiv:null,_overlayContainerDiv:null,_baseLayer:null,_latlng:null,_zoom:null,_displayBounds:null,ZOOM_MIN:6,ZOOM_MAX:19,_layers:null,_controls:null,_parts:null,_overlays:null,events:null,_grid:null,_translateX:0,_translateY:0,_loadTimes:1,
_collection:null,_config:null,_options:null,_tileType:null,_copyright:null,_defaultCopyrightText:"",SATELLITE_COPYLIGHT_TEXT:"(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU;(c)SHASHIN KAGAKU / NTT Data / RESTEC included (c)JAXA / (c)NTT\u7a7a\u9593\u60c5\u5831;(c)SHASHIN KAGAKU / NTT Data / RESTEC included (c)JAXA / (c)NTT\u7a7a\u9593\u60c5\u5831;(c)SHASHIN KAGAKU / NTT Data / RESTEC included (c)JAXA / (c)NTT\u7a7a\u9593\u60c5\u5831;(c)NTT\u7a7a\u9593\u60c5\u5831;(c)NTT\u7a7a\u9593\u60c5\u5831;(c)NTT\u7a7a\u9593\u60c5\u5831".split(";"),
initialize:function(a,b,c,d){this._controls={};this._layers=[];this._overlays=[];this._parts=[];this._latlng=b;this._zoom=c;this._config=navitime.geo.base.Config.clone();d.url&&(this._config.URL_TILE=d.url.lastIndexOf("/")==d.url.length-1?d.url:d.url+"/");d.res&&(this._config.PALETTE_TYPE=d.res);d.tileType&&(this._tileType=d.tileType);this.id=a;this.div=document.getElementById(a);this.div||(this.div=document.createElement("div"));this.events=new navitime.geo.event.InnerEventController(this,this.div,
this.EVENT_TYPES,!0);this._parentDiv=navitime.geo.DOM.create("div","ntgeo-parent",this.div);this._parentDiv.style.backgroundImage="url("+this._config.getFileRequestURL()+"/"+this._config.BG_URL+")";this._displayBounds=d.bounds||this._getCurrentBounds();this._grid=new navitime.geo.base.Grid(this._displayBounds,b,c,d);this._layerContainerDiv=navitime.geo.DOM.create("div","ntgeo-layers ntgeo-fade-anim",this._parentDiv);this._objectContainerDiv=navitime.geo.DOM.create("div","ntgeo-object",this._layerContainerDiv);
this._overlayContainerDiv=navitime.geo.DOM.create("div","ntgeo-overlay",this._objectContainerDiv);this.div.oncontextmenu=navitime.geo.Util.falseFn;this.div.setAttribute("unselectable","on",0);this._parentDiv.setAttribute("unselectable","on",0);this._layerContainerDiv.setAttribute("unselectable","on",0);this._objectContainerDiv.setAttribute("unselectable","on",0);navitime.geo.event.BrowserEventController.addEvent(window,"unload",navitime.geo.Util.Function.bind(this.destroy,this));this._baseLayer=new navitime.geo.layer.TileLayer(d);
this._baseLayer._translateX=0;this._baseLayer._translateY=0;"satellite"===this._tileType&&(this._baseLayer._tileType=this._tileType);this._baseLayer.setMap(this);this._options=d;a=null;d.copyrightInfo?(a=d.copyrightInfo,a.text||(a.text=this._config.COPYRIGHT_TEXT)):a={text:this._config.COPYRIGHT_TEXT};this._defaultCopyrightText={text:a.text};"satellite"===this._tileType&&(a=this._createCopyrightText(this._zoom));this._copyright=new navitime.geo.parts.CopyrightText(a);this._copyright.setMap(this);
d.scalebarInfo&&!1===d.scalebarInfo.isShow||(new navitime.geo.parts.ScaleBar(d.scalebarInfo?d.scalebarInfo.bottom:null)).setMap(this);d&&!1===d.wheelzoom||(d.wheelzoom=!0)},destroy:function(){if(null!==this._controls){for(var a in this._controls)this._controls[a].destroy();this._controls=null}if(null!==this._layers){for(a=this._layers.length;a--;)this._layers[a].destroy();this._layers=null}if(null!==this._parts){for(a=this._parts.length;a--;)this._parts[a].destroy();this._parts=null}if(null!==this._overlays){for(a=
this._overlays.length;a--;)this._overlays[a].destroy();this._overlays=null}this._parentDiv&&(this._objectContainerDiv&&(this._layerContainerDiv.removeChild(this._objectContainerDiv),this._objectContainerDiv=null),this._layerContainerDiv&&(this._parentDiv.removeChild(this._layerContainerDiv),this._layerContainerDiv=null),this.div.removeChild(this._parentDiv),this.div=this._parentDiv=null);this._zoom=this._latlng=this._displayBounds=null;this.events.destroy();this.events=null},addLayer:function(a){for(var b=
this._layers.length;b--;)if(this._layers[b]==a)return!1;a.div&&(a==this._baseLayer?this._layerContainerDiv.appendChild(a.div):this._objectContainerDiv.appendChild(a.div));a._map||a._onAdd(this);a._isTileLayer&&(this._grid._layers.push(a),a._gridNum=this._grid._layers.length-1,this._grid.tileGrid[a._gridNum]=[]);this._layers.push(a);return!0},removeLayer:function(a){a.div&&(a==this._baseLayer?this._layerContainerDiv.removeChild(a.div):this._objectContainerDiv.removeChild(a.div));for(var b=this._layers.length;b--;)if(this._layers[b]==
a)return this._layers.splice(b,1),this._baseLayer==a&&(this._baseLayer=null),!0;if(a._isTileLayer)for(var b=this._grid._layers,c=b.length;c--;)this.layers[c]==a&&(b.splice(c,1),delete this._grid.tileGrid[a._gridNum],a._gridNum=null);return!1},addControl:function(a){if(this._controls[a.id])return!1;this._controls[a.id]=a;this._parentDiv.appendChild(a.div);return!0},removeControl:function(a){delete this._controls[a.id];return a.div?(this._parentDiv.removeChild(a.div),!0):!1},addParts:function(a){for(var b=
this._parts.length;b--;)if(a==this._parts[b])return!1;this._parts.push(a);this._parentDiv.appendChild(a.div);return!0},removeParts:function(a){for(var b=this._parts.length;b--;)if(a==this._parts[b])return this._parts.splice(b,1),this._parentDiv.removeChild(a.div),!0;return!1},_changeBaseLayer:function(a){this._baseLayer._tileType=a;this._baseLayer.clearAllTiles();this._grid.tileGrid[this._baseLayer._gridNum]=[];this.moveTo(this.getCenterLatLng(),this._zoom)},_changeCopyright:function(a){this._copyright.setMap(null);
a=this._createCopyrightText(a);this._copyright=new navitime.geo.parts.CopyrightText(a);this._copyright.setMap(this)},_createCopyrightText:function(a){return"satellite"===this._tileType?{text:'\x3cspan style\x3d"background-color: #d3d3d3"\x3e'+this._defaultCopyrightText.text+" / "+this._getSatelliteCopyrightText(a)+"\x3c/span\x3e"}:this._defaultCopyrightText},_refresh:function(a){a&&(this.resizeTo(a),window.clearTimeout(this._resizeId),this._resizeId=null);this._baseLayer.clearAllTiles();this._grid.tileGrid[this._baseLayer._gridNum]=
[]},addOverlay:function(a){for(var b=this._overlays.length;b--;)if(a==this._overlays[b])return!1;this._overlays.push(a);this._overlayContainerDiv.appendChild(a.div);return!0},removeOverlay:function(a){for(var b=this._overlays.length;b--;)if(a==this._overlays[b])return this._overlays.splice(b,1),this._overlayContainerDiv.removeChild(a.div),!0;return!1},setCenter:function(a,b,c){return this._zoom===b?this.panTo(a):this.moveTo(a,b)},moveTo:function(a,b){if(this._baseLayer.listener||this._resizeId)return!1;
this.events.triggerEvent("movestart");this._grid._calculateDrawBounds(this._displayBounds,a,b);this._setView(a,b);this.events.triggerEvent("moveend");return!0},panTo:function(a){var b=this.getViewDivPixel();if(0===b.left&&0===b.top&&this._latlng.equals(a))return!1;this._latlng=a;var c=this.getPixcelFromLatLng(a),d=c.left-Math.ceil(this._displayBounds.getCenterX())+b.left,b=c.top-Math.ceil(this._displayBounds.getCenterY())+b.top,c=this._displayBounds.getWidth()*this._loadTimes,e=this._displayBounds.getHeight()*
this._loadTimes;this._isPan=!0;return d>=-c&&d<=c&&b>=-e&&b<=e?(this.events.triggerEvent("panstart"),this._moving(d,b),!0):this.moveTo(a,this._zoom)},panBy:function(a,b){this._isPan=!0;var c=this._displayBounds.getWidth()*this._loadTimes,d=this._displayBounds.getHeight()*this._loadTimes;if(a>=-c&&a<=c&&b>=-d&&b<=d)return this.events.triggerEvent("panstart"),this._moving(a,b),!0;c=this.getViewDivPixel();c=this.getMovedLatLng(-a+c.left,-b+c.top);return this.moveTo(c,this._zoom)},_moveToPix:function(a,
b){if(this._baseLayer.listener||this._resizeId)return!1;this._isPan=!0;this._requestAnimFrame(navitime.geo.Util.Function.bind(this._transform,this,a,b),!0);this._grid.moveALLTiles(this.getViewDivPixel());this.events.triggerEvent("pan");return!0},_setView:function(a,b){this._zoom!==b&&this._savePosition();this._latlng=a;this._zoom=b;this._grid.createAllTiles();var c=this.getPixcelFromLatLng(a),d=this.getViewDivPixel(),e=c.left-Math.ceil(this._displayBounds.getCenterX())+d.left,c=c.top-Math.ceil(this._displayBounds.getCenterY())+
d.top;this._transform(e,c);this._isPan=!1},_savePosition:function(){},zoomTo:function(a,b,c,d){if(this._baseLayer.listener||this._resizeId)return!1;a=this._checkZoomDelta(a);if(0===a)return!1;this.events.triggerEvent("zoomstart");d=!d||!0===d.animation;var e=this._zoom+a;if(this._isPan||0!==b||0!==c){var f=this.getViewDivPixel();this._latlng=this._grid._getMovedLatLng(this._zoom,f.left-b,f.top-c);if(0!==b||0!==c)f=this._grid._calculateTileNumber(this._latlng,e),this._latlng=this._grid._getMovedLatLng(e,
b,c,f)}d?this._zoomAnimation(a,b,c):this._noZoomAnimation(a);this._changeCopyright(e)},zoomToCenter:function(a,b,c,d){if(!this._baseLayer.listener&&!this._resizeId){a=this._checkZoomDelta(a);if(0===a)return null;this.events.triggerEvent("zoomstart");d=!d||!0===d.animation;var e=this._zoom+a,f=this.getViewDivPixel();if(this._isPan||0!==b||0!==c)this._latlng=this._grid._getMovedLatLng(this._zoom,f.left-b,f.top-c);d?this._zoomAnimation(a,0<a?2*b:-b,0<a?2*c:-c):this._noZoomAnimation(a);this._changeCopyright(e)}},
_checkZoomDelta:function(a){var b=this._zoom+a;if(b<this.ZOOM_MIN||this.ZOOM_MAX<b){if(b<this.ZOOM_MIN&&this._zoom==this.ZOOM_MIN||b>this.ZOOM_MAX&&this._zoom==this.ZOOM_MAX)return 0;a=b<this.ZOOM_MIN?this.ZOOM_MIN-this._zoom:this.ZOOM_MAX-this._zoom}return a},_zoomAnimation:function(a,b,c){},_noZoomAnimation:function(){},_transform:function(a,b){},changeSize:function(a){this._resizeId&&window.clearTimeout(this._resizeId);this.events._clearMouseCache();this._resizeId=setTimeout(navitime.geo.Util.Function.bind(function(a){a=
a?a:this._getCurrentBounds();var c=this.getMovedLatLng(this._displayBounds.getCenterX()-a.getCenterX(),this._displayBounds.getCenterY()-a.getCenterY());this._displayBounds=a;this._grid._calculateDrawBounds(this._displayBounds,c,this.getZoom(),!0);this._grid._recalculationDrawTiles(this.getViewDivPixel());this._latlng=this.getCenterLatLng();this.events&&this.events.triggerEvent("resize");this._resizeId=null},this,a),200)},resizeTo:function(a){this.changeSize(a)},getViewDivPixel:function(){return{left:this._translateX-
this._baseLayer._translateX,top:this._translateY-this._baseLayer._translateY}},getMovedLatLng:function(a,b,c){var d=null;c&&(d=this._grid._calculateTileNumber(c,this.getZoom()));return this._grid._getMovedLatLng(this._zoom,a,b,d)},getBounds:function(){var a=this._displayBounds.getWidth(),b=this._displayBounds.getHeight(),c=this.getCenterLatLng(),c=this._grid._calculateTileNumber(c,this._zoom);return new navitime.geo.LatLngBounds(this._grid._getMovedLatLng(this._zoom,-a/2,b/2,c),this._grid._getMovedLatLng(this._zoom,
a/2,-b/2,c))},getCenterLatLng:function(){var a=this.getViewDivPixel();return this.getMovedLatLng(a.left,a.top)},_getCurrentBounds:function(){var a=null;return a=isNaN(this._parentDiv.clientLeft)&&isNaN(this._parentDiv.clientTop)?new navitime.geo.BoundsInfo(this._parentDiv.style.left,this._parentDiv.style.left+this._parentDiv.style.width,this._parentDiv.style.top,this._parentDiv.style.top+this._parentDiv.style.height):new navitime.geo.BoundsInfo(this._parentDiv.clientLeft,this._parentDiv.clientLeft+
this._parentDiv.clientWidth,this._parentDiv.clientTop,this._parentDiv.clientTop+this._parentDiv.clientHeight)},getPixcelFromLatLng:function(a){return this._grid._getPixcelFromLatLng(a,this._zoom)},_moving:function(a,b){if(!this._resizeId){var c=0<a?Math.ceil(0.3*a):Math.floor(0.3*a),d=0<b?Math.ceil(0.3*b):Math.floor(0.3*b);0===c&&0===d||this.isMovingStop?this.events.triggerEvent("panend"):(this._transform(c,d),this._grid.moveALLTiles(this.getViewDivPixel()),this._requestAnimFrame(navitime.geo.Util.Function.bind(this._moving,
this,a-c,b-d),!1))}},_requestAnimFrame:function(){function a(a){window.setTimeout(a,1E3/60)}var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||a;return function(c,d){d&&b===a?c():b(c)}}(),enableMouse:function(){return this._mouseKey?this._controls[this._mouseKey].activate():!1},disableMouse:function(){return this._mouseKey?this._controls[this._mouseKey].deactivate():!1},enableZoomBar:function(){return this._zoomBarKey?
this._controls[this._zoomBarKey].activate():!1},disableZoomBar:function(){return this._zoomBarKey?this._controls[this._zoomBarKey].deactivate():!1},enableKeyboard:function(){return this._keyBoardKey?this._controls[this._keyBoardKey].activate():!1},disableKeyboard:function(){return this._keyBoardKey?this._controls[this._keyBoardKey].deactivate():!1},enableTouchPanel:function(){return this._touchKey?this._controls[this._touchKey].activate():!1},disableTouchPanel:function(){return this._touchKey?this._controls[this._touchKey].deactivate():
!1},getLatLng:function(){return this._latlng},getZoom:function(){return this._zoom},getMap:function(){return this},getCenter:function(){return this.getCenterLatLng()},_getSatelliteCopyrightText:function(a){return this.SATELLITE_COPYLIGHT_TEXT[a-6]},setTileType:function(a){this._tileType!==a&&(this._tileType=a,this._changeCopyright(this._zoom),this._changeBaseLayer(a))}});navitime.geo.namespace("navitime.geo.tile");
navitime.geo.tile.BasicTile=navitime.geo.base.Class({EVENT_TYPES:["loadstart","loadcancel","loadend"],bounds:null,imageTag:null,_masterTag:navitime.geo.DOM.create("img","ntgeo-tile"),_parameter:null,_onloadListener:null,_url:null,_blankUrl:null,initialize:function(a,b,c,d){this._parameter=d;this.bounds=c.clone();this._url=a;this._blankUrl=b;this.imageTag=this._masterTag.cloneNode(!1);this.imageTag.galleryimg="no";navitime.geo.DOM.addElementOption(this.imageTag,this.bounds,new navitime.geo.Size(this.bounds.getWidth(),
this.bounds.getHeight()));this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES);this._onloadListener=navitime.geo.Util.Function.bind(function(){this.events.triggerEvent("loadend")},this);navitime.geo.event.BrowserEventController.addEvent(this.imageTag,"load",this._onloadListener);this.imageTag.onerror=navitime.geo.Util.Function.bind(function(){},this);this.events.register("loadend",this,this.show);this.imageTag.setAttribute("unselectable","on",0)},destroy:function(){null!=
this.imageTag&&(navitime.geo.event.BrowserEventController.removeEvent(this.imageTag,"load",this._onloadListener),this.imageTag.parentNode&&this.imageTag.parentNode.removeChild(this.imageTag),this.imageTag=null);this._onloadListener=this._parameter=this.bounds=this._layer=null;this.events.destroy();this.events=null},clone:function(a){null==a&&(a=new navitime.geo.tile.BasicTile(this._url,this._blankUrl,this.bounds.clone(),this._parameter.clone()));return a},moveTo:function(a,b){b.x&&this._parameter.setX(b.x);
b.y&&this._parameter.setY(b.y);b.z&&this._parameter.setZ(b.z);this.bounds=a.clone();var c=this.imageTag.style;c.left=this.bounds.left+"px";c.top=this.bounds.top+"px";c.width=this.bounds.getWidth()+"px";c.height=this.bounds.getHeight()+"px";this.imageTag.className=this.imageTag.className.replace(" ntgeo-tile-loaded","");!this.isLoadEnd&&this.imageTag.parentNode&&this.events.triggerEvent("loadcancel")},draw:function(){this.isLoadEnd=!1;this.imageTag.src=this._url+this._parameter.toString();this.events.triggerEvent("loadstart")},
show:function(){this.isLoadEnd||(this.imageTag.className+=" ntgeo-tile-loaded",this.isLoadEnd=!0)}});navitime.geo.tile.Tile=navitime.geo.tile.BasicTile;navitime.geo.namespace("navitime.geo.layer.tile");
navitime.geo.layer.tile.BasicTileLayer=navitime.geo.base.Class(navitime.geo.layer.AbstractLayer,{_isTileLayer:!0,_landmark:0,_poi:0,_hidden:null,_ad:0,_res:null,_bgDiv:null,_tileType:null,_mainGrid:null,_bgGrid:null,initialize:function(a){navitime.geo.layer.AbstractLayer.prototype.initialize.apply(this,arguments);this.div.className+=" ntgeo-tile-layer";this._bgDiv=navitime.geo.DOM.create("div","ntgeo-layer ntgeo-tile-layer");this.div.style.zIndex=2;this._bgDiv.style.zIndex=1;this.div.setAttribute("unselectable",
"on",0);this.div.onselectstart=function(){return!1};this._bgDiv.setAttribute("unselectable","on",0);this._bgDiv.onselectstart=function(){return!1};if(a){var b=function(a){return!0===a||"true"===a||"1"===a||1===a};b(a.landmark)&&(this._landmark=1);b(a.poi)&&(this._poi=1);a.hidden&&(this._hidden=a.hidden);a.ad&&(this._ad=1)}},destroy:function(){this._bgDiv&&(this.map._layerContainerDiv.removeChild(this._bgDiv),this._bgDiv=null);navitime.geo.layer.AbstractLayer.prototype.destroy.apply(this,arguments)},
_onAdd:function(a){navitime.geo.layer.AbstractLayer.prototype._onAdd.apply(this,arguments);this.div.parentNode.appendChild(this._bgDiv)},setMap:function(a){navitime.geo.layer.AbstractLayer.prototype.setMap.apply(this,arguments)?this.div.parentNode.appendChild(this._bgDiv):this.div.parentNode.removeChild(this._bgDiv)},draw:function(){this.map._grid.createTargetTiles(this._gridNum)},createNewTile:function(a,b){this._landmark&&b.addQueryParam("landmark-on",this._landmark);this._poi&&b.addQueryParam("poi-on",
this._poi);this._ad&&b.addQueryParam("ad-on",this._ad);this._hidden&&b.addQueryParam("hidemapitems",this._hidden);this.map._config.PALETTE_TYPE&&""!==this.map._config.PALETTE_TYPE&&b.addQueryParam("res",this.map._config.PALETTE_TYPE);var c="";this._tileType?"satellite"===this._tileType&&(b.addQueryParam("tileType",this._tileType),c=this.map._config.URL_SATELLITE_TILE):c=this.map._config.getTileRequestURL();return new navitime.geo.tile.Tile(c,this.map._config.getFileRequestURL()+"/"+this.map._config.BLANK_URL,
a,b)},clearAllTiles:function(){this._restoreTileFront();this._removeBuffDiv();this._mainGrid=[];this._bgGrid=[]},_addNode:function(a){this.div.appendChild(a)},_switchingDiv:function(){this.map._grid.events.unregister("loadend",this,this._removeBuffDiv);this._timerId&&window.clearTimeout(this._timerId);var a=this.div;this.div=this._bgDiv;this._bgDiv=a;this.div.style.cssText="visibility: hidden";this._mainGrid=this._bgGrid||[];this._bgGrid=this.map._grid.tileGrid[0];this.map._grid.tileGrid[0]=this._mainGrid;
for(var a=this._bgGrid,b=a.length;b--;)for(var c=a[b],d=c.length;d--;){var e=c[d];e.isLoadEnd||(e.imageTag.src=this.map._config.getFileRequestURL()+"/"+this.map._config.BLANK_URL,e.imageTag.parentNode&&(e.imageTag.parentNode.removeChild(e.imageTag),e.events.triggerEvent("loadcancel"),e.isLoadEnd=!0))}this.map._grid.events.register("loadend",this,this._removeBuffDiv)},_restoreTileFront:function(){this.div.innerHTML="";this.div.style.visibility="";this.div.style.zIndex=2;this._bgDiv.style.zIndex=1},
_removeBuffDiv:function(){if(this.listener)return!1;this._timerId=window.setTimeout(navitime.geo.Util.Function.bind(function(){this._timerId=null;this._bgDiv.innerHTML="";this._bgDiv.style.cssText="visibility: hidden";this.map._grid.events.unregister("loadend",this,this._removeBuffDiv)},this),250)}});navitime.geo.layer.TileLayer=navitime.geo.layer.tile.BasicTileLayer;navitime.geo.namespace("navitime.geo.map");
navitime.geo.map.PrimitiveMap=navitime.geo.base.Class(navitime.geo.map.AbstractMap,{initialize:function(a,b,c,d){d=d||{};navitime.geo.map.AbstractMap.prototype.initialize.apply(this,[a,b,c,d]);a=new navitime.geo.control.MouseControl;b=new navitime.geo.control.KeyboardControl;a.setMap(this);d.wheelzoom||a.disableWheel();b.setMap(this);b.handlers.keyboard.deactivate();d&&d.disableZoomBar||(new navitime.geo.control.ZoomBarControl).setMap(this);navitime.geo.event.BrowserEventController.addEvent(window,"resize",
navitime.geo.Util.Function.bind(this.changeSize,this,null))},_zoomAnimation:function(a,b,c){var d=this.getViewDivPixel(),d=this._grid._getMovedLatLng(this._zoom,d.left-b,d.top-c);this._grid._calculateDrawBounds(this._displayBounds,this._latlng,this._zoom+a);var e=0<a?0:a,f=0<a?a:0;for(c=b=0;e<f;e++)b+=this._grid.tileSize*Math.pow(2,e),c+=this._grid.tileSize*Math.pow(2,e);b*=0<a?1:-1;c*=0<a?1:-1;d=this._grid._calculateTileNumber(d,this._zoom);this.zoomSource={x:d.tile_x,y:d.tile_y,ratioX:d.tilePoint_x/
this._grid.tileSize,ratioY:d.tilePoint_y/this._grid.tileSize};for(var g=[],d=this._grid.tileGrid[0],e=0,f=d.length;e<f;e++)for(var h=d[e],k=0,l=h.length;k<l;k++){var m=h[k];m.imgLeft=m.bounds.left;m.imgTop=m.bounds.top;m.imgWidth=this._grid.tileSize;m.imgHeight=this._grid.tileSize;g.push(m)}this._baseLayer._switchingDiv();var p=this._grid._centerTile;g.sort(function(a,b){var c=a._parameter.x-p.tile_x,d=a._parameter.y-p.tile_y,e=b._parameter.x-p.tile_x,f=b._parameter.y-p.tile_y;return Math.sqrt(c*
c+d*d)-Math.sqrt(e*e+f*f)});this._layerContainerDiv.className+=" ntgeo-zoom-anim";var q=function(b,c){var d=Math.ceil(0.5*b),e=Math.ceil(0.5*c);0==d&&0==e?(this._baseLayer._restoreTileFront(),this._setView(this._latlng,this._zoom+a),this._baseLayer.listener=null,this.events.triggerEvent("zoomend"),this._layerContainerDiv.className=this._layerContainerDiv.className.replace(" ntgeo-zoom-anim","")):(this._changeMapDisplaySize(g,d,e),this._baseLayer.listener=setTimeout(navitime.geo.Util.Function.bind(q,
this,b-d,c-e),1E3/60))};navitime.geo.Util.Function.bind(q,this,b,c)()},_savePosition:function(){this._baseLayer.div.style.left=-this._translateX+"px";this._baseLayer.div.style.top=-this._translateY+"px";this._objectContainerDiv.style.left=-this._translateX+"px";this._objectContainerDiv.style.top=-this._translateY+"px";this._baseLayer._translateX=this._translateX;this._baseLayer._translateY=this._translateY},_noZoomAnimation:function(a){this._grid._calculateDrawBounds(this._displayBounds,this._latlng,
this._zoom+a);this._baseLayer._switchingDiv();this._baseLayer._restoreTileFront();this._setView(this._latlng,this._zoom+a);this.events.triggerEvent("zoomend")},_changeMapDisplaySize:function(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=a[d];if(10<f.imgWidth||10<f.imgHeight){var g=f._parameter.y-this.zoomSource.y;f.imgLeft+=Math.round(b*(f._parameter.x-this.zoomSource.x-this.zoomSource.ratioX));f.imgTop+=Math.round(c*(g-this.zoomSource.ratioY));f.imgWidth+=b;f.imgHeight+=c;g=f.imageTag.style;g.left=
f.imgLeft+"px";g.top=f.imgTop+"px";g.width=f.imgWidth+"px";g.height=f.imgHeight+"px"}}},_transform:function(a,b){this._translateX-=a;this._translateY-=b;var c=this._layerContainerDiv.style;c.left=this._translateX+"px";c.top=this._translateY+"px"}});navitime.geo.map.Map=navitime.geo.map.PrimitiveMap;navitime.geo.namespace("navitime.geo.base.graphics");
navitime.geo.base.graphics.VML=navitime.geo.base.Class({xmlns:"urn:schemas-microsoft-com:vml",initialize:function(){if(!document.namespaces.v){document.namespaces.add("v",this.xmlns);for(var a=document.createStyleSheet(),b="shape rect roundrect oval fill stroke imagedata group textbox line image shadow filter".split(" "),c=0,d=b.length;c<d;c++)a.addRule("v\\:"+b[c],"behavior: url(#default#VML); position: absolute; display: inline-block;")}},createBaseDiv:function(){var a=navitime.geo.DOM.create("div");
a.className="ntgeo-vector";return a},createGroupDiv:function(a){var b=document.createElement("v:group");b.id=a;b.style.position="absolute";return b},setViewPort:function(a,b){if(a.children&&0!==a.children.length)for(var c=a.children,d=0,e=c.length;d<e;d++){var f=c.item(d);"group"===f.nodeName?(navitime.geo.DOM.addElementOption(f,null,new navitime.geo.Size(1,1),null,null,"visible"),f.coordsize="1,1"):f.style.width&&(f.style.height&&"1px"===f.style.width&&"1px"===f.style.height)&&(f.coordsize="1,1 ");
this.setViewPort(f,b)}},drawCircle:function(a,b,c,d,e,f,g){f||(f=document.createElement("v:oval"),a&&(f.id=a));navitime.geo.DOM.addElementOption(f,new navitime.geo.BoundsInfo(b-d,b+d,c-e,c+e),new navitime.geo.Size(2*d,2*e));this._setStyle(a,f,g);return f},drawRect:function(a,b,c,d,e,f,g){f||(f=g&&g.type&&"round"===g.type?document.createElement("v:roundrect"):document.createElement("v:rect"),a&&(f.id=a));navitime.geo.DOM.addElementOption(f,new navitime.geo.BoundsInfo(b,b+d,c,c+e),new navitime.geo.Size(d,
e));this._setStyle(a,f,g);return f},drawLine:function(a,b,c,d,e,f,g){return this.drawPolyline(a,b+","+c+" "+d+","+e,f,g)},drawPolyline:function(a,b,c,d){c||(c=document.createElement("v:shape"),a&&(c.id=a));var e=b.indexOf(" ");if(b="m "+b.substring(0,e)+" l "+b.substring(e)+" e")c.path=b;b=c.style;b.width="1px";b.height="1px";this._setStyle(a,c,d);return c},drawPolygon:function(a,b,c,d){c||(c=document.createElement("v:shape"),a&&(c.id=a));var e=b.indexOf(" ");if(b="m "+b.substring(0,e)+" l "+b.substring(e)+
" x e")c.path=b;b=c.style;b.width="1px";b.height="1px";this._setStyle(a,c,d);return c},drawPath:function(a,b,c,d){c||(c=document.createElement("v:shape"),a&&(c.id=a));b&&(c.path=b);b=c.style;b.width="100%";b.height="100%";this._setStyle(a,c,d);return c},drawImage:function(a,b,c,d,e,f,g){var h=g.style;g||(g=document.createElement("v:image"),a&&(g.id=a));f&&(g.src=f);b&&(h.left=b);c&&(h.top=c);d&&(h.width=d);e&&(h.height=e);return g},_setStyle:function(a,b,c){c=c?c:{};var d=document.createElement("v:fill");
a&&(d.id=a+"_fill");b.appendChild(d);var e=document.createElement("v:stroke");a&&(e.id=a+"_stroke");b.appendChild(e);c.fillcolor?(d.on=!0,d.color=navitime.geo.Color.changeHex(c.fillcolor)):d.on=!1;c.fillopacity&&(d.opacity=c.fillopacity);e.color=c.strokecolor?navitime.geo.Color.changeHex(c.strokecolor):"black";c.strokeweight&&(e.weight=c.strokeweight+"px");c.strokeopacity&&(e.opacity=c.strokeopacity);c.strokelinecap&&(e.endcap=c.strokelinecap);c.strokelinejoin&&(e.joinstyle=c.strokelinejoin);c.strokedasharray&&
(e.dashstyle=c.strokedasharray.replace(/,/g," "));if(c.shadowcolor||c.shadowopacity)d=document.getElementById(a+"_shadow"),d||(d=document.createElement("v:shadow"),a&&(d.id=a+"_shadow"),d.on=!0,d.type="double",d.offset="3px, 3px",d.offset2="5px, 5px",b.appendChild(d)),c.shadowcolor?(d.color=c.shadowcolor,d.color2=c.shadowcolor):(d.color="blue",d.color2="blue"),c.shadowopacity&&(d.opacity=c.shadowopacity/2);b.setAttribute("unselectable","on",0)}});navitime.geo.base.graphics.Renderer=new navitime.geo.base.graphics.VML;navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.IEMousePin=navitime.geo.base.Class(navitime.geo.overlay.AbstractPin,{EVENT_TYPES:["dragstart","dragend","drag","rightclick","dblrightclick"],_documentsEvent:void 0,_outsideMap:!1,_latlng:null,_activateDraggable:function(){this.events.register("mousedown",this,this._dragstart)},_deactivateDraggable:function(){this.events.unregister("mousedown",this,this._dragstart);var a=this.getMap().events;a.unregister("mousemove",this,this._drag);a.unregister("mouseup",this,this._dragend)},
_dragstart:function(a){var b=this.getMap();b.disableMouse();b.events.register("mousemove",this,this._drag);b.events.register("mouseup",this,this._dragend);b.events.register("mouseout",this,this._mouseout);this._icon.imageDiv.setCapture&&this._icon.imageDiv.setCapture();this._documentsEvent||(this._documentsEvent=new navitime.geo.event.InnerEventController(this),this._documentsEvent.BROWSER_EVENTS=["mouseup"],this._documentsEvent.attachToElement(document),this._documentsEvent.register("mouseup",this,
navitime.geo.Util.Function.bind(this._dragend,this,!0)));navitime.geo.event.BrowserEventController.stop(a)},_drag:function(a){var b=this.getMap(),c=b.getViewDivPixel();this._isDragged?(b=b._displayBounds,a.xy.x>b.left&&(a.xy.x<b.right&&a.xy.y>b.top&&a.xy.y<b.bottom)&&(this._outsideMap=!1,this._icon.moveTo(a.xy.x-c.left,a.xy.y-c.top),this.events.triggerEvent("drag",a))):(this.events.triggerEvent("dragstart",a),this._isDragged=!0,this._originalZIndex=this.getZIndex(),this._options.raiseOnDrag&&this.setZIndex(2147483647))},
_dragend:function(a){var b=this.getMap();b.events.unregister("mousemove",this,this._drag);b.events.unregister("mouseout",this,this._mouseout);b.events.unregister("mouseup",this,this._dragend);this._icon.imageDiv.releaseCapture&&this._icon.imageDiv.releaseCapture();this._documentsEvent||(this._documentsEvent.destroy(),this._documentsEvent=null);b.enableMouse();if(this._isDragged){var c=b.getViewDivPixel(),d=this._outsideMap?{x:this._latlng.x,y:this._latlng.y}:{x:a.xy.x,y:a.xy.y},b=b.getMovedLatLng(c.left+
b._displayBounds.getCenterX()-d.x,c.top+b._displayBounds.getCenterY()-d.y);this.setPosition(b);this.setZIndex(this._originalZIndex);this._outsideMap=this._isDragged=!1;this.events.triggerEvent("dragend",a)}},_mouseout:function(a){var b=this.getMap();navitime.geo.Util.fixOnMouseOut(b.div,a)&&(this._isDragged&&!this._outsideMap)&&(this._latlng={x:a.xy.x,y:a.xy.y},this._outsideMap=!0)}});navitime.geo.overlay.Pin=navitime.geo.overlay.IEMousePin;navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.IEInfoWindow=navitime.geo.base.Class(navitime.geo.overlay.AbstractInfoWindow,{initialize:function(a){navitime.geo.overlay.AbstractInfoWindow.prototype.initialize.apply(this,arguments);this.eventDiv=this.div=navitime.geo.DOM.create("div","ntgeo-popup");this._makePopup();this.events.register("setmap",this,this._resize);this.events.register("content_changed",this,this._resize);this.setOptions(a);a.map&&this.setMap(a.map);if(!a.disableClose){var b=navitime.geo.base.Config.clone(),
c=new navitime.geo.Icon(b.getFileRequestURL()+"/"+b.CLOSE_URL,{size:new navitime.geo.Size(15,15)});navitime.geo.event.BrowserEventController.addEvent(c.imageDiv,"click",navitime.geo.Util.Function.bind(this.setVisible,this,!1),this);c.imageDiv.style.zIndex=20;c.imageDiv.style.top="15px";c.imageDiv.style.right="15px";c.imageDiv.style.left="";c.display(!1);this.div.appendChild(c.imageDiv);this._closeListener=navitime.geo.Util.Function.bind(function(){this.setVisible(!1);this.events.triggerEvent("closeclick")},
this);this.closeDiv=c.imageDiv;navitime.geo.event.BrowserEventController.addEvent(this.closeDiv,"click",this._closeListener);navitime.geo.base.CSS3Style&&navitime.geo.base.CSS3Style.USERSELECT&&(c.imageDiv.style[navitime.geo.base.CSS3Style.USERSELECT]="none");this._options.closeButtonDisplay===navitime.geo.DisplayType.FOCUSED?(this.events.register("mouseover",this,navitime.geo.Util.Function.bind(function(){this.div.style.zIndex=2147483647;c.imageDiv.style.display=""},this)),this.events.register("mouseout",
this,navitime.geo.Util.Function.bind(function(){this.div.style.zIndex=this._options.zIndex;c.imageDiv.style.display="none"},this))):(this.div.style.zIndex=2147483647,c.imageDiv.style.display="")}this.events.register("click",this,function(a){a.stop()});this.events.register("mousedown",this,function(a){a.stop()});this.events.register("dblclick",this,function(a){a.stop()});this.events.register("mousewheel",this,function(a){a.stop()});this.events.register("DOMMouseScroll",this,function(a){a.stop()})},
destroy:function(){this._closeDiv&&this.events.unregister("click",this._closeDiv,this.closeClick);navitime.geo.overlay.AbstractInfoWindow.prototype.destroy.apply(this)},_makePopup:function(){var a=null!=this._backgroundColor?this._backgroundColor:"#ffffff",b=null!=this._borderColor?this._borderColor:"#949494";this.rect=navitime.geo.base.graphics.Renderer.drawRect("popup_body",0,0,0,0,null,{fillcolor:a,strokecolor:b,type:"round"});this.padding=15;this.rect.style.padding=this.padding+"px";this.rect.style.zIndex=
"4";this.rect.arcsize="0.03";this.contentDiv=navitime.geo.DOM.create("div","ntgeo-popup-text");this.rect.appendChild(this.contentDiv);this.tail=document.createElement("v:shape");this.tail.path="m 48 11 l 1 43 l 14 18 c 14 17 14 16 14 16 c 14 13 12 11 9 11 e";this.tail.className="ntgeo-infowindow-tail";this.tail.coordsize="200,200";this.tail.coordorigin="0 0";var c=document.createElement("v:fill");c.on=!0;c.color=a;var d=document.createElement("v:stroke");d.color=b;this.tail.appendChild(c);this.tail.appendChild(d);
this.line=document.createElement("v:line");this.line.from="0,0";this.line.to="37,0";this.line.style.zIndex="6";b=document.createElement("v:stroke");b.color=a;b.weight="2";this.line.appendChild(b);a=navitime.geo.DOM.create("div","ntgeo-popup-shadow");this.div.appendChild(a);this.div.appendChild(this.rect);this.div.appendChild(this.tail);this.div.appendChild(this.line)},_resize:function(){if(this._map){this._options.maxWidth&&this._options.maxWidth<this.contentDiv.offsetWidth&&(this.contentDiv.style.width=
this._options.maxWidth+"px",this.contentDiv.style.whiteSpace="normal");this.div.style.width=this.contentDiv.offsetWidth+2*this.padding;this.div.style.height=this.contentDiv.offsetHeight+2*this.padding;this.rect.style.width=this.contentDiv.offsetWidth+2*this.padding;this.rect.style.height=this.contentDiv.offsetHeight+2*this.padding;var a=this.div.offsetWidth/2-25;this._centerOffset=0>a?0:a;this.tail.style.left=this._centerOffset+"px";this.tail.style.top=this.contentDiv.offsetHeight+19+"px";this.line.style.left=
this._centerOffset+11+"px";this.line.style.top=this.contentDiv.offsetHeight+19+10+"px";a=this._map.getPixcelFromLatLng(this._options.position);this.moveTo(a.left,a.top);this.setVisible(this._options.visible)}}});navitime.geo.overlay.InfoWindow=navitime.geo.overlay.IEInfoWindow;navitime.geo.namespace("navitime.geo.marker");
navitime.geo.marker.VectorPopup=navitime.geo.base.Class({EVENT_TYPES:["setText"],_div:null,_textDiv:null,latlng:null,events:null,_dispPos:null,CLOSE_ICON_URL:null,initialize:function(a,b,c){this._div=navitime.geo.DOM.create("div","ntgeo-popup");this._dispPos={};this._dispPos.x=b.dispPos&&b.dispPos.x?b.dispPos.x:0;this._dispPos.y=b.dispPos&&b.dispPos.y?b.dispPos.y:0;this.latlng=a;this.events=new navitime.geo.event.InnerEventController(this,this._div,this.EVENT_TYPES,!1);b=b?b:{};b.borderColor=b.borderColor?
navitime.geo.Color.changeHex(b.borderColor):"#000000";b.backgroundColor=b.backgroundColor?navitime.geo.Color.changeHex(b.backgroundColor):"#ffffff";b.fontSize=b.fontSize?b.fontSize:"13px";b.text=b.text?b.text:"";this._makePopup(b);var d=new navitime.geo.Icon(this.CLOSE_ICON_URL);navitime.geo.event.BrowserEventController.addEvent(d.imageDiv,"click",navitime.geo.Util.Function.bind(this.display,this,!1),this);d.imageDiv.style.zIndex=20;d.imageDiv.style.top="15px";d.imageDiv.style.right="15px";d.imageDiv.style.left=
"";d.display(!1);this._div.appendChild(d.imageDiv);this.events.register("mouseover",this,function(){this._div.style.zIndex="100";d.display(!0)});this.events.register("mouseout",this,function(){this._div.style.zIndex="";d.display(!1)});this.events.register("click",this,navitime.geo.Util.falseFn);this.events.register("mousedown",this,navitime.geo.Util.falseFn);this.events.register("dblclick",this,navitime.geo.Util.falseFn)},destroy:function(){this.events.destroy();this.events=null;this._div.parentNode&&
this._div.parentNode.removeChild(this._div);this._latlng=this._dispPos=this._div=null},moveTo:function(a,b){this._div.style.left=a-25+this._dispPos.x+"px";this._div.style.top=b-this._div.clientHeight-10+this._dispPos.y+"px"},display:function(a){this._div.style.visibility=a?"":"hidden"},isShow:function(){return""==this._div.style.visibility},_appendDiv:function(a){a.appendChild(this._div)},_makePopup:function(a){var b=navitime.geo.base.graphics.Renderer.drawRect("popup_body",0,0,0,0,null,{fillcolor:a.backgroundColor,
strokecolor:a.borderColor,type:"round"});b.style.padding="15px";b.style.zIndex="4";b.arcsize="0.03";this._textDiv=navitime.geo.DOM.create("div","ntgeo-popup-text");this._textDiv.style.fontSize=a.fontSize;this._textDiv.innerHTML=a.text;b.appendChild(this._textDiv);var c=navitime.geo.DOM.create("div","ntgeo-popup-tail");c.style.borderTopColor=a.backgroundColor;var d=navitime.geo.DOM.create("div","ntgeo-popup-tail-stroke");d.style.borderTopColor=a.borderColor;a=navitime.geo.DOM.create("div","ntgeo-popup-shadow");
this._div.appendChild(a);this._div.appendChild(b);this._div.appendChild(d);this._div.appendChild(c);var e=this._div.style,f=this._textDiv,g=function(){b.style.width=f.offsetWidth+30;b.style.height=f.offsetHeight+30;c.style.top=f.offsetHeight+18+"px";d.style.top=f.offsetHeight+30+"px";e.width=f.offsetWidth+30;e.height=f.offsetHeight+30};a=function(){window.setTimeout(g,50)};a();this.events.register("setText",null,a)},getLatLng:function(){return this.latlng.clone()},setLatLng:function(a){this.latlng=
a},setText:function(a){this._textDiv.innerHTML=a;this.events.triggerEvent("setText")}});navitime.geo.marker.Popup=navitime.geo.marker.VectorPopup;navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Arrow=navitime.geo.base.Class(navitime.geo.graphics.GraphicUtil,{EVENT_TYPES:["changestate","add","remove"],events:null,_pix:null,_prevPix:null,_options:null,_arrow:null,_arrowHead:null,_straight:null,_circle:null,_arrowMiddlePix:{},_littleArrowHeadPix:null,_slidePix:null,_radius:0,_arrowOption:{strokecolor:"white",strokeweight:2,strokeopacity:1,strokelinecap:"butt",strokelinejoin:"butt"},initialize:function(a,b,c){this._pix=a||{x:0,y:0};this._prevPix=b||{x:0,y:0};this._options=
c||{};this._options.slide=c.slide||0;this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES);b=this._calcUnitVector(this._calcVector(a,b));b=this._calcArrowHeadPix(a,b);this._arrowMiddlePix=this._calcArrowMiddlePix(b);this._slidePix={x:a.x+this._options.slide,y:a.y+this._options.slide};this._radius=this._calcArrowRadius(this._arrowMiddlePix,this._slidePix);this._littleArrowHeadPix=this._calcLittleArrowHeadPix(a,b)},destroy:function(){this.events&&this.events.destroy();
this._slidePix=this._littleArrowHeadPix=this._arrowMiddlePix=this._circle=this._straight=this._arrowHead=this._arrow=this._options=null;this._radius=0},_draw:function(a){},_calcUnitVector:function(a){return{x:a.x/a.vectorLen,y:a.y/a.vectorLen}},_calcArrowHeadPix:function(a,b){return{lx:a.x-7*b.y-7*b.x,ly:a.y+7*b.x-7*b.y,rx:a.x+7*b.y-7*b.x,ry:a.y-7*b.x-7*b.y}},_calcArrowMiddlePix:function(a){return{x:Math.round((a.rx+a.lx)/2)+this._options.slide,y:Math.round((a.ry+a.ly)/2)+this._options.slide}},_calcArrowRadius:function(a,
b){var c=Math.pow(a.x-b.x,2),d=Math.pow(a.y-b.y,2);return Math.round(Math.sqrt(c+d)+4)},_calcLittleArrowHeadPix:function(a,b){return{lx:Math.round((3*b.lx+a.x)/4)+this._options.slide,ly:Math.round((3*b.ly+a.y)/4)+this._options.slide,rx:Math.round((3*b.rx+a.x)/4)+this._options.slide,ry:Math.round((3*b.ry+a.y)/4)+this._options.slide}}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Circle=navitime.geo.base.Class({EVENT_TYPES:["changestate","add","remove"],events:null,_options:null,div:null,_radius:null,_center:null,DEG_TO_RAD:Math.PI/180,initialize:function(a){this._options=a||{};this._radius=[];this.events=new navitime.geo.event.InnerEventController(this,null,this.EVENT_TYPES)},destroy:function(){this.events&&this.events.destroy();this._center=this._radius=this.div=this._options=null},_draw:function(a){},updatePixelPaths:function(a){var b=a.getZoom();
if(!this._radius[b]){var c=new navitime.geo.LatLng(navitime.geo.LatLng.transMILLItoDEG(this._options.center.lat),navitime.geo.LatLng.transMILLItoDEG(this._options.center.lng)-this._getLngRadius());this._radius[b]=Math.max(Math.round(a.getPixcelFromLatLng(this._options.center).left-a.getPixcelFromLatLng(c).left),1)}this.radius=this._radius[b];this._center=a.getPixcelFromLatLng(this._options.center)},_getLngRadius:function(){var a=40075017*Math.cos(this.DEG_TO_RAD*navitime.geo.LatLng.transMILLItoDEG(this._options.center.lat));
return 360*(this._options.radius/a)},setOptions:function(a){this._options=a||{};this._radius=[];this.events.triggerEvent("changestate")},setCenter:function(a){a&&(this._radius=[],this._options.center=a,this.events.triggerEvent("changestate"))},getCenter:function(){return this._options.center},setRadius:function(a){a&&(this._radius=[],this._options.radius=a,this.events.triggerEvent("changestate"))},getRadius:function(){return this._options.radius},setVisible:function(a){this._visibility=a?"":"hidden";
this.div&&(this.div.style.visibility=this._visibility);this.events.triggerEvent("changestate")},getVisible:function(){return"hidden"===this._visibility?!1:!0},getZIndex:function(){return this._options.zindex},setZIndex:function(a){this._options.zindex=a;this.events.triggerEvent("changestate")},getMap:function(){return this._options.map}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Path=navitime.geo.base.Class(navitime.geo.graphics.GraphicUtil,{EVENT_TYPES:["changestate","add","remove"],events:null,_options:null,div:null,_paths:null,_arrowIndexes:null,_arrowPacks:null,_latLngPaths:null,_zoomArrowIndexes:null,initialize:function(a){this._options=a||{};this._options.slide=a.slide||0;this._options.path[0]instanceof Array||(this._options.path=[this._options.path]);this._latLngPaths=[];this._zoomArrowIndexes=[];this.events=new navitime.geo.event.InnerEventController(this,
null,this.EVENT_TYPES);for(a=this._options.path.length;a--;)navitime.geo.Util.changeDynamicArray(this._options.path[a],this,function(){this._latLngPaths=[];this._zoomArrowIndexes=[];this.events.triggerEvent("changestate")})},destroy:function(){this.events&&this.events.destroy();this._arrowPacks&&this._destroyArrowPacks();this._arrowIndexes=this._paths=this.div=this._options=null},_destroyArrowPacks:function(){for(var a=this._arrowPacks.length;a--;)this._destroyArrowPack(this._arrowPacks.pop())},_destroyArrowPack:function(a){for(var b=
a.length;b--;)a.pop().destroy()},_draw:function(a){},updatePixelPaths:function(a){var b=a.getZoom();this._paths=this._latLngPaths[b]?this._calcPixelPaths(this._latLngPaths[b],a):this._calcSimplifiedPixelPaths(b,a);this._options.arrow&&(this._removeArrowPacks(),this._zoomArrowIndexes[b]||(this._zoomArrowIndexes[b]=this._createArrowIndexes(a)),this._arrowIndexes=this._zoomArrowIndexes[b])},_calcPixelPaths:function(a,b){for(var c=[],d=a.length;d--;){var e=a[d];c[d]=[];for(var f=e.length;f--;){var g=
b.getPixcelFromLatLng(e[f]);c[d].unshift({x:g.left,y:g.top})}}return c},_calcSimplifiedPixelPaths:function(a,b){for(var c=this._options.path,d=this._calcPixelPaths(c,b),e=[],f=[],g=d.length;g--;){var h=this.createSimplifiedIndex(d[g]);f[g]=this._simplify(c[g],h);e[g]=this._simplify(d[g],h)}this._latLngPaths[a]=f;return e},_simplify:function(a,b){for(var c=[],d=a.length;d--;)b[d]&&c.unshift(a[d]);return c},_createArrowIndexes:function(a){a=a._grid._drawBounds.clone().getHeight()/1/3;for(var b=0,c=
[],d=0,e=this._paths.length;d<e;d++){var f=this._paths[d];c[d]=[];b=this._appendArrowIndex(c[d],f,a,b)}return c},_appendArrowIndex:function(a,b,c,d){for(var e=1,f=b.length;e<f;e++){var g=this._calcVector(b[e],b[e-1]).vectorLen,h=d>c,k=e<f-10;d+=g;this._isCreatableArrow(g,h,k)&&(a.push(e),d=0)}return d},_isCreatableArrow:function(a,b,c){var d=!1;0!==a&&b&&c&&(d=!0);return d},_createArrowPacks:function(){for(var a=[],b=0,c=this._arrowIndexes.length;b<c;b++)a[b]=this._createArrowPack(this._arrowIndexes[b],
this._paths[b]);return a},_createArrowPack:function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];c.push(new navitime.geo.graphics.Arrow(b[f],b[f-1],this._options))}return c},_drawArrowPacks:function(a){for(var b=0,c=this._arrowPacks.length;b<c;b++)this._drawArrowPack(this._arrowPacks[b],a)},_drawArrowPack:function(a,b){for(var c=0,d=a.length;c<d;c++)a[c]._draw(b)},_remove:function(a){},_removeArrowPacks:function(){if(this._arrowPacks){for(var a=0,b=this._arrowPacks.length;a<b;a++)this._removeArrowPack(this._arrowPacks[a]);
this._arrowPacks=null}},_removeArrowPack:function(a){for(var b=0,c=a.length;b<c;b++)a[b].events.triggerEvent("remove")},setOptions:function(a){this._options=a||{};this._options.path[0]instanceof Array||(this._options.path=[this._options.path]);for(a=this._options.path.length;a--;)navitime.geo.Util.changeDynamicArray(this._options.path[a],this,function(){this._latLngPaths=[];this._zoomArrowIndexes=[];this.events.triggerEvent("changestate")});this.events.triggerEvent("changestate")},setPath:function(a){this._options.path[0]instanceof
Array||(a=[a]);this._options.path=a;for(a=this._options.path.length;a--;)navitime.geo.Util.changeDynamicArray(this._options.path[a],this,function(){this._latLngPaths=[];this._zoomArrowIndexes=[];this.events.triggerEvent("changestate")});this.events.triggerEvent("changestate")},getPath:function(){return this._options.path},setVisible:function(a){this._visibility=a?"":"hidden";this.div&&(this.div.style.visibility=this._visibility);this.events.triggerEvent("changestate")},getVisible:function(){return"hidden"===
this._visibility?!1:!0},getZIndex:function(){return this._options.zindex},setZIndex:function(a){this._options.zindex=a;this.events.triggerEvent("changestate")},getMap:function(){return this._options.map}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.VectorCollection=navitime.geo.base.Class({events:null,div:null,_buffer:0,initialize:function(a){this._options=a||{};this._options.painters=this._options.painters||[];this._sortPainter();this.div=this._createBase();this.events=new navitime.geo.event.InnerEventController(this,null);this._statusChangeListener=navitime.geo.Util.Function.bind(function(a){this._sortPainter();for(a=this._options.painters.length;a--;)this._options.painters[a].updatePixelPaths(this._options.map);this._draw()},
this);this._options.map&&this.setMap(this._options.map)},destroy:function(){for(var a=this._options.painters.length;a--;){var b=this._options.painters[a];b._node&&this.div.removeChild(b._node);b.destroy()}this.events&&this.events.destroy();this._redrawListener=null;this._options.map.removeOverlay(this);this.div=null},add:function(a){this._options.painters.push(a);this._options.map&&(a.events.register("changestate",this,this._statusChangeListener),this._statusChangeListener());a.events.triggerEvent("add")},
remove:function(a){for(var b=this._options.painters.length;b--;)a==this._options.painters[b]&&(this._options.painters.splice(b,1),this._options.map&&a.events.unregister("changestate",this,this._statusChangeListener),a._node&&this.div.removeChild(a._node),a.events.triggerEvent("remove"))},setOptions:function(a){for(var b=this._options.painters.length;b--;)this.remove(this._options.painters[b]);this.setMap(null);this._options=a||{};this._options.painters=this._options.painters||[];this._sortPainter();
this._options.map&&this.setMap(this._options.map)},setMap:function(a){if(a){this._options.map=a;a.addOverlay(this);for(var b=this._options.painters.length;b--;){var c=this._options.painters[b];c.events.register("changestate",this,this._statusChangeListener)}a.events.register("moveend",this,this._statusChangeListener);a.events.register("zoomend",this,this._statusChangeListener);a.events.register("resize",this,this._statusChangeListener);a.events.register("panend",this,this._draw);this._statusChangeListener()}else if(this._options.map){this._options.map.removeOverlay(this);
for(b=this._options.painters.length;b--;)c=this._options.painters[b],c.events.unregister("changestate",this,this._statusChangeListener);this._options.map.events.unregister("moveend",this,this._statusChangeListener);this._options.map.events.unregister("zoomend",this,this._statusChangeListener);this._options.map.events.unregister("resize",this,this._statusChangeListener);this._options.map.events.unregister("panend",this,this._draw)}},getMap:function(){return this._options.map},_createBase:function(){},
_setViewPort:function(a,b){},_draw:function(){this.div.style.display="none";this._options.map.getZoom();var a=this._options.map._grid._drawBounds.clone(),b=this._options.map.getViewDivPixel(),a=new navitime.geo.BoundsInfo(a.left-a.getWidth()*this._buffer-b.left,a.right+a.getWidth()*this._buffer-b.left,a.top-a.getHeight()*this._buffer-b.top,a.bottom+a.getHeight()*this._buffer-b.top);this._setViewPort(this.div,a);for(var b=0,c=this._options.painters.length;b<c;b++)this._options.painters[b]._draw(this.div,
a);this.div.style.display=""},_sortPainter:function(){this._options.painters.sort(function(a,b){return a._options.zindex-b._options.zindex})}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.VectorUtil={_setStyle:function(a,b){b=b||{};this._fill||(this._fill=document.createElement("v:fill"),a.appendChild(this._fill));this._stroke||(this._stroke=document.createElement("v:stroke"),a.appendChild(this._stroke));b.fillcolor?(this._fill.on=!0,this._fill.color=navitime.geo.Color.changeHex(b.fillcolor)):this._fill.on=!1;if(b.fillopacity||0===b.fillopacity)this._fill.opacity=b.fillopacity;this._stroke.color=b.strokecolor?navitime.geo.Color.changeHex(b.strokecolor):"black";
if(b.strokeweight||0===b.strokeweight)this._stroke.weight=b.strokeweight+"px";if(b.strokeopacity||0===b.strokeopacity)this._stroke.opacity=b.strokeopacity;b.strokelinecap&&(this._stroke.endcap=b.strokelinecap);b.strokelinejoin&&(this._stroke.joinstyle=b.strokelinejoin);b.strokedasharray&&(this._stroke.dashstyle=b.strokedasharray.replace(/,/g," "));if(b.shadowcolor||b.shadowopacity){var c=document.getElementById("shadow");c||(c=document.createElement("v:shadow"),c.on=!0,c.type="double",c.offset="3px, 3px",
c.offset2="5px, 5px",a.appendChild(c));b.shadowcolor?(c.color=b.shadowcolor,c.color2=b.shadowcolor):(c.color="blue",c.color2="blue");b.shadowopacity&&(c.opacity=b.shadowopacity/2)}a.setAttribute("unselectable","on",0)}};navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Arrow=navitime.geo.base.Class(navitime.geo.graphics.Arrow,navitime.geo.graphics.VectorUtil,{_draw:function(a){this._createCircle();this._createArrowHead();this._createStraight();this._arrow||(this._arrow=this._createGroupDiv(),this.events.register("remove",this,navitime.geo.Util.Function.bind(function(){a.removeChild(this._arrow)},this)),this.events.attachToElement(this._arrow),this._arrow.appendChild(this._circle),this._arrow.appendChild(this._arrowHead),this._arrow.appendChild(this._straight));
this._setLocation(this._arrow);this._arrow.parentElement||a.appendChild(this._arrow)},_createCircle:function(){var a=new navitime.geo.Color(this._options.strokecolor);a.addBrightnessPercent(-50);this._circle||(this._circle=document.createElement("v:oval"),this._circle.id="arrow"+navitime.geo.Util._getSerial(),this._setStyle(this._circle,{strokecolor:"white",strokeweight:2,fillopacity:0.8,strokeopacity:0.8,fillcolor:a.getHex()}));this._setCircleElementOption(this._circle)},_createArrowHead:function(){this._arrowHead||
(this._arrowHead=document.createElement("v:shape"),this._arrowHead.id="arrow"+navitime.geo.Util._getSerial(),this._setStyle(this._arrowHead,this._arrowOption));this._arrowHead.path=this._createArrowHeadPoint();this._setLocation(this._arrowHead)},_createArrowHeadPoint:function(){var a;a=""+("m "+this._littleArrowHeadPix.lx+" "+this._littleArrowHeadPix.ly+" ");a+="l "+this._slidePix.x+" "+this._slidePix.y+" ";a+="l "+this._littleArrowHeadPix.rx+" "+this._littleArrowHeadPix.ry+" ";return a+"e"},_createStraight:function(){this._straight||
(this._straight=document.createElement("v:shape"),this._straight.id="arrow"+navitime.geo.Util._getSerial(),this._setStyle(this._straight,this._arrowOption));this._straight.path=this._createStraightPoint();this._setLocation(this._straight)},_createStraightPoint:function(){var a;a=""+("m "+this._slidePix.x+" "+this._slidePix.y+" ");a+="l "+(2*this._arrowMiddlePix.x-this._slidePix.x)+" "+(2*this._arrowMiddlePix.y-this._slidePix.y)+" ";return a+"e"},_createGroupDiv:function(){var a=document.createElement("v:group");
a.id="arrowGroup_"+navitime.geo.Util._getSerial();a.style.position="absolute";return a},_setCircleElementOption:function(a){var b,c;c=2*this._radius;var d=2*this._radius;b=new navitime.geo.BoundsInfo(this._arrowMiddlePix.x-this._radius,this._arrowMiddlePix.x+this._radius,this._arrowMiddlePix.y-this._radius,this._arrowMiddlePix.y+this._radius);c=new navitime.geo.Size(c,d);navitime.geo.DOM.addElementOption(a,b,c)},_setLocation:function(a){var b=a.style;b.width="1px";b.height="1px";a.coordsize="1,1"},
_setStyle:function(a,b){var c=document.createElement("v:fill"),d=document.createElement("v:stroke");b=b||{};a.appendChild(c);a.appendChild(d);b.fillcolor?(c.on=!0,c.color=navitime.geo.Color.changeHex(b.fillcolor)):c.on=!1;if(b.fillopacity||0===b.fillopacity)c.opacity=b.fillopacity;d.color=b.strokecolor?navitime.geo.Color.changeHex(b.strokecolor):"black";if(b.strokeweight||0===b.strokeweight)d.weight=b.strokeweight+"px";if(b.strokeopacity||0===b.strokeopacity)d.opacity=b.strokeopacity;b.strokelinecap&&
(d.endcap=b.strokelinecap);b.strokelinejoin&&(d.joinstyle=b.strokelinejoin);b.strokedasharray&&(d.dashstyle=b.strokedasharray.replace(/,/g," "));if(b.shadowcolor||b.shadowopacity)c=document.getElementById("shadow"),c||(c=document.createElement("v:shadow"),c.on=!0,c.type="double",c.offset="3px, 3px",c.offset2="5px, 5px",a.appendChild(c)),b.shadowcolor?(c.color=b.shadowcolor,c.color2=b.shadowcolor):(c.color="blue",c.color2="blue"),b.shadowopacity&&(c.opacity=b.shadowopacity/2);a.setAttribute("unselectable",
"on",0)}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Circle=navitime.geo.base.Class(navitime.geo.graphics.Circle,navitime.geo.graphics.VectorUtil,{_draw:function(a){this.div||(this.div=document.createElement("v:oval"),this.events.register("remove",this,navitime.geo.Util.Function.bind(function(){a.removeChild(this.div)},this)),this.events.attachToElement(this.div));navitime.geo.DOM.addElementOption(this.div,new navitime.geo.BoundsInfo(this._center.left-this.radius,this._center.left+this.radius,this._center.top-this.radius,this._center.top+
this.radius),new navitime.geo.Size(2*this.radius,2*this.radius));this._setStyle(this.div,this._options);this.div.parentElement||a.appendChild(this.div)}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Polygon=navitime.geo.base.Class(navitime.geo.graphics.Path,navitime.geo.graphics.VectorUtil,{_draw:function(a,b){this.div||(this.div=document.createElement("v:shape"),this.events.register("remove",this,navitime.geo.Util.Function.bind(function(){a.removeChild(this.div)},this)),this.events.attachToElement(this.div));for(var c=[],d=0,e=this._paths.length;d<e;d++){for(var f=this.clipPolygon(this._paths[d],b),g=0,h=f.length;g<h;g++)c.push(g?"l":"m"),c.push(f[g].x),c.push(f[g].y);
c.push("x e")}this.div.path=c.join(" ");c=this.div.style;c.width="1px";c.height="1px";this.div.coordsize="1,1";this._setStyle(this.div,this._options);a.appendChild(this.div);this.div.parentElement||a.appendChild(this.div)}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Polyline=navitime.geo.base.Class(navitime.geo.graphics.Path,navitime.geo.graphics.VectorUtil,{_draw:function(a,b){this.div||(this.div=document.createElement("v:shape"),this.events.register("remove",this,navitime.geo.Util.Function.bind(function(){this._remove(a)},this)),this.events.attachToElement(this.div));for(var c=[],d=0,e=this._paths.length;d<e;d++)for(var f=this.clipPolyline(this._paths[d],b),g=0,h=f.length;g<h;g++){for(var k=f[g],l=0,m=k.length;l<m;l++)c.push(l?"l":"m"),
c.push(k[l].x+this._options.slide),c.push(k[l].y+this._options.slide);c.push("e")}this.div.path=0===c.length?"e":c.join(" ");c=this.div.style;c.width="1px";c.height="1px";this.div.coordsize="1,1";this._setStyle(this.div,this._options);this.div.parentElement||a.appendChild(this.div);this._options.arrow&&"hidden"!==this._visibility&&(this._arrowPacks||(this._arrowPacks=this._createArrowPacks()),this._drawArrowPacks(a,b))},_drawArrowPacks:function(a,b){for(var c=0,d=this._arrowPacks.length;c<d;c++)this._drawArrowPack(this._arrowPacks[c],
a,b)},_drawArrowPack:function(a,b,c){for(var d=0,e=a.length;d<e;d++)this.isClipArrow(a[d]._pix,a[d]._prevPix,c)&&a[d]._draw(b,c)},_remove:function(a){a.removeChild(this.div);this._removeArrowPacks()}});navitime.geo.namespace("navitime.geo.graphics");navitime.geo.graphics.CircleMarker=navitime.geo.base.Class(navitime.geo.graphics.Circle,{updatePixelPaths:function(a){this.radius=this._options.radius;this._center=a.getPixcelFromLatLng(this._options.center)}});navitime.geo.namespace("navitime.geo.graphics");
navitime.geo.graphics.Collection=navitime.geo.base.Class(navitime.geo.graphics.VectorCollection,{xmlns:"urn:schemas-microsoft-com:vml",initialize:function(){if(!document.namespaces.v){document.namespaces.add("v",this.xmlns);for(var a=document.createStyleSheet(),b="shape rect roundrect oval fill stroke imagedata group textbox line image shadow filter".split(" "),c=0,d=b.length;c<d;c++)a.addRule("v\\:"+b[c],"behavior: url(#default#VML); position: absolute; display: inline-block;")}navitime.geo.graphics.VectorCollection.prototype.initialize.apply(this,arguments)},
_createBase:function(){var a=navitime.geo.DOM.create("div");a.className="ntgeo-vector";a.setAttribute("unselectable","on",0);a.onselectstart=function(){return!1};return a},_setViewPort:function(a,b){}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.AbstractGraphicalOverlay=navitime.geo.base.Class({_painter:null,events:null,_clickEventHandler:null,initialize:function(a){this.events=this._painter.events;this._clickEventHandler=new navitime.geo.handler.Click(this,{dblrightclick:function(a){this.events.triggerEvent("dblrightclick",a)},rightclick:function(a){this.events.triggerEvent("rightclick",a)}},this.events);this.setMap(a.map)},destroy:function(){this._map&&this.setMap(null);this._painter.destroy();this._options=null},getMap:function(){return this._map},
setMap:function(a){if(a){if(this._map){if(this._map==a)return;this.setMap(null)}this._map=a;a._collection=a._collection||new navitime.geo.graphics.Collection({map:a});a._collection.add(this._painter);this._clickEventHandler.activate()}else this._map&&(this._map._collection.remove(this._painter),this._map=null),this._clickEventHandler.deactivate()},setOptions:function(a){this._painter.setOptions(this._createPainterOptions(a))},setVisible:function(a){this._painter.setVisible(a)},getVisible:function(){return this._painter.getVisible()},
getZIndex:function(){return this._painter.getZIndex()},setZIndex:function(a){this._painter.setZIndex(a)},_createPainterOptions:function(a){}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.Circle=navitime.geo.base.Class(navitime.geo.overlay.AbstractGraphicalOverlay,{initialize:function(a){var b=this._createPainterOptions(a);this._painter=new navitime.geo.graphics.Circle(b);navitime.geo.overlay.AbstractGraphicalOverlay.prototype.initialize.apply(this,arguments)},getCenter:function(){return this._painter.getCenter()},setCenter:function(a){a&&this._painter.setCenter(a)},getRadius:function(){return this._painter.getRadius()},setRadius:function(a){a&&this._painter.setRadius(a)},
_createPainterOptions:function(a){return{center:a.center,radius:a.radius,fillcolor:a.fillColor,fillopacity:a.fillOpacity,strokecolor:a.strokeColor,strokeopacity:a.strokeOpacity,strokeweight:a.strokeWeight,zindex:a.zIndex||0}}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.Polygon=navitime.geo.base.Class(navitime.geo.overlay.AbstractGraphicalOverlay,{_renderer:null,initialize:function(a){var b=this._createPainterOptions(a);this._painter=new navitime.geo.graphics.Polygon(b);navitime.geo.overlay.AbstractGraphicalOverlay.prototype.initialize.apply(this,arguments)},getPaths:function(){return this._painter.getPath()},setPaths:function(a){a&&this._painter.setPath(a)},_createPainterOptions:function(a){return{path:a.paths,fillcolor:a.fillColor,fillopacity:a.fillOpacity,
strokecolor:a.strokeColor,strokeopacity:a.strokeOpacity,strokeweight:a.strokeWeight,zindex:a.zIndex||0}}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.Polyline=navitime.geo.base.Class(navitime.geo.overlay.AbstractGraphicalOverlay,{initialize:function(a){var b=this._createPainterOptions(a);this._painter=new navitime.geo.graphics.Polyline(b);navitime.geo.overlay.AbstractGraphicalOverlay.prototype.initialize.apply(this,arguments)},getPath:function(){return this._painter.getPath()},setPath:function(a){a&&this._painter.setPath(a)},_createPainterOptions:function(a){return{path:a.path,fillcolor:a.fillColor,fillopacity:a.fillOpacity,
strokecolor:a.strokeColor,strokeopacity:a.strokeOpacity,strokeweight:a.strokeWeight,zindex:a.zIndex||0,slide:a.slide||0,arrow:a.arrow||!1,strokedasharray:a.strokedasharray}}});navitime.geo.namespace("navitime.geo.overlay");
navitime.geo.overlay.CircleMarker=navitime.geo.base.Class(navitime.geo.overlay.AbstractGraphicalOverlay,{initialize:function(a){this._options=a||{};this._options.visible=a.visible||!0;this.isActivate=!1;this._painter=new navitime.geo.graphics.CircleMarker(this._createPainterOptions(a));this.setVisible(this._options.visible);this.setRaiseOnDrag(this._options.raiseOnDrag);this.setCursor(this._options.cursor);navitime.geo.overlay.AbstractGraphicalOverlay.prototype.initialize.apply(this,arguments)},setMap:function(a){if(a){if(this._map){if(this._map==
a)return;this.setMap(null)}}else if(!this._map)return;this._options.draggable&&(a?this._activateDraggable():this._deactivateDraggable());navitime.geo.overlay.AbstractGraphicalOverlay.prototype.setMap.apply(this,[a])},_activateDraggable:function(){if(this.isActivate)return!1;this.events.register("mousedown",this,this._dragstart);return this.isActivate=!0},_deactivateDraggable:function(){if(!this.isActivate)return!1;this.events.unregister("mousedown",this,this._dragstart);var a=this.getMap().events;
a.unregister("mousemove",this,this._drag);a.unregister("mouseup",this,this._dragend);this.isActivate=!1;return!0},_dragstart:function(a){a=this.getMap();a.disableMouse();a.events.register("mousemove",this,this._drag);a.events.register("mouseup",this,this._dragend)},_drag:function(a){var b=this.getMap(),c=b.getViewDivPixel(),b=b.getMovedLatLng(c.left+b._displayBounds.getCenterX()-a.xy.x,c.top+b._displayBounds.getCenterY()-a.xy.y);this.setCenter(b);this._isDragged?this.events.triggerEvent("drag",a):
(this.events.triggerEvent("dragstart",a),this._isDragged=!0,this._originalZIndex=this.getZIndex(),this._options.raiseOnDrag&&this.setZIndex(2147483647))},_dragend:function(a){var b=this.getMap();b.events.unregister("mousemove",this,this._drag);b.events.unregister("mouseup",this,this._dragend);b.enableMouse();if(this._isDragged){this.events.triggerEvent("dragend",a);var c=b.getViewDivPixel();a=b.getMovedLatLng(c.left+b._displayBounds.getCenterX()-a.xy.x,c.top+b._displayBounds.getCenterY()-a.xy.y);
this.setCenter(a);this.setZIndex(this._originalZIndex);this._isDragged=!1}},destroy:function(){this._deactivateDraggable();navitime.geo.overlay.AbstractOverlay.prototype.destroy.apply(this)},getDraggable:function(){return this._options.draggable},setDraggable:function(a){a?this._activateDraggable():this._deactivateDraggable();this._options.draggable=a},getCenter:function(){return this._painter.getCenter()},setCenter:function(a){a&&this._painter.setCenter(a)},getRadius:function(){return this._painter.getRadius()},
setRadius:function(a){a&&this._painter.setRadius(a)},getRaiseOnDrag:function(){return this._options.raiseOnDrag},setRaiseOnDrag:function(a){this._options.raiseOnDrag=a||!1},getCursor:function(){return this._options.cursor},setCursor:function(a){this._painter.div&&(this._options.cursor=a,this._painter.div.style.cursor=a)},_createPainterOptions:function(a){return{center:a.center,radius:a.radius,fillcolor:a.fillColor,fillopacity:a.fillOpacity,strokecolor:a.strokeColor,strokeopacity:a.strokeOpacity,strokeweight:a.strokeWeight,
zindex:a.zIndex||0}},setOptions:function(a){navitime.geo.overlay.AbstractGraphicalOverlay.prototype.setOptions.apply(this,[a])}});navitime.geo.namespace("navitime.geo");
navitime.geo.GeoJSON={defaultOptions:{strokeColor:"#55ff00",strokeWeight:7,strokeOpacity:0.765,fillColor:"#55ff00",fillOpacity:0.5,zIndex:1},draw:function(a){a=a||{};return navitime.geo.GeoJSON._doDraw(a.json,a)},_doDraw:function(a,b){var c=[];if(a.features){try{this._parseGeoJSON(a.features)}catch(d){a.features=this._convertToDegreeFeatures(a.features)}for(var e=0,f=a.features.length;e<f;e++){var g=navitime.geo.GeoJSON._doDraw(a.features[e],b);this._isArray(g)?c.concat(g):c.push(g)}return c}c="Feature"==
a.type?a.geometry:a;e=this._getCoordDepth(c);try{this._parseCoords(c.coordinates,e)}catch(h){c.coordinates=this._convertToDegreeCoords(c.coordinates,e)}return navitime.geo.GeoJSON._drawGeometry(c,b)},_isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_parseGeoJSON:function(a){for(var b=0;b<a.length;b++){var c=a[b],c="Feature"==c.type?c.geometry:c,d=this._getCoordDepth(c);try{this._parseCoords(c.coordinates,d,!1)}catch(e){throw e;}}return[]},_getCoordDepth:function(a){var b=
0;switch(a.type){case "Polygon":b=1;break;case "MultiLineString":b=1;break;case "MultiPolygon":b=2}return b},_parseCoords:function(a,b,c){for(var d=0;d<a.length;d++)if(0===b){if(this._isUnitDiff(a[d],0===d?null:a[d-1],c))throw Error("Invalid Coordinate");}else this._parseCoords(a[d],b-1)},_isUnitDiff:function(a,b,c){var d=!1,e=c?0:1,f=c?1:0;c=a[f]+"";a=(a[e]+"").indexOf(".");c=c.indexOf(".");-1!==a&&-1===c||-1===a&&-1!==c?d=!0:b&&(f=b[f]+"",b=(b[e]+"").indexOf("."),e=f.indexOf("."),a=this._isMilliSec(a,
c),b=this._isMilliSec(b,e),a!==b&&(d=!0));return d},_isMilliSec:function(a,b){return-1===a&&-1===b?1:0},_convertToDegreeFeatures:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e="Feature"==d.type?d.geometry:d,f=this._getCoordDepth(e),e=this._convertToDegreeCoords(e.coordinates,f);"Feature"==d.type?d.geometry.coordinates=e:d.coordinates=e;b.push(d)}return b},_convertToDegreeCoords:function(a,b,c){for(var d=[],e=0;e<a.length;e++)0===b?d.push(this._convertToDegreeCoord(a[e],c)):d.push(this._convertToDegreeCoords(a[e],
b-1));return d},_convertToDegreeCoord:function(a,b){var c=b?0:1,d=b?1:0,e=a[d]+"";-1===(a[c]+"").indexOf(".")&&(a[c]+=1E-7);-1===e.indexOf(".")&&(a[d]+=1E-7);return a},_drawGeometry:function(a,b){var c=a.coordinates,d=b.drawPoint;switch(a.type){case "Point":var e=navitime.geo.GeoJSON._createCircleOptions(b);e.center=navitime.geo.GeoJSON.coordsToLatLng(c);return d?d(e.center):new navitime.geo.overlay.CircleMarker(e);case "MultiPoint":for(var f=[],g=0,h=c.length;g<h;g++)e=navitime.geo.GeoJSON._createCircleOptions(b),
e.center=navitime.geo.GeoJSON.coordsToLatLng(c[g]),f.push(d?d(e.center):new navitime.geo.overlay.CircleMarker(e));return f;case "LineString":return d=navitime.geo.GeoJSON._createOverlayOptions(b),d.path=navitime.geo.GeoJSON.coordsToLatLngs(c),new navitime.geo.overlay.Polyline(d);case "Polygon":return d=navitime.geo.GeoJSON._createOverlayOptions(b,!0),d.paths=navitime.geo.GeoJSON.coordsToLatLngs(c,1),new navitime.geo.overlay.Polygon(d);case "MultiLineString":for(var c=navitime.geo.GeoJSON.coordsToLatLngs(c,
1),e=[],g=0,h=c.length;g<h;g++)d=navitime.geo.GeoJSON._createOverlayOptions(b),d.path=c[g],e.push(new navitime.geo.overlay.Polyline(d));return e;case "MultiPolygon":c=navitime.geo.GeoJSON.coordsToLatLngs(c,2);e=[];g=0;for(h=c.length;g<h;g++)d=navitime.geo.GeoJSON._createOverlayOptions(b,!0),d.paths=c[g],e.push(new navitime.geo.overlay.Polygon(d));return e;case "GeometryCollection":c=[];g=0;for(h=a.geometries.length;g<h;g++)c.push(navitime.geo.GeoJSON._drawGeometry(a.geometries[g],b));return c;default:throw Error("Invalid GeoJSON object.");
}},coordsToLatLng:function(a,b){var c=parseFloat(a[b?0:1]),d=parseFloat(a[b?1:0]);return new navitime.geo.LatLng(c,d)},coordsToLatLngs:function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++){var g=b?navitime.geo.GeoJSON.coordsToLatLngs(a[e],b-1,c):navitime.geo.GeoJSON.coordsToLatLng(a[e],c);d.push(g)}return d},_createOverlayOptions:function(a,b){return{map:a.map,strokeColor:a.strokeColor||navitime.geo.GeoJSON.defaultOptions.strokeColor,strokeWeight:a.strokeWeight||navitime.geo.GeoJSON.defaultOptions.strokeWeight,
strokeOpacity:a.strokeOpacity||navitime.geo.GeoJSON.defaultOptions.strokeOpacity,fillColor:b?a.fillColor?a.fillColor:navitime.geo.GeoJSON.defaultOptions.fillColor:void 0,fillOpacity:b?a.fillOpacity?a.fillOpacity:navitime.geo.GeoJSON.defaultOptions.fillOpacity:void 0,zIndex:a.zIndex||navitime.geo.GeoJSON.defaultOptions.zIndex}},_createCircleOptions:function(a){return{map:a.map,fillColor:"red",fillOpacity:0.5,radius:2,strokeColor:"darkred",strokeOpacity:1,strokeWeight:2,zIndex:2,cursor:"pointer"}}};navitime.geo.namespace("navitime.geo.event");navitime.geo.event.addDomListener=function(a,b,c,d){var e=a.nodeType?a:a.eventDiv||a.div;navitime.geo.event.BrowserEventController.addEvent(e,b,c,d);return{func:function(){navitime.geo.event.BrowserEventController.removeEvent(e,b,c,d)}}};navitime.geo.event.addListener=function(a,b,c){var d=a.events;d&&d.register(b,null,c);return{func:function(){d.unregister(b,null,c)}}};
navitime.geo.event.addListenerOnce=function(a,b,c){var d=null;return d=navitime.geo.event.addListener(a,b,function(a){c(a);navitime.geo.event.removeListener(d)})};navitime.geo.event.removeListener=function(a){a&&a.func&&a.func()};navitime.geo.event.trigger=function(a,b,c){(a=a.events)&&a.triggerEvent(b,c)};navitime.geo.Map=navitime.geo.map.Map;navitime.geo.StaticMap=function(a,b,c,d){d.bufferNum=0;var e=new navitime.geo.map.Map(a,b,c,d);e.disableMouse();e.disableKeyboard();e.disableZoomBar();e.disableTouchPanel();a={};for(var f in e)b=e[f],void 0!==b&&"function"==typeof b&&0!==f.indexOf("_")&&(a[f]=navitime.geo.Util.Function.bind(b,e));a.getMap=function(){return e};return a};navitime.geo.namespace("navitime.geo.util");navitime.geo.util.calcAutomaticAdjustmentViewPort=navitime.geo.Util.calcAutomaticAdjustmentViewPort;
navitime.geo.util.addDomListener=navitime.geo.event.addDomListener;navitime.geo.util.addListener=navitime.geo.event.addListener;navitime.geo.util.addListenerOnce=navitime.geo.event.addListenerOnce;navitime.geo.util.removeListener=navitime.geo.event.removeListener;navitime.geo.util.trigger=navitime.geo.event.trigger;navitime.geo.util.transDatumJtoW=navitime.geo.Util.transDatumJtoW;navitime.geo.util.transDatumWtoJ=navitime.geo.Util.transDatumWtoJ;navitime.geo.namespace("navitime.geo.route");
navitime.geo.route.Parser={parse:function(a){var b={sections:[]};switch(a.type){case "FeatureCollection":a=a.features;for(var c=a.length,d=0;d<c;d++)navitime.geo.route.Parser.drawAdd(a[d],b.sections);break;case "Feature":navitime.geo.route.Parser.drawAdd(a,b.sections)}return b},drawAdd:function(a,b){if(0===b.length)b.push(a);else{var c=b[b.length-1];if(a.properties.inline.color===c.properties.inline.color)c.geometry.coordinates=c.geometry.coordinates.concat(a.geometry.coordinates);else{var d=c.geometry.coordinates[c.geometry.coordinates.length-
1],e=a.geometry.coordinates[0];d!==e&&b.push({geometry:{coordinates:[d,e]},properties:{inline:{line_style:"auxiliary",color:"#4B4B4B",width:c.properties.inline.width,opacity:c.properties.inline.opacity},outline:{line_style:"dashed",color:"#4B4B4B",width:c.properties.inline.width,opacity:c.properties.outline.opacity},ways:"auxiliary"}});b.push(a)}}}};navitime.geo.namespace("navitime.geo.route");
navitime.geo.route.Renderer=navitime.geo.base.Class({_defaultCenterLine:{strokeColor:"#55ff00",strokeWeight:7,strokeOpacity:0.765,zIndex:1},_trainColor:"#3e79ff",_geojson:null,_options:null,_centerLine:null,_allRouteCenter:null,_route:null,_originalColor:!1,initialize:function(a,b){this._options=b||{};this._options.unit=b.unit||"degree";this._options.lineAttr=b.lineAttr||{};this._geojson=new navitime.geo.route.Parser.parse(a);this._route=b.route?b.route:this._createRoute(this._geojson.sections);this._originalColor=
b.originalColor;this._centerLine=[]},destroy:function(){for(var a=this._centerLine.length;a--;)this._centerLine.pop().setMap(null);this._allRouteCenter=this._options=this._geojson=null},draw:function(){var a=this._options,b=a.lineAttr;a.allRoute&&this.displayAllRoute();for(var c=this._route.length,d=0;d<c;d++)this._centerLine.push(this._doDraw(this._route[d],-4,a.arrow,b))},displayAllRoute:function(){var a=this._options,b=a.map;this._allRouteCenter||(this._allRouteCenter=this._calcAllRouteCenter(b,
a.unit));b.setCenter(this._allRouteCenter.latlng,this._allRouteCenter.zoom)||window.setTimeout(navitime.geo.Util.Function.bind(b.setCenter,b,this._allRouteCenter.latlng,this._allRouteCenter.zoom),250)},changeVisibility:function(a){for(var b=this._centerLine.length;b--;)this._centerLine[b].setVisible(a)},isVisible:function(){return this._centerLine&&0<this._centerLine.length?this._centerLine[0].getVisible():!1},getRoute:function(){return this._route},_doDraw:function(a,b,c,d){var e=this._options,f=
a.inline;b={map:e.map,strokeColor:this._getStrokeColor(f,d.color,a.ways),strokeWeight:this._getStrokeWeight(f,b,d.weight),strokeOpacity:this._getStrokeOpacity(f,b,d.opacity),zIndex:e.zIndex||this._defaultCenterLine.zIndex,slide:b,arrow:c,strokedasharray:"auxiliary"===f.line_style?"2,2":null};b.path=a.path;return new navitime.geo.overlay.Polyline(b)},_coordsToLatLng:function(a,b,c){var d=parseFloat(a[c?0:1]);a=parseFloat(a[c?1:0]);b=this._conversion(d,a,b);return new navitime.geo.LatLng(b.lat,b.lng)},
_coordsToLatLngs:function(a,b,c,d){for(var e=[],f=0,g=a.length;f<g;f++){var h=c?this._coordsToLatLngs(a[f],b,c-1,d):this._coordsToLatLng(a[f],b,d);e.push(h)}return e},_conversion:function(a,b,c){switch(c){case "degree":return{lat:navitime.geo.LatLng.transDEGtoMillisec(a+""),lng:navitime.geo.LatLng.transDEGtoMillisec(b+"")};default:return{lat:a,lng:b}}},_calcAllRouteCenter:function(a,b){for(var c=this._geojson.sections,d=[],e=0,f=c.length;e<f;e++)Array.prototype.push.apply(d,this._coordsToLatLngs(c[e].geometry.coordinates,
b));return navitime.geo.Util.calcAutomaticAdjustmentViewPort(a,d)},_getStrokeColor:function(a,b,c){return"auxiliary"===c?a.color:b?b:"transport"!==c||this._originalColor?a.color||this._defaultCenterLine.strokeColor:this._trainColor},_getStrokeWeight:function(a,b,c){return c?c:a.width||(0>b?this._defaultCenterLine.strokeWeight:this._defaultShadowLine.strokeWeight)},_getStrokeOpacity:function(a,b,c){return c?c:a.opacity||(0>b?this._defaultCenterLine.strokeOpacity:this._defaultShadowLine.strokeOpacity)},
_createRoute:function(a){for(var b=[],c=a.length,d=0;d<c;d++){var e=a[d];"dashed"!==e.properties.inline.line_style&&b.push({path:this._coordsToLatLngs(e.geometry.coordinates,this._options.unit),ways:e.properties.ways,inline:e.properties.inline,outline:e.properties.outline})}return b}});
  </script>
 </body>
</html>
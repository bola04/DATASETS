<!DOCTYPE html>
<html class="no-js" lang="pt">
 <head>
  <meta charset="utf-8"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <title>
   Conheça e se Hospede com Moradores Locais de Todo o Mundo | Couchsurfing
  </title>
  <meta content="Couchsurfing" name="apple-mobile-web-app-title"/>
  <meta content="O Couchsurfing é uma vibrante comunidade de viagem com mais de 14 milhões de moradores locais e viajantes. Use o Couchsurfing para encontrar acomodações, conhecer moradores locais e viajantes nas proximidades, descobrir as melhores coisas a fazer ou obter conselhos de viagem." name="description"/>
  <meta content="https://ht-assets.couchsurfing.com/assets/og_image-8ccf1ee35e2d92ffd20af5021bc34924e37b0e31394d0998704b17249a545e43.jpg" property="og:image"/>
  <meta content="1200" property="og:image:width"/>
  <meta content="630" property="og:image:height"/>
  <meta content="Conheça e se Hospede com Moradores Locais de Todo o Mundo" property="og:title"/>
  <meta content="NOODP" name="robots"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="authenticity_token" name="csrf-param"/>
  <meta content="pgDBWIrbptjjt/hCtdVl1RCOTvyD2Wd6lgp09OGDnNJWM9KtOxVxJ+SSqJzT3dccts7r7lR63CTZyYmpkQjEyQ==" name="csrf-token"/>
  <script>
   var _rollbarConfig = {
            accessToken: "78ab8ee37b65496eb59387d58409aeaf",
            captureUncaught: true,
            captureUnhandledRejections: true,
            payload: {
                environment: "production"
            }
        };
        // Rollbar Snippet
        !function(r){function o(n){if(e[n])return e[n].exports;var t=e[n]={exports:{},id:n,loaded:!1};return r[n].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var e={};return o.m=r,o.c=e,o.p="",o(0)}([function(r,o,e){"use strict";var n=e(1),t=e(4);_rollbarConfig=_rollbarConfig||{},_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.3.3/rollbar.min.js",_rollbarConfig.async=void 0===_rollbarConfig.async||_rollbarConfig.async;var a=n.setupShim(window,_rollbarConfig),l=t(_rollbarConfig);window.rollbar=n.Rollbar,a.loadFull(window,document,!_rollbarConfig.async,_rollbarConfig,l)},function(r,o,e){"use strict";function n(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}function t(r,o){this.options=r,this._rollbarOldOnError=null;var e=s++;this.shimId=function(){return e},window&&window._rollbarShims&&(window._rollbarShims[e]={handler:o,messages:[]})}function a(r,o){var e=o.globalAlias||"Rollbar";if("object"==typeof r[e])return r[e];r._rollbarShims={},r._rollbarWrappedError=null;var t=new p(o);return n(function(){o.captureUncaught&&(t._rollbarOldOnError=r.onerror,i.captureUncaughtExceptions(r,t,!0),i.wrapGlobals(r,t,!0)),o.captureUnhandledRejections&&i.captureUnhandledRejections(r,t,!0);var n=o.autoInstrument;return o.enabled!==!1&&(void 0===n||n===!0||"object"==typeof n&&n.network)&&r.addEventListener&&(r.addEventListener("load",t.captureLoad.bind(t)),r.addEventListener("DOMContentLoaded",t.captureDomContentLoaded.bind(t))),r[e]=t,t})()}function l(r){return n(function(){var o=this,e=Array.prototype.slice.call(arguments,0),n={shim:o,method:r,args:e,ts:new Date};window._rollbarShims[this.shimId()].messages.push(n)})}var i=e(2),s=0,d=e(3),c=function(r,o){return new t(r,o)},p=d.bind(null,c);t.prototype.loadFull=function(r,o,e,t,a){var l=function(){var o;if(void 0===r._rollbarDidLoad){o=new Error("rollbar.js did not load");for(var e,n,t,l,i=0;e=r._rollbarShims[i++];)for(e=e.messages||[];n=e.shift();)for(t=n.args||[],i=0;i<t.length;++i)if(l=t[i],"function"==typeof l){l(o);break}}"function"==typeof a&&a(o)},i=!1,s=o.createElement("script"),d=o.getElementsByTagName("script")[0],c=d.parentNode;s.crossOrigin="",s.src=t.rollbarJsUrl,e||(s.async=!0),s.onload=s.onreadystatechange=n(function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){s.onload=s.onreadystatechange=null;try{c.removeChild(s)}catch(r){}i=!0,l()}}),c.insertBefore(s,d)},t.prototype.wrap=function(r,o,e){try{var n;if(n="function"==typeof o?o:function(){return o||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._rollbar_wrapped&&(r._rollbar_wrapped=function(){e&&"function"==typeof e&&e.apply(this,arguments);try{return r.apply(this,arguments)}catch(e){var o=e;throw"string"==typeof o&&(o=new String(o)),o._rollbarContext=n()||{},o._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=o,o}},r._rollbar_wrapped._isWrap=!0,r.hasOwnProperty))for(var t in r)r.hasOwnProperty(t)&&(r._rollbar_wrapped[t]=r[t]);return r._rollbar_wrapped}catch(o){return r}};for(var u="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,captureEvent,captureDomContentLoaded,captureLoad".split(","),f=0;f<u.length;++f)t.prototype[u[f]]=l(u[f]);r.exports={setupShim:a,Rollbar:p}},function(r,o){"use strict";function e(r,o,e){if(r){var t;"function"==typeof o._rollbarOldOnError?t=o._rollbarOldOnError:r.onerror&&!r.onerror.belongsToShim&&(t=r.onerror,o._rollbarOldOnError=t);var a=function(){var e=Array.prototype.slice.call(arguments,0);n(r,o,t,e)};a.belongsToShim=e,r.onerror=a}}function n(r,o,e,n){r._rollbarWrappedError&&(n[4]||(n[4]=r._rollbarWrappedError),n[5]||(n[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null),o.handleUncaughtException.apply(o,n),e&&e.apply(r,n)}function t(r,o,e){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var n=function(r){var e,n,t;try{e=r.reason}catch(r){e=void 0}try{n=r.promise}catch(r){n="[unhandledrejection] error getting `promise` from event"}try{t=r.detail,!e&&t&&(e=t.reason,n=t.promise)}catch(r){t="[unhandledrejection] error getting `detail` from event"}e||(e="[unhandledrejection] error getting `reason` from event"),o&&o.handleUnhandledRejection&&o.handleUnhandledRejection(e,n)};n.belongsToShim=e,r._rollbarURH=n,r.addEventListener("unhandledrejection",n)}}function a(r,o,e){if(r){var n,t,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<a.length;++n)t=a[n],r[t]&&r[t].prototype&&l(o,r[t].prototype,e)}}function l(r,o,e){if(o.hasOwnProperty&&o.hasOwnProperty("addEventListener")){for(var n=o.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var t=function(o,e,t){n.call(this,o,r.wrap(e),t)};t._rollbarOldAdd=n,t.belongsToShim=e,o.addEventListener=t;for(var a=o.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var l=function(r,o,e){a.call(this,r,o&&o._rollbar_wrapped||o,e)};l._rollbarOldRemove=a,l.belongsToShim=e,o.removeEventListener=l}}r.exports={captureUncaughtExceptions:e,captureUnhandledRejections:t,wrapGlobals:a}},function(r,o){"use strict";function e(r,o){this.impl=r(o,this),this.options=o,n(e.prototype)}function n(r){for(var o=function(r){return function(){var o=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,o)}},e="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureEvent,captureDomContentLoaded,captureLoad".split(","),n=0;n<e.length;n++)r[e[n]]=o(e[n])}e.prototype._swapAndProcessMessages=function(r,o){this.impl=r(this.options);for(var e,n,t;e=o.shift();)n=e.method,t=e.args,this[n]&&"function"==typeof this[n]&&("captureDomContentLoaded"===n||"captureLoad"===n?this[n].apply(this,[t[0],e.ts]):this[n].apply(this,t));return this},r.exports=e},function(r,o){"use strict";r.exports=function(r){return function(o){if(!o&&!window._rollbarInitialized){r=r||{};for(var e,n,t=r.globalAlias||"Rollbar",a=window.rollbar,l=function(r){return new a(r)},i=0;e=window._rollbarShims[i++];)n||(n=e.handler),e.handler._swapAndProcessMessages(l,e.messages);window[t]=n,window._rollbarInitialized=!0}}}}]);
        // End Rollbar Snippet
  </script>
  <script src="//ht-assets.couchsurfing.com/assets/couchsurfing/vendor/modernizr-dd57b7e004111d677231e68c51165820e313b89d657dbf9c67a4df88a20ae780.js">
  </script>
  <script>
   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KC3GXKG');
  </script>
  <script src="//mtrx.go.sonobi.com/morpheus.couchsurfing.1800.js" type="text/javascript">
  </script>
  <script crossorigin="anonymous" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" src="https://code.jquery.com/jquery-2.2.4.min.js">
  </script>
  <!-- TODO: refactor, split this file into more understandable pieces -->
  <!-- Reduce page flicker from Google Optimize -->
  <style>
   .async-hide { opacity: 0 !important}
  </style>
  <script>
   (function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
  })(window,document.documentElement,'async-hide','dataLayer',1000,
  {'GTM-NZ9WG3D':true});
  </script>
  <!-- Google Analytics -->
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-458260-1', 'auto');

    ga('require', 'GTM-WH22RSG');

  ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->
  <!-- Amplitude -->
  <script>
   (function(e,t){var r=e.amplitude||{};var n=t.createElement("script");n.type="text/javascript";
    n.async=true;n.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.2.1-min.gz.js";
    var s=t.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s);r._q=[];function a(e){
    r[e]=function(){r._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var i=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties"];
    for(var o=0;o<i.length;o++){a(i[o])}e.amplitude=r})(window,document);

  var userProperties = {};

    amplitude.init('c331db178b6b127c461c49aba343f762', '-1', { includeUtm: true, includeReferrer: true });

  amplitude.setUserProperties(userProperties);
  amplitude.setVersionName('0.0');
  </script>
  <!-- End Amplitude -->
  <script>
   (function(){



geolocation = {};
geolocation.requestGeo=function(c){geolocation.cdn3Requested=+new Date;var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=c;b.insertBefore(a,b.firstChild)};


var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,d){var h=!!Object.prototype.__lookupGetter__,e=!!Object.prototype.__lookupSetter__,c;for(c in a)if(a.hasOwnProperty(c)){var f=h?a.__lookupGetter__(c):null,g=e?a.__lookupSetter__(c):null;try{b.call(d,c,!f?a[c]:null,f,g)}catch(i){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,d){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,b){d.prototype.__defineGetter__(c,b);optly.Cleanse.log("restored getter",a,c)});Object.prototype.__defineSetter__&&optly.Cleanse.each(optly.Cleanse.setters[a],function(c,b){d.prototype.__defineSetter__(c,b);optly.Cleanse.log("restored setter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],
function(b,f){d.prototype[b]=f;optly.Cleanse.log("restored property",a,b)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,d=0;d<b.length;d++)a.log(b[d])}};
optly.Cleanse.log=function(a,b,d){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+d)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test")))if(optly.Cleanse.running)optly.Cleanse.log("already running so didn't start");else{optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]=
{};optly.Cleanse.setters[a]={};optly.Cleanse.each(b.prototype,function(e,c,f,g){optly.nativity.isNativeFunction(c)||optly.nativity.isNativeFunction(f)||optly.nativity.isNativeFunction(g)?optly.Cleanse.log("ignore native code",a,e):(f?(optly.Cleanse.getters[a][e]=f,optly.Cleanse.log("cleansed getter",a,e)):(optly.Cleanse.properties[a][e]=c,optly.Cleanse.log("cleansed property",a,e)),g&&(optly.Cleanse.setters[a][e]=g,optly.Cleanse.log("cleansed setter",a,e)),delete b.prototype[e])})});optly.Cleanse.fixGetElementsByClassName();
optly.Cleanse.hasRunStart=!0}};optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.setters={};optly.Cleanse.types={Object_:Object};window.optly=window.optly||{};window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};
optly.Cleanse.start();
var $=jQuery;

var optimizelyCode = function(){
var DATA={"log_host":"log.optimizely.com","goal_expressions":{"6506050218":["(https?://)?(www\\.)?couchsurfing\\.com\\/dashboard/?\\?new\\_user\\=true"],"9267217925":["^paypal\\_click\\_\\-\\_btf$"],"6604350483":["^plan\\_a\\_trip$"],"6808211482":["^meet\\_lynette$"],"8631456794":["(https?://)?(www\\.)?couchsurfing\\.com\\/members\\/edit/?"],"10315236388":["^install\\_click$"],"8327990828":["(https?://)?(www\\.)?couchsurfing\\.com\\/people/?"],"8317278257":["(https?://)?(www\\.)?search\\_type\\=member/?"],"7219920440":["^join\\_3\\_\\-\\_plan\\_trip$"],"6600755769":["^ready\\_for\\_adventure\\?\\_plan\\_a\\_trip$"],"8306909756":["(https?://)?(www\\.)?couchsurfing\\.com\\/messages/?"],"8327845446":["^clicks\\_view\\_profile$"],"7707873878":["^cc\\_clicks$"],"6503110499":["^join\\_button\\_\\-\\_sign\\_up\\_with\\_email$"],"7255381083":["^first\\_modal\\_fb$"],"7890860132":["^verify\\_account\\_click$"],"7261170789":["^second\\_modal$"],"8421316713":["^send\\_app\\_link$"],"7681593564":["^paypal\\_clicks$"],"8254516854":["(https?://)?(www\\.)?\\/dashboard/?\\?new\\_user\\=true"],"8568422007":["^1st\\_video\\_click$"],"6784571523":["^cc\\_input$"],"6788061830":["^month\\_\\/\\_year\\_input$"],"7647080583":["^get\\_verified\\_banner\\_\\#2$"],"8446548623":["^insurance\\_clicks$"],"6800180381":["(https?://)?(www\\.)?couchsurfing\\.com\\/people/?"],"8320251418":["https:\\/\\/www\\.couchsurfing\\.com\\/places\\/.*\\/accommodation"],"8315822250":["(https?://)?(www\\.)?search\\_type\\=traveler/?"],"6461132460":["^join\\_with\\_email$"],"8412921008":["^(https?://)?(www\\.)?store\\.couchsurfing\\.com/?(\\?.*)?(#.*)?$"],"7258530493":["^first\\_modal\\_email$"],"8556112064":["^video\\_clicks$"],"6901050562":["^verify\\_with\\_cc\\_\\-\\_header$"],"6698981571":["^verify\\_my\\_account\\_\\-\\-\\_cc$"],"7667440326":["^variation\\_\\-\\-\\_second\\_banner\\_click$"],"6918240457":["^verify\\_with\\_pp\\_\\-\\_banner$"],"6793790582":["(https?://)?(www\\.)?/?\\?modal\\=verify"],"6880812252":["^form\\_submit$"],"6435921117":["^join\\_top\\_right\\_button$"],"8314674401":["(https?://)?(www\\.)?search\\_type\\=event/?"],"8477590754":["^left\\_sidebar\\_cta$"],"9259827938":["^cc\\_click\\_\\-\\_btf$"],"6908580583":["^verify\\_with\\_cc\\_\\-\\_banner$"],"6787450089":["^cvc\\_input$"],"6519352558":["^get\\_verified\\_\\-\\-\\_cc\\_clicks$"],"8319380208":["(https?://)?(www\\.)?search\\_type\\=place/?"],"6614860018":["^plan\\_a\\_trip\\_bottom$"],"6804751094":["^meet\\_jason$"],"8242937214":["(https?://)?(www\\.)?\\/verification\\-success/?"],"8366459644":["^install\\_android\\_app\\_click$"],"8307854080":["^clicks\\_download\\_banner$"],"8306845568":["(https?://)?(www\\.)?search\\_type\\=advice/?"],"6808690443":["^meet\\_syril$"],"6610585868":["^ready\\_for\\_adventure\\_\\-\\_plan\\_trip\\_\\(original\\)$"],"6526480143":["(https?://)?(www\\.)?\\/get\\_verified/?"],"8312120080":["(https?://)?(www\\.)?search\\_type\\=host/?"],"6606790932":["^ready\\_for\\_adventure\\_\\-\\_plan\\_a\\_trip\\_\\(variant\\)$"],"9262907159":["^paypal\\_click\\_\\-\\_atf$"],"6910550305":["^verify\\_cc\\_\\-\\-\\_modal$"],"8373425442":["^install\\_ios\\_app\\_click$"],"7650950955":["^get\\_verified\\_banner\\_click\\_\\#1$"],"6609975516":["^explore\\_the\\_world\\_\\-\\_plan\\_a\\_trip$"],"6256730429":["^engagement$"],"8562741056":["^2nd\\_video\\_click$"],"10335872322":["^'continue\\_to\\_couchsurfing'\\_click$"],"9261467981":["^cc\\_click\\_\\-\\_atf$"],"6891700560":["^verify\\_with\\_cc\\_\\-\\_bottom$"],"6718520152":["^\"next\"\\_on\\_get\\_verified$"],"8558980961":["^3rd\\_video\\_click$"],"6504321379":["^get\\_verified\\_\\-\\-\\_paypal\\_clicks$"],"6455870311":["^login\\_button$"],"7247092075":["^search\\_bar\\_clicks$"],"6977720687":["^paypal\\_\\-\\-\\_original$"],"6458360039":["^fb\\_clicks$"],"6902831506":["^verify\\_with\\_pp\\_\\-\\_bottom$"],"7279132531":["^top\\_right\\_join$"],"8155389814":["^verify\\_clicks$"],"7667771770":["^search\\_by\\_map\\_click$"],"7216754043":["^join\\_fb\\_\\-\\_top$"],"8313961705":["(https?://)?(www\\.)?search\\_type\\=group/?"],"7979640702":["^continue\\_click$"],"7228511104":["^join\\_\\-\\_plan\\_a\\_trip$"],"8369163137":["^final\\_verification\\_click\\_\\(cc\\)$"],"6893800325":["^verify\\_with\\_pp\\_\\-\\_header$"],"7259470729":["^join\\_4\\_\\-\\_plan\\_trip$"],"10337944457":["^install\\_click$"],"6452802962":["^(https?://)?(www\\.)?couchsurfing\\.com\\/dashboard/?(\\?.*)?(#.*)?$"],"7874072980":["^verify\\_account\\_button$"],"6772060566":["^verify\\_my\\_account$"],"6462350236":["(https?://)?(www\\.)?\\/place/?"],"6614315443":["^explore\\_the\\_world\\_\\-\\_plan\\_trip\\_\\(original\\)$"],"10321278910":["^'continue\\_to\\_couchsurfing'\\_click$"],"8785406923":["^get\\_unlimited\\_intros\\_button\\_click$"],"8363883481":["^verify\\_button\\_click$"],"6585416682":["^ready\\_for\\_adventure\\_\\-\\_plan\\_a\\_trip\\_\\(variation\\)$"],"8421300988":["^where\\_are\\_you\\_going\\?$"],"7255760375":["^join\\_email\\_\\-\\_top\\_banner$"]},"experiments":{"10524456510":{"audiences":[8290604242],"variation_weights":{"10524286438":10000},"enabled":true,"variation_ids":["10531645464","10524286438"],"urls":[{"match":"simple","value":"https://www.couchsurfing.com/dashboard"}],"enabled_variation_ids":["10524286438"]},"10159332031":{"variation_ids":["10157891554","10162862828"],"urls":[{"match":"simple","value":"http://www.qa.couchsurfing.com"}],"enabled_variation_ids":["10157891554","10162862828"]},"10338323617":{"audiences":[8290604242],"variation_ids":["10357230964","10338973345"],"urls":[{"match":"simple","value":"https://www.couchsurfing.com/dashboard"}],"enabled_variation_ids":["10357230964","10338973345"]},"9836461474":{"variation_ids":["9827791745","9828692240"],"urls":[{"match":"simple","value":"https://beta.couchsurfing.com/"}],"enabled_variation_ids":["9828692240"]},"10850561893":{"variation_ids":["10843932816","10853001438"],"urls":[{"match":"exact","value":"https://www.couchsurfing.com/places/mine?utm_campaign=QA?optimizely_x10560391598=1&utm_campaign=explore_redirect&utm_content=explore_with_getverified&utm_campaign=explore_redirect&utm_content=explore_with_getverified&utm_campaign=explore_redirect&utm_content=explore_with_getverified"},{"match":"exact","value":"https://www.couchsurfing.com/places/mine?utm_campaign=explore_redirect&utm_content=explore_with_getverified"},{"match":"exact","value":"https://www.couchsurfing.com/places/mine?new_user=true&utm_campaign=explore_redirect&utm_content=explore_with_getverified"}],"enabled_variation_ids":["10853001438"]},"10516907591":{"audiences":[10308785208],"variation_weights":{"10520259421":10000},"enabled":true,"variation_ids":["10552230565","10520259421"],"urls":[{"match":"simple","value":"https://www.couchsurfing.com/dashboard"}],"enabled_variation_ids":["10520259421"]},"10162680716":{"audiences":[8371280227],"variation_ids":["10157522066","10164642321","10190903858","10223392081","10199203133"],"urls":[{"match":"simple","value":"https://qa1.couchsurfing.com/"},{"match":"simple","value":"https://qa2.couchsurfing.com/"}],"enabled_variation_ids":["10157522066","10164642321","10190903858","10223392081","10199203133"]},"10334654523":{"audiences":[10308785208],"variation_ids":["10335144262","10352730515"],"urls":[{"match":"simple","value":"https://www.couchsurfing.com/dashboard"}],"enabled_variation_ids":["10335144262","10352730515"]},"10724160398":{"audiences":[10722650210],"variation_ids":["10697863897","10700763391"],"urls":[{"match":"regex","value":"https://www.couchsurfing.com/places"},{"match":"regex","value":"https://www.couchsurfing.com/dashboard"},{"match":"simple","value":"https://www.couchsurfing.com/place"},{"negate":true,"match":"exact","value":"https://www.couchsurfing.com/dashboard?new_user=true"}],"enabled_variation_ids":["10700763391"]},"10243140923":{"variation_ids":["10198344477","10249450614","10193977125"],"urls":[{"match":"simple","value":"https://couchsurfing.com/get_verified"}],"enabled_variation_ids":["10198344477","10193977125"]},"10474385148":{"variation_ids":["10492552705","10469984744"],"urls":[{"match":"simple","value":"http://couchsurfing.com/dashboard"}],"enabled_variation_ids":["10492552705","10469984744"]},"10854911869":{"audiences":[10700802733],"css":".explore {\n    cursor: default;\n}","variation_ids":["10853402000","10849591679","10845113148"],"urls":[{"match":"exact","value":"https://www.couchsurfing.com/dashboard?new_user=true"}],"enabled_variation_ids":["10853402000","10849591679","10845113148"]}},"audiences":{"8371280227":{"conditions":["and",["or",["or",{"dimension_id":6503033178,"value":"en"}]]],"name":"Aud 8371280227"},"8448764964":{"conditions":["and",["or",["or",{"dimension_id":8453320212,"value":"function isUnder30() {\n  var currentYear = new Date().getFullYear();\n  var birthYear = parseInt(window.optimizely.data.visitor.dimensions[\"8202775607\"].slice(0,4));\n\n  if (currentYear - birthYear < 30) {\n    return true;\n  }\n\n  return false;\n}\nisUnder30();"}]]],"name":"Aud 8448764964","segment_id":8449943593},"10700802733":{"conditions":["and",["or",["or",{"dimension_id":6449502995,"value":"desktop"}]]],"name":"Aud 10700802733"},"8290604242":{"conditions":["and",["or",["or",{"dimension_id":7836380128,"value":"android"}]],["or",["not",["or",{"dimension_id":10347091341,"value":"10524456510","match":"substring"}]]]],"name":"Aud 8290604242"},"10722650210":{"conditions":["and",["or",["or",{"dimension_id":10347091341,"value":"10680751188","match":"substring"},{"dimension_id":10347091341,"value":"10682721834","match":"substring"}]],["or",["or",{"dimension_id":6462050124}]]],"name":"Aud 10722650210"},"10308785208":{"conditions":["and",["or",["or",{"dimension_id":7836380128,"value":"ios"}]],["or",["not",["or",{"dimension_id":10347091341,"value":"10516907591","match":"substring"}]]]],"name":"Aud 10308785208"}},"www_host":"app.optimizely.com","public_suffixes":{"couchsurfing.com":["qa1.couchsurfing.com","beta.couchsurfing.com","couchsurfing.com","www.couchsurfing.com","www.qa.couchsurfing.com"]},"force_variation":true,"dimensions":{"7836380128":{"condition_type":"platform"},"8208451834":{"api_name":"has_hosted","condition_type":"custom_dimension","segment_id":8210522224},"8211530149":{"api_name":"locale","condition_type":"custom_dimension","segment_id":8203854836},"8207864170":{"api_name":"gender","condition_type":"custom_dimension","segment_id":8203105736},"6462050124":{"condition_type":"first_session"},"10347091341":{"condition_type":"cookies","name":"optimizelyBuckets"},"8200915474":{"api_name":"account_created_date","condition_type":"custom_dimension","segment_id":8205911074},"6449502995":{"condition_type":"device"},"8453320212":{"condition_type":"code"},"8206472341":{"api_name":"is_verified","condition_type":"custom_dimension","segment_id":8208640628},"8328534776":{"api_name":"user_id","condition_type":"custom_dimension","segment_id":8328627670},"8202775607":{"api_name":"birth_date","condition_type":"custom_dimension","segment_id":8205962622},"8208234648":{"api_name":"profile_location","condition_type":"custom_dimension","segment_id":8211540624},"8207421977":{"api_name":"has_surfed","condition_type":"custom_dimension","segment_id":8211203043},"6503033178":{"condition_type":"language"}},"version":"master-9-40-3.410442335663380705","admin_account_id":6250770393,"blacklisted_experiments":[10682132014,10560391598,10515780443],"project_id":6250770393,"revision":2833,"summary_revenue_goal_id":6255090612,"installation_verified":true,"slave":true,"preview_host":"//optimizely.s3.amazonaws.com","api_host":"api.optimizely.com","variations":{"10849591679":{"code":"/* _optimizely_redirect=https://www.couchsurfing.com/places/mine?utm_campaign=explore_redirect&utm_content=explore_with_getverified */\nwindow.location.replace(\"https://www.couchsurfing.com/places/mine?utm_campaign=explore_redirect&utm_content=explore_with_getverified\");"},"10492552705":{},"10700763391":{"code":"jQuery('<style type=\"text/css\">.selectize-dropdown-content [data-value=\"place\"],.selectize-dropdown-content [data-value=\"host\"],.selectize-dropdown-content [data-value=\"member\"],.selectize-dropdown-content [data-value=\"traveler\"],.selectize-dropdown-content [data-value=\"event\"],.selectize-dropdown-content [data-value=\"group\"],.selectize-dropdown-content [data-value=\"advice\"]{ display:none;}.selectize-control.single .selectize-input:after{ display:none;}</style>').appendTo('head');\n$(\".header-destination-search-type .item\").replaceWith(\"<div style=\\\"cursor:initial\\\" class=\\\"item\\\" data-value=\\\"place\\\">Explore</div>\");"},"10853402000":{},"10164642321":{"code":"$(\"a.mod-join\").replaceWith(\"<a class=\\\"header-nav-button button mod-join mod-small-min-width js-user-join\\\" data-amplitude-click=\\\"signup_modal\\\" data-amplitude-properties=\\\"{&quot;source&quot;:&quot;homepage&quot;}\\\" href=\\\"/new-registration/sign-up?variant=1\\\">Join</a>\");\n$(\".mod-margin-top > .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=1\\\">Plan a Trip</a>\");\n$(\".mod-inline-web .cboxElement\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=1\\\">Plan a Trip</a>\");\n$(\".mod-inline-web a.mod-facebook\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/new-registration/sign-up?variant=1\\\">\\n            Join\\n</a>\");\n$(\".mod-join .mod-couchsurfing\").css({\"display\":\"none\", \"visibility\":\"\"});"},"10157522066":{"code":"$(\".mod-inline-web a.mod-facebook\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/users/auth/facebook?auth_action=sign_up\\\">\\n            Join\\n</a>\");\n$(\".mod-inline-web .mod-join\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/users/sign_up?join_source=header\\\">\\n            Join\\n</a>\");\n$(\".mod-join .mod-couchsurfing\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".mod-margin-top > .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image cboxElement\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" data-modal=\\\"true\\\" href=\\\"/users/sign_up?join_source=header\\\">Plan a Trip</a>\");\n$(\".mod-adventure .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image cboxElement\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" data-modal=\\\"true\\\" href=\\\"/users/sign_up?join_source=header\\\">Plan a Trip</a>\");"},"10352730515":{"code":"jQuery('body').addClass('cro-hide-content');\n\njQuery('<style type=\"text/css\">.cro-full-app-download{height:100%;width:100%;position:absolute;top:0;left:0;z-index:1000;background-image:url(//cdn.optimizely.com/img/6250770393/eb3fdd1412504219a8202dd027527126.jpg);background-position:center;background-repeat:no-repeat;text-align:center;background-size:100%;background-position-y:top;background-color:#fff}.cro-full-app-download h1{font-size:18px}.cro-full-app-download-inner{position:absolute;top:50%;width:100%;margin-top:-15%;text-align:center}.cro-button{margin-bottom:15px}body.cro-hide-content{margin-bottom:0!important;height:100%!important}body.cro-hide-content>*{display:none!important}body.cro-hide-content>.cro-full-app-download{display:block!important}</style>').appendTo('head');\n\njQuery('<div class=\"cro-full-app-download\"> <div class=\"cro-full-app-download-inner\"> <div class=\"cro-logo\"> <img src=\"//ht-assets.couchsurfing.com/assets/logo-orange-58ccd2edda8895d1e1742f7744683e61f2c6fa069290a9ff012ef09d51ea643b.png\" /> </div> <div class=\"cro-stars\"> <ul> <li> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span class=\"cro-review-count\">(2,137)</span> </li> </ul> </div> <h1 class=\"cro-h1\">Couchsurfing is easiest on the app</h1> <div class=\"cro-button\"> <a href=\"#\" class=\"button\">Get the app</a> </div> <div class=\"cro-continue text mod-medium\"> Continue to Couchsurfing </div> </div></div>').prependTo('body');\n\njQuery('.cro-continue').click(function(){\n    jQuery('body').removeClass('cro-hide-content');\n    jQuery('.cro-full-app-download').hide();\n\n    return false;\n});\n$(\".cro-full-app-download\").css({\"background-image\":\"url(//cdn.optimizely.com/img/6250770393/07177efc90f947d0aeb91d4aca8ad05e.png)\", \"background-repeat\":\"no-repeat\"});\n$(\".cro-full-app-download-inner\").css({\"top\":295});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#e7e623\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fffc14\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fbf813\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(4)\").css({});\n$(\".cro-stars li > span:eq(3)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(2)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(1)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(0)\").css({\"color\":\"#efec0b\"});\n$(\".cro-full-app-download-inner\").css({\"top\":288});\n$(\".cro-full-app-download-inner\").css({\"top\":281});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":269});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":278});\n$(\".cro-continue\").css({\"color\":\"#aeb5ba\"});\n$(\".cro-full-app-download-inner\").css({\"left\":2, \"top\":305});\n$(\".cro-button > .button\").replaceWith(\"<a href=\\\"https://itunes.apple.com/app/apple-store/id525642917?pt=1067410&ct=dashboard_banner&mt=8\\\" class=\\\"button\\\">Get the app</a>\");"},"10531645464":{},"10198344477":{},"10338973345":{"code":"jQuery('body').addClass('cro-hide-content');\n\njQuery('<style type=\"text/css\">.cro-full-app-download{height:100%;width:100%;position:absolute;top:0;left:0;z-index:1000;background-image:url(//cdn.optimizely.com/img/6250770393/eb3fdd1412504219a8202dd027527126.jpg);background-position:center;background-repeat:no-repeat;text-align:center;background-size:100%;background-position-y:top;background-color:#fff}.cro-full-app-download h1{font-size:18px}.cro-full-app-download-inner{position:absolute;top:50%;width:100%;margin-top:-15%;text-align:center}.cro-button{margin-bottom:15px}body.cro-hide-content{margin-bottom:0!important;height:100%!important}body.cro-hide-content>*{display:none!important}body.cro-hide-content>.cro-full-app-download{display:block!important}</style>').appendTo('head');\n\njQuery('<div class=\"cro-full-app-download\"> <div class=\"cro-full-app-download-inner\"> <div class=\"cro-logo\"> <img src=\"//ht-assets.couchsurfing.com/assets/logo-orange-58ccd2edda8895d1e1742f7744683e61f2c6fa069290a9ff012ef09d51ea643b.png\" /> </div> <div class=\"cro-stars\"> <ul> <li> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span class=\"cro-review-count\">(2,137)</span> </li> </ul> </div> <h1 class=\"cro-h1\">Couchsurfing is easiest on the app</h1> <div class=\"cro-button\"> <a href=\"#\" class=\"button\">Get the app</a> </div> <div class=\"cro-continue text mod-medium\"> Continue to Couchsurfing </div> </div></div>').prependTo('body');\n\njQuery('.cro-continue').click(function(){\n    jQuery('body').removeClass('cro-hide-content');\n    jQuery('.cro-full-app-download').hide();\n\n    return false;\n});\n$(\".cro-full-app-download\").css({\"background-image\":\"url(//cdn.optimizely.com/img/6250770393/07177efc90f947d0aeb91d4aca8ad05e.png)\", \"background-repeat\":\"no-repeat\"});\n$(\".cro-full-app-download-inner\").css({\"top\":295});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#e7e623\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fffc14\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fbf813\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(4)\").css({});\n$(\".cro-stars li > span:eq(3)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(2)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(1)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(0)\").css({\"color\":\"#efec0b\"});\n$(\".cro-full-app-download-inner\").css({\"top\":288});\n$(\".cro-full-app-download-inner\").css({\"top\":281});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":269});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":278});\n$(\".cro-continue\").css({\"color\":\"#aeb5ba\"});\n$(\".cro-full-app-download-inner\").css({\"top\":244, \"left\":1});\n$(\".cro-button > .button\").replaceWith(\"<a href=\\\"https://play.google.com/store/apps/details?id=com.couchsurfing.mobile.android&referrer=utm_source%3Dsite%26utm_medium%3Dmobileweb%26utm_content%3Dinstallapp%26utm_campaign%3dashboard_banner\\\" class=\\\"button\\\">Get the app</a>\");"},"10193977125":{"code":"$(\".verification-lead\").replaceWith(\"<section id=\\\"how-it-works\\\" class=\\\"hero mod-how-it-works\\\" style=\\\"\\\">\\n    <div class=\\\"hero-content\\\" style=\\\"font-size: 18px;\\\">\\n      <h2 class=\\\"hero-content-title\\\" style=\\\"\\\">\\n        What you get</h2>\\n      <hr class=\\\"mod-short mod-white\\\">\\n      <div class=\\\"info-box-container\\\" style=\\\"display: none;\\\">\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Discover amazing people 75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/discover-amazing-people-75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Discover Amazing People\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Couchsurfers open their homes and share their lives. Connect and be inspired.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Book a stay 64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/book-a-stay-64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8.png\\\">\\n            <h3 class=\\\"info-box-title\\\">Find a Host</h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>Connect with hosts, and confirm your stay through the Couchsurfing platform. Your stay with hosts is free.\\n</p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\" style=\\\"\\\">\\n          <article style=\\\"\\\">\\n            <img alt=\\\"Join events 23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/join-events-23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Join Events\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p style=\\\"\\\">\\n              Meet travelers in other cities, or in your own city! There's always something new to join.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n      </div>\\n\\n      <div style=\\\"\\\">\\n        <table class=\\\"hero-table\\\">\\n          <tbody><tr>\\n            <th style=\\\"\\\"></th>\\n            <th class=\\\"mod-border-top mod-border-right-left\\\" style=\\\"\\\">\\n              Free\\n            </th>\\n            <th style=\\\"\\\">\\n              Verified <br> Members\\n            </th>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Find a Host</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Host a Traveler</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Attend Events</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Send Unlimited Messages</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">Ad Free Website &amp; App</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Identity Verification</td>\\n            <td class=\\\"mod-border-bottom mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n        </tbody></table>\\n      </div>\\n\\n      <div class=\\\"mod-margin-top\\\">\\n        <p>\\n          <a class=\\\"mod-underline mod-white\\\" href=\\\"http://www.couchsurfing.com/about/how-it-works\\\" style=\\\"display: none;\\\">Learn how to get started</a>\\n        </p>\\n      </div>\\n\\n    </div>\\n  </section>\\n<div class=\\\"verification-lead u-clear js-verification-lead-block\\\">\\n\\n    <h2 class=\\\"verification-lead__content-title mod-mobile text mod-navy mod-normal u-text-center\\\">\\n      Verification Benefits\\n    </h2>\\n\\n    <section class=\\\"verification-lead__content\\\">\\n      <h2 class=\\\"verification-lead__content-title\\\">\\n        <span class=\\\"text mod-navy mod-normal\\\">\\n          Verification Benefits\\n        </span>\\n      </h2>\\n\\n      <ul class=\\\"verification-lead__advantages text mod-navy u-clear\\\">\\n\\n        <!-- TODO: remove for production -->\\n        <li class=\\\"verification-lead__advantages-item mod-unlimited-messaging\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              Unlimited Messaging\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Enjoy full, unrestricted use of Couchsurfing - messaging limits are waived for members.\\n            </p>\\n          </article>\\n        </li>\\n\\n        <li class=\\\"verification-lead__advantages-item\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              More Trusted\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Couchsurfing works because of real connections between real people. Verification helps to confirm your identity.\\n            </p>\\n          </article>\\n        </li>\\n\\n        <li class=\\\"verification-lead__advantages-item mod-support\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              24/7 Support\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Our Trust and Safety team is available to you around the clock\\n            </p>\\n          </article>\\n        </li>\\n\\n        <!-- TODO: remove for production -->\\n          <li class=\\\"verification-lead__advantages-item mod-takes-a-minute\\\">\\n            <article>\\n              <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n                Takes just a minute\\n              </h3>\\n              <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n                You can Get Verified in less time than it takes to read this page.\\n              </p>\\n            </article>\\n          </li>\\n\\n      </ul>\\n    </section>\\n\\n    <div class=\\\"verification-lead__img-wrapper u-text-center\\\">\\n      <div class=\\\"verification-lead__img\\\">\\n        <img alt=\\\"Photo of Carolina\\\" class=\\\"mod-round\\\" src=\\\"//ht-assets.couchsurfing.com/assets/verification/lisa-evans-photo-6fac0bd02b6b09e9d7c70d482486ba13a117bfb4d6408197746769b9969606aa.jpg\\\">\\n      </div>\\n      <blockquote class=\\\"verification-lead__testimonial text mod-navy\\\">\\n        \u201cI usually don\u2019t host or surf with people who aren\u2019t verified, especially if they are new and have no references... every serious user should get verified.\u201d\\n\\n      </blockquote>\\n      <cite class=\\\"text mod-normal\\\">\\n        <b>Carolina,</b>\\n        Verified Member\\n      </cite>\\n    </div>\\n\\n  </div>\");\n$(\".verification-members\").css({\"left\":\"0px\", \"position\":\"relative\", \"top\":\"0px\"});\n$(\".verification-members\").detach().insertBefore(\".verification-lead\");\n$(\"div.hero-content\").css({\"padding-top\":\"10px\", \"padding-bottom\":\"10px\", \"padding\":\"10px\", \"padding-left\":\"10px\", \"padding-right\":\"10px\"});\n$(\"#how-it-works\").css({\"position\":\"relative\", \"left\":3, \"top\":-49});\n$(\"#how-it-works\").css({\"left\":3, \"top\":-50});\n$(\".verification-members\").css({\"left\":3, \"top\":-49});\n$(\"div.hero-content\").css({\"padding\":\"20px\", \"padding-top\":\"20px\", \"padding-bottom\":\"20px\", \"padding-left\":\"20px\", \"padding-right\":\"20px\"});\n$(\"div.hero-content\").css({});\n$(\".verification-lead\").css({\"left\":\"0px\", \"position\":\"relative\", \"top\":\"0px\"});\n$(\".verification-lead\").detach().insertBefore(\"#how-it-works\");\n$(\".verification-lead__img-wrapper\").css({\"padding-bottom\":\"10px\"});\n$(\"#how-it-works\").replaceWith(\"<section id=\\\"how-it-works\\\" class=\\\"hero mod-how-it-works\\\" style=\\\"margin-top: 0px;\\\">\\n    <div class=\\\"hero-content\\\" style=\\\"font-size: 18px;\\\">\\n      <h2 class=\\\"hero-content-title\\\">\\n        What you get\\n      </h2>\\n      <hr class=\\\"mod-short mod-white\\\">\\n      <div class=\\\"info-box-container\\\" style=\\\"display: none;\\\">\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Discover amazing people 75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/discover-amazing-people-75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Discover Amazing People\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Couchsurfers open their homes and share their lives. Connect and be inspired.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Book a stay 64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/book-a-stay-64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8.png\\\">\\n            <h3 class=\\\"info-box-title\\\">Find a Host</h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>Connect with hosts, and confirm your stay through the Couchsurfing platform. Your stay with hosts is free.\\n</p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Join events 23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/join-events-23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Join Events\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Meet travelers in other cities, or in your own city! There's always something new to join.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n      </div>\\n\\n      <div>\\n        <table class=\\\"hero-table\\\">\\n          <tbody><tr>\\n            <th></th>\\n            <th class=\\\"mod-border-top mod-border-right-left\\\">\\n              Free\\n            </th>\\n            <th>\\n              Verified <br> Members\\n            </th>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Find a Host</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Host a Traveler</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Attend Events</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Send Unlimited Messages</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">Ad Free Website &amp; App</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Identity Verification</td>\\n            <td class=\\\"mod-border-bottom mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n        </tbody></table>\\n      </div>\\n\\n      <div class=\\\"mod-margin-top\\\">\\n        <p>\\n          <a class=\\\"mod-underline mod-white\\\" href=\\\"http://www.couchsurfing.com/about/how-it-works\\\" style=\\\"display: none;\\\">Learn how to get started</a>\\n        </p>\\n      </div>\\n\\n    </div>\\n  </section>\");"},"10190903858":{"code":"$(\"a.mod-join\").replaceWith(\"<a class=\\\"header-nav-button button mod-join mod-small-min-width js-user-join\\\" data-amplitude-click=\\\"signup_modal\\\" data-amplitude-properties=\\\"{&quot;source&quot;:&quot;homepage&quot;}\\\" href=\\\"/new-registration/sign-up?variant=2\\\">Join</a>\");\n$(\".mod-margin-top > .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=2\\\">Plan a Trip</a>\");\n$(\".mod-inline-web .cboxElement\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=2\\\">Plan a Trip</a>\");\n$(\".mod-inline-web a.mod-facebook\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/new-registration/sign-up?variant=2\\\">\\n            Join\\n</a>\");\n$(\".mod-join .mod-couchsurfing\").css({\"display\":\"none\", \"visibility\":\"\"});"},"10845113148":{"code":"jQuery('<style type=\"text/css\">.selectize-dropdown-content [data-value=\"place\"],.selectize-dropdown-content [data-value=\"host\"],.selectize-dropdown-content [data-value=\"member\"],.selectize-dropdown-content [data-value=\"traveler\"],.selectize-dropdown-content [data-value=\"event\"],.selectize-dropdown-content [data-value=\"group\"],.selectize-dropdown-content [data-value=\"advice\"]{ display:none;}.selectize-control.single .selectize-input:after{ display:none;}</style>').appendTo('head');\n$(\".header-destination-search-type .item\").replaceWith(\"<div style=\\\"cursor:initial\\\" class=\\\"item\\\" data-value=\\\"place\\\">Explore</div>\");\n$(\".header-destination-search-type > .selectize-input\").addClass(\"explore\");\n$(\".explore > .item\").addClass(\"explore\");\n$(\".selectize-input > .explore\").replaceWith(\"<div style=\\\"cursor:default !important\\\" class=\\\"item explore\\\" data-value=\\\"place\\\">Explore</div>\");\n$(\".header-destination-search-form\").addClass(\"explore\");\n$(\".header-search\").addClass(\"explore\");"},"10199203133":{"code":"$(\"a.mod-join\").replaceWith(\"<a class=\\\"header-nav-button button mod-join mod-small-min-width js-user-join\\\" data-amplitude-click=\\\"signup_modal\\\" data-amplitude-properties=\\\"{&quot;source&quot;:&quot;homepage&quot;}\\\" href=\\\"/new-registration/sign-up?variant=4\\\">Join</a>\");\n$(\".mod-margin-top > .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=4\\\">Plan a Trip</a>\");\n$(\".mod-inline-web .cboxElement\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=4\\\">Plan a Trip</a>\");\n$(\".mod-inline-web a.mod-facebook\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/new-registration/sign-up?variant=4\\\">\\n            Join\\n</a>\");\n$(\".mod-join .mod-couchsurfing\").css({\"display\":\"none\", \"visibility\":\"\"});"},"10335144262":{},"10223392081":{"code":"$(\"a.mod-join\").replaceWith(\"<a class=\\\"header-nav-button button mod-join mod-small-min-width js-user-join\\\" data-amplitude-click=\\\"signup_modal\\\" data-amplitude-properties=\\\"{&quot;source&quot;:&quot;homepage&quot;}\\\" href=\\\"/new-registration/sign-up?variant=3\\\">Join</a>\");\n$(\".mod-margin-top > .mod-couchsurfing\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=3\\\">Plan a Trip</a>\");\n$(\".mod-inline-web .cboxElement\").replaceWith(\"<a class=\\\"button mod-couchsurfing mod-homepage mod-over-image\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;plan_trip&quot;}\\\" href=\\\"/new-registration/sign-up?variant=3\\\">Plan a Trip</a>\");\n$(\".mod-inline-web a.mod-facebook\").replaceWith(\"<a class=\\\"button mod-homepage mod-join mod-bigger js-user-join\\\" data-amplitude-click=\\\"join\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;fb&quot;}\\\" href=\\\"/new-registration/sign-up?variant=3\\\">\\n            Join\\n</a>\");\n$(\".mod-join .mod-couchsurfing\").css({\"display\":\"none\", \"visibility\":\"\"});"},"10697863897":{},"10520259421":{"code":"jQuery('body').addClass('cro-hide-content');\n\njQuery('<style type=\"text/css\">.cro-full-app-download{height:100%;width:100%;position:absolute;top:0;left:0;z-index:1000;background-image:url(//cdn.optimizely.com/img/6250770393/eb3fdd1412504219a8202dd027527126.jpg);background-position:center;background-repeat:no-repeat;text-align:center;background-size:100%;background-position-y:top;background-color:#fff}.cro-full-app-download h1{font-size:18px}.cro-full-app-download-inner{position:absolute;top:50%;width:100%;margin-top:-15%;text-align:center}.cro-button{margin-bottom:15px}body.cro-hide-content{margin-bottom:0!important;height:100%!important}body.cro-hide-content>*{display:none!important}body.cro-hide-content>.cro-full-app-download{display:block!important}</style>').appendTo('head');\n\njQuery('<div class=\"cro-full-app-download\"> <div class=\"cro-full-app-download-inner\"> <div class=\"cro-logo\"> <img src=\"//ht-assets.couchsurfing.com/assets/logo-orange-58ccd2edda8895d1e1742f7744683e61f2c6fa069290a9ff012ef09d51ea643b.png\" /> </div> <div class=\"cro-stars\"> <ul> <li> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span class=\"cro-review-count\">(2,137)</span> </li> </ul> </div> <h1 class=\"cro-h1\">Couchsurfing is easiest on the app</h1> <div class=\"cro-button\"> <a href=\"#\" class=\"button\">Get the app</a> </div> <div class=\"cro-continue text mod-medium\"> Continue to Couchsurfing </div> </div></div>').prependTo('body');\n\njQuery('.cro-continue').click(function(){\n    jQuery('body').removeClass('cro-hide-content');\n    jQuery('.cro-full-app-download').hide();\n\n    return false;\n});\n$(\".cro-full-app-download\").css({\"background-image\":\"url(//cdn.optimizely.com/img/6250770393/07177efc90f947d0aeb91d4aca8ad05e.png)\", \"background-repeat\":\"no-repeat\"});\n$(\".cro-full-app-download-inner\").css({\"top\":295});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#e7e623\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fffc14\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fbf813\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(4)\").css({});\n$(\".cro-stars li > span:eq(3)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(2)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(1)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(0)\").css({\"color\":\"#efec0b\"});\n$(\".cro-full-app-download-inner\").css({\"top\":288});\n$(\".cro-full-app-download-inner\").css({\"top\":281});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":269});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":278});\n$(\".cro-continue\").css({\"color\":\"#aeb5ba\"});\n$(\".cro-full-app-download-inner\").css({\"left\":2, \"top\":305});\n$(\".cro-button > .button\").replaceWith(\"<a href=\\\"https://itunes.apple.com/app/apple-store/id525642917?pt=1067410&ct=dashboard_banner&mt=8\\\" class=\\\"button\\\">Get the app</a>\");"},"10853001438":{"code":"$(\".column\").replaceWith(\"<header class=\\\"box-header\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue609\\\" class=\\\"icon mod-calendar mod-large mod-clear-vertical-align\\\"></span>\\n\\n      <span class=\\\"text mod-large mod-capitalized mod-normal\\\">\\n        Events\\n      </span>\\n  </h2>\\n\\n\\n</header>\\n<div class=\\\"column mod-main mod-city-page\\\" data-amplitude-pageview=\\\"place_page\\\" data-amplitude-properties=\\\"{ &quot;city&quot;: &quot;San Francisco&quot;, &quot;country&quot;: &quot;&quot; }\\\">\\n\\n  <!-- City Descriptions -->\\n\\n\\n\\n  <div class=\\\"multicolumn\\\">\\n    <div class=\\\"multicolumn-column mod-no-padding-bottom\\\">\\n      <section class=\\\"box mod-preview\\\" data-amplitude-click=\\\"city_page_hosts\\\" data-amplitude-properties=\\\"{ &quot;module&quot;: &quot;condensed_view&quot;, &quot;place&quot;: &quot;San Francisco&quot; }\\\">\\n        \\n<header class=\\\"box-header mod-tight\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue633\\\" class=\\\"icon mod-upcoming-guests mod-big\\\"></span>\\n\\n      <span class=\\\"text mod-big mod-capitalized\\\">\\n        Local Hosts\\n      </span>\\n  </h2>\\n\\n\\n</header>\\n\\n\\n\\n          <!-- Show 6 Host Profiles -->\\n          <div class=\\\"box-content mod-padded\\\">\\n\\n            <!-- Subtitle -->\\n            <div class=\\\"text mod-regular mod-bottom-20 u-text-center\\\">\\n              Stay with one of the 33,355 hosts in San Francisco\\n            </div>\\n\\n            <!-- Host Profile Pics -->\\n            <div class=\\\"multicolumn mod-flex mod-wrap\\\">\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/users/2006991861\\\">\\n        <img alt=\\\"Photo of A\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/A9NXxJA2P1ydMRRqZ7Qtwc3SrAc=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2006991861/6be97791-fa2e-4413-8a08-a2347263a0d1\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=2006991861\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/users/2006991861\\\">\\n        <span itemprop=\\\"name\\\">\\n          Art Lucio\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/angel-spb\\\">\\n        <img alt=\\\"Photo of A\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/XsA7HSGTZSWczb4jlkY5hpXWG4U=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/3924695/6a6c15db-068a-4ce2-ad47-8c78771b9cad\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=3924695\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/angel-spb\\\">\\n        <span itemprop=\\\"name\\\">\\n          Alik\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/nirmal-utwani-1\\\">\\n        <img alt=\\\"Photo of N\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/TNpkx6NMV_qbGwCWSJaYwkl73cM=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2007917479/74d895f6-c10f-4fcd-8060-e814f628e2eb\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=2007917479\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/nirmal-utwani-1\\\">\\n        <span itemprop=\\\"name\\\">\\n          Nirmal\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/joshsperling\\\">\\n        <img alt=\\\"Photo of J\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/8XDVhqT1ywtGQqwfT7uLfDkUDJE=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/3541684/83cf35ce-278f-4d27-980b-467784b4b507\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=3541684\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/joshsperling\\\">\\n        <span itemprop=\\\"name\\\">\\n          Josh\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/steve-clark-sfo\\\">\\n        <img alt=\\\"Photo of S\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/5SYYVmW_AVf0zdmAiFXQYzuN0pc=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2001972732/c7b7b5e5-9377-4f45-923f-94e433159c90\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=2001972732\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/steve-clark-sfo\\\">\\n        <span itemprop=\\\"name\\\">\\n          Steve Clark\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/jmzbond\\\">\\n        <img alt=\\\"Photo of J\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/E7fw-GkNB2-6VfIiGJW68E7mGJs=/80x80/smart/https://s3.amazonaws.com/images.couchsurfing.us/2K9OV95/23980231_l_79421895052a7c8275f61ba6db6c3691.jpg\\\">\\n</a>\\n\\n\\n    \\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/jmzbond\\\">\\n        <span itemprop=\\\"name\\\">\\n          James Dong\\n        </span>\\n</a></div>\\n\\n            </div>\\n\\n          <!-- Find a Host button -->\\n            <div class=\\\"u-text-center\\\">\\n                <a class=\\\"button mod-wide mod-host-traveler js-search-btn\\\" href=\\\"/places/north-america/united-states/san-francisco/accommodation\\\">Find a Host</a>\\n            </div>\\n          </div>\\n\\n      </section>\\n    </div>\\n\\n    <div class=\\\"multicolumn-column mod-no-padding-bottom\\\">\\n      <section class=\\\"box mod-preview\\\" data-amplitude-click=\\\"city_page_travelers\\\" data-amplitude-properties=\\\"{ &quot;module&quot;: &quot;condensed_view&quot;, &quot;place&quot;: &quot;San Francisco&quot; }\\\">\\n        \\n<header class=\\\"box-header mod-tight\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue634\\\" class=\\\"icon mod-upcoming-travel mod-big\\\"></span>\\n\\n      <span class=\\\"text mod-big mod-capitalized\\\">\\n        Upcoming Visitors\\n      </span>\\n  </h2>\\n\\n\\n</header>\\n\\n\\n\\n          <div class=\\\"box-content mod-padded\\\">\\n\\n            <!-- Subtitle -->\\n            <div class=\\\"text mod-regular mod-bottom-20 u-text-center\\\">\\n              Meet or Host some of the 513 visitors to San Francisco\\n            </div>\\n\\n\\n            <div class=\\\"multicolumn mod-flex mod-wrap\\\">\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/users/2000292678\\\">\\n        <img alt=\\\"Photo of H\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/rTlX86l9ds5I9StsGc3-YMPSwsM=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2000292678/7C108988-5D2F-414E-9494-A597A9A78DAC\\\">\\n</a>\\n\\n\\n    \\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/users/2000292678\\\">\\n        <span itemprop=\\\"name\\\">\\n          Hernan Aravena Zamora\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/lisa-wiedemann\\\">\\n        <img alt=\\\"Photo of L\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/tw2shisuZ-dwwKXTOFQz2THnx3g=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2004417483/b4e00dcb-f38e-4ea7-bd6a-494dfe159886\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=2004417483\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/lisa-wiedemann\\\">\\n        <span itemprop=\\\"name\\\">\\n          Lisa Wiedemann\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/rebecca-funke\\\">\\n        <img alt=\\\"Photo of R\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/jJXYtNTaheMpwYdBLCCl5MJkdl4=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2005164867/79261052-185c-43d6-88b7-1f2a6ace3d9f\\\">\\n</a>\\n\\n\\n    \\n  <a class=\\\"mod-right-bottom mod-no-underline cboxElement\\\" data-modal=\\\"true\\\" data-overlay-close=\\\"true\\\" href=\\\"/verifications/badge?has_no_actions_list=false&amp;user_id=2005164867\\\"><span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-right-bottom\\\"></span></a>\\n\\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/rebecca-funke\\\">\\n        <span itemprop=\\\"name\\\">\\n          Rebecca Funke\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/olga-belova-14\\\">\\n        <img alt=\\\"Photo of O\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/Z50qta7gPYRvJGcHJvwhij76Cpc=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2006689687/7eb43dac-aab9-4a9e-86fc-82dd8eaac645\\\">\\n</a>\\n\\n\\n    \\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/olga-belova-14\\\">\\n        <span itemprop=\\\"name\\\">\\n          Olga Belova\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/innoir\\\">\\n        <img alt=\\\"Photo of R\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/OoQEAuuAWWWDAUGF_Bn44mW2pN4=/80x80/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/925371/77b02f4c-5fc3-45e8-b62f-0a4679891cef\\\">\\n</a>\\n\\n\\n    \\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/innoir\\\">\\n        <span itemprop=\\\"name\\\">\\n          Ruth Linares\\n        </span>\\n</a></div>\\n\\n                \\n<div class=\\\"person-avatar multicolumn-column mod-1-3 u-text-center\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Person\\\">\\n  <div class=\\\"image-wrapper mod-size-80 mod-preview u-relative\\\">\\n    \\n\\n\\n      <a class=\\\"image mod-modern mod-no-underline\\\" href=\\\"/people/gideoncrawley\\\">\\n        <img alt=\\\"Photo of G\\\" class=\\\"mod-round\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/UgS5xqGXrNljW_FdqXt3Zi7fILk=/80x80/smart/https://s3.amazonaws.com/images.couchsurfing.us/5HH9L9C4K/23278514_l_2cdf03be575607a029bdaabeae8340eb.jpg\\\">\\n</a>\\n\\n\\n    \\n  </div>\\n\\n      <a class=\\\"text mod-truncated mod-black mod-w-90\\\" href=\\\"/people/gideoncrawley\\\">\\n        <span itemprop=\\\"name\\\">\\n          Gideon Crawley\\n        </span>\\n</a></div>\\n\\n            </div>\\n\\n            <div class=\\\"u-text-center mod-padded\\\">\\n              <a class=\\\"button mod-wide mod-host-traveler js-search-btn\\\" href=\\\"/members/travelers?placeid=ChIJIQBpAG2ahYAR_6128GcTUEo&amp;search_query=San+Francisco\\\">\\n                Meet Travelers\\n</a>            </div>\\n          </div>\\n\\n      </section>\\n    </div>\\n\\n    <!-- Hangouts Panel -->\\n    <div class=\\\"multicolumn-column mod-no-padding-bottom\\\">\\n      <section class=\\\"city-hangouts box mod-preview\\\" data-amplitude-click=\\\"city_page_hangouts\\\" data-amplitude-properties=\\\"{ &quot;place&quot;: &quot;San Francisco&quot; }\\\">\\n\\n        \\n<header class=\\\"box-header mod-tight\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue900\\\" class=\\\"icon mod-hangouts mod-hangouts-city-page\\\"></span>\\n\\n      <span class=\\\"text mod-big mod-capitalized\\\">\\n        Hangouts\\n      </span>\\n  </h2>\\n\\n\\n</header>\\n\\n\\n\\n          <div class=\\\"box-content mod-padded mod-fuse-with-prev\\\">\\n\\n              <p class=\\\"text mod-regular mod-top-20 u-text-center\\\">\\n                26 members available to meet now\\n              </p>\\n\\n            <div class=\\\"multicolumn mod-flex mod-wrap\\\">\\n                \\n<div class=\\\"card mod-hangout\\\">\\n  <div class=\\\"card-image\\\">\\n    \\n\\n\\n      <img alt=\\\"Photo of y\\\" class=\\\"mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/rpi4X2yY9eEsaV21yVW7B-ojW-Q=/60x60/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/3568447/8A0B5A10-3BF1-48A0-BB80-E5B58C293B8E\\\">\\n\\n\\n  </div>\\n  <span class=\\\"city-hangouts__status\\\">\\n    <span class=\\\"city-hangouts__status__name\\\">\\n      yvonnesher\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__text\\\">\\n      wants to explore the area\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__time text  mod-green\\\">\\n      15 minutes ago\\n    </span>\\n  </span>\\n</div>\\n                \\n<div class=\\\"card mod-hangout\\\">\\n  <div class=\\\"card-image\\\">\\n    \\n\\n\\n      <img alt=\\\"Photo of T\\\" class=\\\"mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/aaVAAPJl4qgKrJPA7mDE-_hM4o8=/60x60/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2006165094/4f0d5f3d-0964-4491-9a81-f07ecf7dcd9e\\\">\\n\\n\\n  </div>\\n  <span class=\\\"city-hangouts__status\\\">\\n    <span class=\\\"city-hangouts__status__name\\\">\\n      Tonito\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__text\\\">\\n      wants to hangout\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__time text  mod-green\\\">\\n      about 2 hours ago\\n    </span>\\n  </span>\\n</div>\\n                \\n<div class=\\\"card mod-hangout\\\">\\n  <div class=\\\"card-image\\\">\\n    \\n\\n\\n      <img alt=\\\"Photo of R\\\" class=\\\"mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/pERilVhAUkx1erDyJYPRrrhPS08=/60x60/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2006420263/7E10D8D4-B776-474A-B058-492FECFD4D54\\\">\\n\\n\\n  </div>\\n  <span class=\\\"city-hangouts__status\\\">\\n    <span class=\\\"city-hangouts__status__name\\\">\\n      Robert\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__text\\\">\\n      wants to explore the area\\n    </span>\\n\\n    <span class=\\\"city-hangouts__status__time text  mod-green\\\">\\n      about 1 hour ago\\n    </span>\\n  </span>\\n</div>\\n            </div>\\n\\n            <div class=\\\"city-hangouts__download-link u-text-center\\\">\\n              <a class=\\\"js-mobile-app-link button mod-wide\\\" data-android-link=\\\"https://play.google.com/store/apps/details?id=com.couchsurfing.mobile.android&amp;utm_source=site&amp;utm_campaign=android_hangouts_city_page\\\" data-ios-link=\\\"https://itunes.apple.com/app/apple-store/id525642917?pt=1067410&amp;ct=Hangouts%20City%20Page&amp;mt=8\\\" href=\\\"http://onelink.to/couchsurf\\\">\\n                Get the App\\n</a>            </div>\\n          </div>\\n\\n      </section>\\n    </div>\\n  </div>\\n\\n  <section class=\\\"box\\\" data-amplitude-click=\\\"city_page_events\\\" data-amplitude-properties=\\\"{ &quot;module&quot;: &quot;expanded_view&quot;, &quot;place&quot;: &quot;San Francisco&quot; }\\\">\\n    \\n<header class=\\\"box-header\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue609\\\" class=\\\"icon mod-calendar mod-large mod-clear-vertical-align\\\"></span>\\n\\n      <span class=\\\"text mod-large mod-capitalized mod-normal\\\">\\n        Events\\n      </span>\\n  </h2>\\n\\n\\n</header>\\n\\n\\n      <div class=\\\"box-content mod-padded\\\">\\n        <div class=\\\"multicolumn mod-flex mod-wrap mod-panel\\\">\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded is-first\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/2018-san-francisco-couch-crash\\\">\\n        <img alt=\\\"2018 San Francisco Couch Crash!!'s picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/3I-Q9QM2AfFgObTAftlsvWgq7U8=/130x130/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1003490241/42452be1-3a34-426b-bc4e-5ee7ad4ddb4f\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/2018-san-francisco-couch-crash\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">2018 San Francisco Couch Crash!!</span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-06-08T18:00:00-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"San Francisco, CA, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Fri, Jun  8 at  6:00 PM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/emre\\\">\\n        <img alt=\\\"Emre Ayranci's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/riY0vhMSGLATVyUajXbeld6kuGU=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/21BCCU/17033_l_c708100fd00b8acceaa113c41a10b1f0.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/lloydc\\\">\\n        <img alt=\\\"LloydC's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/jzeY5NI1x4KzToPln5FufQBtI8U=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/2KN9O5/8275201_l_8165538fe4d7999c783613c211e18d28.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/flohfish\\\">\\n        <img alt=\\\"flohfish's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/qPPSu_zq3ZkhQ_XOVJYiUo_lupo=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/12631/dd137428-de5e-49b5-a07b-d8ecb0abeaba\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 306 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2450653/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/scavenger-hunt-couchsurfing-hq\\\">\\n        <img alt=\\\"Scavenger Hunt @ Couchsurfing HQ!'s picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/oABBCyNPCKCMpiYkSdLEOnTy-6Y=/130x130/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1003490241/2020da60-ac05-4092-b9f2-daa097eaa854\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/scavenger-hunt-couchsurfing-hq\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">Scavenger Hunt @ Couchsurfing HQ!</span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-05-13T14:00:00-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"340 Kansas St, San Francisco, CA 94103, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Sun, May 13 at  2:00 PM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/jordanface\\\">\\n        <img alt=\\\"Jordanface's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/MSJPalOPKcrILEuxzunXfW8SZ18=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/26J14XF/3197842_l_a770c0be38fe22156010eed9ac2a1969.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/lowellk\\\">\\n        <img alt=\\\"LOWELLK's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/rZj05XlcFnqmMpx33zRCDn5nFfI=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/2PUJMI5/1271307_l_9428070c7ab715e8629135a760d9cbdf.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/milenne\\\">\\n        <img alt=\\\"Milenne Bahamondes's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/Xvz-dOSiicnGdcEZPRM5chZCVAU=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/522011/dadc1a32-1322-470e-816a-120055b1bf20\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 31 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2716804/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/san-francisco-couchsurfing-meetup-san-francisco-2018-05-05\\\">\\n        <img alt=\\\"San Francisco Couchsurfing Meetup's picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/OsUZynAv0qdVWegP9jNF1CDmLcs=/130x130/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1000439209/4fdbb41a-0473-46e6-8e33-d762da9ce405\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/san-francisco-couchsurfing-meetup-san-francisco-2018-05-05\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">San Francisco Couchsurfing Meetup</span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-05-04T19:00:00-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"The Royale, 800 Post St, San Francisco, CA 94109, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Every other Friday at  7:00 PM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/dougecox\\\">\\n        <img alt=\\\"Doug Cox's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/OBbBwAMDVsQlSHDlk7oE-cQtkGY=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/692985/859E15A7-4D73-4470-985C-AD8EAAD37BA9\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/yoribe\\\">\\n        <img alt=\\\"Yoshi Oribe's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/bYjvDlmXV4cswDwaSOFjxj0nELI=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/5AV5RWK/24215159_l_a0f2f0cbd0514bf44340048f1d50c754.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/jielun13\\\">\\n        <img alt=\\\"Jay Ong's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/smKxU4lhoBOBYhJoJ53FdGWxtMw=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/7MEI66P/7945878_l_d4b7ecf1723c8dc29f6f892e7a0d836f.jpg\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 25 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2431573/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/2-3-day-trip-to-yosemite-lake-tahoe\\\">\\n        <img alt=\\\"2-3 Day Trip To Yosemite &amp; Lake Tahoe's picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/8JlVs1jZeBIQh3gUq7rGtLPq6FQ=/130x130/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2006689708/12383c3e-8e2b-427c-bbb5-25a45c9f8e4d\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/2-3-day-trip-to-yosemite-lake-tahoe\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">2-3 Day Trip To Yosemite &amp; Lake Tahoe</span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-05-13T08:00:51-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"San Francisco, CA, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Sun, May 13 at  8:00 AM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/jordanface\\\">\\n        <img alt=\\\"Jordanface's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/MSJPalOPKcrILEuxzunXfW8SZ18=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/26J14XF/3197842_l_a770c0be38fe22156010eed9ac2a1969.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/milenne\\\">\\n        <img alt=\\\"Milenne Bahamondes's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/Xvz-dOSiicnGdcEZPRM5chZCVAU=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/522011/dadc1a32-1322-470e-816a-120055b1bf20\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/georgeblaki\\\">\\n        <img alt=\\\"Jorge  Gadea Marti's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/z-ZtyX-i4HtRAffYOAEAjtywfoc=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/4BRPRL5/2371256_l_892f2f301bef9cee21f4727d3470d6a2.jpg\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 24 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2695278/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/sf-couch-crash-kickoff-party\\\">\\n        <img alt=\\\"SF Couch Crash Kickoff Party's picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/uyIeZRDu16O58qHClnLP3B6atVo=/130x130/smart/https://ht-cdn.couchsurfing.com/assets/event-picture-placeholder3.png\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/sf-couch-crash-kickoff-party\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">SF Couch Crash Kickoff Party</span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-06-08T18:00:00-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"340 Kansas St, San Francisco, CA 94103, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Fri, Jun  8 at  6:00 PM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/petr82\\\">\\n        <img alt=\\\"Petr Vasicek's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/qNxcnLgRAQUgI23dtJUemVgVlMg=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/212469/9407b2ce-e5f4-445d-884d-4e561e1081d0\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/jordanface\\\">\\n        <img alt=\\\"Jordanface's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/MSJPalOPKcrILEuxzunXfW8SZ18=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/26J14XF/3197842_l_a770c0be38fe22156010eed9ac2a1969.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/bundekim\\\">\\n        <img alt=\\\"Mike Bund's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/7fy8ut_P3Lr8MG43nY-aPeJxC8Y=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/426068/A9B8D456-8468-447C-93BD-76EEEC4C6007\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 21 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2790199/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n            <div class=\\\"multicolumn-column mod-1-2 mod-padded\\\">\\n              <!-- @todo: rename this file to _event_simple-->\\n\\n\\n  <!-- @todo ensive: implement microdata (schema) -->\\n  <section class=\\\"card mod-bordered mod-padded\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Event\\\">\\n    <div class=\\\"card-image mod-large mod-no-padding u-text-center\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" href=\\\"/events/sf-couch-crash-dolores-park-hangout\\\">\\n        <img alt=\\\"SF Couch Crash Dolores Park Hangout 's picture\\\" class=\\\"card-image-image mod-full-width mod-rounded\\\" itemprop=\\\"image\\\" src=\\\"https://tcdn.couchsurfing.com/XPFSh9emK0WH7erUBv9Y8zo5wYw=/130x130/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/426068/170D47A6-FD9B-432D-B85B-2887A6AA2391\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-city-page mod-no-padding u-text-center\\\">\\n      <h3 class=\\\"card-content-title mod-tight u-fw-normal\\\">\\n        <!-- TODO: refactor & simplify (use helpers) -->\\n\\n    <a class=\\\"mod-truncated mod-black\\\" itemprop=\\\"url\\\" href=\\\"/events/sf-couch-crash-dolores-park-hangout\\\"><span itemprop=\\\"name\\\" class=\\\"mod-truncated mod-black\\\">SF Couch Crash Dolores Park Hangout </span></a>\\n\\n      \\n\\n      </h3>\\n      <ul>\\n        <li>\\n          <span class=\\\"text mod-small mod-gray\\\">\\n            <meta itemprop=\\\"startDate\\\" content=\\\"2018-06-09T13:00:00-07:00\\\">\\n            <div itemprop=\\\"location\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/Place\\\">\\n              <meta itemprop=\\\"name\\\" content=\\\"Mission Dolores Park, Dolores St &amp; 19th St, San Francisco, CA 94114, USA\\\">\\n              <div itemprop=\\\"address\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/PostalAddress\\\">\\n                <meta itemprop=\\\"addressCountry\\\" content=\\\"USA\\\">\\n                <meta itemprop=\\\"addressRegion\\\" content=\\\"California\\\">\\n                <meta itemprop=\\\"addressLocality\\\" content=\\\"San Francisco\\\">\\n              </div>\\n            </div>\\n            Sat, Jun  9 at  1:00 PM PDT\\n          </span>\\n        </li>\\n        <li>\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/jordanface\\\">\\n        <img alt=\\\"Jordanface's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/MSJPalOPKcrILEuxzunXfW8SZ18=/30x30/smart/https://s3.amazonaws.com/images.couchsurfing.us/26J14XF/3197842_l_a770c0be38fe22156010eed9ac2a1969.jpg\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/bundekim\\\">\\n        <img alt=\\\"Mike Bund's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/7fy8ut_P3Lr8MG43nY-aPeJxC8Y=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/426068/A9B8D456-8468-447C-93BD-76EEEC4C6007\\\">\\n</a>\\n\\n              \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/joshsperling\\\">\\n        <img alt=\\\"Josh's Photo\\\" class=\\\"card-image-image image mod-moving-top mod-shadowed mod-inline mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/d5fD5kcMvRL62i4e0m-5-m2gbrU=/30x30/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/3541684/83cf35ce-278f-4d27-980b-467784b4b507\\\">\\n</a>\\n\\n\\n          <p class=\\\"mod-attending\\\">\\n              + 10 attending\\n          </p>\\n        </li>\\n      </ul>\\n\\n          \\n\\n    <a class=\\\"button mod-block mod-margin-top\\\" rel=\\\"nofollow\\\" data-method=\\\"post\\\" href=\\\"/events/2767083/join\\\">Join</a>\\n\\n\\n\\n    </div>\\n  </section>\\n\\n\\n            </div>\\n        </div>\\n      </div>\\n\\n        <div class=\\\"box-actions mod-padded\\\">\\n          <a href=\\\"/events/search?placeid=ChIJIQBpAG2ahYAR_6128GcTUEo&amp;search_query=San+Francisco\\\">\\n            Browse 166 more Events in San Francisco\\n</a>        </div>\\n  </section>\\n\\n  <div id=\\\"div-gpt-ad-1423247180333-1\\\" class=\\\"gpt-ad cs-ad ad-atf-leaderboard\\\" data-gpt-path=\\\"/46272094/ROS_728x90_ATF\\\" data-gpt-sizes=\\\"[[320, 50], [728, 90]]\\\" style=\\\"\\\" data-google-query-id=\\\"CJfGzMSm6toCFbgFrQYd2mUG8g\\\"><div id=\\\"google_ads_iframe_/46272094/ROS_728x90_ATF_0__container__\\\" style=\\\"border: 0pt none; display: inline-block; width: 728px; height: 90px;\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://tpc.googlesyndication.com/safeframe/1-0-23/html/container.html?n=1\\\" id=\\\"google_ads_iframe_/46272094/ROS_728x90_ATF_0\\\" title=\\\"3rd party ad content\\\" name=\\\"\\\" scrolling=\\\"no\\\" marginwidth=\\\"0\\\" marginheight=\\\"0\\\" width=\\\"728\\\" height=\\\"90\\\" data-is-safeframe=\\\"true\\\" style=\\\"border: 0px; vertical-align: bottom;\\\"></iframe></div></div>\\n\\n    <div class=\\\"box mod-favorites-upsell u-clear\\\">\\n      <section class=\\\"box-content mod-favorites-upsell u-text-center\\\">\\n  <h2 class=\\\"text -normal -large -tight\\\">\\n    Unlock favorites\\n  </h2>\\n\\n  <!-- render icon -->\\n  <span aria-hidden=\\\"true\\\" class=\\\"icon mod-verified-lock\\\">\\n    <span class=\\\"navy-overlay\\\"></span>\\n  </span>\\n\\n  <p class=\\\"text mod-gray mod-regular -tight mod-w-400\\\">\\n    Discover member-submitted recommendations on the best activities, dining, and nightlife in San Francisco and all over the world.\\n  </p>\\n\\n  <a class=\\\"button mod-favorites-upsell\\\" data-amplitude-click=\\\"getverified_ad\\\" data-amplitude-properties=\\\"{&quot;placement&quot;:&quot;favorites_upsell&quot;}\\\" href=\\\"/get_verified?utm_source=favorites_upsell\\\">\\n    <span class=\\\"text mod-big\\\">\\n      Verify My Account\\n    </span>\\n</a>\\n  <p class=\\\"text mod-gray -tight\\\">\\n    Verified members get beta access\\n  </p>\\n</section>\\n\\n    </div>\\n\\n  <div id=\\\"div-gpt-ad-1423247180333-2\\\" class=\\\"gpt-ad cs-ad ad-btf-leaderboard\\\" data-gpt-path=\\\"/46272094/ROS_728x90_BTF\\\" data-gpt-sizes=\\\"[[320, 50], [728, 90]]\\\" style=\\\"\\\" data-google-query-id=\\\"CLaelsSm6toCFUgDrQYdlu4Cqw\\\"><div id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_0__container__\\\" style=\\\"border: 0pt none; display: inline-block; width: 728px; height: 90px;\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://tpc.googlesyndication.com/safeframe/1-0-23/html/container.html?n=1\\\" id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_0\\\" title=\\\"3rd party ad content\\\" name=\\\"\\\" scrolling=\\\"no\\\" marginwidth=\\\"0\\\" marginheight=\\\"0\\\" width=\\\"728\\\" height=\\\"90\\\" data-is-safeframe=\\\"true\\\" style=\\\"border: 0px; vertical-align: bottom;\\\"></iframe></div></div>\\n\\n  <div class=\\\"multicolumn mod-wrap\\\">\\n    <div class=\\\"multicolumn-column mod-discussions mod-no-padding-right\\\">\\n      <section class=\\\"box js-discussions-panel\\\" data-amplitude-click=\\\"city_page_discussions\\\" data-amplitude-properties=\\\"{ &quot;place&quot;: &quot;San Francisco&quot; }\\\" data-lat=\\\"37.7749295\\\" data-long=\\\"-122.4194155\\\" data-city=\\\"San Francisco\\\">\\n        \\n<header class=\\\"box-header\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice mod-large mod-clear-vertical-align\\\"></span>\\n\\n      <span class=\\\"text mod-large mod-capitalized mod-normal\\\">\\n        Discussions\\n      </span>\\n  </h2>\\n\\n\\n      <a class=\\\"button mod-conversation cboxElement\\\" data-modal=\\\"true\\\" href=\\\"/nearby/threads/new/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA?cs_new_fe=true\\\">Start a Conversation</a>\\n\\n</header>\\n\\n\\n\\n          <div class=\\\"box-content mod-padded js-discussions-content\\\">\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/georgeblaki\\\">\\n        <img alt=\\\"Jorge  Gadea Marti's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/T5Go72zV4i4XTagxEWVAunnb_Zo=/40x40/smart/https://s3.amazonaws.com/images.couchsurfing.us/4BRPRL5/2371256_l_892f2f301bef9cee21f4727d3470d6a2.jpg\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23111456/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">SFO- YOSEMITE-TAHOE</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated about 5 hours ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/lisa-rosenblum\\\">\\n        <img alt=\\\"Lisa Rosenblum's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/en7-gc0G_Ie2bkKt9LGI6ntlDdw=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2007216109/bbab9296-8ee9-4edc-bf69-5e963896bf0b\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23108494/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Luggage storage around city</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated about 24 hours ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/sarahabedi\\\">\\n        <img alt=\\\"Sarah Abedi's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/r92zeE1wR_sIODhfe43Cvdl5mWo=/40x40/smart/https://s3.amazonaws.com/images.couchsurfing.us/5I9KRU34P/29922394_l_9fb0344a73197c942d8b00c66c68694b.jpg\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23108473/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Hi</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated about 24 hours ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/mikhail.skripnik\\\">\\n        <img alt=\\\"Mikhail's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/CsCAoHuJBPmsLW-Mwnr3R4AnvVw=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1007275872/70307b38-cd7a-4e80-a104-cc40e35ff4a5\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23081109/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">I'm looking people for speak English online</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 6 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/sathish-sanjeevi\\\">\\n        <img alt=\\\"Sathish Sanjeevi's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/gP4ZUnJwogeYSMOOfYjGzULt5gs=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2001100578/18781520-4210-4470-9190-45f6ad057c91\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23076250/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Airbnb credits</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 7 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/ludmilapoddubnaya\\\">\\n        <img alt=\\\"Ludmila Poddubnaya's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/qyZdjfHffxReX62tA0WkMdEGkss=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1006374227/ba2e9f07-9995-46b4-801b-f5bd0ac8494f\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23032884/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">2 nights for world travellers</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          3 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 9 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/benjoman\\\">\\n        <img alt=\\\"Benjamin Marko's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/fmlw3E1SiiomzUE3UJsIxnQ4qLk=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/3150679/13eff66b-0549-4436-8269-d1f5a494b52d\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23066735/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Road trip to National Park (between May 3-7)</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          1 reply\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 9 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/users/2007292345\\\">\\n        <img alt=\\\"Mariana &amp; Thibaud's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/KU9jYRRi7P64iZzv7JwuYwtAoHw=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2007292345/c886cbd2-1ba3-4971-bebf-650544d2fabe\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23046922/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">3 weeks in San Francisco (from April 28th)</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 14 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/stelll\\\">\\n        <img alt=\\\"Stella L's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/7hIG4pmT9qOa4Y1GmZHtgWKze-0=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1002470189/1bb5f5a6-cda0-47d0-9bf9-6acbeb46da6c\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/22998754/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Interesting food places</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          9 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 14 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n                <div class=\\\"card mod-discussion\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/gambitaw\\\">\\n        <img alt=\\\"Amir Weiss's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/GTtKTgSlriN_OPQyHV8457pzOks=/40x40/smart/https://s3.amazonaws.com/images.couchsurfing.us/N03PCTA/27110085_l_6ecdec4352be43252fcf9b10526ef45c.jpg\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion\\\">\\n      \\n      <div class=\\\"card-content-metadata mod-no-padding-top mod-left\\\">\\n          <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/nearby/threads/23042295/37.7749295/-122.4194155/San%20Francisco,%20CA,%20USA\\\">Digital Nomad Photographer for a few days in the Bay</a>\\n        <p class=\\\"text mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          0 replies\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-discussion\\\">\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          updated 15 days ago\\n        </p>\\n        \\n  <a class=\\\"text mod-gray\\\" href=\\\"/places/north-america/united-states/san-francisco\\\">San Francisco, CA, USA</a>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n          </div>\\n\\n            <div class=\\\"box-actions mod-padded\\\">\\n              <a href=\\\"/nearby/San%20Francisco?placeid=ChIJIQBpAG2ahYAR_6128GcTUEo\\\">\\n                Read More Discussions about San Francisco\\n</a>            </div>\\n\\n\\n        \\n\\n        \\n\\n      </section>\\n    </div>\\n  </div>\\n\\n  <div id=\\\"div-gpt-ad-1423247180333-3\\\" class=\\\"gpt-ad cs-ad ad-btf-leaderboard-2\\\" data-gpt-path=\\\"/46272094/ROS_728x90_BTF_02\\\" data-gpt-sizes=\\\"[[320, 50], [728, 90]]\\\" style=\\\"\\\" data-google-query-id=\\\"CKuKl8Sm6toCFR8FrQYdKYwPTQ\\\"><div id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_02_0__container__\\\" style=\\\"border: 0pt none; display: inline-block; width: 728px; height: 90px;\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://tpc.googlesyndication.com/safeframe/1-0-23/html/container.html?n=1\\\" id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_02_0\\\" title=\\\"3rd party ad content\\\" name=\\\"\\\" scrolling=\\\"no\\\" marginwidth=\\\"0\\\" marginheight=\\\"0\\\" width=\\\"728\\\" height=\\\"90\\\" data-is-safeframe=\\\"true\\\" style=\\\"border: 0px; vertical-align: bottom;\\\"></iframe></div></div>\\n\\n  <section class=\\\"box advice-panel\\\" data-amplitude-click=\\\"city_page_advice\\\" data-amplitude-properties=\\\"{ &quot;place&quot;: &quot;San Francisco&quot; }\\\" data-lat=\\\"37.7749295\\\" data-long=\\\"-122.4194155\\\" data-city=\\\"San Francisco\\\">\\n   \\n<header class=\\\"box-header\\\">\\n  <h2 class=\\\"box-header-title u-text-center\\\">\\n\\n    <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue901\\\" class=\\\"icon mod-question-circle mod-x-large\\\"></span>\\n\\n      <span class=\\\"text mod-large mod-capitalized mod-normal\\\">\\n        Advice Q&amp;A\\n      </span>\\n  </h2>\\n\\n\\n\\n      <a class=\\\"button mod-conversation cboxElement\\\" data-amplitude-click=\\\"advice_ask_modal\\\" data-modal=\\\"true\\\" href=\\\"/advice/questions/new?cs_new_fe=true&amp;location%5Blatitude%5D=37.7749295&amp;location%5Blongitude%5D=-122.4194155&amp;location%5Buser_entered_text%5D=San+Francisco%2C+CA%2C+USA\\\">Ask Locals a Question</a>\\n</header>\\n\\n\\n    <div id=\\\"local-advice\\\">\\n        <div class=\\\"box-content\\\">\\n          <div class=\\\"box-content mod-padded mod-flex mod-border-bottom\\\">\\n            <p class=\\\"text mod-no-margin-bottom mod-gray\\\">\\n              Get answers to your travel questions from Couchsurfers in San Francisco\\n            </p>\\n            <div class=\\\"slide-reveal-search js-slide-reveal-search\\\">\\n              <form class=\\\"slide-reveal-search__form js-slide-reveal-search\\\" action=\\\"/nearby/advice\\\" accept-charset=\\\"UTF-8\\\" method=\\\"get\\\"><input name=\\\"utf8\\\" type=\\\"hidden\\\" value=\\\"\u2713\\\">\\n                <input type=\\\"hidden\\\" name=\\\"latitude\\\" id=\\\"latitude\\\" value=\\\"37.7749295\\\">\\n                <input type=\\\"hidden\\\" name=\\\"longitude\\\" id=\\\"longitude\\\" value=\\\"-122.4194155\\\">\\n                <input type=\\\"hidden\\\" name=\\\"location_text\\\" id=\\\"location_text\\\" value=\\\"San Francisco\\\">\\n                <input type=\\\"search\\\" name=\\\"title_search\\\" id=\\\"title_search\\\" class=\\\"slide-reveal-search__textfield js-search-slide-reveal-search-textfield\\\" placeholder=\\\"What are you looking for?\\\">\\n                <input type=\\\"submit\\\" name=\\\"commit\\\" value=\\\"Search\\\" class=\\\"button mod-hard-left mod-minimal\\\" data-disable-with=\\\"Search\\\">\\n</form>\\n              <button class=\\\"slide-reveal-search__button u-icon-button mod-alt js-search-slide-reveal-search-toggle\\\">\\n                <span class=\\\"u-screenreader\\\">\\n                  Search\\n                </span>\\n                <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue628\\\" class=\\\"icon mod-search\\\"></span>\\n              </button>\\n\\n              <button class=\\\"slide-reveal-search__button u-icon-button mod-alt js-search-slide-reveal-search-toggle u-hidden\\\">\\n                <span class=\\\"u-screenreader\\\">\\n                  Close\\n                </span>\\n                <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue605\\\" class=\\\"icon mod-close\\\"></span>\\n              </button>\\n            </div>\\n          </div>\\n          <div class=\\\"box-content mod-padded\\\">\\n              \\n  <div class=\\\"card mod-discussion question-15846\\\" data-local-advice-question=\\\"15846\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/users/2003856292\\\">\\n        <img alt=\\\"JiMin Mun's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/G7pzCdrvsO0eNdZoyKArcKU4aHk=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2003856292/97af0299-3c13-4d58-b45e-0da920079a4b\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/15846\\\">How long should one stay in SF to get the feel of true SF?</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/users/2003856292\\\">JiMin Mun</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            68 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          23 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-846\\\" data-local-advice-question=\\\"846\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/maja.planinac\\\">\\n        <img alt=\\\"Maya Planinac's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/eN8zmGTP3obi6Qsam1FMJvOqNrY=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/5065518/b3d2969e-a10a-4d51-bd98-238034ed13ed\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/846\\\">Cheap place to stay for longer time </a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/maja.planinac\\\">Maya Planinac</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            59 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          24 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-35919\\\" data-local-advice-question=\\\"35919\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/users/2003999952\\\">\\n        <img alt=\\\"Hugo  Lancaster's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/vsENeh8kGTfueZS5TkKZxplLxRs=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2003999952/512cce21-9a0d-4952-9223-daad322f142d\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/35919\\\">What's up guys! I'm looking for places to see a Drag show in San Francisco. Any recomendations?</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/users/2003999952\\\">Hugo  Lancaster</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            28 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          12 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-1575\\\" data-local-advice-question=\\\"1575\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/om20\\\">\\n        <img alt=\\\"Enrique Plazola's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/6rQpnH8uEpu5-gwvWs6zN4UhjjQ=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/1625160/EE37326B-EF88-426A-AA40-068157DF62AB\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/1575\\\">Hi guys I'm gong to be in San Francisco from the 4-7th with 2 female friends. Do you recommend we rent a car? Or just us</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/om20\\\">Enrique Plazola</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            32 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          14 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-14136\\\" data-local-advice-question=\\\"14136\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/luis-pamanes\\\">\\n        <img alt=\\\"Luis P\u00e1manes's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/TFam8TA5-DNe68pVwdh2mWPO-6g=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2004536162/fc8d2de5-d9c0-48e9-b17c-eaccfd1a9d90\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/14136\\\">Im moving next week to san francisco for a year, which areas recommend to rent an apartmen, which are the must see place</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/luis-pamanes\\\">Luis P\u00e1manes</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            18 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          8 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-31085\\\" data-local-advice-question=\\\"31085\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/anastasiya_kotelnyk\\\">\\n        <img alt=\\\"Anastasiya Kotelnyk's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/v8XPU3cBsziokSasqmH3JdJOmdY=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2395187/6adcf6e2-745b-4084-a27e-e96d5a592228\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/31085\\\">Hi. Who wants/plans to go to Muir Woods on Monday 29th from San Francisco? \\nI'm professional photographer by the way)</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/anastasiya_kotelnyk\\\">Anastasiya Kotelnyk</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            12 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          10 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-1845\\\" data-local-advice-question=\\\"1845\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/javier-ghaemi-1\\\">\\n        <img alt=\\\"Javier Ghaemi's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/KZE6xRjWVytEtxAqCXUPVnQtBhA=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2000816065/a79a8461-b842-42e3-bb3f-2382edb0cb3c\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/1845\\\">Favorite places to eat in San Francisco</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/javier-ghaemi-1\\\">Javier Ghaemi</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            23 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          15 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-56566\\\" data-local-advice-question=\\\"56566\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/mitchell.regenstreif\\\">\\n        <img alt=\\\"Mitchell Regenstreif's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/q7KoJaEHFVwtV9isxUpO0kd8CN8=/40x40/smart/https://s3.amazonaws.com/images.couchsurfing.us/FWH33DA/14135012_l_b24aa958b75d2bcc489d63c0722ad111.jpg\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/56566\\\">Hi ! I'm moving to San Fran (~1-wk) from Canada - and looking for a furnished room.  Anyone looking for a roommate??</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/mitchell.regenstreif\\\">Mitchell Regenstreif</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            15 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          13 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-4832\\\" data-local-advice-question=\\\"4832\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/alli-s1\\\">\\n        <img alt=\\\"Alli Shea's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/N-X0WI79YRZnVeR4Uga0xOg7VdE=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2002983177/e6fe4f28-d856-46ed-9d06-9dda2720fb4b\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/4832\\\">What are some trendy / cool bars in SF? We have a car so anywhere is accessible! :) </a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/alli-s1\\\">Alli Shea</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            11 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          8 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n              \\n  <div class=\\\"card mod-discussion question-16787\\\" data-local-advice-question=\\\"16787\\\" data-page-location=\\\"city_page\\\">\\n    <div class=\\\"card-image\\\">\\n      \\n\\n\\n      <a class=\\\"mod-no-underline\\\" data-pjax=\\\"true\\\" href=\\\"/people/valentina-camus\\\">\\n        <img alt=\\\"Valentina Camus's Photo\\\" class=\\\"card-image-image mod-round\\\" src=\\\"https://tcdn.couchsurfing.com/MJr-jpt25EomPGvU4WHBn8Ju5RY=/40x40/smart/https://s3.amazonaws.com/ht-images.couchsurfing.com/u/2003314512/86594428-4ae9-415e-a53d-01a4815524e4\\\">\\n</a>\\n\\n    </div>\\n\\n    <div class=\\\"card-content mod-discussion mod-no-padding mod-stretch\\\">\\n\\n      <div class=\\\"card-content-metadata mod-no-padding-top\\\">\\n        <a class=\\\"text mod-bold mod-blue\\\" href=\\\"/advice/questions/16787\\\">Where can I buy books?</a>\\n        <p class=\\\"text mod-tight\\\">\\n          Asked by\\n          <a href=\\\"/people/valentina-camus\\\">Valentina Camus</a>\\n        </p>\\n      </div>\\n\\n      <div class=\\\"card-content-metadata mod-padding-left mod-flex-row\\\">\\n          <p class=\\\"text mod-gray mod-tight mod-padding-right\\\">\\n            <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue907\\\" class=\\\"icon mod-thumbsup\\\"></span>\\n            24 Upvotes\\n          </p>\\n        <p class=\\\"text mod-gray mod-tight\\\">\\n          <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue619\\\" class=\\\"icon mod-local-advice\\\"></span>\\n          9 Answers\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n          </div>\\n        </div>\\n\\n     <div class=\\\"box-actions mod-padded-more\\\">\\n           <a href=\\\"/nearby/advice?location_text=San+Francisco&amp;placeid=ChIJIQBpAG2ahYAR_6128GcTUEo\\\">\\n             There are 326 questions in San Francisco\\n</a>     </div>\\n    </div>\\n\\n  </section>\\n\\n  <div id=\\\"div-gpt-ad-1423247180333-4\\\" class=\\\"gpt-ad cs-ad ad-btf-leaderboard-3\\\" data-gpt-path=\\\"/46272094/ROS_728x90_BTF_03\\\" data-gpt-sizes=\\\"[[320, 50], [728, 90]]\\\" style=\\\"\\\" data-google-query-id=\\\"CJmdlMSm6toCFQIHfQodkgcD4Q\\\"><div id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_03_0__container__\\\" style=\\\"border: 0pt none; display: inline-block; width: 728px; height: 90px;\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://tpc.googlesyndication.com/safeframe/1-0-23/html/container.html?n=1\\\" id=\\\"google_ads_iframe_/46272094/ROS_728x90_BTF_03_0\\\" title=\\\"3rd party ad content\\\" name=\\\"\\\" scrolling=\\\"no\\\" marginwidth=\\\"0\\\" marginheight=\\\"0\\\" width=\\\"728\\\" height=\\\"90\\\" data-is-safeframe=\\\"true\\\" style=\\\"border: 0px; vertical-align: bottom;\\\"></iframe></div></div>\\n\\n</div>\");\n$(\".main > .box-header\").replaceWith(\"<div class=\\\"box-content mod-padded mod-flex mod-border-bottom\\\">\\n            <p class=\\\"text mod-no-margin-bottom mod-gray\\\">\\n              Get answers to your travel questions from Couchsurfers in San Francisco\\n            </p>\\n            <div class=\\\"slide-reveal-search js-slide-reveal-search\\\">\\n              <form class=\\\"slide-reveal-search__form js-slide-reveal-search\\\" action=\\\"/nearby/advice\\\" accept-charset=\\\"UTF-8\\\" method=\\\"get\\\"><input name=\\\"utf8\\\" type=\\\"hidden\\\" value=\\\"\u2713\\\">\\n                <input type=\\\"hidden\\\" name=\\\"latitude\\\" id=\\\"latitude\\\" value=\\\"37.7749295\\\">\\n                <input type=\\\"hidden\\\" name=\\\"longitude\\\" id=\\\"longitude\\\" value=\\\"-122.4194155\\\">\\n                <input type=\\\"hidden\\\" name=\\\"location_text\\\" id=\\\"location_text\\\" value=\\\"San Francisco\\\">\\n                <input type=\\\"search\\\" name=\\\"title_search\\\" id=\\\"title_search\\\" class=\\\"slide-reveal-search__textfield js-search-slide-reveal-search-textfield\\\" placeholder=\\\"What are you looking for?\\\">\\n                <input type=\\\"submit\\\" name=\\\"commit\\\" value=\\\"Search\\\" class=\\\"button mod-hard-left mod-minimal\\\" data-disable-with=\\\"Search\\\">\\n</form>\\n              <button class=\\\"slide-reveal-search__button u-icon-button mod-alt js-search-slide-reveal-search-toggle\\\">\\n                <span class=\\\"u-screenreader\\\">\\n                  Search\\n                </span>\\n                <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue628\\\" class=\\\"icon mod-search\\\"></span>\\n              </button>\\n\\n              <button class=\\\"slide-reveal-search__button u-icon-button mod-alt js-search-slide-reveal-search-toggle u-hidden\\\">\\n                <span class=\\\"u-screenreader\\\">\\n                  Close\\n                </span>\\n                <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue605\\\" class=\\\"icon mod-close\\\"></span>\\n              </button>\\n            </div>\\n          </div>\");\n$(\".main > .box-content > div:eq(0) > button:eq(0) > span:eq(1)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".main > .box-content\").replaceWith(\"<section class=\\\"card\\\" data-dismiss-container=\\\"\\\">\\n    <div class=\\\"card-image\\\">\\n      <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-card-image\\\"></span>\\n    </div>\\n\\n    <div class=\\\"card-content\\\">\\n      <h1 class=\\\"card-content-title\\\">Get Verified</h1>\\n\\n        <span>Find hosts up to 2x faster</span>\\n      \\n    </div>\\n\\n    <div class=\\\"card-actions\\\">\\n      <ul class=\\\"card-actions-list\\\">\\n        <li class=\\\"card-actions-list-item\\\">\\n          <a class=\\\"card-action mod-verification\\\" data-amplitude-click=\\\"getverified_ad\\\" data-amplitude-properties=\\\"{&quot;placement&quot;:&quot;dashboard_todo&quot;}\\\" href=\\\"/get_verified?ctid=1\\\">Verify</a>\\n        </li>\\n\\n        <li class=\\\"card-actions-list-item\\\">\\n          <form class=\\\"button_to\\\" method=\\\"post\\\" action=\\\"/user/set_state/has_dismissed_dashboard_verification_upsell/2018-05-03%2019:46:03%20UTC\\\" data-remote=\\\"true\\\"><input class=\\\"card-action mod-deemphasize\\\" data-amplitude-click=\\\"todo_item\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;dashboard_verification&quot;}\\\" data-success-event=\\\"cs:dismiss-to-do\\\" data-dismiss=\\\"true\\\" type=\\\"submit\\\" value=\\\"Dismiss\\\"><input type=\\\"hidden\\\" name=\\\"authenticity_token\\\" value=\\\"y2gWX+C9bqHlG5JxcFwutSyKYgxXdcTsGNAdn1kmuMH8+SpMRFJmexW/yAm1FQRKu5YMIJ4Gyu2nf375P8RmWA==\\\"></form>\\n        </li>\\n      </ul>\\n    </div>\\n  </section>\");\n$(\".main > .card > div:eq(1)\").html(\"<div style=\\\"position: relative; left: 61px; top: -1px; width: 569px; height: 82px;\\\">\\n      <h1 class=\\\"card-content-title\\\">Get Verified</h1>\\n\\n        <span>Find hosts up to 2x faster</span>\\n      \\n    </div>\");\n$(\".mod-card-image\").css({\"position\":\"relative\", \"left\":25, \"top\":10});\n$(\".main > .card > div:eq(1) > div:eq(0) > span:eq(0)\").replaceWith(\"<span>Confirm your identity and find hosts up to 2x faster</span>\");\n$(\".column > div:eq(0) > div:eq(0) > section:eq(0) > header:eq(0) > h2:eq(0) > span:eq(1)\").css({});\n$(\"h1.card-content-title\").css({\"font-size\":\"19.2px\"});\n$(\".main > .card > div:eq(1) > div:eq(0) > span:eq(0)\").css({\"font-size\":\"19.2px\"});\n$(\".main > .card > div:eq(1) > div:eq(0) > span:eq(0)\").css({\"font-size\":\"16px\"});\n$(\".mod-verification\").css({\"font-size\":\"16px\"});\n$(\".main > .card > div:eq(1) > div:eq(0)\").css({\"left\":61, \"top\":8});\n$(\".main > .card > div:eq(1) > div:eq(0)\").css({\"top\":\"8px\"});\n$(\".mod-verification\").css({\"font-size\":\"15px\"});\n$(\".mod-deemphasize\").css({});\n$(\".main > .card\").replaceWith(\"<section class=\\\"card\\\" data-dismiss-container=\\\"\\\" style=\\\"background-color: rgb(255, 255, 255); padding-top: 20px; padding-bottom: 15px; width: 1260px; height: 139px; left: 10px; top: 5px;font-size: 19.2px;\\\">\\n    <div class=\\\"card-image\\\">\\n      <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-card-image\\\" style=\\\"position: relative; left: 25px; top: 10px;\\\"></span>\\n    </div>\\n\\n    <div class=\\\"card-content\\\"><div style=\\\"position: relative; left: 61px; top: 8px; width: 569px; height: 82px;\\\">\\n      <h1 class=\\\"card-content-title\\\" style=\\\"font-size: 19.2px;\\\">Get Verified</h1>\\n\\n        <span style=\\\"font-size: 16px;\\\">Confirm your identity and find hosts up to 2x faster</span>\\n      \\n    </div></div>\\n\\n    <div class=\\\"card-actions\\\">\\n      <ul class=\\\"card-actions-list\\\">\\n        <li class=\\\"card-actions-list-item\\\">\\n          <a class=\\\"card-action mod-verification\\\" data-amplitude-click=\\\"getverified_ad\\\" data-amplitude-properties=\\\"{&quot;placement&quot;:&quot;dashboard_todo&quot;}\\\" href=\\\"/get_verified?ctid=1\\\" style=\\\"font-size: 15px;\\\">Verify</a>\\n        </li>\\n\\n        <li class=\\\"card-actions-list-item\\\">\\n          <form class=\\\"button_to\\\" method=\\\"post\\\" action=\\\"/user/set_state/has_dismissed_dashboard_verification_upsell/2018-05-03%2019:46:03%20UTC\\\" data-remote=\\\"true\\\"><input class=\\\"card-action mod-deemphasize\\\" data-amplitude-click=\\\"todo_item\\\" data-amplitude-properties=\\\"{&quot;type&quot;:&quot;dashboard_verification&quot;}\\\" data-success-event=\\\"cs:dismiss-to-do\\\" data-dismiss=\\\"true\\\" type=\\\"submit\\\" value=\\\"Dismiss\\\"><input type=\\\"hidden\\\" name=\\\"authenticity_token\\\" value=\\\"y2gWX+C9bqHlG5JxcFwutSyKYgxXdcTsGNAdn1kmuMH8+SpMRFJmexW/yAm1FQRKu5YMIJ4Gyu2nf375P8RmWA==\\\"></form>\\n        </li>\\n      </ul>\\n    </div>\\n  </section>\");\n$(\".main > .card\").css({\"height\":\"100px\"});\n$(\".main > .card\").css({\"height\":\"90px\"});\n$(\".main > .card\").css({\"margin\":\"10px\"});\n$(\".main > .card\").css({\"left\":\"-1px\"});\n$(\".main > .card\").css({\"left\":\"0px\"});\n$(\".main > .card\").css({\"border-style\":\"inherit\"});\n\njQuery('<style type=\"text/css\">.selectize-dropdown-content [data-value=\"place\"],.selectize-dropdown-content [data-value=\"host\"],.selectize-dropdown-content [data-value=\"member\"],.selectize-dropdown-content [data-value=\"traveler\"],.selectize-dropdown-content [data-value=\"event\"],.selectize-dropdown-content [data-value=\"group\"],.selectize-dropdown-content [data-value=\"advice\"]{ display:none;}.selectize-control.single .selectize-input:after{ display:none;}</style>').appendTo('head');\n$(\".header-destination-search-type .item\").replaceWith(\"<div style=\\\"cursor:initial\\\" class=\\\"item\\\" data-value=\\\"place\\\">Explore</div>\");\n$(\".header-destination-search-type > .selectize-input\").addClass(\"explore\");\n$(\".explore > .item\").addClass(\"explore\");\n$(\".selectize-input > .explore\").replaceWith(\"<div style=\\\"cursor:default !important\\\" class=\\\"item explore\\\" data-value=\\\"place\\\">Explore</div>\");\n$(\".header-destination-search-form\").addClass(\"explore\");\n$(\".header-search\").addClass(\"explore\");"},"10157891554":{},"10843932816":{},"10524286438":{"code":"jQuery('body').addClass('cro-hide-content');\n\njQuery('<style type=\"text/css\">.cro-full-app-download{height:100%;width:100%;position:absolute;top:0;left:0;z-index:1000;background-image:url(//cdn.optimizely.com/img/6250770393/eb3fdd1412504219a8202dd027527126.jpg);background-position:center;background-repeat:no-repeat;text-align:center;background-size:100%;background-position-y:top;background-color:#fff}.cro-full-app-download h1{font-size:18px}.cro-full-app-download-inner{position:absolute;top:50%;width:100%;margin-top:-15%;text-align:center}.cro-button{margin-bottom:15px}body.cro-hide-content{margin-bottom:0!important;height:100%!important}body.cro-hide-content>*{display:none!important}body.cro-hide-content>.cro-full-app-download{display:block!important}</style>').appendTo('head');\n\njQuery('<div class=\"cro-full-app-download\"> <div class=\"cro-full-app-download-inner\"> <div class=\"cro-logo\"> <img src=\"//ht-assets.couchsurfing.com/assets/logo-orange-58ccd2edda8895d1e1742f7744683e61f2c6fa069290a9ff012ef09d51ea643b.png\" /> </div> <div class=\"cro-stars\"> <ul> <li> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span aria-hidden=\"true\" data-icon=\"&#xe62e;\" class=\"icon mod-star-filled mod-positive\"></span> <span class=\"cro-review-count\">(2,137)</span> </li> </ul> </div> <h1 class=\"cro-h1\">Couchsurfing is easiest on the app</h1> <div class=\"cro-button\"> <a href=\"#\" class=\"button\">Get the app</a> </div> <div class=\"cro-continue text mod-medium\"> Continue to Couchsurfing </div> </div></div>').prependTo('body');\n\njQuery('.cro-continue').click(function(){\n    jQuery('body').removeClass('cro-hide-content');\n    jQuery('.cro-full-app-download').hide();\n\n    return false;\n});\n$(\".cro-full-app-download\").css({\"background-image\":\"url(//cdn.optimizely.com/img/6250770393/07177efc90f947d0aeb91d4aca8ad05e.png)\", \"background-repeat\":\"no-repeat\"});\n$(\".cro-full-app-download-inner\").css({\"top\":295});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#e7e623\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fffc14\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#fbf813\"});\n$(\".cro-stars li > span:eq(4)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(4)\").css({});\n$(\".cro-stars li > span:eq(3)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(2)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(1)\").css({\"color\":\"#efec0b\"});\n$(\".cro-stars li > span:eq(0)\").css({\"color\":\"#efec0b\"});\n$(\".cro-full-app-download-inner\").css({\"top\":288});\n$(\".cro-full-app-download-inner\").css({\"top\":281});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":269});\n$(\".cro-full-app-download-inner\").css({\"left\":1, \"top\":278});\n$(\".cro-continue\").css({\"color\":\"#aeb5ba\"});\n$(\".cro-full-app-download-inner\").css({\"top\":244, \"left\":1});\n$(\".cro-button > .button\").replaceWith(\"<a href=\\\"https://play.google.com/store/apps/details?id=com.couchsurfing.mobile.android&referrer=utm_source%3Dsite%26utm_medium%3Dmobileweb%26utm_content%3Dinstallapp%26utm_campaign%3dashboard_banner\\\" class=\\\"button\\\">Get the app</a>\");"},"10469984744":{},"10552230565":{},"9828692240":{"code":"$(\".mod-testimonials > .hero-content\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".mod-testimonials\").css({\"display\":\"none\", \"visibility\":\"\"});"},"10162862828":{},"10357230964":{},"10249450614":{"code":"$(\".verification-lead\").replaceWith(\"<section id=\\\"how-it-works\\\" class=\\\"hero mod-how-it-works\\\" style=\\\"\\\">\\n    <div class=\\\"hero-content\\\" style=\\\"font-size: 18px;\\\">\\n      <h2 class=\\\"hero-content-title\\\" style=\\\"\\\">\\n        What you get</h2>\\n      <hr class=\\\"mod-short mod-white\\\">\\n      <div class=\\\"info-box-container\\\" style=\\\"display: none;\\\">\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Discover amazing people 75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/discover-amazing-people-75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Discover Amazing People\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Couchsurfers open their homes and share their lives. Connect and be inspired.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Book a stay 64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/book-a-stay-64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8.png\\\">\\n            <h3 class=\\\"info-box-title\\\">Find a Host</h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>Connect with hosts, and confirm your stay through the Couchsurfing platform. Your stay with hosts is free.\\n</p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\" style=\\\"\\\">\\n          <article style=\\\"\\\">\\n            <img alt=\\\"Join events 23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/join-events-23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Join Events\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p style=\\\"\\\">\\n              Meet travelers in other cities, or in your own city! There's always something new to join.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n      </div>\\n\\n      <div style=\\\"\\\">\\n        <table class=\\\"hero-table\\\">\\n          <tbody><tr>\\n            <th style=\\\"\\\"></th>\\n            <th class=\\\"mod-border-top mod-border-right-left\\\" style=\\\"\\\">\\n              Free\\n            </th>\\n            <th style=\\\"\\\">\\n              Verified <br> Members\\n            </th>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Find a Host</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Host a Traveler</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Attend Events</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Send Unlimited Messages</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">Ad Free Website &amp; App</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Identity Verification</td>\\n            <td class=\\\"mod-border-bottom mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n        </tbody></table>\\n      </div>\\n\\n      <div class=\\\"mod-margin-top\\\">\\n        <p>\\n          <a class=\\\"mod-underline mod-white\\\" href=\\\"http://www.couchsurfing.com/about/how-it-works\\\" style=\\\"display: none;\\\">Learn how to get started</a>\\n        </p>\\n      </div>\\n\\n    </div>\\n  </section>\\n<div class=\\\"verification-lead u-clear js-verification-lead-block\\\">\\n\\n    <h2 class=\\\"verification-lead__content-title mod-mobile text mod-navy mod-normal u-text-center\\\">\\n      Verification Benefits\\n    </h2>\\n\\n    <section class=\\\"verification-lead__content\\\">\\n      <h2 class=\\\"verification-lead__content-title\\\">\\n        <span class=\\\"text mod-navy mod-normal\\\">\\n          Verification Benefits\\n        </span>\\n      </h2>\\n\\n      <ul class=\\\"verification-lead__advantages text mod-navy u-clear\\\">\\n\\n        <!-- TODO: remove for production -->\\n        <li class=\\\"verification-lead__advantages-item mod-unlimited-messaging\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              Unlimited Messaging\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Enjoy full, unrestricted use of Couchsurfing - messaging limits are waived for members.\\n            </p>\\n          </article>\\n        </li>\\n\\n        <li class=\\\"verification-lead__advantages-item\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              More Trusted\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Couchsurfing works because of real connections between real people. Verification helps to confirm your identity.\\n            </p>\\n          </article>\\n        </li>\\n\\n        <li class=\\\"verification-lead__advantages-item mod-support\\\">\\n          <article>\\n            <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n              24/7 Support\\n            </h3>\\n            <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n              Our Trust and Safety team is available to you around the clock\\n            </p>\\n          </article>\\n        </li>\\n\\n        <!-- TODO: remove for production -->\\n          <li class=\\\"verification-lead__advantages-item mod-takes-a-minute\\\">\\n            <article>\\n              <h3 class=\\\"verification-lead__advantages-title text mod-uppercase mod-navy\\\">\\n                Takes just a minute\\n              </h3>\\n              <p class=\\\"verification-lead__advantages-text text mod-regular\\\">\\n                You can Get Verified in less time than it takes to read this page.\\n              </p>\\n            </article>\\n          </li>\\n\\n      </ul>\\n    </section>\\n\\n    <div class=\\\"verification-lead__img-wrapper u-text-center\\\">\\n      <div class=\\\"verification-lead__img\\\">\\n        <img alt=\\\"Photo of Carolina\\\" class=\\\"mod-round\\\" src=\\\"//ht-assets.couchsurfing.com/assets/verification/lisa-evans-photo-6fac0bd02b6b09e9d7c70d482486ba13a117bfb4d6408197746769b9969606aa.jpg\\\">\\n      </div>\\n      <blockquote class=\\\"verification-lead__testimonial text mod-navy\\\">\\n        \u201cI usually don\u2019t host or surf with people who aren\u2019t verified, especially if they are new and have no references... every serious user should get verified.\u201d\\n\\n      </blockquote>\\n      <cite class=\\\"text mod-normal\\\">\\n        <b>Carolina,</b>\\n        Verified Member\\n      </cite>\\n    </div>\\n\\n  </div>\");\n$(\".verification-members\").css({\"left\":\"0px\", \"position\":\"relative\", \"top\":\"0px\"});\n$(\".verification-members\").detach().insertBefore(\".verification-lead\");\n$(\"div.hero-content\").css({\"padding-top\":\"10px\", \"padding-bottom\":\"10px\", \"padding\":\"10px\", \"padding-left\":\"10px\", \"padding-right\":\"10px\"});\n$(\".verification-members\").css({\"left\":3, \"top\":-49});\n$(\"div.hero-content\").css({\"padding\":\"20px\", \"padding-top\":\"20px\", \"padding-bottom\":\"20px\", \"padding-left\":\"20px\", \"padding-right\":\"20px\"});\n$(\"div.hero-content\").css({});\n$(\"div.hero-content\").css({});\n$(\"#how-it-works\").replaceWith(\"<section id=\\\"how-it-works\\\" class=\\\"hero mod-how-it-works\\\" style=\\\"\\\">\\n    <div class=\\\"hero-content\\\" style=\\\"\\\">\\n      <h2 class=\\\"hero-content-title\\\">\\n        How It Works\\n      </h2>\\n      <hr class=\\\"mod-short mod-white\\\">\\n      <div class=\\\"info-box-container\\\">\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Discover amazing people 75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/discover-amazing-people-75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Discover Amazing People\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Couchsurfers open their homes and share their lives. Connect and be inspired.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Book a stay 64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/book-a-stay-64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8.png\\\">\\n            <h3 class=\\\"info-box-title\\\">Find a Host</h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>Connect with hosts, and confirm your stay through the Couchsurfing platform. Your stay with hosts is free.\\n</p>\\n          </article>\\n        </div>\\n\\n        <div class=\\\"info-box mod-orange\\\">\\n          <article>\\n            <img alt=\\\"Join events 23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979\\\" class=\\\"mod-center mod-margin-bottom\\\" src=\\\"//ht-assets.couchsurfing.com/assets/icons/join-events-23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979.png\\\">\\n            <h3 class=\\\"info-box-title\\\">\\n              Join Events\\n            </h3>\\n            <hr class=\\\"mod-short mod-white\\\">\\n            <p>\\n              Meet travelers in other cities, or in your own city! There's always something new to join.\\n\\n            </p>\\n          </article>\\n        </div>\\n\\n      </div>\\n\\n      <div>\\n        <table class=\\\"hero-table\\\">\\n          <tbody><tr>\\n            <th></th>\\n            <th class=\\\"mod-border-top mod-border-right-left\\\">\\n              Free\\n            </th>\\n            <th>\\n              Verified <br> Members\\n            </th>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Find a Host</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Host a Traveler</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Attend Events</td>\\n            <td class=\\\"mod-border-right-left\\\">\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue629\\\" class=\\\"icon mod-selected mod-large mod-white\\\"></span>\\n            </td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Send Unlimited Messages</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">Ad Free Website &amp; App</td>\\n            <td class=\\\"mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td class=\\\"u-text-left\\\">\\n              Identity Verification</td>\\n            <td class=\\\"mod-border-bottom mod-border-right-left\\\"></td>\\n            <td>\\n              <span aria-hidden=\\\"true\\\" data-icon=\\\"\ue600\\\" class=\\\"icon mod-verified mod-large mod-white\\\"></span>\\n            </td>\\n          </tr>\\n        </tbody></table>\\n      </div>\\n\\n      <div class=\\\"mod-margin-top\\\">\\n        <p>\\n          <a class=\\\"mod-underline mod-white\\\" href=\\\"http://www.couchsurfing.com/about/how-it-works\\\">Learn how to get started</a>\\n        </p>\\n      </div>\\n\\n    </div>\\n  </section>\");\n$(\".info-box-container\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".mod-underline\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#how-it-works .hero-content-title\").replaceWith(\"<h2 class=\\\"hero-content-title\\\">\\n        What you get\\n      </h2>\");\n$(\"div.hero-content\").css({\"font-size\":\"18px\"});\n$(\"#how-it-works\").css({\"margin-top\":\"0px\"});"},"9827791745":{}},"project_js":"/* pollForDelayedContent function Project JS v1 */\nwindow.pollForDelayedContent=function(e,n,t){var i=+new Date,o=50;t=t||{};var l=t.selectorToHide||e,d=t.unhideDelayInMilliseconds||0,s=1e3*t.timeoutInSeconds||null,a=t.intervalInMilliseconds||o,r=function(e){var n=\"optlyHide_\"+ +new Date;return $(\"head\").prepend(\"<style id='\"+n+\"' type='text/css'>\"+e+\" {visibility:hidden !important;}</style>\"),function(){$(\"#\"+n).remove()}},u=r(l),c=function(){n(),setTimeout(u,d)},v=function(){var n=+new Date;$(e).length?c():s&&n-i>s?u():setTimeout(v,a)};v()};\n\n\n\n\n","segments":{"6262200512":{"segment_value_type":"mobile","api_name":"optimizely_mobile","id":6262200512},"8205911074":{"api_name":"account_created_date","is_api_only":true,"dimension_id":8200915474,"id":8205911074},"8211203043":{"api_name":"has_surfed","is_api_only":true,"dimension_id":8207421977,"id":8211203043},"8211540624":{"api_name":"profile_location","is_api_only":true,"dimension_id":8208234648,"id":8211540624},"8203105736":{"api_name":"gender","is_api_only":true,"dimension_id":8207864170,"id":8203105736},"8449943593":{"audience_id":8448764964,"id":8449943593},"6256040619":{"segment_value_type":"source_type","api_name":"optimizely_source_type","id":6256040619},"8208640628":{"api_name":"is_verified","is_api_only":true,"dimension_id":8206472341,"id":8208640628},"8210522224":{"api_name":"has_hosted","is_api_only":true,"dimension_id":8208451834,"id":8210522224},"8205962622":{"api_name":"birth_date","is_api_only":true,"dimension_id":8202775607,"id":8205962622},"8203854836":{"api_name":"locale","is_api_only":true,"dimension_id":8211530149,"id":8203854836},"8328627670":{"api_name":"user_id","is_api_only":true,"dimension_id":8328534776,"id":8328627670},"6256730430":{"segment_value_type":"browser","api_name":"optimizely_browser","id":6256730430},"6272190004":{"segment_value_type":"campaign","api_name":"optimizely_campaign","id":6272190004}},"click_goals":[{"event_name":"join_top_right_button","experiments":{"7024920224":true,"6525500610":true,"6606712967":true,"6499060331":true,"6496791501":true,"6591230515":true,"6436643735":true},"selector":"a.mod-join"},{"event_name":"login_button","experiments":{"7024920224":true,"6525500610":true,"6606712967":true,"6499060331":true,"6496791501":true,"6591230515":true,"6436643735":true},"selector":".mod-outline"},{"event_name":"fb_clicks","experiments":{"7024920224":true,"6525500610":true,"6606712967":true,"6499060331":true,"6496791501":true,"6591230515":true,"6436643735":true},"selector":".mod-inline-web a.mod-facebook"},{"event_name":"join_with_email","experiments":{"7024920224":true,"6525500610":true,"6606712967":true,"6499060331":true,"6496791501":true,"6591230515":true,"6436643735":true},"selector":".mod-join .mod-couchsurfing"},{"event_name":"join_button_-_sign_up_with_email","experiments":{"7024920224":true,"6499060331":true,"6496791501":true,"6591230515":true},"selector":".mod-full-width"},{"event_name":"get_verified_--_paypal_clicks","experiments":{"6525500610":true,"10228104483":true,"6988150506":true,"6518261711":true,"6913840243":true,"6729910106":true,"10243140923":true},"selector":".verification-paypal img"},{"event_name":"get_verified_--_cc_clicks","experiments":{"6525500610":true,"10228104483":true,"6988150506":true,"6518261711":true,"6913840243":true,"6729910106":true,"10243140923":true},"selector":".stripe-button-el"},{"event_name":"ready_for_adventure_-_plan_a_trip_(variation)","experiments":{"6606712967":true},"selector":"#how-it-works .mod-couchsurfing"},{"event_name":"ready_for_adventure?_plan_a_trip","experiments":{"6606712967":true},"selector":".mod-adventure .mod-couchsurfing"},{"event_name":"plan_a_trip","experiments":{"7024920224":true,"6591230515":true},"selector":".mod-adventure .mod-couchsurfing"},{"event_name":"ready_for_adventure_-_plan_a_trip_(variant)","experiments":{"6525500610":true},"selector":".mod-margin-top > .mod-inline-web"},{"event_name":"explore_the_world_-_plan_a_trip","experiments":{"6606712967":true},"selector":".mod-margin-top > .mod-couchsurfing,a.mod-join"},{"event_name":"ready_for_adventure_-_plan_trip_(original)","experiments":{"6525500610":true},"selector":".mod-adventure .mod-couchsurfing"},{"event_name":"explore_the_world_-_plan_trip_(original)","experiments":{"6525500610":true},"selector":".mod-margin-top > .mod-couchsurfing"},{"event_name":"verify_my_account","experiments":{"7593010232":true,"7469716625":true,"7285700843":true,"6733276532":true,"7518641517":true},"selector":".verification-form__submit-button,.js-verify-my-account"},{"event_name":"cc_input","experiments":{"6733276532":true},"selector":"#card_number"},{"event_name":"cvc_input","experiments":{"6920930603":true,"7165800331":true,"6896710035":true,"6733276532":true,"6992600662":true,"6918912157":true},"selector":"#card_code"},{"event_name":"month_/_year_input","experiments":{"6733276532":true},"selector":".verification-form__date"},{"event_name":"meet_jason","experiments":{"6799961559":true},"selector":".mod-no-mobile > a:eq(1)"},{"event_name":"meet_lynette","experiments":{"6799961559":true},"selector":".mod-no-mobile > a:eq(0)"},{"event_name":"meet_syril","experiments":{"6799961559":true},"selector":".grid-items > .grid-item"},{"event_name":"verify_with_cc_-_bottom","experiments":{"6920930603":true,"6896710035":true,"6918912157":true,"6992600662":true},"selector":".js-hide-buttons > .js-verify-my-account"},{"event_name":"verify_with_pp_-_header","experiments":{"6920930603":true,"6896710035":true,"6918912157":true,"6992600662":true},"selector":".verification__button-wrapper > .verification__button--paypal"},{"event_name":"verify_with_cc_-_header","experiments":{"6920930603":true,"6896710035":true,"6918912157":true,"6992600662":true},"selector":".verification__button-wrapper > .js-verify-my-account,#cboxClose"},{"event_name":"verify_with_pp_-_bottom","experiments":{"6920930603":true,"6896710035":true,"6918912157":true,"6992600662":true},"selector":".js-hide-buttons > .verification__button--paypal"},{"event_name":"verify_with_cc_-_banner","experiments":{"6920930603":true,"6896710035":true,"6918912157":true,"6992600662":true},"selector":".header-wrapper > .js-verify-my-account"},{"event_name":"verify_with_pp_-_banner","experiments":{"6896710035":true,"6920930603":true,"6918912157":true,"6992600662":true},"selector":".header-wrapper > .verification__button--paypal"},{"event_name":"paypal_--_original","experiments":{"6988150506":true},"selector":"img"},{"event_name":"join_fb_-_top","experiments":{"7248551461":true},"selector":".mod-inline-web a.mod-facebook"},{"event_name":"join_3_-_plan_trip","experiments":{"7248551461":true},"selector":".mod-margin-top > .mod-couchsurfing"},{"event_name":"search_bar_clicks","experiments":{"7248551461":true,"7098110566":true},"selector":".inline-search"},{"event_name":"join_email_-_top_banner","experiments":{"7248551461":true},"selector":".mod-join .mod-couchsurfing"},{"event_name":"join_4_-_plan_trip","experiments":{"7248551461":true},"selector":".mod-adventure .mod-couchsurfing"},{"event_name":"top_right_join","experiments":{"7248551461":true},"selector":"a.mod-join"},{"event_name":"get_verified_banner_#2","experiments":{"7662791639":true,"7633180276":true,"7723441180":true,"7658417828":true},"selector":".mod-no-margin-top > .box-content > a:eq(1) > img:eq(0),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0) > p:eq(1),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0) > p:eq(0)"},{"event_name":"get_verified_banner_click_#1","experiments":{"7662791639":true,"7633180276":true,"7723441180":true,"7658417828":true},"selector":".mod-no-margin-top > .box-content > a:eq(0) > img:eq(0),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0) > p:eq(0),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0) > p:eq(1)"},{"event_name":"variation_--_second_banner_click","experiments":{"7662791639":true,"7763734263":true,"7658417828":true,"7633180276":true,"7723441180":true},"selector":".mod-no-margin-top > .box-content > img:eq(1),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0) > p:eq(0),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0) > p:eq(1),.mod-no-margin-top > .box-content > a:eq(1) > div:eq(0)"},{"event_name":"search_by_map_click","experiments":{"7662791639":true,"7763734263":true,"7658417828":true,"7633180276":true,"7723441180":true},"selector":".mod-no-margin-top > .box-content > img:eq(0),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0) > p:eq(1),.mod-no-margin-top > .box-content > a:eq(0) > div:eq(0) > p:eq(0)"},{"event_name":"paypal_clicks","experiments":{"7969291904":true,"8036681042":true,"7962900920":true,"8070060762":true,"7970280014":true},"selector":".js-paypal-modal-button,.js-paypal-redirect-button,#paypal-container"},{"event_name":"cc_clicks","experiments":{"7969291904":true,"8036681042":true,"7962900920":true,"8070060762":true,"7970280014":true},"selector":".verification__button-wrapper > .js-verify-my-account,.js-hide-if-mobile > .js-verify-my-account,a.-header"},{"event_name":"verify_account_click","experiments":{"8131032168":true,"8006324202":true,"7881743774":true},"selector":".mod-verification"},{"event_name":"verify_clicks","experiments":{"8146581005":true},"selector":".mod-white"},{"event_name":"clicks_download_banner","experiments":{"8311931642":true,"8306071669":true},"selector":".app-download"},{"event_name":"clicks_view_profile","experiments":{"8325832486":true,"8338812166":true},"selector":".mod-no-margin-top > .box-content > div:eq(0) > div:eq(1) > div:eq(1) > a:eq(0)"},{"event_name":"verify_button_click","experiments":{"8377522084":true,"8432970124":true,"8509270735":true,"8545250131":true,"8431893982":true,"8369420573":true,"8482217246":true},"selector":".verification-buttons-container > .verification__button--paypal,.verification-buttons-container > .js-verify-my-account,.verification__button-wrapper > .verification__button--paypal,.verification__button-wrapper > .js-verify-my-account"},{"event_name":"install_android_app_click","experiments":{"8373794346":true,"8363473508":true,"8385282254":true},"selector":".js-android .button"},{"event_name":"final_verification_click_(cc)","experiments":{"8377522084":true,"8432970124":true,"8509270735":true,"8545250131":true,"8431893982":true,"8369420573":true,"8482217246":true},"selector":".verification-form__submit-button"},{"event_name":"install_ios_app_click","experiments":{"8371831050":true,"8363473508":true},"selector":".js-ios .button"},{"event_name":"where_are_you_going?","experiments":{"8415683137":true},"selector":".search-oval .icon,.search-oval .selectize-input > input:eq(0)"},{"event_name":"send_app_link","experiments":{"8420081827":true},"selector":".hangouts-form__submit"},{"event_name":"insurance_clicks","experiments":{"8446462270":true},"selector":".main > .button"},{"event_name":"left_sidebar_cta","experiments":{"8472683545":true,"8476940628":true},"selector":".box-content > .button"},{"event_name":"video_clicks","experiments":{"8566252026":true},"selector":".mod-main > section:eq(1) > div:eq(0)"},{"event_name":"3rd_video_click","experiments":{"8566252026":true},"selector":".mod-no-mobile > a:eq(1)"},{"event_name":"2nd_video_click","experiments":{"8566252026":true},"selector":".mod-no-mobile > a:eq(0)"},{"event_name":"1st_video_click","experiments":{"8566252026":true},"selector":".grid-items > .grid-item"},{"event_name":"get_unlimited_intros_button_click","experiments":{"8785607036":true},"selector":".mod-get-unlimited"},{"event_name":"cc_click_-_btf","experiments":{"9432460334":true,"9269625429":true},"selector":".verification__button-wrapper > .js-verify-my-account"},{"event_name":"cc_click_-_atf","experiments":{"9432460334":true,"9269625429":true},"selector":".verification-buttons-container > .js-verify-my-account"},{"event_name":"paypal_click_-_atf","experiments":{"9432460334":true,"9269625429":true},"selector":".verification-buttons-container > .verification__button--paypal"},{"event_name":"paypal_click_-_btf","experiments":{"9432460334":true,"9269625429":true},"selector":".verification__button-wrapper > .verification__button--paypal"},{"event_name":"install_click","experiments":{"10516907591":true,"10334654523":true},"selector":".cro-button > .button"},{"event_name":"'continue_to_couchsurfing'_click","experiments":{"10524456510":true,"10338323617":true},"selector":".cro-continue"},{"event_name":"'continue_to_couchsurfing'_click","experiments":{"10516907591":true,"10334654523":true},"selector":".cro-continue"},{"event_name":"install_click","experiments":{"10524456510":true,"10338323617":true},"selector":".cro-button > .button"}]};

function h(a){throw a;}var i=void 0,j=!0,k=null,o=!1;function aa(){return function(a){return a}}function ba(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ca(a,b,c){return a.call.apply(a.bind,arguments)}function da(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return p.apply(k,arguments)}function r(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};function u(a){try{return window.JSON.stringify(a)}catch(b){h(Error("JSON: Unable to stringify ("+b.message+")"))}}function ea(a){try{return window.JSON.parse(a)}catch(b){h(Error("JSON: Unable to parse ("+b.message+")"))}};function fa(){return v("admin_account_id")}function ha(a){return v("audiences",a)}function ia(a){a=v("audiences",a,"segment_id");return!a?k:a}
function ja(){if(!ka){var a=v("click_goals")||[];ka=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,g=e.length;f<g;f++){var l=e[f];l&&(l={event_name:d.event_name,selector:l},"experiments"in d?l.experiments=d.experiments:"url_conditions"in d&&(l.url_conditions=d.url_conditions),"revenue"in d&&(l.revenue=d.revenue),ka.push(l))}}return ka}function la(a,b){return v("dimensions",a,b)}function ma(a){a=la(a,"condition_type");return!a?k:a}
function na(a){a=la(a,"name");return!a?k:a}function oa(){pa||(pa=w(ra(),sa));return pa}function ta(a){var b=v("goal_expressions"),c=[],d;for(d in b)if(b.hasOwnProperty(d))for(var e=b[d],f=0;f<e.length;f++)try{if(RegExp(e[f],"i").test(a)){c.push(d);break}}catch(g){}return c}function ua(a){var b=va(),c;for(c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];if(d&&d.api_name===a)return String(c)}return k}function wa(){return v("experiments")||{}}
function ra(){return x(v("experiments")||{})}function xa(a){return"manual"===y(a,"activation_mode")}function ya(a){return"conditional"===y(a,"activation_mode")}function za(a){return y(a,"name")||"Exp "+a}function Aa(a){return'experiment "'+za(a)+'" ('+a+")"}function Ba(a){return y(a,"section_ids")||[]}function Ca(a){return y(a,"variation_ids")||[]}function Da(){return v("list_targeted_keys")||{}}function z(){return v("project_id")}function va(){return v("segments")||{}}
function Ea(a,b){for(var c=Ba(a),d=0;d<c.length;d++){var e=Fa(c[d]);if(C(e,b))return c[d]}return""}function Ga(a){var b={},c=v("public_suffixes")||{};D(c,function(a,c){D(c,function(c){b[c]=a})});Ga=function(a){return b[a]||""};return Ga.call(k,a)}function Fa(a){return v("sections",a,"variation_ids")||[]}function Ha(a){var b=[];D(a.split("_"),function(a){(a=v("variations",a,"code"))&&b.push(a)});return b.join("\n")}
function E(a){if(!Ia){var b={};D(ra(),function(a){D(Ba(a),function(d){D(Fa(d),function(d){b[d]=a})});D(Ca(a),function(d){b[d]=a})});Ia=b}return Ia[a.split("_")[0]]||""}function Ja(a){var b=E(a),c=Ba(b);if(0===c.length){c=Ca(b);for(b=0;b<c.length;b++)if(c[b]===a)return b}else{for(var a=a.split("_"),b=[],d=0;d<c.length;d++)for(var e=Fa(c[d]),f=0;f<e.length;f++)e[f]===a[d]&&b.push(f);if(b!==[])return b}return-1}function Ka(a){var b;return La(a).join(b||", ")}
function La(a){var b=[];D(a.split("_"),function(a){b.push(v("variations",a,"name")||"Var "+a)});return b}function Ma(){return v("www_host")}function sa(a){return!!y(a,"enabled")}function Na(){return!!v("simple_cookies")}function y(a,b){return v("experiments",a,b)}function Oa(a){a=y(a,"comscore");return F(a)?a.url:k}function Pa(a){return y(a,"google_analytics")}function Qa(a,b){var c=y(a,"universal_analytics");return F(c)?c[b]:k}
function v(a){var b=DATA;if(D(arguments,function(a){a=b[a];if(F(a))b=a;else return k})!==k)return b}function Ra(a,b){return v("segments",a,b)}function Ta(){var a=v("rum_sampling_rate");return F(a)?a:0.003}var ka=k,pa=k,Ia=k;var Ua=/\s*;\s*/,Va=/^([^=]+)=?(.*)$/;function H(a){var b=[];D(Wa(),function(c){a===c.name&&b.push(Xa(c.value))});if(0===b.length)return k;1<b.length&&I("Cookie","Values found for %s: %s",a,b.length);return b.pop()}var Ya=o;function Wa(){var a,b=[];a=a||"";D((document.cookie||"").split(Ua),function(c){var d=c.match(Va);d&&0===d[1].indexOf(a)&&b.push({name:d[1],value:d[2],P:c})});return b}
function J(a,b,c){if(Ya)I("Cookie","Already initialized.");else{I("Cookie","Initializing.");var d=document.location.hostname;if(Na()){Za=d;for(var d=document.location.hostname.split("."),e=[],f=d.length-1;0<=f;--f){var g=d.slice(f).join("."),l="optimizelyDomainTest-"+Math.random().toString(16).replace("0.",""),m=Math.random().toString(16).replace("0.","");$a(l,m,g,3);H(l)===m&&e.push(g)}ab=e;0<ab.length?(Za=ab[0],I("Cookie","Highest level domain: %s",Za)):(I("Cookie","Disabling event tracking because cookies could not be set"),
bb=o)}else e=d.split("."),f=d,g=e[e.length-1],2<e.length&&"appspot"===e[e.length-2]&&"com"===g?f=e[e.length-3]+".appspot.com":1<e.length&&cb(g,db)&&(f=e[e.length-2]+"."+g),eb=f,I("Cookie","Guessed public suffix: %s",eb),fb=Ga(d),I("Cookie","Public suffix (from data): %s",fb);gb&&I("Cookie","Domain specified by API: %s",gb);Ya=j;I("Cookie","Done initializing.")}b=b||"";Na()?(D(ab,function(b){hb(a,b)}),d=ib(),$a(a,b,d,c),c=H(a)===b?"Succeeded":"Failed",I("Cookie","%s setting %s=%s on %s",c,a,b,d)):
(d=ib(),e=document.location.hostname,!fb&&v("remote_public_suffix")&&jb.push({xb:c,name:a,value:b}),d&&(d===fb&&d!==eb)&&(hb(a,e),hb(a,eb)),$a(a,b,d,c),f=H(a),f===b)?I("Cookie","Successfully set %s=%s on %s",a,b,d):(I("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),I("Cookie","Setting %s on %s",a,e),$a(a,b,e,c),f=H(a),f===b?(I("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),eb=e):(I("Cookie","Could not set cookie %s, disabling event tracking.",a),bb=o))}
function hb(a,b){var c=[a,"=","; ",kb(b),"; path=/","; expires=",(new Date(0)).toUTCString()];document.cookie=c.join("")}function ib(){return Na()?gb||Za:gb||fb||eb}function kb(a){var b=[];b.push("domain=");"localhost"!==a&&(b.push("."),b.push(a));return b.join("")}function $a(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; ",kb(c),"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}
function lb(a){ib()!==a&&(gb=String(a)||"",I("Cookie","Api public suffix set to: %s",gb))}var eb="",gb="",Za="",ab=[],fb="",jb=[];var mb=window.OPTIMIZELY_TEST_MODULE,db="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq test".split(" "),nb=/\/\*\s*_optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")?( +id="([^"]*)")?\s*\*\//;var ob=0,pb=o,K=j,qb=j,rb=o,sb=o,tb=o,ub=o,vb="",wb=o,xb=o,yb=o,zb=o,Bb=o,Cb=o,bb=j,Db=15552E3;function Eb(){var a=H("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random());J("optimizelyEndUserId",a,Db);return a}function Fb(){if(v("legacy_uuid"))return H("optimizelyPPID");hb("optimizelyPPID",ib());return k};function Gb(a,b){var c=j;D(a,function(a){if(!b(a))return c=o});return c}function L(a,b){var c=o;D(a,function(a){if(b(a))return c=j});return c}function C(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return j;return o}function Hb(a,b){var c=Ib(arguments,1);return function(){var b=Ib(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function D(a,b){var c=k;if(M(a))for(var d=a.length,e=0;e<d&&!(c=b.call(i,a[e],e),F(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(i,d,a[d]),F(c)))break;return c}function N(a,b){if("function"===typeof a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}function O(a,b){D(b,function(b,d){a[b]=d});return a}function Jb(a,b){if(M(b)){for(var c=a,d=0;d<b.length;d++){var e=b[d];if(!ba(c)||!c.hasOwnProperty(e))return;c=c[e]}return c}}
function w(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function cb(a,b){return D(b,function(b){if(b===a)return j})||o}function M(a){return!!a&&"object"===typeof a&&"number"===typeof a.length}function F(a){return"undefined"!==typeof a}function Kb(a){return"object"===typeof a&&a!==k}function Lb(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function Mb(a){return"string"===typeof a}
function x(a){x=Object.yb||function(a){var c=[];D(a,function(a){c.push(a)});return c};return x.call(k,a)}
function Nb(a,b){function c(){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}if(b)try{if("loading"===document.readyState){var d="optimizely_synchronous_script_"+Math.floor(1E5*Math.random());-1!==a.indexOf('"')?P("loadScript","Blocked attempt to load unsafe script: "+a):(document.write('<script id="'+d+'" src="'+a+'"><\/script>'),1!==$("#"+d).length&&h(Error("Document.write failed to append script")))}else h(Error("Not safe to attempt document.write"))}catch(e){try{var f=
new XMLHttpRequest;f.open("GET",a,o);f.onload=function(){eval(f.responseText)};f.onerror=function(){h(Error())};f.send()}catch(g){I("Common","Failed to load %s synchronously",a),c()}}else c()}function I(a,b,c){var d=window.console;if(yb&&d&&d.log){var e=Ib(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function Xa(a){try{return decodeURIComponent(a)}catch(b){return a}}function Ib(a,b){return Array.prototype.slice.call(a,b||0,a.length)}
function Ob(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Pb(a){this.r=a;this.c={totalGets:0,totalGetLength:0,totalGetTime:0,totalSets:0,totalSetLength:0,totalSetTime:0,numKeys:0,totalSize:0}}Pb.prototype.get=function(a){try{var b=+new Date,c=this.r.getItem([Qb,a].join("$$")),d=ea(c);this.c.totalGetTime+=+new Date-b;this.c.totalGets++;this.c.totalGetLength+=(c||"").length;return d}catch(e){return k}};
Pb.prototype.set=function(a,b){try{var c=+new Date,d=u(b);F(b)?this.r.setItem([Qb,a].join("$$"),d):this.r.removeItem([Qb,a].join("$$"));this.c.totalSetTime+=+new Date-c;this.c.totalSets++;this.c.totalSetLength+=d.length}catch(e){}};Pb.prototype.wa=function(){var a=0,b=0,c;for(c in this.r)if(0===c.indexOf(Qb)){b++;var d=this.r.getItem(c),a=a+(c.length+(d?d.length:0))}this.c.numKeys=b;this.c.totalSize=a;return this.c};
var Rb={get:function(){},set:function(){},wa:function(){return{}}},Qb="optimizely_data",Q=Rb,Sb=Rb;
try{var Q=new Pb(window.localStorage),Sb=new Pb(window.sessionStorage),Tb=Q,Ub=Tb.r.getItem(Qb),Vb={};try{Vb=ea(Ub)||{}}catch(Wb){}if(0!==x(Vb).length){var Xb=Fb()||H("optimizelyEndUserId"),Yb=Vb[Xb]||{},Zb;for(Zb in Yb)if(Yb.hasOwnProperty(Zb)){var $b=[Xb,Zb].join("$$");Tb.get($b)===k&&Tb.set($b,Yb[Zb])}delete Vb[Xb];for(Zb in Vb)Vb.hasOwnProperty(Zb)&&(Tb.get(Zb)===k&&Tb.set(Zb,Vb[Zb]),delete Vb[Zb]);try{Ub=u(Vb)}catch(ac){Ub={}}Tb.r.setItem(Qb,Ub)}}catch(bc){};function cc(a,b){function c(a,b){var c=b&65535;return((b-c)*a|0)+(c*a|0)|0}for(var d=a.length,e=b||0,f=d&-4,g,l=0;l<f;l+=4)g=a.charCodeAt(l)&255|(a.charCodeAt(l+1)&255)<<8|(a.charCodeAt(l+2)&255)<<16|(a.charCodeAt(l+3)&255)<<24,g=c(g,3432918353),g=(g&131071)<<15|g>>>17,g=c(g,461845907),e^=g,e=(e&524287)<<13|e>>>19,e=5*e+3864292196|0;g=0;switch(d%4){case 3:g=(a.charCodeAt(f+2)&255)<<16;case 2:g|=(a.charCodeAt(f+1)&255)<<8;case 1:g|=a.charCodeAt(f)&255,g=c(g,3432918353),e^=c((g&131071)<<15|g>>>17,461845907)}e^=
d;e=c(e^e>>>16,2246822507);e=c(e^e>>>13,3266489909);return e^e>>>16};var dc=Math.pow(2,32);function ec(a,b){var c=cc(a,b);return(c>>>16).toString(16)+(c&65535).toString(16)};function fc(){return gc=gc||hc()}function ic(){return fc().aa}function jc(){return fc().ba}function kc(){return fc().F}function lc(a){if(!a)return"";try{return a.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(b){return""}}function mc(){return fc().platform}function nc(a){return Q.get([Fb()||Eb(),a].join("$$"))}function oc(a){Q.set([Fb()||Eb(),"asyncInfo"].join("$$"),a)}
function pc(){var a="android;blackberry;ipad;iphone;ipod;windows phone".split(";");return C(a,kc().id)?kc().id:C(a,mc().id)?mc().id:qc()?"mobile":"unknown"}function qc(){return kc().w}function rc(){return sc?"returning":"new"}mc=function(){return fc().platform};function tc(a){I("User","Setting current URL to %s",a);uc=a}var uc=i,gc=i,sc=i;function P(a,b,c){vc.push({Fa:new Date,Da:a,message:b,ua:c||o});wc&&xc()}function yc(){yb=j}function zc(){zb=yb=j}function xc(){yb&&(D(vc,function(a){if(!a.cb&&(!a.ua||a.ua===zb)){var b=+a.Fa;I(a.Da,a.message+(" [time "+(Ac?b-Ac:0)+" +"+(Bc?b-Bc:0)+"]"));Bc=b;Ac||(Ac=b);a.cb=j}}),wc=j)}var Bc=k,Ac=k,vc=[],wc=o;var R={};function Cc(a,b){R[a]=b}function Dc(a,b){var c=nc("asyncInfo")||{};c[a]=b;oc(c)}function Fc(){var a=(R.odds||k)&&(R.odds||k).ip||(R.cdn3||k)&&(R.cdn3||k).ip;return a?Gc(a):k}function Hc(){return!R.odds?k:(R.odds||k).lists||{}}
function Ic(a){if(!Hc())return P("Async Info","Invalid response from ODDS"),{value:i,M:o};if(!Hc().hasOwnProperty(a))return P("Async Info","Deduced cachetime value that was checked for presence in list: "+a),{value:i,M:j};var b=!R.odds?k:(R.odds||k).lists_metadata||{};if(!b||!b[a]||!b[a][0])return P("Async Info","Can't find cachetime value that was checked for presence in list: "+a),{value:i,M:o};P("Async Info","Found cachetime value that was checked for presence in list: "+a);return{value:b[a][0].value,
M:j}}function Jc(a){var b=Da()[a],c=F(b)&&Kc(b);if(c){var d=Lc(b);if(d===k)return P("Async Info","Deduced membership status (false) for list: "+a),o;P("Async Info","Found current value to check for presence in list: "+a)}b=Hc();if(!b)return P("Async Info","No list membership info."),k;if(c&&(c=Ic(a),c.M&&c.value!==d))return P("Async Info","Ignoring out-of-date membership status for list: "+a),k;d=!!b[a];P("Async Info","Found membership status ("+d+") for list: "+a);return d}
function Mc(){if(!R.cdn3)return k;var a=(R.cdn3||k).location||{};return{continent:Gc(a.continent),country:Gc(a.country),region:Gc(a.region),city:Gc(a.city)}}var Nc={get:function(){return R.dcps||k},set:function(a){Dc("dcps",a);R.dcps=a}};function Oc(){var a=Nc.get();return!a||a.rulesResults===k?k:a.rulesResults||{}}function Gc(a){return"string"!==typeof a||"N/A"===a.toUpperCase()?k:a.toUpperCase()};function Pc(a){a=a||{};if(bb){a&&a.sVariable&&(Qc=a.sVariable);var b=Qc||("undefined"!==typeof window.s?window.s:k);if(b)if(Rc){a=Sc;if(a!==k&&b)try{I("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){I("Integrator","Error setting SiteCatalyst referrer: %s",c)}I("Integrator","Tracking with SiteCatalyst");D(Tc(),function(a){var c=E(a),a=S(c,a,100,100,25,j),f=a.key+": "+a.value,a=[],g=y(c,"site_catalyst_evar")||k,c=y(c,"site_catalyst_prop")||k;g!==k&&a.push("eVar"+g);
c!==k&&a.push("prop"+c);D(a,function(a){I("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else Uc=j;else P("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function Vc(a){a=Lb(a)?Number(a):-1;if(-1!==[1,2,3].indexOf(a))Wc=a;else return Wc}
function Xc(){if(bb){var a=Sc;if(a!==k)try{I("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){I("Integrator","Error setting Google Analytics referrer: %s",b)}var c=[];D(Tc(),function(a){var b=E(a);if(y(b,"chartbeat")){var d=Yc;Yc="";var e=S(b,a,10,10,5,o);Yc=d;d=Ja(a);Zc=e.key+": "+String(d);try{I("Integrator","Calling _cbq.push"),_cbq.push(["_optlyx",Zc])}catch(n){P("Integrator","Error sending Chartbeat data for "+Aa(b))}}if(Oa(b)){var e=Oa(b),
d=S(b,a,100,100,25,j),t=e+(-1!==e.indexOf("?")?"&":"?")+"optimizely_experiment_id="+b+"&optimizely_experiment_name="+encodeURIComponent(d.key)+"&optimizely_variation_id="+a+"&optimizely_variation_name="+encodeURIComponent(d.value)+"&ns_m_exp=("+b+") "+encodeURIComponent(d.key)+"&ns_m_chs=("+a+") "+encodeURIComponent(d.value)+"&type=hidden";try{$(window).load(function(){P("Integrator","Sending comScore log call");$c(t,k)})}catch(q){P("Integrator","Error sending comScore data for "+Aa(b))}}if(y(b,"crazyegg")){e=
S(b,a,100,100,15,o);try{I("Integrator","Defining CE_SNAPSHOT_NAME"),window.CE_SNAPSHOT_NAME=e.key+": "+e.value}catch(A){P("Integrator","Error sending CrazyEgg data for "+Aa(b))}}if(Pa(b)){e=Pa(b);d=0;F(e)&&(d=e.slot||d);var e=d,d=Pa(b),G="";F(d)&&(G=d.tracker||G);d=G;G=S(b,a,28,24,5,j);try{var B="";""!==d&&(B=d+".");I("Integrator","Calling _gaq._setCustomVar for slot %d and scope %d",e,Wc);_gaq.push([B+"_setCustomVar",e,G.key,G.value,Wc])}catch(qa){P("Integrator","Error sending Google Analytics data for "+
Aa(b))}}if(y(b,"inspectlet")){e=Yc;Yc="";d=S(b,a,100,100,25,o);Yc=e;try{P("Integrator","Calling __insp.push for sending data to Inspectlet"),window.__insp=window.__insp||[],window.__insp.push(["tagSession",{"Optimizely Experiment Name":d.key,"Optimizely Variation Name":d.value,"Optimizely Experiment ID":b,"Optimizely Variation ID":a}])}catch(Sa){P("Integrator","Error sending Inspectlet data for "+Aa(b))}}if(v("kissmetrics")){e=S(b,a,100,100,15,j);d={};d[e.key]=e.value;try{I("Integrator","Calling _kmq.set"),
_kmq.push(["set",d])}catch(Ae){P("Integrator","Error sending KISSmetrics data for "+Aa(b))}}if(y(b,"mixpanel")){e=S(b,a,100,100,15,o);d={};d[e.key]=e.value;try{I("Integrator","Calling mixpanel.push"),mixpanel.push(["register",d])}catch(Gh){P("Integrator","Error sending Mixpanel data for "+Aa(b))}}if(y(b,"moat")){e=S(b,a,100,100,15,o);e=e.key+": "+e.value;try{I("Integrator","Calling optimizelyMoat.push"),optimizelyMoat.push(e)}catch(Hh){P("Integrator","Error sending Moat data for "+Aa(b))}}y(b,"sessioncam")&&
(c=c.concat(ad(b,a)));y(b,"at_internet")&&(e=S(b,a,28,24,5,j),a=b+"["+encodeURIComponent(e.key)+"]-0-"+a+"["+encodeURIComponent(e.value)+"]",a in bd||(I("Integrator","Queueing AT Internet log call: %s",a),bd[a]=o))});if(0<c.length){a=c;try{P("Integrator","Calling sessioncamConfiguration object"),window.sessioncamConfiguration=window.sessioncamConfiguration||{},window.sessioncamConfiguration.customDataObjects=window.sessioncamConfiguration.customDataObjects||[],window.sessioncamConfiguration.customDataObjects=
window.sessioncamConfiguration.customDataObjects.concat(a)}catch(d){P("Integrator","Error sending sessioncam data "+a)}}0<x(bd).length&&("function"===typeof window.xt_mvt?cd():$(window).bind("load.ATInternet",cd));a=H("optimizelyChartbeat")||"";try{if(a&&Zc!=a&&(I("Integrator","Calling _cbq.push for referral"),_cbq.push(["_optlyr",a])),Zc!=a)I("Integrator","Set new Chartbeat referral cookie."),J("optimizelyChartbeat",Zc)}catch(e){P("Integrator","Error sending Chartbeat referral for "+a)}Rc=j;dd&&
(ed(),dd=o);Uc&&(Pc(),Uc=o)}}
function fd(){if(window.ClickTaleContext){try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){a.Location&&window.optimizely.push(["overrideUrl",a.Location]);for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);I("Integrator","Playback ClickTale Integration - %s",e);for(b=0;b<e.length;b++){I("Integrator","Playback ClickTale Integration - %s",e[b]);for(var f=e[b].split("=")[0].substr(1),g=e[b].split("=")[1].split("_"),l=0;l<g.length;l++)gd(g[l])?I("Integrator",
"Skip activation for redirect."):window.optimizely.push(["activate",f,g[l],{force:j}])}}})}catch(a){I("Integrator","Playback ClickTale Aggregation Integration failed.")}try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){if(a.inSingleRecordingScope){a.location&&window.optimizely.push(["overrideUrl",a.location]);I("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields)I("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]),gd(a.fields[b])?
I("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",b,a.fields[b],{force:j}])}})}catch(b){I("Integrator","Playback ClickTale Recording Integration failed.")}}else I("Integrator","ClickTaleContext not defined.")}
function hd(){I("Integrator","Tracking with ClickTale.");"function"==typeof window.ClickTaleField?D(Tc(),function(a){var b=E(a),c=S(b,a,100,100,15,o),c=c.key+": "+c.value+" (x"+b+"="+a+")";I("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):I("Integrator","ClickTaleField() not defined.")}function id(a){Yc=a}function jd(a){Qc=a}function kd(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function Tc(){var a=ld.concat(T),b=[];D(md(),function(c){var e=E(c),f=o;if(sa(e)){var g=Ka(c);C(a,e)&&(I("Integrator",'"%s" relevant because experiment active',g),f=j);f&&b.push(c)}});var c=nd;c&&b.push(c);return b}function gd(a){if(a=Ha(a))if(a=od(a.toString()))return a[1];return k}
function ed(){if(bb)if(Rc){var a=window[window.GoogleAnalyticsObject||"ga"];if(a){var b=Sc;if(b!==k)try{I("Integrator","Fixing Universal Analytics set referrer with %s",b),(0,window[window.GoogleAnalyticsObject||"ga"])("set","referrer",b)}catch(c){I("Integrator","Error setting Universal Analytics referrer: %s",c)}I("Integrator","Tracking with Universal Analytics");D(Tc(),function(b){var c=E(b);if(Qa(c,"slot")){var f=Qa(c,"slot"),g=Qa(c,"tracker"),l=S(c,b,100,100,25,j),b=l.key+" ("+c+"): "+l.value;
150<b.length&&(b=l.key.substring(0,80)+" ("+c+"): "+l.value,b=b.substring(0,149));c=g?g+".":"";I("Integrator","Calling ua set dimension - ga(%sset, dimension%d, %s)",c,f,b);a(c+"set","dimension"+f,b)}})}else P("Integrator","Error with Universal Analytics integration: 'GoogleAnalyticsObject' not defined")}else dd=j}function ad(a,b){P("Integrator","Preparing to send data to Sessioncam");return[S(a,b,100,100,15,o),{key:"Optimizely Exp "+a,value:"Optimizely Var "+b}]}
function cd(){try{$(window).unbind("load.ATInternet"),window.xt_mvt&&D(bd,function(a,c){c||(I("Integrator","Sending AT Internet log call: %s",a),window.xt_mvt("","",a),bd[a]=j)})}catch(a){P("Integrator","Error sending AT Internet data: "+a.toString())}}function S(a,b,c,d,e,f){a=Yc+za(a);b=La(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=kd(a,c),b=kd(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}
function pd(a,b,c){try{var d=Q.get(qd)||{},e=d[a],f;if(c&&e){var c={},g;if(e)for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);if(b)for(g in b)if(b.hasOwnProperty(g)){var e=c,l=g,m;if(c[g]){var n=c[g],t=b[g];M(n)||(n=[n]);M(t)||(t=[t]);for(var q=[].concat(n),A=i,A=0;A<t.length;A++)cb(t[A],q)||q.push(t[A]);m=q}else m=b[g];e[l]=m}f=c}else f=b;d[a]=f;Q.set(qd,d)}catch(G){}}var dd=o,Uc=o,bd={},Zc="",Wc=2,Rc=o,Yc="Optimizely ",Qc=k,qd="thirdParty";function rd(a,b,c,d){if(!K)return o;var e="number"===typeof c||"string"===typeof c?String(c):k,f=!!(c===j||c&&c.force===j||d&&d.force===j),d=("object"===typeof c?c:d)||{},c=d.skip===j,g=d.skipPageview===j,d=d.enabledStatus;if(e)try{sd(b,e,j)}catch(l){P("Activator","Error while activating experiment "+b+" for variation "+e+" -- proceeding without bucketing user.")}var m=[];Lb(b)?m.push(b):D(ra(),function(a){xa(a)&&m.push(a)});td(a,m,{Ha:f,fb:j,Ga:d,hb:c,Aa:g})}
function ud(a,b,c){if(!K)return o;if(!("object"===typeof b&&"string"===typeof c))if("object"===typeof b&&!F(c))c=b.hasOwnProperty("lists")?"odds":"cdn3";else if(F(b)||F(c)){P("Activator","Unrecognized arguments to activateGeoDelayedExperiment: "+arguments);return}if("object"===typeof b&&"string"===typeof c){P("Activator","Saving async info from '"+c+"'");"cdn3"===c&&U("geoArrive");Dc(c,b);var d=(R[c]=b)&&b.lists||{},e={},f,g,l,m,n;for(n in d)d.hasOwnProperty(n)&&(0===n.indexOf("_")&&d[n])&&(f=n.substring(1).split("__"),
g=f.shift(),l=f.shift(),f=f.join("__"),g&&(l&&f)&&(m=e,m[g]||(m[g]={}),m=m[g],m[l]||(m[l]=[]),m=m[l],m.push(f)));for(g in e)pd(g,e[g],o);vd?(P("Activator","Post-timeout; too late to act on new async info."),geolocation.cdn3Requested&&U("geoFailed")):(d=wd.slice(),P("Activator","Trying to activate "+d.length+" delayed segments"),xd(d),d=yd.slice(),P("Activator","Trying to activate "+d.length+" experiments"),td(a,d,{Aa:Cb}),zd(),"object"===typeof b&&"string"===typeof c&&"cdn3"===c&&U("geoSuccess"))}else P("Activator",
"Timeout: will not act on future async info."),U("geoTimeout"),vd=j}
function td(a,b,c){P("Activator","Triaging "+b.length+" experiments.");var d=[],e=[],f=[];D(b,function(b){c.Ha?(P("Activator","Force-ignoring conditions for experiment "+b),d.push(b)):Ad(b)?Bd(b,{manualActivation:c.fb,objectType:"experiment",enabledStatus:c.Ga,visitor:a})?(P("Activator","Passed conditions for experiment "+b),d.push(b)):(P("Activator","Failed conditions for experiment "+b),f.push(b)):(P("Activator","Can't test conditions for experiment "+b),e.push(b))});D(e,Cd);Dd(d);Dd(f);var g=[];
D(d,function(a){Ed(a,c.hb)&&g.push(a)});Fd(g,b);Gd();Xc();K&&!c.Aa&&Hd()}
function xd(a){P("Activator","Triaging "+a.length+" segments.");var b=[],c=[],d=[],e=[];D(a,function(a){Ra(a,"is_api_only")?(P("Activator","Ignoring API-only segment "+a),e.push(a)):Ad(a)?Bd(a,{objectType:"segment"})?(P("Activator","Passed conditions for segment "+a),b.push(a)):(P("Activator","Failed conditions for segment "+a),d.push(a)):(P("Activator","Can't test conditions for segment "+a),c.push(a))});D(c,Id);Jd(b);Jd(d);Jd(e);D(b,Kd)}
function Cd(a){P("Activator","Deferring test for experiment "+a);C(yd,a)||yd.push(a)}function Id(a){P("Activator","Deferring test for segment "+a);C(wd,a)||wd.push(a)}function Dd(a){yd=w(yd,function(b){return!cb(b,a)})}function Jd(a){wd=w(wd,function(b){return!cb(b,a)})}var yd=[],wd=[],vd=o;/*


 UAParser.js v0.7.12
 Lightweight JavaScript-based User-Agent string parser
 https://github.com/faisalman/ua-parser-js

 Copyright ? 2012-2016 Faisal Salman <fyzlman@gmail.com>
 Dual licensed under GPLv2 & MIT
*/
function Ld(){}var Md={extend:function(a,b){var c={},d;for(d in a)c[d]=b[d]&&0===b[d].length%2?b[d].concat(a[d]):a[d];return c},has:function(a,b){return"string"===typeof a?-1!==b.toLowerCase().indexOf(a.toLowerCase()):o},N:function(a){return a.toLowerCase()},va:function(a){return"string"===typeof a?a.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}};
function Nd(){for(var a,b=0,c,d,e,f,g,l,m=arguments;b<m.length&&!g;){var n=m[b],t=m[b+1];if("undefined"===typeof a)for(e in a={},t)t.hasOwnProperty(e)&&(f=t[e],"object"===typeof f?a[f[0]]=i:a[f]=i);for(c=d=0;c<n.length&&!g;)if(g=n[c++].exec(this.ra()))for(e=0;e<t.length;e++)l=g[++d],f=t[e],"object"===typeof f&&0<f.length?2==f.length?a[f[0]]="function"==typeof f[1]?f[1].call(this,l):f[1]:3==f.length?a[f[0]]="function"===typeof f[1]&&(!f[1].exec||!f[1].test)?l?f[1].call(this,l,f[2]):i:l?l.replace(f[1],
f[2]):i:4==f.length&&(a[f[0]]=l?f[3].call(this,l.replace(f[1],f[2])):i):a[f]=l?l:i;b+=2}return a}function Rd(a,b){for(var c in b)if("object"===typeof b[c]&&0<b[c].length)for(var d=0;d<b[c].length;d++){if(Md.has(b[c][d],a))return"?"===c?i:c}else if(Md.has(b[c],a))return"?"===c?i:c;return a}
var Sd={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Td={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,
/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],
[["name","WeChat"],"version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,
/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
["name",["version",Rd,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,
/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],ca:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",Md.N]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",Md.N]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
[["architecture",Md.N]]],F:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor",
"Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",Rd,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",
["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],
["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",Rd,{HTC:"APA",Sprint:"Sprint"}],["model",Rd,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,
/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",Md.trim],["model",Md.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,
/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],
["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],
["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",Md.N],"vendor","model"]],ea:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],
[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],xa:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",Rd,Sd]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name",
"Windows"],["version",Rd,Sd]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,
/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(haiku)\s(\w+)/i],["name",
"version"],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]};
function Ud(a,b){if(!(this instanceof Ud))return(new Ud(a,b)).Ua();var c=a||(Ld&&Ld.navigator&&Ld.navigator.userAgent?Ld.navigator.userAgent:""),d=b?Md.extend(Td,b):Td;this.u=function(){var a=Nd.apply(this,d.browser);a.va=Md.va(a.version);return a};this.La=function(){return Nd.apply(this,d.ca)};this.K=function(){return Nd.apply(this,d.F)};this.Qa=function(){return Nd.apply(this,d.ea)};this.oa=function(){return Nd.apply(this,d.xa)};this.Ua=function(){return{Ab:this.ra(),browser:this.u(),ea:this.Qa(),
xa:this.oa(),F:this.K(),ca:this.La()}};this.ra=function(){return c};this.zb=function(a){c=a;return this};return this}Ud.VERSION="0.7.12";Ud.jb={e:"name",pb:"major",VERSION:"version"};Ud.lb={ib:"architecture"};Ud.mb={rb:"model",VENDOR:"vendor",g:"type",kb:"console",qb:"mobile",ub:"smarttv",vb:"tablet",wb:"wearable",nb:"embedded"};Ud.ob={e:"name",VERSION:"version"};Ud.sb={e:"name",VERSION:"version"};Ld.Ca=Ud;function hc(){var a=new Ld.Ca(window.navigator.userAgent),b=a.u(),c=a.oa(),a=a.K(),d=a.model in Vd?Vd[a.model]:"unknown",e=(c.name||"unknown").toLowerCase(),f;a:if(C(["mobile","tablet"],a.type))f=j;else{if(d&&"unknown"!==d)for(f in Vd)if(d===Vd[f]){f=j;break a}f=C(["android","blackberry","ios","windows phone"],e)?j:o}return{aa:Wd(b.name),ba:b.version,platform:{id:e,version:c.version},F:{id:d,type:a.type||(f?"mobile":"desktop"),w:f}}}
function Wd(a){a=(a||"").toLowerCase();if(a in Xd)return a;for(var b in Xd)if(L(Xd[b]||[],function(b){return b.toLowerCase()===a}))return b;return"unknown"}var Xd={gc:["Chrome","chromium","silk","yandex","maxthon"],ie:["Internet Explorer","iemobile"],edge:["Edge"],ff:["Firefox","iceweasel"],opera:["Opera","opera mini","opera tablet"],safari:["Safari","mobile safari","webkit"],ucbrowser:["UC Browser"]},Vd={iPhone:"iphone",iPad:"ipad"};function od(a){return a.match(/_optimizely_redirect(?:_no_cookie)?=(\S+)/)}function Yd(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function Zd(a){var a=a||"",b=H("optimizelyRedirect");return Yd(a)||!b||b&&"true"===b.split("|")[1]?j:o}function $d(){var a;a=F(a)?a:document.referrer;J("optimizelyReferrer",a,v("redirect_timeout")||5)}
var Sc=k,nd="",ae=/^\/\* _optimizely_redirect.+\*\/[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,be=/^\/\* _optimizely_redirect.+\*\/[ ]*\nvar[ ]*_optly[ ]*=[ ]*\{[ ]*redir:document\.createElement\("a"\)\}[;]?\n_optly\.redir\.href=.*\n_optly\.cur=.+\nif \(_optly.cur\)[ ]?\{.+\}[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,ce=/^\/\* _optimizely_redirect.+\*\/[ ]*[\n]+window\.location\.replace\([ ]*redirectFirst.*\)[ ]*[;]?$/;var de,ee;function fe(){var a={disable:ge,optOut:he,setCookieDomain:lb,setCookieExpiration:ie,verifyPreviewProject:function(a){z()!==a&&P("API","Preview projectId ("+z()+") does not match expected ("+a+"), disabling.")}},b=window.optimizely,c=[];M(b)&&(D(b,function(b){var e=b;M(b)?e=b[0]:Kb(b)&&(e=b.type);a[e]?je([a],b,j):c.push(b)}),window.optimizely=c)}function ke(a,b,c){pd(a,b,!!c);zd()}
function le(a,b){var c=ua(a)||a,d=va()[c];d?d.audience_id?V.D(d.audience_id):d.dimension_id?V.B(d.dimension_id,b||j,o):me(c,b):P("API","Unable to find segment: "+c)}
function sd(a,b,c){Bb=j;K&&c!==j&&Hd();var a=String(a),b=String(b),d=k,e=b.split("_"),f=Ba(a),b=f&&0!==f.length;if("-1"===e[0]){c=a;ne[c]&&delete ne[c];oe[c]&&delete oe[c];for(e=0;e<W.length;e++)W[e].H===c&&W.splice(e,1);pe()}else if(b&&e.length==f.length)d=[],D(e,function(a,b){256>=Number(a)?d.push(Fa(f[b])[a]):d.push(a)}),d=d.join("_");else if(!b&&1==e.length&&256>=Number(e[0])){var c=String,e=e[0],g=Ca(a),l=k;try{l=g[e]}catch(m){}d=c(l)}else 1==e.length?d=e[0]:P("API","Error: could not bucket user. Unknown arguments.");
d&&(b&&Ea(a,d)?(b=d,c=Ea(a,b),qe[a]=qe[a]||{},qe[a][c]=b,P("Distributor","Preferring variation partial "+b+" of section "+c+" of experiment "+a),a=re(a),1===a.length&&se(a[0],"api.bucketUser",j)):se(d,"api.bucketUser",j));Gd()}function ge(a){a&&"tracking"===a||(P("API","Optimizely disabled"),qb=K=o);bb=o}function te(){P("API","Finalizing API.");zd();de=j}function ue(){if(v("slave"))return SLAVE_CLIENT.optimizely.get.apply(k,Array.prototype.slice.call(arguments))}var ve=[];
function we(a){ve.push(a);zd()}function je(a,b,c){var d=[],e=b,c=F(c)?c:o,f=0;M(b)?(e=b[0],d=Ib(b,1)):Kb(b)&&(f=F(b.version)?b.version:1,e=b.type,d=[b]);var a=a[f],g;a&&(g=a[e]);g?(P("API",'Called function "'+e+'"'),g.apply(k,d),xe.R[0===f?e:"v"+f+"."+e]=j):c||P("API",'Error for unknown function "'+e+'"');v("slave")&&SLAVE_CLIENT.optimizely.push(b);xc()}
function ye(a,b){de?P("API","Error: can't add custom tags after Optimizely loads"):(ee=ee||{},2==arguments.length?ee[a]=b:1==arguments.length&&$.extend(j,ee,a))}function ze(a,b){var c=ua(a)||a,b=F(b)?b:j,d=va()[c];d?d.audience_id?V.Y(d.audience_id):d.dimension_id?V.B(d.dimension_id,k):Be(c,b):P("API","Unable find segment for: "+c)}function Ce(){var a=x(va());D(a,function(a){ze(a,o)});De()}
function zd(){Ee={};Fe={};Ge={};D(md(),function(a){var b=E(a);Ee[b]=a.split("_");Fe[b]=Ja(a);Ge[b]=Ka(a)});He={};var a=v("audiences");X(He,"audiences",a||i,"data.audiences");X(He,"customTags",ee,"data.customTags");X(He,"thirdParty",Q.get(qd)||{},"data.thirdParty");for(var b={},c=ra(),a=0;a<c.length;a++){var d=c[a],e={};e.code=y(d,"code")||"";e.name=za(d);e.conditional=ya(d);e.manual=xa(d);e.section_ids=Ba(d);e.variation_ids=Ca(d);b[d]=e}X(He,"experiments",b,"data.experiments");b={};c=x(va());for(a=
0;a<c.length;a++)d=c[a],e={name:Ra(d,"name")||"Seg "+d},b[d]=e;X(He,"segments",b,"data.segments");b={};c=x(v("sections")||{});for(a=0;a<c.length;a++)d=c[a],e={},e.name=v("sections",d,"name")||"Sec "+d,e.variation_ids=Fa(d),b[d]=e;X(He,"sections",b,"data.sections");b={};c=x(v("variations")||{});for(a=0;a<c.length;a++)d=c[a],e={},e.name=Ka(d),e.code=Ha(d),b[d]=e;X(He,"variations",b,"data.variations");var a=ic(),a=Xd[a]?Xd[a][0]:a,b=jc(),c=kc().id,d=kc().type,e=mc(),f=qc(),g=pc(),l=mc().id,m={};D(Da(),
function(a){m[a]=Jc(a)});var b={browser:a,browserVersion:b,device:c,deviceType:d,platform:e,mobile:f,mobileId:g,os:l,lists:m,location:Mc(),ip:Fc(),matchingRules:Oc(),referrer:String(document.referrer),segments:Ie(),dimensions:V.t,audiences:V.p},n;for(n in b)X(b,n,b[n],"data.visitor."+n);n={};c=Je();c.reverse();a=0;for(d=c.length;a<d;a++)try{n[Xa(c[a][0])]=Xa(c[a][1])}catch(t){P("API","Failed to decode parameter "+c[a][0]+"="+c[a][1])}X(b,"params",n,"data.visitor.params");He.visitor=b;n={};X(n,"activeExperiments",
ld||[],"data.state.activeExperiments");a:{if(a=nd)if(b=E(a)){a={variationId:a,experimentId:b,referrer:Sc};break a}a=i}X(n,"redirectExperiment",a,"data.state.redirectExperiment");X(n,"variationIdsMap",Ee,"data.state.variationIdsMap");X(n,"variationMap",Fe,"data.state.variationMap");X(n,"variationNamesMap",Ge,"data.state.variationNamesMap");X(n,"enabled",K,"data.state.enabled");n.integrations={};X(n.integrations,"activeOAuthClientIds",ve,"data.state.integrations.activeOAuthClientIds");He.state=n;n=
{activeExperiments:ld,allExperiments:wa(),all_experiments:wa(),variationIdsMap:Ee,variationMap:Fe,variationNamesMap:Ge,variation_map:Fe};window.optimizely.data=He;D(n,function(a,b){X(window.optimizely,a,b)})}function X(a,b,c,d){try{var e="o.",e=d?e+d:e+b;Object.defineProperty(a,b,{configurable:j,enumerable:j,get:function(){xe.R[e]=j;return c},set:function(a){c=a}})}catch(f){a[b]=c}}function Ke(a){if(!Lb(a))return o;ob=Number(a)}function Le(){ub=j}
function ie(a){var b="";"number"!==typeof a?(b="must be a number.",a=15552E3):a=Math.floor(86400*a);7776E3>a&&(b="less then minimum.",a=7776E3);P("API",(b&&"Days argument "+b)+" Cookie expiration set to "+a+" seconds.");Db=a}function Me(){Cb=j}function Ne(){H("optimizelyReportableFix")?P("API","skipping because cookie is set"):(D(v("audiences"),function(a){ia(a)&&(P("API","Removing from reportable audience: "+a),V.Y(a))}),J("optimizelyReportableFix","1",7776E3))}
function Oe(a){var b=Fb();!a&&0!==a?(P("API","Clearing PPID"),hb("optimizelyPPID",ib())):"string"===typeof a||"number"===typeof a?(P("API","Setting PPID to "+a),a=String(a),v("legacy_uuid")&&J("optimizelyPPID",a,Db)):P("API","Ignoring non-string, non-number PPID: "+a);Fb()!==b&&(P("API","Clearing plan because of PPID change"),P("Plan","Resetting visitor buckets"),Pe={},ne={},oe={},W=[],Gd())}
var Re={event:function(a){Qe(a.eventName,a.tags)},user:function(a){a.userId&&Oe(a.userId);a.attributes&&D(a.attributes,function(a,c){V.B(a,c)})},integration:function(a){a.OAuthClientId&&we(a.OAuthClientId)}},He={},Se={},Ee={},Fe={},Ge={},V=k;function Qe(a,b){var c;a:{c={};var d,e=v("custom_revenue_goals");e&&(a in e&&Lb(e[a]))&&(d=Number(e[a]));if(b)if(Lb(b))d=Number(b);else if("object"===typeof b){if(c=O({},b),"revenue"in c)if(Lb(c.revenue))d=Number(c.revenue),delete c.revenue;else{I("tracker","Revenue field %s not a number.",c.revenue);c=k;break a}}else{I("tracker","Revenue argument %s not a number.",b);c=k;break a}F(d)&&(c.Z=d)}if(c===k)I("tracker","Bad options. Will not track this event.");else{d=oa();var f={};D(d,function(a){f[a]=
j});$.extend(c,{fa:f});Te(a,"custom",c)}}function Te(a,b,c,d){c=c||{};bb&&(Ue.push({name:a,type:b,da:d||+new Date/1E3,options:c}),Ve?(We(),P("Tracker","Tracking event '"+a+"'")):P("Tracker","Queued tracking event '"+a+"'"))}function Xe(){Ye();$("html").bind("mousedown",Ze);$("html").bind("touchstart",$e)}function Ye(){$("html").unbind("touchstart",$e);$("html").unbind("mousedown touchend",Ze);$("html").unbind("touchmove",Xe)}
function $e(){$("html").bind("touchend",Ze);$("html").bind("touchmove",Xe)}function Hd(){var a=document.location.href,b=ta(a);0<b.length?(Te("optly_activate","activate"),D(b,function(b){Te(a,"pageview",{sa:[b]},af)})):Te(a,"activate")}function bf(){var a=H("optimizelyPendingLogEvents")||"[]",b=[];try{b=ea(a)}catch(c){}if(M(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==typeof e){b=[];break}else try{ea(e);b=[];break}catch(f){}}else b=[];return b}
function cf(a){a=N(a.split("&"),function(a){return a.split("=")});a.sort(function(a,c){return a[0]<c[0]?-1:a[0]>c[0]?1:0});return N(a,function(a){return a.join("=")}).join("&")}
function $c(a,b){if(df&&-1!==a.indexOf(ef))try{var c=new XMLHttpRequest;if("withCredentials"in c){c.onload=b;c.open("GET",a,j);c.withCredentials=j;c.send();return}df=o;P("Tracker","Found that XHR with credentials is not supported in this browser.")}catch(d){P("Tracker","XHR not supported"),df=o}var c=a,e=new Image;e.onload=b;c=c.replace("&"+ef,"");e.src=c;ff.push(e)}
function he(a,b){a=!F(a)||"true"===String(a);F(b)||(b=window.alert);var c=a?"true":"false";a?(J("optimizelyOptOut",c,Db),J("optimizelyBuckets",c,Db),b("You have successfully opted out of Optimizely for this domain.")):(J("optimizelyOptOut",c,Db),b("You are NOT opted out of Optimizely for this domain."))}function hf(){return"true"===H("optimizelyOptOut")}function Ze(){Ye();Te("engagement","engagement")}var Ue=[],Ve=o;
function We(){var a=["a="+z(),"d="+fa(),"y="+!!v("ip_anonymization"),"src=js"];Bb&&a.push("override=true");D(md(),function(b){var c=E(b);a.push("x"+c+"="+b)});D(Ie(),function(b,c){c=encodeURIComponent(Xa(c));a.push("s"+b+"="+c)});a.push("tsent="+ +new Date/1E3);var b=[],c=Eb(),d=Fb();D(Ue,function(a){var e=[],f;if(a.options.sa)f=a.options.sa;else if("activate"===a.type){f=ld.concat(T);var g=nd;g&&(g=E(g),f.push(g))}else f=a.name?ta(a.name):[];a.name&&e.push("n="+encodeURIComponent(a.name));a.options.anonymous!==
j&&(e.push("u="+c),d&&e.push("p="+encodeURIComponent(d)));df&&e.push(ef);a.da&&e.push("time="+a.da);ub&&e.push("dtpc="+ub);var l=!!a.options&&!!a.options.Z&&a.options.fa||{},g=x(l),Ae=w(oa(),function(a){return!l[a]});f=[{S:g,ta:f.concat([v("summary_revenue_goal_id")||k]),ga:["v="+encodeURIComponent(a.options.Z)]},{S:Ae,ta:f,ga:[]}];D(f,function(a){(a.S.length||pb)&&b.push(e.concat(a.ga).concat(["f="+a.S.join(","),"g="+a.ta.join(",")]).join("&"))});if("custom"===a.type)try{var m=a.name,n=Eb(),q=Q.get("customEvents")||
{},t=q[n]||(q[n]=[]),t=M(t)?t:[];-1!==$.inArray(m,t)&&t.splice($.inArray(m,t),1);t.push(m);100<t.length&&t.shift();q[n]=t;Q.set("customEvents",q);hb("optimizelyCustomEvents",ib())}catch(gf){}});var e=b.concat(bf());jf(e);var f=a.join("&"),e=kf?b:e;kf=j;for(var g=0,l=e.length;g<l;g++){var m=e[g],n=f+"&"+m;P("Tracker","Making a log request.");var n=n+("&cx2="+ec(cf(n),65259)),t=z(),q=v("log_host");t&&(q=t.toString()+"."+q);$c("https://"+q+"/event?"+n,function(){for(var a=m,b=bf(),c=0,d=b.length;c<d;c++)if(b[c]===
a){b.splice(c,1);break}jf(b);P("Tracker","Removed a pending log event from the pending events cookie.")})}Ue=[];Ve=j}function jf(a){for(var b=u(a);1536<b.length;)a=a.slice(0,-1),b=u(a);J("optimizelyPendingLogEvents",b,15)}var ff=[],kf=o,ef="wxhr=true",df=j,af=+new Date/1E3;var Y={e:"n",b:"t",g:"y",l:"c",m:"r",o:"s",f:"o"};function lf(a,b,c,d,e){this[Y.e]=a;this[Y.g]=b;"string"===typeof c&&0<Ob(c).length&&(this[Y.l]=Ob(c));d&&0<x(d).length&&(this[Y.f]=d);F(e)&&(this[Y.m]=e)}
lf.prototype.hash=function(){if(this.v)return this.v;var a;a=[];a.push(encodeURIComponent(Y.e)+"="+encodeURIComponent(this[Y.e]));a.push(encodeURIComponent(Y.g)+"="+encodeURIComponent(this[Y.g]));this[Y.l]&&a.push(encodeURIComponent(Y.l)+"="+encodeURIComponent(this[Y.l]));this[Y.m]&&a.push(encodeURIComponent(Y.m)+"="+encodeURIComponent(this[Y.m]));if(this[Y.f])for(var b=this[Y.f]||{},c=w(x(b),function(a){return b.hasOwnProperty(a)}),c=c.sort(),d=0;d<c.length;d++)a.push(encodeURIComponent(c[d])+"="+
encodeURIComponent(b[c[d]]));a=a.join("&");var e=String.fromCharCode;a=a.replace(/[\S\s]/gi,function(a){var a=a.charCodeAt(0),b=e(a&255);255<a&&(b=e(a>>>8&255)+b);65535<a&&(b=e(a>>>16)+b);return b});return this.v=ec(a,2716770798)};
function mf(a,b){if(a.hash()!==b.hash()||a[Y.e]!==b[Y.e]||a[Y.g]!==b[Y.g]||a[Y.l]!==b[Y.l]||a[Y.m]!==b[Y.m])return o;if(!a[Y.f]&&!b[Y.f])return j;var c=a[Y.f]||{},d=b[Y.f]||{},e=w(x(c),function(a){return c.hasOwnProperty(a)}),f=w(x(d),function(a){return d.hasOwnProperty(a)});if(e.length!==f.length)return o;for(f=0;f<e.length;f++){var g=e[f];if(!d.hasOwnProperty(g)||c[g]!==d[g])return o}return j}lf.prototype.k=function(a,b){var c=Jb(this,a);return F(c)?c:b};
lf.prototype.Q=function(a,b){if(a===Y.e||a===Y.g||a===Y.l||a===Y.m||a===Y.f)this[a]=b,this.v=k,this.hash()};function nf(a,b,c){this.G=a;this[Y.b]=b;F(c)&&(this[Y.o]=c)}nf.prototype.k=function(a,b){if(0===a.length)return this;var c={};c[Y.b]=this[Y.b];c[Y.o]=this[Y.o];c=Jb(c,a);return F(c)?c:this.G.k(a,b)};nf.prototype.Q=function(a,b){a===Y.b||a===Y.o?this[a]=b:this.G.Q(a,b)};var of={},pf=[];function qf(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=rf(d);b[c]=new nf(e,d[Y.b])}return b}function rf(a,b){var c=new lf(a[Y.e],a[Y.g],a[Y.l],a[Y.f],a[Y.m]);F(b)&&(c.v=b);return c}function sf(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c],e=rf(d.eb,d.h),f=d.tb,d=d.ts,g=0;g<d.length;g++){var l=d[g];b[l.i]=new nf(e,f+l.d)}return b};function tf(){try{var a;if(v("is_behavior_enabled")){if(0===pf.length&&v("is_behavior_enabled")){var b=nc("events")||[],c=nc("event_queue")||[];if(0===b.length&&0===c.length)pf=[];else{"eb"in(b[0]||c[0])?(b=sf(b),c=sf(c)):(b=qf(b),c=qf(c));pf=b.concat(c);1E3<pf.length&&(pf=pf.slice(-1E3));c=pf;for(b=0;b<c.length;b++){var d=c[b],e;b:{var f=c[b].G,g=f.hash(),l=of[g];if("undefined"===typeof l)of[g]=[f];else{for(var m=0;m<l.length;m++)if(mf(f,l[m])){e=l[m];break b}l.push(f)}e=f}d.G=e}}var d=pf,n=d.length;
if(0!==n){d[0].Q(Y.o,d[0].k([Y.b]));for(e=1;e<n;e++){var t=d[e-1],q=d[e];q.Q(Y.o,18E5>Math.abs(t.k([Y.b],0)-q.k([Y.b],0))?t.k([Y.o]):q.k([Y.b]))}}}a=pf.slice(-1E3)}else a=[];return a}catch(A){I("Behavior","Error "+A.toString()+" getting events")}return[]};function uf(){return(new Date).getTime()-(vf||0)}var vf=uf();function wf(a,b,c){for(var a=a.slice(),d=a.length-1;0<d;d--){var e=Math.floor(Math.random()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}for(d=a.join(b);d.length>c;)a.pop(),d=a.join(b);return d}function U(a){var b=xe;b.n[a]||(b.n[a]=uf())}var xf;try{xf=!document.getElementsByTagName("body")[0]}catch(yf){xf=k}var zf=k;try{window.requestAnimationFrame(function(){zf=uf()})}catch(Af){}
var Bf=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi,xe=new function(){this.n={};this.R={};this.$a=Math.random()<Ta();geolocation.cdn3Requested&&(this.n.geoRequest=geolocation.cdn3Requested-vf)};function Ed(a,b){var b=b===j,c,d=k;D(W,function(b){a==b.H&&(d=b.id)});if((c=d)&&0<c.length)return P("Distributor","Not distributing experiment "+a+" (already in plan)"),j;if(b||a in ne)return P("Distributor","Not distributing experiment "+a+" (is ignored)"),o;c=y(a,"enabled_variation_ids")||[];if(0===c.length)return P("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),Cf(a),o;var e=y(a,"ignore")||0,f=Df();if(e>Math.floor(1E4*((cc(f+a,0)>>>0)/dc)))return P("Distributor",
"Permanently ignoring experiment "+a+"("+e/100+"% likelihood)"),Cf(a),o;e=c;qe[a]!==i&&(P("Distributor","Taking into account bucketUser variations for experiment "+a),e=re(a));var f=e,g=[],l=y(a,"variation_weights")||{};D(f,function(a){g.push(l[a])});f=Ef(a,g);e=e[f];P("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");se(e,"distributor");return j}
function Ff(a,b){b=b||{};P("Distributor","Configuring conditionally-activated experiment: "+a);Se[a]?P("Distributor","Not configuring conditionally-activated experiment (already done): "+a):!sa(a)&&b.force!==j?P("Distributor","Not configuring conditionally-activated experiment (not enabled): "+a):(Gf(a,b),de&&zd())}
function Gf(a,b){function c(){rd(V,a,b);m.isActive=C(ld.concat(T),a);P("Distributor","Activating conditionally activated experiment "+a)}var d=y(a,"conditional_code"),e=j,f,g;if("function"===typeof d)e=o,f=d;else try{g=eval("(function() {return "+("("+d+")")+";})()"),"function"===typeof g&&(e=o,f=g)}catch(l){}var m={isActive:o,experimentId:a};if(e){if(e={objectType:"experiment",enabledStatus:b.enabledStatus},b.force||!Ad(a)||Bd(a,e)){var n=function(){Ad(a)&&(Hf(0,{value:d})||g)?c():setTimeout(n,50)};
n();P("Distributor","Set up conditional polling for "+a);Se[a]=j}}else try{f(c,m),P("Distributor","Set up conditional callback for "+a),Se[a]=j}catch(t){P("Distributor","Error running conditional callback function for "+a)}}function Df(){return Fb()||Eb()}function Ef(a,b){var c=b.length;if(0===c)return k;if(1===c)return 0;for(var d=0,e=0;e<c;e++)d+=b[e];e=Df();d*=(cc(e+a,1)>>>0)/dc;for(e=0;e<c;e++){if(d<b[e])return e;d-=b[e]}d=Df();return Math.floor((cc(d+a,2)>>>0)/dc*c)}
function re(a){var b=[];D(y(a,"enabled_variation_ids")||[],function(c){var d=j,e;for(e in qe[a])-1===c.indexOf(qe[a][e])&&(d=o);d&&b.push(c)});return b}var qe={};function If(){for(var a=v("dcp_keyfield_locators")||[],b=k,c=[],d=0;d<a.length;d++){var e=a[d],f=e.dcp_datasource_id||k,g=e.is_optimizely||o,l=e.type,e=e.name||"";if(f===k)P("DCP","No DCP datasource id specified");else{var m=k;l===Jf?m=Z.I(e):l===Kf?m=Z.la(e):l===Lf?m=Z.j(e):l===Mf&&(m=Nf());if(Lb(m)||"string"===typeof m)f={datasourceId:f,id:m},g?b=f:c.push(f)}}return{q:b,z:c}}var Nf=Df;function Of(){var a=If(),b=Nc.get()||{};if(Pf(a.z,b.aliases||{}))return o;b.rulesResults=k;Nc.set(b);return j}
function Pf(a,b){b=b||{};return Gb(a,function(a){return b[a.datasourceId]===a.id})}var Jf="cookie",Kf="js_variable",Lf="query_param",Mf="uid";function Lc(a){if(!Kc(a))return P("Async Request","Can't determine a value for this list-targeted key: "+a),k;var b=a.split("_"),c=b[0],b=b.slice(1).join("_"),d=i;if("c"===c)d=Z.I(b);else if("j"===c)d=Z.la(b);else if("q"===c)d=Z.j(b);else return P("Async Request","Can't determine a value for this list-targeted key: "+a),k;if("string"===typeof d||"number"===typeof d||"boolean"===typeof d)d=d.toString();else return d===k||"undefined"===typeof d?P("Async Request","No value is set for this list-targeted key: "+
a):P("Async Request","Unacceptable value (must be string, number, or boolean) for this list-targeted key: "+a),k;if(100<d.length)return P("Async Request","Withholding the overlong value for this list-targeted key: "+a),k;P("Async Request","Returning a value for this list-targeted key: "+a);return d}function Kc(a){return-1!==a.indexOf("_")?C(["c","j","q"],a.split("_")[0]):o};function Qf(a){if(0===$("body").length)setTimeout(function(){Qf(a)},20);else{var b;b='<div id="optimizely-loading" style="position:absolute;top:0;right:0;left:0;bottom:0;background-color:white;opacity:0.9;z-index: 3271000;"><h2 style="color:#9a9a9a;top:40%;position:absolute;font-size:2.25em;text-align:center;width:100%;font-family:\'Lucida Grande\',sans-serif;">'+a+"</h2></div>";$("#optimizely-loading").remove();$("body").append(b)}}var Rf=v("preview_host");function Je(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b}function Sf(){for(var a=window.location.search,b,c=/optimizely_([^=]+)=([^&]*)/g,d={};b=c.exec(a);)d[b[1]]=b[2];return d}var Tf=/x(\d+)/;function Uf(a){return a&&-1!==String(a).indexOf("[native code]")};function Vf(a){var b=a||Wf;P("Segmenter","Loading segments cookie.");if(a=H("optimizelySegments")){try{a=ea(a)}catch(c){a={}}D(a,function(a,c){var d=va()[a];P("Segmenter","Segments cookie contains segment id: "+a);d&&d.audience_id?b.D(d.audience_id):d&&d.dimension_id?b.B(d.dimension_id,c,o):Xf[a]=c})}xd(x(va()));Yf.push(Zf);De();P("Integrator","Loading third-party segments.");if(window.bk_results){a=window.bk_results;P("Integrator","Loading BlueKai segments.");try{D(a.campaigns,function(a){a=a.seg_id;
va()[a]?me(a,j):ha(a)&&b.D(a)})}catch(d){P("Integrator","Error loading BlueKai segments.")}}}function Zf(){var a={};D(Xf,function(b,c){c&&(a[b]=c)});J("optimizelySegments",u(a),Db)}function me(a,b){a&&!isNaN(parseInt(a,10))?(!b&&""!==b&&(b=j),Xf[a]=b,De()):P("Segmenter","Unable to find segment for ID: "+a)}function De(){D(Yf,function(a){a()})}function Kd(a){P("Segmenter","Evaluating Segment "+a);var b=$f(a);b!==k&&me(a,b)}
function $f(a){if(Ra(a,"is_api_only"))return k;var b=k,c=k;switch(Ra(a,"segment_value_type")||""){case "browser":b=Z.ia();c="unknown";break;case "campaign":b=Z.Ma();c="none";break;case "country":b=Z.L().country;c="unknown";break;case "language":b=Z.T();c="none";break;case "mobile":b=Z.w();break;case "os":b=Z.pa().id;c="unknown";break;case "referrer":b=Z.Ta();c="none";break;case "source_type":b=Z.Va();c="direct";break;default:return"true"}if(b===k){if(Xf.hasOwnProperty(a))return k;b=c}return ag(b)}
function bg(){var a=Z.V();if(Z.j("utm_source")||Z.j("utm_campaign")||Z.j("gclid")||Z.j("otm_source"))return"campaign";for(var b=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www\\.)?google\\..*?/$","http(s)?://www\\.bing\\.\\w{2,3}(\\.\\w{2,3})?/","r\\.search\\.yahoo\\.\\w{2,3}(\\.\\w{2,3})?/","baidu\\.\\w{2,3}(\\.\\w{2,3})?/"],c=0;c<b.length;c++){var d=b[c];try{if(a.match(d))return"search"}catch(e){I("Segmenter","%s: %s while matching %s",e.name,e.message,d)}}return a&&lc(a)!==lc(Z.J())?
"referral":k}function cg(){var a=[];D(Xf,function(b,c){c&&a.push(b)});return a}function Ie(){var a={};D(Xf,function(b,c){c&&(a[String(b)]=c)});return a}function dg(a){return D(Xf,function(b,c){if((Ra(b,"segment_value_type")||"")==a)return c})}function Be(a,b){var c=ua(a)||a;Xf[c]?(Xf[c]=o,("undefined"===typeof b||b)&&De()):P("Segmenter","Not removing "+a+", not found")}
function ag(a,b){var c,b=F(b)?b:j;c=c||eg;a=Xa(a);a=String(a);b&&(a=a.toLowerCase());a=a.substring(0,c);return encodeURIComponent(a)}var Yf=[],Xf={},eg=20;function fg(){}
O(fg.prototype,{ia:ic,Ka:jc,Sa:pc,w:qc,u:function(){return{id:this.ia(),version:this.Ka(),mobileId:this.Sa()}},Ma:function(){return this.j("utm_campaign")},I:H,K:kc,U:Fc,la:function(a){try{return window[a]}catch(b){return k}},Ja:tf,T:function(){var a="";try{a=navigator.userLanguage||window.navigator.language,a=a.toLowerCase()}catch(b){a=""}return a},Oa:function(){return(nc("visitor_profile")||{}).defaultBehavior||{}},L:Mc,J:function(){return uc||window.location.href},na:rc,Ra:function(){return!sc?j:
!!Sb.get("first_session")},Ia:Je,pa:mc,V:function(){return H("optimizelyReferrer")||document.referrer||""},Wa:function(a){var a=a.split("."),b=a[0];a:{for(var a=a.slice(1),b=(Q.get(qd)||{})[b],c=0,d=a.length;c<d;c++)if(ba(b)&&b.hasOwnProperty(a[c]))b=b[a[c]];else{a=i;break a}a=b}return a},Ya:function(){return Fb()!==k},Ta:function(){return lc(this.V())},qa:cg,Va:bg,Pa:function(){return document.referrer},j:function(a){a:{for(var b=this.Ia(),b=b||Je(),c=0;c<b.length;c++){var d=b[c];if(d[0]===a){a=
d[1];a=a.replace(/\+/g," ");a=Xa(a);break a}}a=k}return a},Na:function(){return ee},ja:function(a){return(this.Na()||{})[a]},Xa:function(){var a=(Q.get("customEvents")||{})[Eb()]||[];return M(a)?a:[]},Za:function(a){var b=this.qa();return C(b,a)},Ba:function(a){return C(this.Xa(),a)},getDate:function(){return new Date},ma:Jc,ka:Oc});var Z=new fg;function gg(a,b,c){if(a.k)return a.k(b,c);a=Jb(a,b);"undefined"===typeof a&&(a=c);return a}function hg(a){return"string"===typeof a?Ob(a).toLowerCase():a}
var ig=["*"],kg={eq:function(a){a=N(a,hg);return a[0]==a[1]},is:function(a){return a[0]===a[1]},gt:function(a){return a[0]>a[1]},lt:function(a){return a[0]<a[1]},gte:function(a){return a[0]>=a[1]},lte:function(a){return a[0]<=a[1]},"in":function(a){var b=N(a[1]||[],hg);return C(b,hg(a[0]))},between:function(a){return a[1]<=a[0]&&a[0]<=a[2]},contains:function(a){a=N(a,function(a){return"string"===typeof a?a.toLowerCase():a});return-1!==(a[0]||"").indexOf(a[1])},regex:function(a){try{var b,c;"string"===
typeof a[1]?(b=a[1],c="i"):(b=a[1][0]||"",c=a[1][1]||"");return RegExp(b,c).test(a[0])}catch(d){return I("Rules",'In operator "regex", error: '+(d.message||"invalid RegExp /"+[b,c].join("/"))),o}},exists:function(a){return"undefined"!==typeof a[0]},and:function(a){return Gb(a,aa())},or:function(a){return L(a,aa())},not:function(a){return!a[0]}},lg={"+":function(a){return(a[0]||0)+(a[1]||0)},"-":function(a){return(a[0]||0)-(a[1]||0)},"/":function(a){return(a[0]||0)/(a[1]||1)},"%":function(a){return(a[0]||
0)%(a[1]||1)}},mg={sum:function(a,b){for(var c=a[0]||ig,d=0,e=0;e<b.length;e++)d+=gg(b[e],c,0);return d},avg:function(a,b){if(0==b.length)return 0;for(var c=a[0]||ig,d=0,e=0;e<b.length;e++)d+=gg(b[e],c,0);return d/b.length},max:function(a,b){for(var c=a[0]||ig,d=Number.NEGATIVE_INFINITY,e=0;e<b.length;e++)d=Math.max(d,gg(b[e],c,Number.NEGATIVE_INFINITY));return d},min:function(a,b){for(var c=a[0]||ig,d=Number.POSITIVE_INFINITY,e=0;e<b.length;e++)d=Math.min(d,gg(b[e],c,Number.POSITIVE_INFINITY));return d},
count:function(a,b){return b.length}},ng={now:function(){return+new Date}};
function og(a,b){if(b.hasOwnProperty("value"))return b.value;if(b.hasOwnProperty("field"))return gg(a,b.field);if(b.hasOwnProperty("eval")){if(!(b.eval in ng)){I("Rules","Unknown function: "+b.eval);return}return ng[b.eval]()}if(b.op){var c=b.op in kg?kg[b.op]:b.op in lg?lg[b.op]:k;if(c){var d=r(og,a),e=N(b.args||[],function(a){return d(a)});return c(e,a)}I("Rules","Unknown operator: "+b.op)}else I("Rules","No operator specified: "+u(b))}
function pg(a){function b(a,e){M(a)&&("and"!==a[0]&&("or"!==a[0]&&"not"!==a[0])&&I("Rules","Unexpected operation "+a[0]+". Continuing optimistically."),a={op:a[0],args:a.slice(1)});if(a.hasOwnProperty("field")||a.hasOwnProperty("value")||a.hasOwnProperty("eval"))return a;if(e&&a.op in mg){var f="_"+a.op+"_"+((a.args&&a.args[0]||{}).field||ig).join(".");f in d||(c.push({op:a.op,args:a.args}),d[f]=j);return{field:[f]}}for(var f=[],g=a.args||[],q=0;q<g.length;q++)f[q]=b(g[q],e);return{op:a.op,args:f}}
var c=[],d={},e={};a.hasOwnProperty("where")&&(e.where=b(a.where,o));a.hasOwnProperty("having")&&(e.having=b(a.having,j));if(a.hasOwnProperty("aggregate")||0<c.length)e.aggregate=(a.aggregate||[]).concat(c);for(var f=["groupBy","orderBy","select","limit"],g=0;g<f.length;g++)a.hasOwnProperty(f[g])&&(e[f[g]]=a[f[g]]);a.hasOwnProperty("from")&&(e.from=pg(a.from));return e}
function qg(a,b){var b=b||0,c=[];a.hasOwnProperty("where")?a.where.op?a.where.op in kg||c.push("Non-boolean WHERE clause operator"):c.push("Missing WHERE clause operator"):c.push("Missing WHERE clause");a.hasOwnProperty("having")&&(a.having.op?a.having.op in kg||c.push("Non-boolean HAVING clause operator"):c.push("Missing HAVING clause operator"));a.hasOwnProperty("groupBy")&&!a.hasOwnProperty("aggregate")&&c.push("No AGGREGATE clause specified with GROUP_BY clause");if(a.hasOwnProperty("select")){var d=
a.select;if(M(d))for(var e=0;e<d.length;e++)d[e].op&&d[e].op in mg&&c.push('In SELECT clause, aggregate operator "'+d[e].op+'" specified in selector at index '+e);else c.push("SELECT clause must be an array")}a.hasOwnProperty("limit")&&(d=a.limit,(!Lb(d)||0>=Number(d)||Number(d)!=Math.floor(Number(d)))&&c.push("LIMIT must be a positive integer"));0<b&&(c=N(c,function(a){return"Sub-rule "+b+": "+a}));a.hasOwnProperty("from")&&(c=c.concat(qg(a.from,b+1)));return c}
function rg(a,b){var c=b;a.hasOwnProperty("from")&&(c=rg(a.from,c));c=w(c,function(b){return og(b,a.where)});if(a.hasOwnProperty("aggregate")){var d=a.groupBy;if("undefined"===typeof d||!M(d)||0===d.length){var d={},e={};e[ig]="_";d[ig+"=_"]={ha:e,n:c};c=d}else{for(var d=N(d,function(a){return a.field}),e={},f=0;f<c.length;f++){for(var g=c[f],l=[],m={},n=0;n<d.length;n++){var t=d[n],q=gg(g,t,"_"),t=t.join(".");m[t]=q;l.push(encodeURIComponent(t)+"="+encodeURIComponent(String(q)))}l=l.join("&");e.hasOwnProperty(l)||
(e[l]={ha:m,n:[]});e[l].n.push(g)}c=e}var A=a.aggregate,G={};D(c,function(a,b){G[a]={};for(var c=0;c<A.length;c++){var d=A[c],e=d.op;if(e in mg){var f=(d.args&&d.args[0]||{}).field||ig,d="_"+e+"_"+f.join("."),e=mg[e]([f],b.n);G[a][d]=e}else I("Rules","Unknown aggregate operator "+e)}});var B=[];D(c,function(a,b){var c=O({},b.ha);O(c,G[a]||{});B.push(c)});c=B}a.hasOwnProperty("having")&&(c=w(c,function(b){return og(b,a.having)}));if(a.hasOwnProperty("orderBy")){var qa=a.orderBy;M(qa)?c=0==qa.length?
c:c.sort(function(a,b){for(var c=0;c<qa.length;c++){var d=qa[c],e="ASC"===(d.direction||"ASC")?1:-1,f=d.field,d=gg(a,f,0),f=gg(b,f,0);if(d<f)return-e;if(d>f)return e}return 0}):I("Rules","groupBy rule must be an array")}a.hasOwnProperty("limit")&&(c=c.slice(0,Number(a.limit)));if(a.hasOwnProperty("select"))var Sa=a.select,c=N(c,function(a){return N(Sa,function(b){return og(a,b)})});return c}
function sg(a,b){try{var c;c=pg(a);var d=qg(c);0<d.length&&h(Error("Rule "+u(c)+" has violations: "+d.join("\n")));return 0<rg(c,b).length}catch(e){return I("Rules","Error "+e.toString()+" while evaluating rule "+u(a)),o}};function tg(){this.p={};this.t={};this.A={};this.za={}}tg.prototype.bb=function(a){var b=this.A.hasOwnProperty(a)||this.za.hasOwnProperty(a);if(!this.p.hasOwnProperty(a)||!b)try{var c=this.p,d=ha(a);d||h(Error("Unable to find audience for id: "+a));var e=ug(this,d.conditions);P("Visitor","Checking if in audience "+a+": "+e);c[a]=e}catch(f){P("Visitor","Error: "+f.message)}return this.p[a]};
function vg(a,b,c,d){d=O({O:j,ya:j,C:j},d);if(ha(b)){a.p[b]=c;var e=ia(b);e?a.za[b]=c:d.O?a.A[b]=c:delete a.A[b];e&&d.C&&a.C(e,c);if(!e&&d.O&&d.ya){var f=[];D(a.A,p(function(a){this.p[a]&&f.push(a)},a));f.sort();J("optimizelyAudiences",f.join(","),15552E3)}}else P("Visitor","Unable to find audience "+b)}tg.prototype.D=function(a){vg(this,a,j)};tg.prototype.Y=function(a){vg(this,a,o)};tg.prototype.gb=function(){D(this.p,p(function(a){vg(this,a,o,{O:!!this.A.hasOwnProperty(a)})},this))};
function wg(a,b,c,d){d=!F(d)||d;F(c)&&c!==k&&String(c)?(d&&(c=ag(String(c),o)),a.t[b]=c):delete a.t[b];return a.t[b]}tg.prototype.B=function(a,b,c){var d;a:{for(d in v("dimensions")||{}){var e=a,f=la(d,"api_name");if(e===(!f?k:f))break a}d=k}d=d||a;v("dimensions",d)?"custom_dimension"===ma(d)?(b=wg(this,d,b,c),a=la(d,"segment_id"),(a=!a?k:a)&&this.C(a,b),P("Visitor",'Set dimension "'+d+'" to "'+b+'"')):P("Visitor",'Unknown dimension "'+d+'"'):P("Visitor","Unable to find dimension "+a)};
tg.prototype.C=function(a,b){b?me(a,b):Be(a)};var Wf=new tg;function xg(a,b){Mb(b)&&(b=[b]);b=b||ig;return["_"+a+"_"+b.join(".")]}function yg(a){Mb(a)&&(a=[a]);a=a||ig;return[a.join(".")]}var zg={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};function Ag(a){a=Ob((a||"").toString());return zg[a]||a}function Bg(a,b,c){Mb(b)&&(b=[b]);return{op:Ag(a),args:[{field:b},{value:c}]}}function Cg(a){for(var b=[],c=0;c<a.length;c++)b[c]={field:a[c]};return b}function Dg(a,b){Mb(b)&&(b=[b]);b=b||ig;return{op:a,args:[{field:b}]}}var Eg={};
D(Y,function(a,b){Eg[b]=j});function Fg(a,b){var c=[];Mb(a)?(c=[a],"events"===(b||"events")&&!(a in Eg)&&(c=[Y.f,a])):c=a;return c};function Gg(a){var b=a.split(":");2!==b.length&&h(Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+a));return 60*parseInt(b[0],10)+parseInt(b[1],10)};function Bd(a,b){var c=!!b.manualActivation,d=b.objectType?b.objectType:"experiment",e="experiment"===d,f=b.enabledStatus,g=b.visitor||Wf;P("Condition","Testing "+d+" "+a);var f=e&&(F(f)?!!f:sa(a)),l=e&&xa(a),m;a:switch(d){case "experiment":m=y(a,"conditions");break a;case "segment":m=Ra(a,"add_condition");break a;default:m=[]}if(e&&!f)return P("Condition","Failed for "+d+" "+a+" (paused)"),o;if(e&&!c&&l)return P("Condition"," Failed for "+d+" "+a+" (manual activation mode)"),o;if(m){var n="experiment"===
(d||"experiment"),t=j;D(m,function(b){var c=b.type;if(n&&b.only_first_time&&Hg(a))P("Condition",c+" condition passed because it only gets checked when bucketing",j);else{var d=!b.not,b=(0,Ig[c])(b),e=b!==d;P("Condition","Found that "+("the visitor "+(b?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail")),!e);if(e)return t=o}});if(!t)return P("Condition","Failed for "+d+" "+a+" (condition failed)"),o}else{a:{c=[];e=[];if("experiment"===d)c=y(a,"audiences")||[],e=
y(a,"urls")||[];else if("segment"===d)(f=Ra(a,"audience_id"))&&(c=[f]);else{P("Condition","Not a valid objectType: "+d);d=o;break a}if(0<c.length&&(P("Condition","Testing audiences for "+d+" "+a+": "+c),!L(c,p(g.bb,g)))){P("Condition","Failed to match any audiences for "+d+" "+a);d=o;break a}if(0<e.length){P("Condition","Testing URLs for "+d+" "+a);var g=e,q=Z.J(),A=[],G=[];D(g,function(a){a.negate?G.push(a):A.push(a)});g=function(a){return L(a,function(a){return Jg(q,a)})};if(g(G)||!(0===A.length||
g(A))){P("Condition","Failed to match any URL for "+d+" "+a);d=o;break a}}d=j}if(!d)return o}return j}function Kg(a,b){if(!b)return 0;for(var c=b.toString().split("."),d=a.toString().split("."),e=0;e<c.length;e++)if(F(d[e]))if(isNaN(Number(d[e]))){if(d[e]!==c[e])return-1}else{if(Number(d[e])<Number(c[e]))return-1;if(Number(d[e])>Number(c[e]))return 1}else return-1;return 0}
function Lg(a,b){var c=b.value,d=a.id,e=a.version,f=a.mobileId;return f&&"unknown"!==f?(P("Condition",f,j),"mobile"===c||c===f):0===c.indexOf(d)?0===Kg(e,c.substr(d.length)):o}function Hf(a,b){var c=b.value;if(c===i)return j;try{return Boolean(Mg(c))}catch(d){return o}}function Ng(a,b){return Og(b.value,b.match,a)}function Pg(a,b){return Og(b.value,b.match,a)}
function Qg(a,b){if(a===k)return o;var c=b.value;switch(b.match){case "exact":if(a==c&&""!=a)return j;break;case "prefix":if(0==a.indexOf(c))return j;break;case "regex":try{var d=RegExp(c)}catch(e){break}if(d.test(a))return j;break;case "cidr":try{var f;a:{var g=new Rg(c),l=Sg(a);l===k&&h(Error("Invalid ip: "+a));for(c=0;4>c;c++)if((l[c]&g.W[c])!==g.X[c]){f=o;break a}f=j}return f}catch(m){}}return o}function Tg(a,b){var c=b.value;return"any"===c||0===a.indexOf(c)}
function Ug(a,b){if(a===k)return o;var c=b.value.split("|"),d=$.trim(c[0]),e=$.trim(c[1]),f=$.trim(c[2]),g=$.trim(c[3]);switch(c.length){case 1:if(a.country===d)return j;break;case 2:if(a.region===e&&a.country===d)return j;break;case 3:if(a.city===f&&(a.region===e||""===e)&&a.country===d)return j;break;case 4:if(a.continent===g)return j}return o}function Vg(a,b){return Og(b.value,b.match,a)}
function Wg(a,b){var c=b.value,d=b.match;P("Condition","Testing referrer "+a+" against  "+c+" ("+d+")",j);return Xg(a,c,d)}function Yg(a){return!!a}function Zg(a){var b=Z.J();return L(a.values,r(Jg,b))}function Jg(a,b){var c=b.value,d=b.match;P("Condition","Testing URL "+a+" against  "+c+" ("+d+")",j);return Xg(a,c,d)}function $g(a,b){switch(b.value){case "new":if("returning"===a)return o;break;case "returning":return"returning"===a}return j}
function ug(a,b){var c={and:function(b){return Gb(b,r(ug,a))},or:function(b){return L(b,r(ug,a))},not:function(b){1!==b.length&&h(Error('"not" argument too long: '+u(b)));return!ug(a,b[0])}};if(M(b)){if(b[0]in c)return c[b[0]](b.slice(1));h(Error("Not an operator"))}var c=b.dimension_id,d=ma(c),e=b.value;d||h(Error("No dimension type for dimension: "+c));var f=ah[d];f||h(Error("Unknown dimension type: "+d));d=i;if(a.t.hasOwnProperty(c))d=a.t[c];else try{var g=ma(c)||"",l,m;v("dimensions",c)||h(Error("Unable to find dimension for id: "+
c));"custom_dimension"===g&&h(Error("calculateDimensionValue called on custom dimension "+c));(l={browser:p(Z.u,Z),browser_version:p(Z.u,Z),behavior:p(Z.Ja,Z),campaign:r(dg,"campaign"),cookies:p(Z.I,Z),custom_tag:p(Z.ja,Z),default_behavior:p(Z.Oa,Z),device:p(Z.K,Z),event:p(Z.Ba,Z),first_session:p(Z.Ra,Z),has_ppid:p(Z.Ya,Z),ip:p(Z.U,Z),language:p(Z.T,Z),list:p(Z.ma,Z),location:p(Z.L,Z),query:p(Z.j,Z),platform:p(Z.pa,Z),referrer:p(Z.V,Z),segment:p(Z.Za,Z),source_type:r(dg,"source_type"),third_party_dimension:p(Z.Wa,
Z),time_and_day:p(Z.getDate,Z),url:p(Z.J,Z),visitor:p(Z.na,Z),dynamic_customer_profile:p(Z.ka,Z)}[g])&&(m=l(na(c)));P("Visitor","Got dimension ("+g+") value "+c+": "+u(m));d=m}catch(n){P("Visitor","Error: "+n.message)}return f(d,{value:e,match:b.match||"exact"})}
function Ad(a){var b=j;!y(a,"conditions")&&!Ra(a,"add_condition")?(b=[Ra(a,"audience_id")],b[0]||(b=y(a,"audiences")||[]),b=Gb(b,function(a){a=ha(a);return!a.conditions?j:bh(a.conditions)})):(y(a,"uses_geotargeting")||Ra(a,"uses_geotargeting"))&&(b=ch.ip(k)||ch.location(k));b||P("Condition","Not ready to test (geotargeting): "+a);return b}function bh(a){if(M(a))return Gb(a.slice(1),bh);var b=ma(a.dimension_id)||"";return(b=ch[b])?b(a):j}
var Ig={browser:function(a){var b=Z.u();return L(a.values,function(a){return Lg(b,{value:a})})},code:function(a){return Hf(0,a)},cookies:function(a){for(var b=a.names||[],a=a.values||[],c,d=0;d<b.length;d++)if(c=b[d],Ng(Z.I(c),{value:a[d]||i}))return j;return o},custom_tag:function(a){return L(a.values,function(a){return Pg(Z.ja(a.key),{value:a.value})})},event:function(a){return L(a.values,function(a){return Z.Ba(a)})},ip:function(a){var b=Z.U();return L(a.values,r(Qg,b))},language:function(a){var b=
Z.T();return L(a.values,function(a){return Tg(b,{value:a})})},location:function(a){var b=Z.L();return L(a.values,function(a){return Ug(b,{value:a})})},query:function(a){return 0===a.values.length?j:L(a.values,function(a){return Vg(Z.j(a.key),{value:a.value})})},referrer:function(a){return L(a.values,r(Wg,Z.Pa()))},segment:function(a){var b=Z.qa();return L(a.values,function(a){return Yg(cb(a,b))})},url:Zg,visitor:function(a){var b=Z.na();return $g(b,a)}},ah={browser:Lg,browser_version:function(a,b){var c=
b.value,d=a.id,e=a.version;return 0===c.indexOf(d)?0===Kg(e,c.substr(d.length)):o},behavior:function(a,b){try{var c=ea(b.value),d;if(F(c.version)){!c.action&&(!c.filters||0===c.filters.length)&&h(Error('Audience spec must have an "action" field or at least one "filter" '+u(c)));var e=Bg("gt",Y.b,0),f=[],g=[];c.action&&(g.push(Bg("eq",Y.e,c.action.value)),c.action.type&&g.push(Bg("eq",Y.g,c.action.type)));if(c.time)if("last_days"===c.time.type)g.push({op:Ag("lte"),args:[{op:"-",args:[{eval:"now"},
{field:[Y.b]}]},{value:864E5*c.time.days}]});else if("range"===c.time.type){var l;var m=[c.time.start,c.time.stop];M(m)?l={op:"between",args:[{field:[Y.b]},{value:m[0]||+new Date(0)},{value:m[1]||+new Date}]}:(P("Rule builder","rangeTimeComparison passed invalid range "+u(m)),l=k);l&&g.push(l)}else P("Rule builder",'Audience spec has bad "time" type',c.time.type);e={op:"and",args:g};c.count&&f.push({where:Bg(c.count.comparator,"0",c.count.value),from:{select:[{field:xg("count")}],where:e,aggregate:[Dg("count")]}});
c.filters&&D(c.filters,function(a){var b=Fg(a.name,c.source),d,l;if(a.modifier==="most_frequent"){d=Dg("count");l=xg("count")}else if(a.modifier==="most_recent"){d=Dg("max",Y.b);l=xg("max",Y.b)}if(d){var m=yg(b);f.push({where:Bg(a.comparator,"0",a.value),from:{select:[{field:m}],where:e,groupBy:Cg([b]),aggregate:[d],orderBy:[{field:l,direction:"DESC"}],limit:1}})}else g.push(Bg(a.comparator,b,a.value))});if(c.pick){0<f.length&&h(Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+
u(c)));var n;var t=c.pick,q=c.source;l={where:e};t.count&&(l.limit=t.count);if("most_frequent"===t.modifier){var A=Fg(t.name,q);n=O(l,{select:[{field:yg(A)}],groupBy:Cg([A]),aggregate:[Dg("count")],orderBy:[{field:xg("count"),direction:"DESC"}]})}else n=O(l,{orderBy:[{field:[Y.b],direction:"DESC"}]});d=[n]}else d=0<f.length?f:[{where:e}]}else d=[c];return Gb(d,function(b){return sg(b,a)})}catch(G){}return o},campaign:function(a,b){var c=b.value;"string"===typeof c&&("regex"===b.match?a=Xa(a):c=ag(c));
"none"===a&&(a=k);return Og(c,b.match,a)},code:Hf,cookies:Ng,custom_dimension:function(a,b){var c=b.value;return!F(c)?F(a):c==a},custom_tag:Pg,default_behavior:function(a,b){try{var a=a||{},c=ea(b.value);return sg(c,[a])}catch(d){}return o},device:function(a,b){var c=b.value;return"unknown"!==a.id?a.id===c:"tablet"===c?"tablet"===a.type:"mobile"===c?a.w&&"tablet"!==a.type:"desktop"===c?!a.w:o},event:aa(),first_session:aa(),ip:Qg,language:Tg,list:function(a,b){if(a===k||!F(a))return o;var c=b.value;
return!F(c)?""===a||a!==o:a.toString()===c},location:Ug,query:Vg,platform:function(a,b){var c=b.value.split("_"),d=c[0],c=c.slice(1);return d===a.id?0===c.length?j:1<c.length?0<=Kg(a.version,c[0])&&0>=Kg(a.version,c[1]):0===Kg(a.version,c[0]):o},referrer:Wg,segment:Yg,source_type:function(a,b){return b.value===a},time_and_day:function(a,b){var c,d,e;c=b.value;e=c.split("_");3!==e.length&&h(Error("Invalid time and day string "+c));c=e[0];d=e[1];e=e[2].split(",");c=Gg(c);d=Gg(d);var f=60*a.getHours()+
a.getMinutes(),g="sunday monday tuesday wednesday thursday friday saturday".split(" ")[a.getDay()];return f>=c&&f<=d&&-1!==$.inArray(g,e)},third_party_dimension:function(a,b){return M(a)?L(a,r(Og,b.value,b.match)):Og(b.value,b.match,a)},url:Jg,visitor:$g,dynamic_customer_profile:function(a,b){return a===k?o:!!a[b.value]},has_ppid:aa()},ch={ip:function(){U("checkGeo");return Z.U()!==k},location:function(){U("checkGeo");return Z.L()!==k},list:function(a){return Z.ma(na(a.dimension_id)||"")!==k},dynamic_customer_profile:function(a){var b=
Z.ka();return Kb(b)&&a.value in b}};function Og(a,b,c){var d=F(c)&&c!==k,e=F(a)&&a!==k;switch(b||(e?"exact":"exists")){case "exists":return d;case "exact":return d&&String(c)===a;case "substring":return d&&-1!==String(c).indexOf(a);case "regex":try{return e&&d?Boolean(String(c).match(RegExp(a))):o}catch(f){return o}case "range":return a=a.split(":"),b=parseFloat(a[1]),c=parseFloat(c),c>=parseFloat(a[0])&&c<=b;default:return o}};var dh=[function(){var a=hc();if("ie"===a.aa){try{var b=Number(a.ba)}catch(c){return}7>b&&h(Error("IE is only supported on version 8+ (detected "+b+")"));8>b&&("windows"===a.platform.id&&a.platform.version&&C(["xp","vista"],a.platform.version.toLowerCase()))&&h(Error("IE7 is not supported"))}},function(){return ea(u({a:123}))}];function se(a,b,c){var d;d=o===j;var c=c===j,e=o,f=E(a);if(f&&(c||!Hg(f))){e=j;if(c&&Hg(f))for(c=0;c<W.length;c++)W[c].H===f&&W.splice(c,1);W.push({H:f,id:a,source:b});d&&(T=T||[],T.push(f));oe[f]=j;pe();P("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,j)}return e}function Hg(a){return a in ne||a in oe}function md(a){var b=[],c=!F(a),a=a||[];D(W,function(d){(c||C(a,d.H))&&b.push(d.id)});return b}function Cf(a){var b;if(b===j||!Hg(a))ne[a]=j,pe()}
function Gd(){var a={};D(Pe,function(b,c){a[b]=c});D(W,function(b){var c=E(b.id);a[c]=b.id});D(ne,function(b){a[b]="0"});D(v("blacklisted_experiments")||{},function(b){b in a&&delete a[b]});J("optimizelyBuckets",u(a),Db)}function pe(){D(eh,function(a){a()})}
function fh(a,b,c,d){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)",variationId:d});else{for(var a=a.split("\n"),e=o,f=o,g=[],l=[];0<a.length;){var m=Ob(a.shift()),n=0<l.length;if(m)if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))f=j;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))f=o;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))e=
j;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))e=o;else if(!gh.exec(m)&&!e)if(f)g.push(m);else{if(!n){var t=hh.exec(m),q=[];t?(q.push(t[1].replace(/^['"]|['"]$/g,"")),(t=ih.exec(m))&&4<t.length&&q.push(t[4]),c.push({code:m,selector:q,type:"safe jquery",waitUntilSelectorReady:j,variationId:d})):n=j}n&&l.push(m)}}0<g.length&&b.push({code:g.join("\n"),type:"forced evaluation",variationId:d});0<l.length&&c.push({code:l.join("\n"),type:"safe non-jquery",waitUntilDocumentReady:j,
variationId:d})}}function jh(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}var eh=[],Pe={},ne={},ih=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,gh=/^(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,hh=/^\$j?\((['"].+?['"]|document)\)\..+;(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,oe={},W=[];function kh(a){Xf={};Vf(a)};function lh(a,b){if(a&&b)if(mh)P("Evaluator","Bound event "+b+" to selector "+a),nh(a,b);else{var c={eventName:b,selector:a,type:"event '"+b+"' (click goal)",waitUntilSelectorReady:j};P("Evaluator","Add step to bind event "+c.eventName+" to selector "+c.selector);oh.push(c)}}
function Fd(a,b){if(K){M(a)?ph(a):(a=[],ph(b));a=a.concat(T);T=[];for(var c=0;c<a.length;c++)C(ld,a[c])||ld.push(a[c]);c=a;c===i?c=[]:Lb(c)&&(c=[c]);for(var d=md(c),e=[],f=[],g=[],l=[],m=w(ja(),function(a){return a.experiments?o:Zg(a.url_conditions||[])}),n=0,t=m.length;n<t;n++){var q={eventName:m[n].event_name,selector:m[n].selector,type:"event '"+m[n].event_name+"' (click goal)",waitUntilSelectorReady:j};"revenue"in m[n]&&(q.revenue=m[n].revenue);e.push(q)}D(c,function(a){var b={},c=y(a,"events")||
{};D(c,function(a,c){b[a]=[c]});var c=w(ja(),function(b){return"experiments"in b?a in b.experiments:o}),d=0;for(;d<c.length;d++){var m=c[d];b[m.selector]||(b[m.selector]=[]);b[m.selector].push({eventName:m.event_name,revenue:m.revenue,experimentIds:m.experiments})}D(b,function(b,c){D(c,function(c){e.push({eventName:c.eventName,experimentIds:c.experimentIds,revenue:c.revenue,selector:b,type:"event '"+c.eventName+"' (experiment "+a+")",waitUntilSelectorReady:j})})});var n=y(a,"css")||"";n&&g.push({code:function(){$("body").append("<style>"+
n+"</style>")},selector:"body",type:"global css (experiment "+a+")",waitUntilSelectorReady:j});if(c=y(a,"steps")){D(c.forced,function(a){f.push(a)});D(c.safe,function(a){l.push(a)})}else(c=y(a,"code")||"")&&fh(c,f,l)});D(d,function(a){var b=v("variations",a,"pages");if(b)D(b,function(a){if(a.steps&&(!a.includes||Zg({values:a.includes}))&&(!a.excludes||!Zg({values:a.excludes}))){f.push.apply(f,a.steps.forced);l.push.apply(l,a.steps.safe)}});else{for(var b=Ha(a),b=b.split("\n"),c=[],d=j,e=0,g=b.length;e<
g;e++){var m=$.trim(b[e]);if(m==="/* _optimizely_variation_url_end */")d=j;else if(m!==""){var n=nb.exec(m);if(n&&n.length===13){var q=n[2]?n[2].split(" "):[],m=n[4]?n[4].split(" "):[],t=n[6]?n[6]:"substring",gf=n[8]?n[8].split(" "):[],n=n[10]?n[10].split(" "):[];if(q.length>0){d=jh(q,gf,t);d=Zg(d)}if(d&&m.length>0){d=jh(m,n,t);d=!Zg(d)}}else d&&c.push(m)}}b=c.join("\n");fh(b,f,l,a)}});c=[];c.push.apply(c,f);c.push.apply(c,g);c.push.apply(c,l);c.push.apply(c,e);oh.push.apply(oh,c);qh()}}
function qh(){var a=o;rh=k;for(P("Evaluator",sh+" times waited");!a&&0<oh.length;){P("Evaluator",oh.length+" steps remaining");var b=oh.shift(),c=b,a=o;if(c.waitUntilDocumentReady&&!mh)P("Evaluator","Document not ready yet"),a=j;else if(c.waitUntilSelectorReady&&!mh&&(c=c.selector))for(var c=M(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===k||e===i||!e.length))if(0===("document"==e?$(document):$(e)).length)P("Evaluator","'"+e+"' not found"),a=j}a?oh.unshift(b):b.eventName?(th(),P("Evaluator","Bound event "+
b.eventName+" to selector "+b.selector),c={},b.revenue&&(c={Z:b.revenue,fa:b.experimentIds}),nh(b.selector,b.eventName,c)):b.code&&(P("Evaluator","Run code: "+b.code.toString()),uh(b.code,b.variationId))}a?(rh=setTimeout(qh,0===sh?10:50),sh++):(P("Evaluator",sh+" total times waited"),th())}function Mg(a){return"string"===typeof a?eval(a):a()}function th(){U("flash");0<yd.length||U("flashGeo")}
function uh(a,b){if(a){var c=o,d;"string"===typeof a?(d=a,c=j):d=a.toString();if(od(d))if(P("Evaluator","Redirect detected"),Zd(d)){P("Evaluator","OK to redirect");var e=Yd(d);P("Evaluator","setting a redirect cookie"+(b?" for variation: "+b:""));J("optimizelyRedirect",(b||"unknown variation")+"|"+(e?"true":"false"),v("redirect_timeout")||5);$d()}else{P("Evaluator","NOT OK to redirect");return}c&&eval("var $j = $;");try{if(od(d)){$("head").append("<style type='text/css'>body{display:none;visibility:hidden;}</style>");
P("Evaluator","Hiding body before redirect");var f=be.test(d)||ae.test(d)||ce.test(d),g=/_keep_body_hidden=(\S+)/.test(d);f||g?P("Evaluator","Standard redirect detected - Will not unhide body."):setTimeout(function(){if(document.body){document.body.style.visibility="visible";document.body.style.display="block";P("Evaluator","Unhiding body -- did not redirect");U("bodyUnhidden")}},1700)}Mg(a)}catch(l){c=yb,yb=j,P("Evaluator","Error: "+l.message),P("Evaluator","Code: "+d),yb=c,P("Evaluator","Failed to run code: "+
l.message)}}}
function nh(a,b,c){c=c||{};if(!vh[a]||!vh[a][b]){var d=function(){Te(b,"custom",c)},e=$(a);if(0<e.length){var f=function(){e.unbind("touchend",d);e.unbind("touchmove",f);e.unbind("mousedown",d)},g=function(){f();e.bind("touchmove",f);e.bind("touchend",d)};e.bind("mousedown",d);e.bind("touchstart",g)}else e=$("html"),f=function(){e.undelegate(a,"touchend",d);e.undelegate(a,"touchmove",f);e.undelegate(a,"mousedown",d)},e.delegate(a,"touchstart",function(){f();e.delegate(a,"touchend",d);e.delegate(a,
"touchmove",f)}),e.delegate(a,"mousedown",d);vh[a]||(vh[a]={});vh[a][b]="mousedown touchstart"}}function wh(a){xh=a}function ph(a){a||(a=ra());for(var b=0;b<a.length;b++)Aa(a[b])}var vh={},ld=[],T=T||[],xh=0,mh=o,oh=[],rh=k,sh=0;$(function(){setTimeout(function(){U("docReady");mh=j;rh!==k&&(P("Evaluator","Document is ready"),clearTimeout(rh),0<xh?setTimeout(qh,xh):qh())},50)});function Rg(a){this.Ea=$.trim(a);a=yh(this.Ea);a===k&&h(Error("Invalid CIDR specification"));this.X=a.X;this.W=a.W}function yh(a){a=a.split("/");if(2!=a.length)return k;var b=parseInt(a[1],10);if(isNaN(b)||0>b||32<b)return k;a=Sg(a[0]);if(a===k)return k;if(0>b||32<b)b=k;else{for(var c=[],d=0;4>d;d++)c[d]=0;for(var e=Math.floor(b/8),d=0;d<e;d++)c[d]=255;4>e&&(c[e]=zh[b%8]);b=c}for(c=0;4>c;c++)a[c]&=b[c];return{X:a,W:b}}
function Sg(a){a=a.split(".");if(4!=a.length)return k;for(var b=[],c=0;4>c;c++){var d;d=a[c];if(3<d.length)d=k;else{var e=parseInt(d,10);d=isNaN(e)||d!==e.toString()||0>e||255<e?k:e}if(d===k)return k;b[c]=d}return b}var zh=[0,128,192,224,240,248,252,254,255];function Xg(a,b,c){var d=a.split("?");if(d[1]){var e=[];$.each(d[1].split("&"),function(){0!==this.indexOf(Ah)&&e.push(this)});d[1]=e.join("&");a=d.join("?")}switch(c){case "exact":return a=Bh(a),a===Bh(b);case "regex":try{return Boolean(a.match(b))}catch(f){return o}case "simple":return a=Bh(Ch(a)),b=Bh(Ch(b)),a===b;case "substring":return a=Bh(a,j),b=Bh(b,j),-1!==a.indexOf(b);default:return o}}
function Ch(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}function Bh(a,b){var a=a.replace("/?","?"),a=a.toLowerCase().replace(/[/&?]+$/,""),c=Dh.slice(0);b||(c=c.concat(Eh));for(var d=c.length,e=0;e<d;e++)a=a.replace(RegExp("^"+c[e]),"");return a}
var Dh=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],Eh=["www."],Ah="optimizely_";function Fh(a){return function(b){if("object"===typeof b&&Ih()){var c=k,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function Ih(){for(var a in{})return j;return o};function Jh(){if(!mb){var a=$;a.fn.attr=Fh(a.fn.attr);a.fn.css=Fh(a.fn.css);a.fn.extend=Fh(a.fn.extend);var b=a.each;a.each=function(c,d,e){if(!(c.length===i||a.isFunction(c))||!Ih())b.apply(this,arguments);else if(e)for(var f in c){if(c.hasOwnProperty(f)&&d.apply(c[f],e)===o)break}else for(f in c)if(c.hasOwnProperty(f)&&!d.call(c[f],f,c[f])===o)break;return c};var c=a.fn.ab,d=function(a,b,d){return new c(a,b,d)},e,f=document.getElementsByClassName;if(!Uf(f))var f=(window.optimizely||{}).getElementsByClassName,
g=(window.optly||{}).getElementsByClassName,f=Uf(f)?f:Uf(g)?g:k;e=f;a.fn.ab=function(b,c,f){var g=d,l=document.getElementsByClassName;!Uf(l)&&e&&(g=function(a,b,c){document.getElementsByClassName=e;a=d(a,b,c);document.getElementsByClassName=l;return a});if(!("string"===typeof b&&c&&"object"===a.type(c)&&Ih()))return g(b,c,f);b=g(b,i,f);b.attr(c);return b}}P("Main","Started, revision "+v("revision"));try{var l=[];D(dh,function(a){try{a()}catch(b){l.push(b.message)}});0<l.length&&h(Error("Feature(s) not supported: "+
l.join("; ")))}catch(m){P("Main","Disabling: "+m.message);return}var f=Sf(),g=o,n;for(n in f)if(Tf.exec(n)){g=j;break}("true"===f.opt_out||"false"===f.opt_out)&&he("true"===f.opt_out);pb="true"===f.force_tracking;"true"===f.disable||"true"===f.opt_out||hf()?qb=K=o:"classic"===f.disable?K=o:"new"===f.disable&&(qb=o);rb="true"===f.editor;sb="true"===f.p13n;xb="true"===f.show_preview;tb=(n=window.optlyDesktop)&&F(n.p13nInner);(n=H("optimizelyToken"))&&J("optimizelyToken",n,15);n=f.token||n;v("insecure_preview")&&
n?vb="public/"+z():/^[0-9a-f]{64}$/.test(n)?vb=n:/^[0-9a-f]{32}$/.test(n)?(P("Query","Using legacy MD5 token"),vb=n):(hb("optimizelyToken",ib()),P("Query","Blocked request to load unsafe script: "+n));yb="true"===f.log;zb="true"===f.verbose;bb=!(xb||g)||pb;if(rb||sb)window.optimizelyDataApi={getProjectId:z};if(tb)P("Main","Disabling because in desktop app editor.");else if(sb)P("Main","Disabling because personalization editor flag is set."),Nb("https://"+Ma()+"/js/innie.js?_="+ +new Date);else if(fe(),
hf())P("Main","Disabling because opted out"),xc();else if(vb){if(!window.optimizelyPreview){if(!window.optimizely||!window.optimizely.unshift)window.optimizely=[];window.optimizely.unshift(["verifyPreviewProject",z()]);Nb([Rf,"/js/preview/",vb,".js"].join(""),j);xb&&Qf('Loading Preview<br /><img alt="loading" src="//'+Ma()+'/static/img/loading-32.gif" style="padding-top:20px; width: 32px; margin: 0 auto;" />')}}else if(xb&&!vb)Qf("This preview link has expired. Please return to Optimizely and preview again to get a new link.");
else{if(K||qb)if(f=v("project_js"))P("Evaluator","Running project level javascript."),uh(f);fe();if(K){f=H("optimizelyEndUserId");sc=f!==i&&f!==k;a:{f="googlebot;yahoo! slurp;bingbot;bingpreview;msnbot;keynote;ktxn;khte;gomezagent;alertsite;yottaamonitor;pingdom.com_bot;aihitbot;baiduspider;adsbot-google;mediapartners-google;applebot".split(";");g=navigator.userAgent;g=g.toLowerCase();for(n=0;n<f.length;n++)if(-1!==g.indexOf(f[n])){f=j;break a}f=o}f?bb=o:sc||Sb.set("first_session",j)}if(f=Q.get("asyncInfo"))nc("asyncInfo")||
oc(f),Q.set("asyncInfo",k);(f=nc("asyncInfo"))&&D(f,Cc);if(v("uses_list_targeting")){var f="https://tapi.optimizely.com/api/js/geo2.js",t={};D(Da(),function(a,b){var c=Lc(b);typeof c==="string"&&(t[b]=c)});t.project=z().toString();var g=[],q;for(q in t)t.hasOwnProperty(q)&&g.push(encodeURIComponent(q)+"="+encodeURIComponent(t[q]));g.length&&(f+="?"+g.join("&"));Nb(f)}v("uses_dynamic_customer_profile_targeting")&&(Of(),q=If(),!q.q||!q.q.datasourceId?(P("DCP","No Optimizely datasource found in data."),
q=k):(f=q.q.datasourceId,g=q.q.id,f=N([z().toString(),f,g],encodeURIComponent),f=["https://tapi.optimizely.com/api/targetingEmbed"].concat(f).join("/"),g=(Nc.get()||{}).aliases||{},Pf(q.z,g)||(q=N(q.z,function(a){return encodeURIComponent(a.datasourceId)+"="+encodeURIComponent(a.id)}),f+="?"+q.join("&")),q=f),q!==k&&Nb(q));(v("dcp_service_id")||k)!==k&&setTimeout(function(){var a=v("dcp_service_id")||k;if(a!==k){var b=If();if(b.q)if(b.z.length===0)P("DCP","Must specify at least one non-Optimizely datasource to alias");
else if(Of()){var a=N([a,b.q.datasourceId,b.q.id],encodeURIComponent).join("/"),c=b.z;try{var d=new XMLHttpRequest;d.open("POST",["https://vis.optimizely.com/api/alias",a].join("/"));if("withCredentials"in d)d.withCredentials=j;d.setRequestHeader("Content-Type","application/json;charset=UTF-8");var e={};D(c,function(a){e[a.datasourceId]=a.id});d.onerror=function(){P("DCP","Failed to POST alias request")};d.onload=function(){if(d.status>=200&&d.status<300){var a=Nc.get()||{},b=a.aliases||{},b=b||{};
D(c,function(a){b[a.datasourceId]=a.id});a.aliases=b;Nc.set(a)}else P("DCP","Alias POST failed with",d.statusText)};d.send(u({data:e}))}catch(f){P("DCP","Exception %s trying to POST alias request",f)}}else P("DCP","Duplicate alias request; skipping.");else P("DCP","Must specify Optimizely datasource in alias")}},0);if(q=H("optimizelyBuckets")){try{q=ea(q)}catch(A){q={}}var G={};D(q,function(a,b){var b=String(b),c=E(b);if(Ba(c).length>1&&b.indexOf("_")===-1){G[c]=G[c]||{};G[c][a]=b}else b!=="0"?se(b,
"cookie")||(Pe[a]=b):Cf(a)});D(G,function(a,b){var c;a:{c=[];for(var d=Ba(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?se(c,"cookie"):Cf(a)})}Vf();nd=(H("optimizelyRedirect")||"|").split("|")[0];q=H("optimizelyReferrer");q!==k&&(Sc=0==q.length?"":q,J("optimizelyReferrer",""));q=Wf;P("Visitor","Initializing");(f=H("optimizelyAudiences"))&&0<f.length&&D(f.split(","),p(function(a){vg(this,a,j,{O:j,ya:o})},q));D(cg(),p(function(a){P("Visitor","Found segment "+
a);var b=va()[a];if(b&&b.audience_id){P("Visitor","Adding to audience "+b.audience_id);vg(this,b.audience_id,j,{C:o})}else if(b&&b.dimension_id){P("Visitor","Setting dimension value "+b.dimension_id);wg(this,b.dimension_id,Xf[a],o)}},q));V=Wf;de=o;Yf.push(zd);eh.push(zd);q={$:$,activeExperiments:ld||[],allExperiments:wa(),all_experiments:wa(),allVariations:v("variations")||{},getElementsByClassName:document.getElementsByClassName,revision:v("revision"),variationIdsMap:Ee,variation_map:Fe,variationMap:Fe,
variationNamesMap:Ge};for(var B in q)X(q,B,q[B]);q.data=He;B={};var qa=Hb(je,[B,Re]);O(B,{activate:r(rd,V),activateGeoDelayedExperiments:r(ud,V),activateSiteCatalyst:Pc,activateUniversalAnalytics:ed,addOAuthClientId:we,addToAudience:p(V.D,V),addToSegment:le,bindTrackElement:lh,bucketUser:sd,bucketVisitor:sd,clickTaleRecord:hd,clickTalePlayback:fd,customTag:ye,delayDomReadyEval:wh,delayPageviewTracking:Ke,disable:ge,log:yc,getAccountId:fa,getProjectId:z,googleAnalyticsCustomVariableScope:Vc,integrationPrefix:id,
optOut:he,overrideUrl:tc,push:qa,removeFromAllAudiences:p(V.gb,V),removeFromAllSegments:Ce,removeFromAudience:p(V.Y,V),removeFromSegment:ze,sc_activate:Pc,sc_svar:jd,skipPageTracking:Me,optOutThirdPartyCookies:Le,setDimensionValue:p(V.B,V),setUserId:Oe,storeThirdPartyData:ke,timeout:ge,trackEvent:Qe,verbose:zc});v("slave")&&O(B,{get:ue});B.removeFromReportableAudiences=Ne;O(q,B);B=window.optimizely;M(B)&&D(B,function(a){qa(a)});window.optimizely=q;U("apiInitialize");window.optimizely.iapi={evaluateSegments:r(kh,
i)};var Sa=!v("force_variation");B=Sf();D(B,function(a,b){var c=Tf.exec(a);if(c)if(Sa){wb=j;I("Query","Ignored parameter %s",a)}else{c=c[1];sd(c,b,j);ya(c)?Ff(c,{force:j,skipPageviewTracking:j}):Bd(c,{})||rd(V,c,{force:j,skipPageviewTracking:j})}});wb?Qf("Force parameters are disabled for this project. See Project Code Settings."):(Jh.log(),rb&&Nb("https://"+Ma()+"/js/innie.js?_="+ +new Date),K&&(U("distributeExperiments"),D(ra(),function(a){if(!cb(a,T))if(ya(a))Ff(a);else if(Ad(a)){if(Bd(a,{objectType:"experiment"})){P("Distributor",
"Going to distribute "+Aa(a));if(Ed(a)){T=T||[];T.push(a)}}}else!xa(a)&&!C(ld,a)&&Cd(a)}),Gd(),Xe(),Cb||(0<ob?setTimeout(function(){Hd()},ob):Hd()),We(),Xc()),yb&&(D(ne,function(a){var b=za(a);P("Plan","Ignore experiment '"+b+"' ("+a+")")}),D(W,function(a){var b=E(a.id),c=Ka(a.id);P("Plan",Aa(b)+' in variation "'+c+'" ('+a.id+")")})),rb?te():K&&(U("beginEvaluate"),Fd(),te(),xc(),!v("installation_verified")&&bb&&(B="https://"+Ma()+"/account/snippet_installed?project_id="+z()+"&wxhr=true",P("Tracker",
"Making snippet verification request."),$c(B,k))),setTimeout(function(){ud(V)},2E3),setTimeout(function(){if(bb){var a=xe;if(a.$a){var b=Fb(),c=z(),d=v("revision"),e=xf,f=vf,g=zf,l=Ta(),m=ld.concat(T).length,n=tf().length,q;q=nc("events")||[];var t=nc("event_queue")||[];q=u(q).length+u(t).length;var B;a:{try{B=window.optimizely.get("behavior").getEvents()[0].timestamp;break a}catch(G){}B=i}var b={ppid:b,project:c,revision:d,sync:e,timebase:f,render:g,sampleRate:l,numExps:m,numBehaviorEvents:n,behaviorEventsSize:q,
oldestBehaviorEventAge:!B?0:(new Date).getTime()-B.getTime(),integrationOAuthClientIds:wf(ve,",",64),codeVersion:v("version"),hasSlave:!!v("slave"),docVisibilityState:document.Bb||document.webkitVisibilityState,wxhr:j,apis:wf(x(a.R),"!",1E3)},A;a:{c=k;try{A=w(window.performance.getEntries(),function(a){return!!Bf.test(a.name)})[0]}catch(qa){A=c;break a}if(A){var c={},Ab;for(Ab in A)typeof A[Ab]==="number"&&A[Ab]!==0&&(c[Ab]=A[Ab])}A=c}O(b,A||{});O(b,a.n);var Sa=["optimizelyAudiences","optimizelyBuckets",
"optimizelyCustomEvents","optimizelyPendingLogEvents","optimizelyReferrer","optimizelySegments"],Od={},Pd=0,Qd=0;D(Wa(),function(a){if(a.name.indexOf("optimizely")===0){if(C(Sa,a.name)){P("RUM","Cookie size for "+a.name+": "+a.P.length);Od[a.name+"Len"]=a.P.length}Pd=Pd+a.P.length}Qd=Qd+a.P.length});O(Od,{allOptimizelyCookiesLen:Pd,allCookiesLen:Qd});O(b,Od||{});var jg={};D(Q.wa()||{},function(a,b){jg["ls"+a]=b});O(b,jg);var a=[],Ec;for(Ec in b)Object.prototype.hasOwnProperty.call(b,Ec)&&a.push(window.encodeURIComponent(Ec)+
"="+window.encodeURIComponent(b[Ec]));$c("https://rum.optimizely.com/rum?"+a.join("&"),k)}}},3E3),P("Main","End of main"),U("mainEnd"))}}
Jh.log=function(){P("Info","Is Classic Optimizely enabled: "+K);P("Info","Diagnostic enabled: false");P("Info","Force variation enabled: "+!!v("force_variation"));P("Info","Browser type: "+ic());P("Info","Browser version: "+jc());var a=pc();"unknown"!==a&&P("Info","Mobile browser type: "+a);P("Info","New vs returning: "+rc());P("Info","Source type: "+bg());P("Info","User ID: "+Eb())};Jh();
};
var SLAVE_CLIENT = {optimizely:[]};
optimizelyCode();
optly.Cleanse.finish();

var PROJECT_ID_FOR_SLAVE_PREVIEW = 6250770393;
!(function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)})([(function(e,t,n){function i(){function e(e){var t=n(144),i=[t];i.push(n(146)),i.push(n(152)),i.push(n(155)),i.push(n(158)),i.push(n(160)),i.push(n(170)),i.push(n(174)),i.push(n(176)),i.push(n(179)),i.push(n(183)),i.push(n(186)),i.push(n(190)),i.push(n(194)),i.push(n(199)),i.push(n(200)),i.push(n(201)),i.push(n(204)),i.push(n(211)),g.initialize({clientData:e,plugins:i})}function t(e,t,n){return"/dist/preview_data.js?token=__TOKEN__&preview_layer_ids=__PREVIEW_LAYER_IDS__".replace("__TOKEN__",e).replace("__PROJECT_ID__",t).replace("__PREVIEW_LAYER_IDS__",n.join(",")).replace("__GET_ONLY_PREVIEW_LAYERS__",!0)}window.performance&&window.performance.mark&&window.performance.mark("optimizely:blockBegin");var i=n(1);i.initialize();var r=n(80),a=n(20),o=n(16);n(124);var s=o.get("stores/directive"),u=n(86);if(!u.isCORSSupported())throw new Error("CORS is not supported on this browser, aborting.");var c,l=n(126),d=n(114),f=n(127),p={"layers": [{"holdback": 0, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["9664410633"], "experiments": [{"weightDistributions": [{"entityId": "9664100532", "endOfRange": 2500}, {"entityId": "9663940491", "endOfRange": 5000}, {"entityId": "9664651133", "endOfRange": 7500}, {"entityId": "9673160330", "endOfRange": 10000}], "audienceName": null, "name": null, "bucketingStrategy": null, "variations": [{"id": "9664100532", "actions": [], "name": null}, {"id": "9663940491", "actions": [{"viewId": "9664410633", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "522AB984-ED4D-42C2-A8A5-4FF0C98E7090", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verification_page_cheers.png)", "background-color": "rgba(0, 0, 0, 0)"}}]}], "name": null}, {"id": "9664651133", "actions": [{"viewId": "9664410633", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "DAF174E7-3A0D-4EEA-B7F9-E9159DFB15E8", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verification_page_chris.png)"}}]}], "name": null}, {"id": "9673160330", "actions": [{"viewId": "9664410633", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "C38D1290-560C-459C-B7F7-41CABA0D6C8A", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verifcation_page_dinner.png\n)"}}]}], "name": null}], "audienceIds": ["or", "9659861404"], "changes": null, "id": "9666090277", "integrationSettings": null}], "id": "9660010936", "weightDistributions": null, "name": null, "groupId": null, "commitId": "9722043496", "decisionMetadata": null, "policy": "single_experiment", "changes": null}, {"holdback": 0, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["9660641215"], "experiments": [{"weightDistributions": [{"entityId": "9662421788", "endOfRange": 3400}, {"entityId": "9659810504", "endOfRange": 6700}, {"entityId": "9668040281", "endOfRange": 10000}], "audienceName": null, "name": null, "bucketingStrategy": null, "variations": [{"id": "9662421788", "actions": [], "name": null}, {"id": "9659810504", "actions": [{"viewId": "9660641215", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "522AB984-ED4D-42C2-A8A5-4FF0C98E7090", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verification_page_cheers.png)", "background-color": "rgba(0, 0, 0, 0)"}}]}], "name": null}, {"id": "9668950430", "actions": [{"viewId": "9660641215", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "DAF174E7-3A0D-4EEA-B7F9-E9159DFB15E8", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verification_page_chris.png)"}}]}], "name": null}, {"id": "9668040281", "actions": [{"viewId": "9660641215", "changes": [{"selector": ".hero", "dependencies": [], "attributes": {}, "type": "attribute", "id": "C38D1290-560C-459C-B7F7-41CABA0D6C8A", "css": {"background-image": "url(https://s3.amazonaws.com/sendwithus.couchsurfing.com/verifcation_page_dinner.png)"}}]}], "name": null}], "audienceIds": ["or", "9662810188"], "changes": null, "id": "9671300517", "integrationSettings": null}], "id": "9664540640", "weightDistributions": null, "name": null, "groupId": null, "commitId": "9834862154", "decisionMetadata": null, "policy": "single_experiment", "changes": null}], "listTargetingKeys": [], "groups": [], "views": [{"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/dashboard?new_user=true", "match": "exact"}]], "name": null, "apiName": "couchsurfingcomdashboard", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "7936226313"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/get_verified", "match": "exact"}]], "name": null, "apiName": "6250770393_verification_page_view", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "8530081439"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "couchsurfing.com/get_verified", "match": "simple"}]], "name": null, "apiName": "6250770393_verification_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "8533010584"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "couchsurfing.com/verification-success", "match": "exact"}]], "name": null, "apiName": "6250770393_verification_success", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "8533730733"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://couchsurfing.com/get_verified", "match": "simple"}]], "name": null, "apiName": "6250770393_verification_page_2", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9118261451"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://integration.couchsurfing.com/get-verified", "match": "simple"}]], "name": null, "apiName": "6250770393_integration_verification_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9174931628"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/get_verified", "match": "simple"}]], "name": null, "apiName": "6250770393_integration_verification_page_2", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9181562122"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/groups/", "match": "substring"}]], "name": null, "apiName": "6250770393_group_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9259846006"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "search_type=", "match": "substring"}]], "name": null, "apiName": "6250770393_any_search", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9264147086"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/events/", "match": "substring"}]], "name": null, "apiName": "6250770393_event_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9264365422"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.couchsurfing.com/events", "match": "substring"}]], "name": null, "apiName": "6250770393_httpswwwcouchsurfingcomevents", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9264833028"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "search_type=", "match": "substring"}]], "name": null, "apiName": "6250770393_any_search_1", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9273524699"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "www.couchsurfing.com/get_verified", "match": "simple"}]], "name": null, "apiName": "6250770393_url_targeting_for_verification_page_do_different_age__1_2", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9660641215"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "www.couchsurfing.com/get_verified", "match": "simple"}]], "name": null, "apiName": "6250770393_url_targeting_for_verification_page_do_different_age__1_3", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "9664410633"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://qa1.couchsurfing.com/", "match": "simple"}]], "name": null, "apiName": "6250770393_frontloaded_onboarding", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "10195695634"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "couchsurfing.com/dashboard?new_user=true", "match": "exact"}]], "name": null, "apiName": "6250770393_search_bar_optimization_only_explore_", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "10492292847"}], "projectId": "6250770393", "namespace": "6250770393", "listTargetingCookies": [], "dimensions": [{"segmentId": "8205911074", "id": "8200915474", "apiName": "account_created_date", "name": null}, {"segmentId": "8205962622", "id": "8202775607", "apiName": "birth_date", "name": null}, {"segmentId": "8208640628", "id": "8206472341", "apiName": "is_verified", "name": null}, {"segmentId": "8211203043", "id": "8207421977", "apiName": "has_surfed", "name": null}, {"segmentId": "8203105736", "id": "8207864170", "apiName": "gender", "name": null}, {"segmentId": "8211540624", "id": "8208234648", "apiName": "profile_location", "name": null}, {"segmentId": "8210522224", "id": "8208451834", "apiName": "has_hosted", "name": null}, {"segmentId": "8203854836", "id": "8211530149", "apiName": "locale", "name": null}, {"segmentId": "8328627670", "id": "8328534776", "apiName": "user_id", "name": null}], "audiences": [{"conditions": ["and", ["or", ["or", {"value": "function isOver45() {\n  var currentYear = new Date().getFullYear();\n  var birthYear = parseInt(window.optimizely.data.visitor.dimensions[\"8202775607\"].slice(0,4));\n\n  if (currentYear - birthYear >= 45) {\n    return true;\n  }\n\n  return false;\n}\nisOver45();", "type": "code", "name": null, "match": null}]]], "id": "9659861404", "name": null}, {"conditions": ["and", ["or", ["or", {"value": "function is35to44() {\n  var currentYear = new Date().getFullYear();\n  var birthYear = parseInt(window.optimizely.data.visitor.dimensions[\"8202775607\"].slice(0,4));\n\n  if ((currentYear - birthYear >= 35) && (currentYear - birthYear <= 44)) {\n    return true;\n  }\n\n  return false;\n}\nis35to44();", "type": "code", "name": null, "match": null}]]], "id": "9662810188", "name": null}], "integrationSettings": [], "anonymizeIP": false, "visitorAttributes": [], "accountId": "6250770393", "events": [], "revision": "2833"},g=n(128);if(d.populateDirectiveData(),s.clientHasAlreadyInitialized())return void a.warn("Main / Disabling because Optimizely has already initialized on this page load. Are there multiple snippets on the page?");if(s.shouldBailForDesktopApp())return void a.log("Main / Disabling because of desktop app.");if(s.conflictInObservingChanges())return void a.log("Main / Disabling: Observe Changes Indefinitely is on, but browser does not support it.");if(s.shouldLoadInnie())l.registerFunction("getProjectId",(function(){return p.projectId})),f.addScriptAsync("https://app.optimizely.com/js/innie.js"),a.log("Main / Disabling in favor of the editor client.");else if(s.shouldLoadPreview()){var h;h=s.isSlave()?window.optimizely:SLAVE_CLIENT.optimizely=SLAVE_CLIENT.optimizely||[],h.push({type:"load",data:p}),a.log("Main / Disabling in favor of the preview client."),n(143).setupPreviewGlobal(),n(143).pushToPreviewGlobal({type:"pushPreviewData",name:"liveCommitData",data:p}),s.isSlave()||(l.registerFunction("getProjectId",(function(){return p.projectId})),f.addScriptSync(""))}else if(s.shouldBootstrapDataForPreview()){l.registerFunction("initializeOptimizelyPreview",e);var _=s.isSlave()?PROJECT_ID_FOR_SLAVE_PREVIEW:l.getFunction("getProjectId")();c=t(s.getProjectToken(),_,s.getPreviewLayerIds()),f.addScriptSync(c),n(143).setupPreviewGlobal(),f.addScriptAsync("/dist/js/preview_ui.js")}else s.shouldBootstrapDataForEditor()?(l.registerFunction("initializeOptimizelyPreview",e),f.addScriptAsync(window.optimizely_editor_data_endpoint)):s.shouldInitialize()&&(e(p),i.queuePayload());r.timeEnd("block")}try{i()}catch(e){try{n(142).handleError(e)}catch(e){console.log(e)}}}),(function(e,t,n){function i(e){var t=N.getPromise("RUM_FIRST_BEACON");return t?t.then(e):v.makeAsyncRequest("RUM_FIRST_BEACON",e)}function r(e){return h.isEmpty(e)?A.resolve():i((function(){return w.request({url:F,method:"POST",data:e}).then((function(e){return v.resolveRequest("RUM_FIRST_BEACON",e),e}))["catch"]((function(e){throw T.error("POST to client-rum failed:",e),v.rejectRequest("RUM_FIRST_BEACON",e),e}))}))}function a(){var e=I.getCurrentScript();if(e)return e.src}function o(){var e={id:L.getRumId(),v:U,account:C.getAccountId(),project:C.getSnippetId()||C.getProjectId(),snippet:C.getSnippetId(),revision:C.getRevision(),clientVersion:"0.100.0",hasSlave:!0,wxhr:!0};try{e["numBehaviorEvents"]=E.getEvents().length}catch(e){T.debug("Unable to get behavior events for RUM:",e)}h.assign(e,s(),l()),y.dispatch(R.SET_RUM_DATA,{data:e})}function s(){var e=b.getGlobal("performance");if(e){var t,n=L.getScriptSrc();try{if(n){T.debug("Using derived script src: ",n);var i=e.getEntriesByName(n);i.length>0&&(t=i[0])}if(!t){var r=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi;T.debug("Scanning resource timing entries with regex");var a=e.getEntriesByType("resource");t=h.find(a,(function(e){return r.test(e.name)}))}if(t)return h.mapValues(D.ResourceTimingAttributes,(function(e,n){return Math.round(1e3*(t[n]||0))/1e3}))}catch(e){return}}}function u(){try{return!I.querySelector("body")}catch(e){return null}}function c(){try{b.getGlobal("requestAnimationFrame")((function(){var e=L.getRumData().timebase;y.dispatch(R.SET_RUM_DATA,{data:{render:m.now()-(e||0)}})}))}catch(e){return}}function l(){return P.getDurationsFor(h.values(D.RUMPerformanceTimingAttributes))}function d(){var e={numKeys:S.allKeys().length,sizeKeys:S.allKeys().toString().length,sizeValues:S.allValues().toString().length},t=b.getGlobal("performance"),n=t?t.timing:{},i=P.getMarks()||{},a=L.getApiData(),o=L.getDOMObservationData(),s=k.get("state").getActiveExperimentIds(),u=f(L.getScriptSrc()),c=L.getRumData()||{},l=c.extras||{};h.assign(l,{apiCalls:a,DOMObservationData:o,paintTimings:g(),activeExperimentIds:s,numPages:x.getNumberOfPages(),snippet:{scheme:u.scheme,host:u.host,path:u.path},networkInfo:p()});var d=b.getGlobal("Prototype");d&&!h.isUndefined(d.Version)&&(l.prototypeJS=d.Version);var _=!1;_=!0;var v=V.getFrames();v.length&&(l.xdFramesLoaded=v.length);var E={id:L.getRumId(),v:U,project:C.getSnippetId()||C.getProjectId(),lsMetrics:e,navigationTimings:n,userTimings:i,xd:_,apis:h.keys(a),extras:l};r(E)}function f(e){var t=I.createElement("a");return t.href=e,{host:t.host,scheme:t.protocol.slice(0,-1),path:t.pathname}}function p(){var e=b.getGlobal("navigator");if(e&&e.connection)return h.pick(e.connection,["downlink","rtt","effectiveType"])}function g(){var e=b.getGlobal("performance");if(e)try{var t=e.getEntriesByType("paint");if(h.isEmpty(t))return;return h.reduce(t,(function(e,t){return e[t.name]=Math.round(t.startTime),e}),{})}catch(e){return}}var h=n(2),_=n(5),v=n(6),E=n(68),m=n(21),I=n(77),y=n(9),S=n(78).LocalStorage,T=n(20),A=n(12).Promise,b=n(36),w=n(86),R=n(7),D=n(22),O=n(16),N=O.get("stores/async_request"),C=O.get("stores/global"),L=O.get("stores/rum"),P=O.get("stores/performance"),V=O.get("stores/xdomain"),x=O.get("stores/view_data"),k=n(88),F="https://rum.optimizely.com/rum",M=3e3,U="1.0",G=.01;t.initialize=function(){var e=_.generate().replace(/-/g,""),t=Math.random()<G;t&&(y.dispatch(R.SET_RUM_DATA,{id:e,RumHost:F,inRumSample:t,src:a(),data:{id:e,sync:u(),timebase:m.now(),sampleRate:G}}),c())},t.queuePayload=function(){return L.getSampleRum()?(I.isLoaded()?setTimeout(d,M):b.addEventListener("load",d),new A(function(e,t){setTimeout((function(){o();var n=L.getRumData();n=h.pickBy(n,(function(e){return!h.isUndefined(e)})),r(n).then(e,t)}),M)}).catch((function(e){T.warn("RUM / Error sending data:",e)}))):A.resolve()}}),(function(e,t,n){e.exports=n(3)._.noConflict()}),(function(e,t,n){(function(e,n){(function(){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function a(e,t){return u(Re(e),pn)}function o(e,t){return!!e.length&&f(e,t,0)>-1}function s(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function u(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function c(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(s===An?o===o:n(o,s)))var s=o,u=a}return u}function l(e,t,n,i){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=i?n:e,!1})),r}function d(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function f(e,t,n){if(t!==t)return I(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function p(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function g(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function h(e){return function(t){return e(t)}}function _(e,t){return me(t,(function(t){return e[t]}))}function v(e){return e&&e.Object===Object?e:null}function E(e,t){if(e!==t){var n=null===e,i=e===An,r=e===e,a=null===t,o=t===An,s=t===t;if(e>t&&!a||!r||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function m(e){return gi[e]}function I(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var a=e[r];if(a!==a)return r}return-1}function y(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function S(e,t){return e="number"==typeof e||di.test(e)?+e:-1,t=null==t?Vn:t,e>-1&&e%1==0&&e<t}function T(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function w(e){if(jt(e)&&!dr(e)){if(e instanceof R)return e;if(Ri.call(e,"__wrapped__"))return tt(e)}return new R(e)}function R(e,t){this.e=e,this.u=[],this.l=!!t}function D(){}function O(e,t){return C(e,t)&&delete e[t]}function N(e,t){if(Xi){var n=e[t];return n===Dn?An:n}return Ri.call(e,t)?e[t]:An}function C(e,t){return Xi?e[t]!==An:Ri.call(e,t)}function L(e,t,n){e[t]=Xi&&n===An?Dn:n}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function V(){this.d={hash:new D,map:Ki?new Ki:[],string:new D}}function x(e){var t=this.d;return Ze(e)?O("string"==typeof e?t.string:t.hash,e):Ki?t.map["delete"](e):W(t.map,e)}function k(e){var t=this.d;return Ze(e)?N("string"==typeof e?t.string:t.hash,e):Ki?t.map.get(e):X(t.map,e)}function F(e){var t=this.d;return Ze(e)?C("string"==typeof e?t.string:t.hash,e):Ki?t.map.has(e):Q(t.map,e)}function M(e,t){var n=this.d;return Ze(e)?L("string"==typeof e?n.string:n.hash,e,t):Ki?n.map.set(e,t):J(n.map,e,t),this}function U(e){var t=-1,n=e?e.length:0;for(this.d=new P;++t<n;)this.push(e[t])}function G(e,t){var n=e.d;if(Ze(t)){var i=n.d,r="string"==typeof t?i.string:i.hash;return r[t]===Dn}return n.has(t)}function B(e){var t=this.d;if(Ze(e)){var n=t.d,i="string"==typeof e?n.string:n.hash;i[e]=Dn}else t.set(e,Dn)}function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function j(){this.d={array:[],map:null}}function H(e){var t=this.d,n=t.array;return n?W(n,e):t.map["delete"](e)}function Y(e){var t=this.d,n=t.array;return n?X(n,e):t.map.get(e)}function K(e){var t=this.d,n=t.array;return n?Q(n,e):t.map.has(e)}function q(e,t){var n=this.d,i=n.array;i&&(i.length<wn-1?J(i,e,t):(n.array=null,n.map=new P(i)));var r=n.map;return r&&r.set(e,t),this}function W(e,t){var n=$(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():zi.call(e,n,1),!0}function X(e,t){var n=$(e,t);return n<0?An:e[n][1]}function Q(e,t){return $(e,t)>-1}function $(e,t){for(var n=e.length;n--;)if(Nt(e[n][0],t))return n;return-1}function J(e,t,n){var i=$(e,t);i<0?e.push([t,n]):e[i][1]=n}function Z(e,t,n,i){return e===An||Nt(e,bi[n])&&!Ri.call(i,n)?t:e}function ee(e,t,n){(n===An||Nt(e[t],n))&&("number"!=typeof t||n!==An||t in e)||(e[t]=n)}function te(e,t,n){var i=e[t];Ri.call(e,t)&&Nt(i,n)&&(n!==An||t in e)||(e[t]=n)}function ne(e,t){return e&&ir(t,sn(t),e)}function ie(e){return"function"==typeof e?e:_n}function re(e,t,n,i,r,a,o){var s;if(i&&(s=a?i(e,r,a,o):i(e)),s!==An)return s;if(!zt(e))return e;var u=dr(e);if(u){if(s=Xe(e),!t)return Re(e,s)}else{var c=We(e),l=c==Gn||c==Bn;if(fr(e))return Ne(e,t);if(c==Hn||c==xn||l&&!a){if(y(e))return a?e:{};if(s=Qe(l?{}:e),!t)return s=ne(s,e),n?Me(e,s):s}else{if(!pi[c])return a?e:{};s=$e(e,c,t)}}o||(o=new z);var d=o.get(e);return d?d:(o.set(e,s),(u?tr:fe)(e,(function(r,a){te(s,a,re(r,t,n,i,a,e,o))})),n&&!u?Me(e,s):s)}function ae(e){return zt(e)?Gi(e):{}}function oe(e,t,n){if("function"!=typeof e)throw new TypeError(Rn);return setTimeout((function(){e.apply(An,n)}),t)}function se(e,t,n,i){var r=-1,a=o,u=!0,c=e.length,l=[],d=t.length;if(!c)return l;n&&(t=me(t,h(n))),i?(a=s,u=!1):t.length>=wn&&(a=G,u=!1,t=new U(t));e:for(;++r<c;){var f=e[r],p=n?n(f):f;if(u&&p===p){for(var g=d;g--;)if(t[g]===p)continue e;l.push(f)}else a(t,p,i)||l.push(f)}return l}function ue(e,t){var n=!0;return tr(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ce(e,t){var n=[];return tr(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function le(e,t,n,i){i||(i=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];t>0&&Vt(o)&&(n||dr(o)||Lt(o))?t>1?le(o,t-1,n,i):u(i,o):n||(i[i.length]=o)}return i}function de(e,t){return null==e?e:nr(e,t,un)}function fe(e,t){return e&&nr(e,t,sn)}function pe(e,t){return ce(t,(function(t){return Gt(e[t])}))}function ge(e,t,n,i,r){return e===t||(null==e||null==t||!zt(e)&&!jt(t)?e!==e&&t!==t:he(e,t,ge,n,i,r))}function he(e,t,n,i,r,a){var o=dr(e),s=dr(t),u=kn,c=kn;o||(u=Ni.call(e),u=u==xn?Hn:u),s||(c=Ni.call(t),c=c==xn?Hn:c);var l=u==Hn&&!y(e),d=c==Hn&&!y(t),f=u==c;a||(a=[]);var p=_t(a,(function(t){return t[0]===e}));if(p&&p[1])return p[1]==t;if(a.push([e,t]),f&&!l){var g=o||$t(e)?He(e,t,n,i,r,a):Ye(e,t,u,n,i,r,a);return a.pop(),g}if(!(r&Ln)){var h=l&&Ri.call(e,"__wrapped__"),_=d&&Ri.call(t,"__wrapped__");if(h||_){var g=n(h?e.value():e,_?t.value():t,i,r,a);return a.pop(),g}}if(!f)return!1;var g=Ke(e,t,n,i,r,a);return a.pop(),g}function _e(e){var t=typeof e;return"function"==t?e:null==e?_n:("object"==t?Ie:be)(e)}function ve(e){return Hi(Object(e))}function Ee(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function me(e,t){var n=-1,i=Pt(e)?Array(e.length):[];return tr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Ie(e){var t=sn(e);return function(n){var i=t.length;if(null==n)return!i;for(n=Object(n);i--;){var r=t[i];if(!(r in n&&ge(e[r],n[r],An,Cn|Ln)))return!1}return!0}}function ye(e,t,n,i,r){if(e!==t){var a=dr(t)||$t(t)?An:un(t);tr(a||t,(function(o,s){if(a&&(s=o,o=t[s]),zt(o))r||(r=new z),Se(e,t,s,n,ye,i,r);else{var u=i?i(e[s],o,s+"",e,t,r):An;u===An&&(u=o),ee(e,s,u)}}))}}function Se(e,t,n,i,r,a,o){var s=e[n],u=t[n],c=o.get(u);if(c)return void ee(e,n,c);var l=a?a(s,u,n+"",e,t,o):An,d=l===An;d&&(l=u,dr(u)||$t(u)?dr(s)?l=s:Vt(s)?l=Re(s):(d=!1,l=re(u,!a)):Wt(u)||Lt(u)?Lt(s)?l=tn(s):!zt(s)||i&&Gt(s)?(d=!1,l=re(u,!a)):l=s:d=!1),o.set(u,l),d&&r(l,u,i,a,o),o["delete"](u),ee(e,n,l)}function Te(e,t){return e=Object(e),It(t,(function(t,n){return n in e&&(t[n]=e[n]),t}),{})}function Ae(e,t){var n={};return de(e,(function(e,i){t(e,i)&&(n[i]=e)})),n}function be(e){return function(t){return null==t?An:t[e]}}function we(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}function Re(e){return we(e,0,e.length)}function De(e,t){var n;return tr(e,(function(e,i,r){return n=t(e,i,r),!n})),!!n}function Oe(e,t){var n=e;return It(t,(function(e,t){return t.func.apply(t.thisArg,u([e],t.args))}),n)}function Ne(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Ce(e){var t=new e.constructor(e.byteLength);return new ki(t).set(new ki(e)),t}function Le(e){return It(A(e),i,new e.constructor)}function Pe(e){var t=new e.constructor(e.source,ci.exec(e));return t.lastIndex=e.lastIndex,t}function Ve(e){return It(b(e),r,new e.constructor)}function xe(e){return er?Object(er.call(e)):{}}function ke(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fe(e,t,n,i){n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):e[o];te(n,o,s)}return n}function Me(e,t){return ir(e,ar(e),t)}function Ue(e){return Rt((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:An;for(a="function"==typeof a?(r--,a):An,t=Object(t);++i<r;){var o=n[i];o&&e(t,o,i,a)}return t}))}function Ge(e,t){return function(n,i){if(null==n)return n;if(!Pt(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Object(n);(t?a--:++a<r)&&i(o[a],a,o)!==!1;);return n}}function Be(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var u=o[e?s:++r];if(n(a[u],u,a)===!1)break}return t}}function ze(e){return function(){var t=arguments,n=ae(e.prototype),i=e.apply(n,t);return zt(i)?i:n}}function je(e,t,n,i){function r(){for(var t=-1,s=arguments.length,u=-1,c=i.length,l=Array(c+s),d=this&&this!==Ti&&this instanceof r?o:e;++u<c;)l[u]=i[u];for(;s--;)l[u++]=arguments[++t];return d.apply(a?n:this,l)}if("function"!=typeof e)throw new TypeError(Rn);var a=t&On,o=ze(e);return r}function He(e,t,n,i,r,a){var o=-1,s=r&Ln,u=r&Cn,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;for(var d=!0;++o<c;){var f,p=e[o],g=t[o];if(f!==An){if(f)continue;d=!1;break}if(u){if(!De(t,(function(e){return p===e||n(p,e,i,r,a)}))){d=!1;break}}else if(p!==g&&!n(p,g,i,r,a)){d=!1;break}}return d}function Ye(e,t,n,i,r,a,o){switch(n){case Fn:case Mn:return+e==+t;case Un:return e.name==t.name&&e.message==t.message;case jn:return e!=+e?t!=+t:e==+t;case Yn:case qn:return e==t+""}return!1}function Ke(e,t,n,i,r,a){var o=r&Ln,s=sn(e),u=s.length,c=sn(t),l=c.length;if(u!=l&&!o)return!1;for(var d=u;d--;){var f=s[d];if(!(o?f in t:Ri.call(t,f)))return!1}for(var p=!0,g=o;++d<u;){f=s[d];var h,_=e[f],v=t[f];if(!(h===An?_===v||n(_,v,i,r,a):h)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var E=e.constructor,m=t.constructor;E!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof m&&m instanceof m)&&(p=!1)}return p}function qe(e,t){var n=e[t];return Yt(n)?n:An}function We(e){return Ni.call(e)}function Xe(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ri.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qe(e){return"function"!=typeof e.constructor||et(e)?{}:ae(Mi(e))}function $e(e,t,n){var i=e.constructor;switch(t){case Qn:return Ce(e);case Fn:case Mn:return new i(+e);case $n:case Jn:case Zn:case ei:case ti:case ni:case ii:case ri:case ai:return ke(e,n);case zn:return Le(e);case jn:case qn:return new i(e);case Yn:return Pe(e);case Kn:return Ve(e);case Wn:return xe(e)}}function Je(e){var t=e?e.length:An;return Bt(t)&&(dr(e)||Qt(e)||Lt(e))?g(t,String):null}function Ze(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function et(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||bi;return e===n}function tt(e){var t=new R(e.e,e.l);return t.u=Re(e.u),t}function nt(e){return ce(e,Boolean)}function it(e,t){return e&&e.length?d(e,_e(t,3)):-1}function rt(e){var t=e?e.length:0;return t?le(e,1):[]}function at(e){var t=e?e.length:0;return t?le(e,Pn):[]}function ot(e){return e?e[0]:An}function st(e,t,n){var i=e?e.length:0;n="number"==typeof n?n<0?Yi(i+n,0):n:0;for(var r=(n||0)-1,a=t===t;++r<i;){var o=e[r];if(a?o===t:o!==o)return r}return-1}function ut(e){var t=e?e.length:0;return t?e[t-1]:An}function ct(e,t,n){var i=e?e.length:0;return t=null==t?0:+t,n=n===An?i:+n,i?we(e,t,n):[]}function lt(e){var t=w(e);return t.l=!0,t}function dt(e,t){return t(e),e}function ft(e,t){return t(e)}function pt(){return Oe(this.e,this.u)}function gt(e,t,n){return t=n?An:t,ue(e,_e(t))}function ht(e,t){return ce(e,_e(t))}function _t(e,t){return l(e,_e(t),tr)}function vt(e,t){return tr(e,ie(t))}function Et(e,t,n,i){e=Pt(e)?e:pn(e),n=n&&!i?pr(n):0;var r=e.length;return n<0&&(n=Yi(r+n,0)),Qt(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&f(e,t,n)>-1}function mt(e,t){return me(e,_e(t))}function It(e,t,n){return p(e,_e(t),n,arguments.length<3,tr)}function yt(e){return null==e?0:(e=Pt(e)?e:sn(e),e.length)}function St(e,t,n){return t=n?An:t,De(e,_e(t))}function Tt(e,t){var n=0;return t=_e(t),me(me(e,(function(e,i,r){return{value:e,index:n++,criteria:t(e,i,r)}})).sort((function(e,t){return E(e.criteria,t.criteria)||e.index-t.index})),be("value"))}function At(e,t){var n;if("function"!=typeof t)throw new TypeError(Rn);return e=pr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=An),n}}function bt(e){if("function"!=typeof e)throw new TypeError(Rn);return function(){return!e.apply(this,arguments)}}function wt(e){return At(2,e)}function Rt(e,t){if("function"!=typeof e)throw new TypeError(Rn);return t=Yi(t===An?e.length-1:pr(t),0),function(){for(var n=arguments,i=-1,r=Yi(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];var o=Array(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=a,e.apply(this,o)}}function Dt(e){return zt(e)?dr(e)?Re(e):ir(e,sn(e)):e}function Ot(e){return re(e,!0,!0)}function Nt(e,t){return e===t||e!==e&&t!==t}function Ct(e,t){return e>t}function Lt(e){return Vt(e)&&Ri.call(e,"callee")&&(!Bi.call(e,"callee")||Ni.call(e)==xn)}function Pt(e){return null!=e&&Bt(rr(e))&&!Gt(e)}function Vt(e){return jt(e)&&Pt(e)}function xt(e){return e===!0||e===!1||jt(e)&&Ni.call(e)==Fn}function kt(e){return jt(e)&&Ni.call(e)==Mn}function Ft(e){if(Pt(e)&&(dr(e)||Qt(e)||Gt(e.splice)||Lt(e)))return!e.length;for(var t in e)if(Ri.call(e,t))return!1;return!0}function Mt(e,t){return ge(e,t)}function Ut(e){return"number"==typeof e&&ji(e)}function Gt(e){var t=zt(e)?Ni.call(e):"";return t==Gn||t==Bn}function Bt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Vn}function zt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function jt(e){return!!e&&"object"==typeof e}function Ht(e){return qt(e)&&e!=+e}function Yt(e){return null!=e&&(Gt(e)?Li.test(wi.call(e)):jt(e)&&(y(e)?Li:li).test(e))}function Kt(e){return null===e}function qt(e){return"number"==typeof e||jt(e)&&Ni.call(e)==jn}function Wt(e){if(!jt(e)||Ni.call(e)!=Hn||y(e))return!1;var t=Mi(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&wi.call(n)==Oi}function Xt(e){return zt(e)&&Ni.call(e)==Yn}function Qt(e){return"string"==typeof e||!dr(e)&&jt(e)&&Ni.call(e)==qn}function $t(e){return jt(e)&&Bt(e.length)&&!!fi[Ni.call(e)]}function Jt(e){return e===An}function Zt(e,t){return e<t}function en(e){return Pt(e)?e.length?Re(e):[]:pn(e)}function tn(e){return ir(e,un(e))}function nn(e){return"string"==typeof e?e:null==e?"":e+""}function rn(e,t){var n=ae(e);return t?hr(n,t):n}function an(e,t){return e&&fe(e,ie(t))}function on(e,t){return null!=e&&Ri.call(e,t)}function sn(e){var t=et(e);if(!t&&!Pt(e))return ve(e);var n=Je(e),i=!!n,r=n||[],a=r.length;for(var o in e)!Ri.call(e,o)||i&&("length"==o||S(o,a))||t&&"constructor"==o||r.push(o);return r}function un(e){for(var t=-1,n=et(e),i=Ee(e),r=i.length,a=Je(e),o=!!a,s=a||[],u=s.length;++t<r;){var c=i[t];o&&("length"==c||S(c,u))||"constructor"==c&&(n||!Ri.call(e,c))||s.push(c)}return s}function cn(e,t){var n={};return t=_e(t,3),fe(e,(function(e,i,r){n[i]=t(e,i,r)})),n}function ln(e,t){return t=_e(t),Ae(e,(function(e,n){return!t(e,n)}))}function dn(e,t){return null==e?{}:Ae(e,_e(t))}function fn(e,t,n){var i=null==e?An:e[t];return i===An&&(i=n),Gt(i)?i.call(e):i}function pn(e){return e?_(e,sn(e)):[]}function gn(e){return e=nn(e),e&&si.test(e)?e.replace(oi,m):e}function hn(e){return function(){return e}}function _n(e){return e}function vn(e){return Ie(hr({},e))}function En(e,t,n){var i=sn(t),r=pe(t,i);null!=n||zt(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=pe(t,sn(t)));var a=!(zt(n)&&"chain"in n)||n.chain,o=Gt(e);return tr(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.l;if(a||t){var n=e(this.e),r=n.u=Re(this.u);return r.push({func:i,args:arguments,thisArg:e}),n.l=t,n}return i.apply(e,u([this.value()],arguments))})})),e}function mn(){return Ti._===this&&(Ti._=Ci),this}function In(){}function yn(e){var t=++Di;return nn(e)+t}function Sn(e){return e&&e.length?c(e,_n,Ct):An}function Tn(e){return e&&e.length?c(e,_n,Zt):An}var An,bn="4.6.1",wn=200,Rn="Expected a function",Dn="__lodash_hash_undefined__",On=1,Nn=32,Cn=1,Ln=2,Pn=1/0,Vn=9007199254740991,xn="[object Arguments]",kn="[object Array]",Fn="[object Boolean]",Mn="[object Date]",Un="[object Error]",Gn="[object Function]",Bn="[object GeneratorFunction]",zn="[object Map]",jn="[object Number]",Hn="[object Object]",Yn="[object RegExp]",Kn="[object Set]",qn="[object String]",Wn="[object Symbol]",Xn="[object WeakMap]",Qn="[object ArrayBuffer]",$n="[object Float32Array]",Jn="[object Float64Array]",Zn="[object Int8Array]",ei="[object Int16Array]",ti="[object Int32Array]",ni="[object Uint8Array]",ii="[object Uint8ClampedArray]",ri="[object Uint16Array]",ai="[object Uint32Array]",oi=/[&<>"'`]/g,si=RegExp(oi.source),ui=/[\\^$.*+?()[\]{}|]/g,ci=/\w*$/,li=/^\[object .+?Constructor\]$/,di=/^(?:0|[1-9]\d*)$/,fi={};fi[$n]=fi[Jn]=fi[Zn]=fi[ei]=fi[ti]=fi[ni]=fi[ii]=fi[ri]=fi[ai]=!0,fi[xn]=fi[kn]=fi[Qn]=fi[Fn]=fi[Mn]=fi[Un]=fi[Gn]=fi[zn]=fi[jn]=fi[Hn]=fi[Yn]=fi[Kn]=fi[qn]=fi[Xn]=!1;var pi={};pi[xn]=pi[kn]=pi[Qn]=pi[Fn]=pi[Mn]=pi[$n]=pi[Jn]=pi[Zn]=pi[ei]=pi[ti]=pi[zn]=pi[jn]=pi[Hn]=pi[Yn]=pi[Kn]=pi[qn]=pi[Wn]=pi[ni]=pi[ii]=pi[ri]=pi[ai]=!0,pi[Un]=pi[Gn]=pi[Xn]=!1;var gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},hi={"function":!0,object:!0},_i=hi[typeof t]&&t&&!t.nodeType?t:An,vi=hi[typeof e]&&e&&!e.nodeType?e:An,Ei=vi&&vi.exports===_i?_i:An,mi=v(_i&&vi&&"object"==typeof n&&n),Ii=v(hi[typeof self]&&self),yi=v(hi[typeof window]&&window),Si=v(hi[typeof this]&&this),Ti=mi||yi!==(Si&&Si.window)&&yi||Ii||Si||Function("return this")(),Ai=Array.prototype,bi=Object.prototype,wi=Function.prototype.toString,Ri=bi.hasOwnProperty,Di=0,Oi=wi.call(Object),Ni=bi.toString,Ci=Ti._,Li=RegExp("^"+wi.call(Ri).replace(ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pi=Ei?Ti.Buffer:An,Vi=Ti.Reflect,xi=Ti.Symbol,ki=Ti.Uint8Array,Fi=Vi?Vi.enumerate:An,Mi=Object.getPrototypeOf,Ui=Object.getOwnPropertySymbols,Gi=Object.create,Bi=bi.propertyIsEnumerable,zi=Ai.splice,ji=Ti.isFinite,Hi=Object.keys,Yi=Math.max,Ki=qe(Ti,"Map"),qi=qe(Ti,"Set"),Wi=qe(Ti,"WeakMap"),Xi=qe(Object,"create"),Qi=Ki?wi.call(Ki):"",$i=qi?wi.call(qi):"",Ji=Wi?wi.call(Wi):"",Zi=xi?xi.prototype:An,er=Zi?Zi.valueOf:An,tr=Ge(fe),nr=Be();Fi&&!Bi.call({valueOf:1},"valueOf")&&(Ee=function(e){return T(Fi(e))});var ir=Fe,rr=be("length"),ar=Ui||function(){return[]};(Ki&&We(new Ki)!=zn||qi&&We(new qi)!=Kn||Wi&&We(new Wi)!=Xn)&&(We=function(e){var t=Ni.call(e),n=t==Hn?e.constructor:null,i="function"==typeof n?wi.call(n):"";if(i)switch(i){case Qi:return zn;case $i:return Kn;case Ji:return Xn}return t});var or=Rt((function(e,t){return dr(e)||(e=null==e?[]:[Object(e)]),t=le(t,1),a(e,t)})),sr=Rt((function(e,t,n){return je(e,On|Nn,t,n)})),ur=Rt((function(e,t){return oe(e,1,t)})),cr=Rt((function(e,t,n){return oe(e,gr(t)||0,n)})),lr=Rt((function(e,t){return je(e,Nn,An,t)})),dr=Array.isArray,fr=Pi?function(e){return e instanceof Pi}:hn(!1),pr=Number,gr=Number,hr=Ue((function(e,t){ir(t,sn(t),e)})),_r=Ue((function(e,t){ir(t,un(t),e)})),vr=Ue((function(e,t,n,i){Fe(t,un(t),e,i)})),Er=Rt((function(e){return e.push(An,Z),vr.apply(An,e)})),mr=Ue((function(e,t,n){ye(e,t,n)})),Ir=Rt((function(e,t){return null==e?{}:(t=me(le(t,1),String),Te(e,se(un(e),t)))})),yr=Rt((function(e,t){return null==e?{}:Te(e,le(t,1))})),Sr=_e;R.prototype=ae(w.prototype),R.prototype.constructor=R,D.prototype=Xi?Xi(null):bi,P.prototype.clear=V,P.prototype["delete"]=x,P.prototype.get=k,P.prototype.has=F,P.prototype.set=M,U.prototype.push=B,z.prototype.clear=j,z.prototype["delete"]=H,z.prototype.get=Y,z.prototype.has=K,z.prototype.set=q,w.assign=hr,w.assignIn=_r,w.before=At,w.bind=sr,w.chain=lt,w.compact=nt,w.concat=or,w.create=rn,w.defaults=Er,w.defer=ur,w.delay=cr,w.filter=ht,w.flatten=rt,w.flattenDeep=at,w.iteratee=Sr,w.keys=sn,w.map=mt,w.mapValues=cn,w.matches=vn,w.merge=mr,w.mixin=En,w.negate=bt,w.omit=Ir,w.omitBy=ln,w.once=wt,w.partial=lr,w.pick=yr,w.pickBy=dn,w.slice=ct,w.sortBy=Tt,w.tap=dt,w.thru=ft,w.toArray=en,w.values=pn,w.extend=_r,En(w,w),w.clone=Dt,w.cloneDeep=Ot,w.escape=gn,w.every=gt,w.find=_t,w.findIndex=it,w.forEach=vt,w.forOwn=an,w.has=on,w.head=ot,w.identity=_n,w.includes=Et,w.indexOf=st,w.isArguments=Lt,w.isArray=dr,w.isBoolean=xt,w.isDate=kt,w.isEmpty=Ft,w.isEqual=Mt,w.isFinite=Ut,w.isFunction=Gt,w.isNaN=Ht,w.isNull=Kt,w.isNumber=qt,w.isObject=zt,w.isRegExp=Xt,w.isString=Qt,w.isUndefined=Jt,w.last=ut,w.max=Sn,w.min=Tn,w.noConflict=mn,w.noop=In,w.reduce=It,w.result=fn,w.size=yt,w.some=St,w.uniqueId=yn,w.each=vt,w.first=ot,En(w,(function(){var e={};return fe(w,(function(t,n){Ri.call(w.prototype,n)||(e[n]=t)})),e})(),{chain:!1}),w.VERSION=bn,tr(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:Ai)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|join|replace|shift)$/.test(e);w.prototype[e]=function(){var e=arguments;return i&&!this.l?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=pt,(yi||Ii||{})._=w,_i&&vi&&(Ei&&((vi.exports=w)._=w),_i._=w)}).call(this)}).call(t,n(4)(e),(function(){return this})())}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}),(function(e,t){t.generate=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}}),(function(e,t,n){var i=n(7),r=n(9),a=n(12).Promise,o=n(16),s=o.get("stores/async_request");t.makeAsyncRequest=function(e,t){var n=s.getPromise(e);if(n)return n;var o,u,c=new a(function(e,t){o=e,u=t});return r.dispatch(i.REGISTER_ASYNC_DEFERRED,{source:e,promise:c,resolver:o,rejecter:u}),t&&t(),c},t.resolveRequest=function(e,t){r.dispatch(i.RESOLVE_DEFERRED,{source:e,resolveWith:t})},t.rejectRequest=function(e,t){r.dispatch(i.REJECT_DEFERRED,{source:e,rejectWith:t})}}),(function(e,t,n){var i=n(8);e.exports=i({LOG:null,SET_LOGLEVEL:null,INITIALIZE_STATE:null,SET_DOMCONTENTLOADED:null,ACTIVATE:null,UPDATE_BEHAVIOR_STORE:null,DATA_LOADED:null,LOAD_PERSISTED_LAYER_STATES:null,RECORD_GLOBAL_DECISION:null,RECORD_LAYER_DECISION:null,ENSURE_ORIGINAL_PUSHSTATE:null,ENSURE_ORIGINAL_REPLACESTATE:null,SET_VISITOR_ATTRIBUTES:null,SET_VISITOR_ATTRIBUTE_PENDING:null,LOAD_EXISTING_VISITOR_PROFILE:null,SET_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENT_QUEUE:null,SET_VISITOR_ID:null,REFRESH_SESSION:null,LOAD_SESSION_STATE:null,UPDATE_VARIATION_ID_MAP:null,MERGE_VARIATION_ID_MAP:null,UPDATE_PREFERRED_LAYER_MAP:null,MERGE_PREFERRED_LAYER_MAP:null,RECORD_LAYER_DECISION_EVENT_ID:null,TRACK_VIEW_ACTIVATED_EVENT:null,REGISTER_ASYNC_DEFERRED:null,RESOLVE_DEFERRED:null,REJECT_DEFERRED:null,REGISTER_PLUGIN:null,ADD_CLEANUP_FN:null,CLEAR_CLEANUP_FN:null,ACTION_EXECUTED:null,REGISTER_ACTION:null,SET_VIEW_ACTIVE_STATE:null,UPDATE_PARSED_VIEW_METADATA:null,UPDATE_USER_SUPPLIED_METADATA:null,REGISTER_VIEWS:null,SET_GLOBAL_TAGS:null,SET_VIEW_BATCHING:null,ATTACH_EVENT_STREAM_PUBLISHERS:null,DETACH_EVENT_STREAM_PUBLISHERS:null,LOAD_DIRECTIVE:null,SET_COOKIE_AGE:null,SET_COOKIE_DOMAIN:null,XDOMAIN_SET_DEFAULT_FRAME:null,XDOMAIN_ADD_FRAME:null,XDOMAIN_SET_MESSAGE:null,XDOMAIN_ADD_SUBSCRIBER:null,XDOMAIN_SET_CANONICAL_ORIGINS:null,XDOMAIN_SET_DISABLED:null,ADD_EMITTER_HANDLER:null,REMOVE_EMITTER_HANDLER:null,SET_INTEGRATION_SETTINGS:null,ADD_CHANGE:null,SET_CHANGE_APPLIER:null,REMOVE_ACTION_STATE:null,ANNOUNCE_PENDING_REDIRECT:null,LOAD_REDIRECT_DATA:null,REGISTER_TRACKED_REDIRECT_DATA:null,SET_PENDING_EVENT:null,REMOVE_PENDING_EVENT:null,LOAD_PENDING_EVENTS:null,SANDBOXED_FUNCTIONS_ADDED:null,SET_RUM_DATA:null,RECORD_API_USAGE:null,INITIALIZE_CHANGE_METRICS:null,RECORD_CHANGE_MACROTASK_RATE:null,RECORD_CHANGE_OVERHEATED:null,RECORD_DOM_OBSERVATION_OCCURENCE:null,SET_PERFORMANCE_MARKS_DATA:null,FINALIZE_BATCH_SNAPSHOT:null,REGISTER_PREVIOUS_BATCH:null,REGISTER_TRACKER_VISITOR:null,REGISTER_TRACKER_EVENT:null,REGISTER_TRACKER_DECISION:null,RESET_TRACKER_EVENTS:null,RESET_TRACKER_PREVIOUS_BATCHES:null,RESET_TRACKER_STORE:null,SET_TRACKER_POLLING:null,SET_TRACKER_BATCHING:null,SET_TRACKER_SEND_EVENTS:null,SET_TRACKER_PERSISTABLE_STATE:null,SET_TRACKER_DIRTY:null,UPDATE_TRACKER_VISITOR_ATTRIBUTES:null,SET_UA_DATA:null})}),(function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n}),(function(e,t,n){var i=n(10);e.exports=i.create()}),(function(e,t,n){function i(e){e=e||{},this.f={},this.g={},this.I=0,this.S=[],this.T=[]}function r(e,t){return function(){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}}var a=n(2),o=n(11);i.prototype.registerStores=function(e){a.forOwn(e,a.bind((function(e,t){this.f[t]=new o(t,this,e);
}),this))},i.prototype.getStore=function(e){return this.f[e]},i.prototype.dispatch=function(e,t){this.dispatchId++,a.each(this.S,a.bind((function(n){n.call(this,e,t)}),this)),a.forOwn(this.f,(function(n){n.A(e,t)})),a.each(this.T,a.bind((function(n){n.call(this,e,t)}),this)),a.forOwn(this.f,a.bind((function(e,t){e.hasChanges()&&this.g[t]&&(e.resetChange(),a.each(this.g[t],(function(t){t(e)})))}),this))},i.prototype.reset=function(){this.g={},a.forOwn(this.f,(function(e,t){e.b()}))},i.prototype.getState=function(){var e={};return a.forOwn(this.f,(function(t,n){e[n]=t.w()})),e},i.prototype.onPreAction=function(e){var t=this.S;return t.push(e),r(t,e)},i.prototype.onPostAction=function(e){var t=this.T;return t.push(e),r(t,e)},i.prototype.R=function(e,t){this.g[e]||(this.g[e]=[]),this.g[e].push(t);var n=this.g[e];return r(n,t)},e.exports={create:function(e){return new i(e)}}}),(function(e,t,n){function i(e,t,n){this.D=e,this.O=t,this.N=0,this.C=!1,this.L={},r.extend(this,n),this.P={},this.initialize&&this.initialize()}var r=n(2);i.prototype.A=function(e,t){var n=this.L[e];n&&"function"==typeof n&&n.call(this,t,e)},i.prototype.w=function(){return r.cloneDeep(this.P)},i.prototype.on=function(e,t){this.L[e]=r.bind(t,this)},i.prototype.observe=function(e){return this.O.R(this.D,e)},i.prototype.emitChange=function(){this.C=!0,this.N++},i.prototype.hasChanges=function(){return this.C},i.prototype.resetChange=function(){this.C=!1},i.prototype.getStateId=function(){return this.N},i.prototype.b=function(){this.reset&&"function"==typeof this.reset&&this.reset(),this.initialize()},e.exports=i}),(function(e,t,n){e.exports=n(13)}),(function(e,t,n){(function(t,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.0
	 */
!(function(t,n){e.exports=n()})(this,(function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function a(e){X=e}function o(e){Q=e}function s(){return function(){return t.nextTick(f)}}function u(){return"undefined"!=typeof W?function(){W(f)}:d()}function c(){var e=0,t=new Z(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<q;e+=2){var t=ne[e],n=ne[e+1];t(n),ne[e]=void 0,ne[e+1]=void 0}q=0}function p(){try{var e=n(15);return W=e.runOnLoop||e.runOnContext,u()}catch(e){return d()}}function g(e,t){var n=arguments,i=this,r=new this.constructor(_);void 0===r[re]&&x(r);var a=i._state;return a?!(function(){var e=n[a-1];Q((function(){return L(a,r,e,i._result)}))})():D(i,r,e,t),r}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(_);return A(n,e),n}function _(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function E(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ue.error=e,ue}}function I(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function y(e,t,n){Q((function(e){var i=!1,r=I(n,t,(function(n){i||(i=!0,t!==n?A(e,n):w(e,n))}),(function(t){i||(i=!0,R(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,R(e,r))}),e)}function S(e,t){t._state===oe?w(e,t._result):t._state===se?R(e,t._result):D(t,void 0,(function(t){return A(e,t)}),(function(t){return R(e,t)}))}function T(e,t,n){t.constructor===e.constructor&&n===g&&t.constructor.resolve===h?S(e,t):n===ue?(R(e,ue.error),ue.error=null):void 0===n?w(e,t):r(n)?y(e,t,n):w(e,t)}function A(t,n){t===n?R(t,v()):e(n)?T(t,n,m(n)):w(t,n)}function b(e){e._onerror&&e._onerror(e._result),O(e)}function w(e,t){e._state===ae&&(e._result=t,e._state=oe,0!==e._subscribers.length&&Q(O,e))}function R(e,t){e._state===ae&&(e._state=se,e._result=t,Q(b,e))}function D(e,t,n,i){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+oe]=n,r[a+se]=i,0===a&&e._state&&Q(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?L(n,i,r,a):r(a);e._subscribers.length=0}}function N(){this.error=null}function C(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function L(e,t,n,i){var a=r(n),o=void 0,s=void 0,u=void 0,c=void 0;if(a){if(o=C(n,i),o===ce?(c=!0,s=o.error,o.error=null):u=!0,t===o)return void R(t,E())}else o=i,u=!0;t._state!==ae||(a&&u?A(t,o):c?R(t,s):e===oe?w(t,o):e===se&&R(t,o))}function P(e,t){try{t((function(t){A(e,t)}),(function(t){R(e,t)}))}catch(t){R(e,t)}}function V(){return le++}function x(e){e[re]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function k(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[re]||x(this.promise),K(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):R(this.promise,F())}function F(){return new Error("Array Methods must be provided an Array")}function M(e){return new k(this,e).promise}function U(e){var t=this;return new t(K(e)?function(n,i){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function G(e){var t=this,n=new t(_);return R(n,e),n}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this[re]=V(),this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&B(),this instanceof j?P(this,e):z())}function H(){var e=void 0;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=j}var Y=void 0;Y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K=Y,q=0,W=void 0,X=void 0,Q=function(e,t){ne[q]=e,ne[q+1]=t,q+=2,2===q&&(X?X(f):ie())},$="undefined"!=typeof window?window:void 0,J=$||{},Z=J.MutationObserver||J.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;ie=ee?s():Z?c():te?l():void 0===$?p():d();var re=Math.random().toString(36).substring(16),ae=void 0,oe=1,se=2,ue=new N,ce=new N,le=0;return k.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ae&&n<e;n++)this._eachEntry(t[n],n)},k.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===h){var r=m(e);if(r===g&&e._state!==ae)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===j){var a=new n(_);T(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},k.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ae&&(this._remaining--,e===se?R(i,n):this._result[t]=n),0===this._remaining&&w(i,this._result)},k.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(oe,t,e)}),(function(e){return n._settledAt(se,t,e)}))},j.all=M,j.race=U,j.resolve=h,j.reject=G,j._setScheduler=a,j._setAsap=o,j._asap=Q,j.prototype={constructor:j,then:g,"catch":function(e){return this.then(null,e)}},j.polyfill=H,j.Promise=j,j}))}).call(t,n(14),(function(){return this})())}),(function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){h&&p&&(h=!1,p.length?g=p.concat(g):_=-1,g.length&&s())}function s(){if(!h){var e=r(o);h=!0;for(var t=g.length;t;){for(p=g,g=[];++_<t;)p&&p[_].run();_=-1,t=g.length}p=null,h=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!(function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}})();var p,g=[],h=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new u(e,t)),1!==g.length||h||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}),(function(e,t){}),(function(e,t,n){var i=n(2),r=n(17),a=n(9),o=r.create(),s={action_data:n(18),async_request:n(24),audience_data:n(25),change_data:n(26),cleanup:n(27),cookie_options:n(28),event_data:n(29),event_emitter:n(30),dimension_data:n(31),directive:n(32),global:n(33),global_state:n(34),history:n(35),integration_settings:n(37),layer:n(38),layer_data:n(39),log:n(41),observed_redirect:n(42),pending_events:n(43),performance:n(44),plugins:n(45),provider_status:n(46),pending_redirect:n(47),rum:n(48),sandbox:n(49),session:n(50),tracker_optimizely:n(51),ua_data:n(52),view:n(53),view_data:n(54),visitor:n(55),visitor_attribute_entity:n(56),visitor_events:n(57),visitor_events_manager:n(63),visitor_id:n(64),visitor_bucketing:n(65),xdomain:n(66)};s["group_data"]=n(67),a.registerStores(s),i.forOwn(s,(function(e,t){o.register("stores/"+t,a.getStore(t))})),e.exports=o}),(function(e,t,n){function i(){this.V={}}var r=n(2);i.prototype.register=function(e,t){if(1===arguments.length){var n=this;return void r.each(e,(function(e,t){n.register(t,e)}))}if(this.V[e])throw new Error("Module already registered for: "+e);this.V[e]=t},i.prototype.get=function(e){return this.V[e]},i.prototype.getModuleKeys=function(){var e=this.V;return r.keys(e)},i.prototype.evaluate=function(e){var t=e.length,n=e.slice(0,t-1),i=e[t-1];if("function"!=typeof i)throw new Error("Evaluate must take a function as last element in array");var a=r.map(n,r.bind(this.get,this));return i.apply(null,a)},i.prototype.reset=function(){this.V={}},e.exports={create:function(){return new i}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19),o=n(20);e.exports={initialize:function(){this.P={actions:{},actionState:{}},this.on(r.DATA_LOADED,this.k),this.on(r.ACTION_EXECUTED,this.F),this.on(r.SET_CHANGE_APPLIER,this.M),this.on(r.REMOVE_ACTION_STATE,this.U)},k:function(e){var t=this;i.isEmpty(e.data.layers)||(i.each(e.data.layers,(function(e){var n;if(e.changes){var r="layerId:"+e.id;n={id:r,layerId:e.id,changeSet:e.changes,type:"layer"},a.deepFreeze(n),t.P.actions[r]=n}i.each(e.experiments,(function(r){if(r.changes){var o="experimentId:"+r.id;n={id:o,layerId:e.id,experimentId:r.id,changeSet:r.changes,type:"experiment"},a.deepFreeze(n),t.P.actions[o]=n}i.each(r.variations,(function(o){i.each(o.actions,(function(i){var s=i.pageId||i.viewId,u=r.id+":"+o.id+":"+s;n={id:u,layerId:e.id,experimentId:r.id,variationId:o.id,pageId:s,changeSet:i.changes,type:"variation"},a.deepFreeze(n),t.P.actions[u]=n}))}))}))})),this.emitChange())},F:function(e){var t=e.actionId;i.isUndefined(t)||this.P.actionState[t]||(this.P.actionState[t]={})},M:function(e){var t=e.actionId,n=e.changeId;return this.P.actionState[t]?void(this.P.actionState[t][n]=e.changeApplier):void o.warn("Action Data / Attempted to set changeApplier for inactive action: ",t)},U:function(e){delete this.P.actionState[e.actionId]},get:function(e){return a.safeReference(this.P.actions[e])},getActionState:function(e){return a.safeReference(this.P.actionState[e])},getByChangeId:function(e){return i.find(this.P.actions,{changeSet:[{id:e}]})},getAllActionIdsByPageId:function(e){return i.map(i.filter(this.P.actions,{pageId:e}),"id")},getChangeApplier:function(e,t){var n=this.P.actionState[t];if(n)return n[e]},getExperimentVariationActions:function(e,t){return a.safeReference(i.filter(this.P.actions,{experimentId:e,variationId:t}))},getLayerActions:function(e){return a.safeReference(i.filter(this.P.actions,{id:"layerId:"+e}))},getExperimentActions:function(e){return a.safeReference(i.filter(this.P.actions,{id:"experimentId:"+e}))},getAll:function(){return a.safeReference(i.values(this.P.actions))}}}),(function(e,t,n){var i=n(2),r=!1;t.deepFreeze=function e(t){r&&i.isObject(t)&&!i.isFunction(t)&&(i.forOwn(t,e),Object.freeze(t))},t.safeReference=function e(t){return r?!i.isObject(t)||i.isFunction(t)||Object.isFrozen(t)?t:i.isArray(t)?i.map(t,e):i.reduce(t,(function(t,n,i){return t[i]=e(n),t}),{}):i.cloneDeep(t)}}),(function(e,t,n){function i(){this.logLevel=null,this.logMatch=null,this.logs=[],this.timebase=o.now()}var r=n(2),a=n(7),o=n(21),s=n(22),u=n(9),c=n(23);i.prototype.G=function(){return!r.isNull(this.logLevel)},i.prototype.setLogLevel=function(e){var t=this.B(e);null===t?console.error("Unknown log level: "+e):this.logLevel!==t&&(this.log("Setting log level to "+t),this.logLevel=t,this.flush())},i.prototype.setLogMatcher=function(e){r.isString(e)?this.logMatcher=e:this.logMatcher="",this.logGroup=0},i.prototype.shouldLog=function(e){return this.G()&&this.logLevel>=e},i.prototype.matchesLogMessage=function(e,t){var n=this.logMatcher;if(!this.logMatcher)return!0;if(this.logGroup)return"GROUPSTART"===e?this.logGroup++:"GROUPEND"===e&&this.logGroup--,!0;var i=r.some(t,(function(e){if(!r.isString(e))try{e=c.stringify(e)}catch(e){}return r.isString(e)&&r.includes(e,n)}));return i&&"GROUPSTART"===e&&this.logGroup++,i},i.prototype.storeLog=function(e,t){var n={logLevel:e,logMessage:t};u.dispatch(a.LOG,n)},i.prototype.flush=function(){var e=n(16),t=e.get("stores/log");this.logGroup=0;var i=t.getLogs();r.each(i,r.bind((function(e){this.z(e.logLevel,e.logMessage,!0)}),this))},i.prototype.z=function(e,t,n){var i,a=e;if(console)switch(e){case"GROUPSTART":i=console.groupCollapsed,a=s.LogLevel.DEBUG;break;case"GROUPEND":i=console.groupEnd,a=s.LogLevel.DEBUG;break;case s.LogLevel.ERROR:i=console.error;break;case s.LogLevel.WARN:i=console.warn;break;case s.LogLevel.DEBUG:i=console.debug;break;default:i=console.log}try{n||this.G()&&!this.shouldLog(a)||(r.isArray(t)&&r.isString(t[0])&&(t=this.j(t)),this.storeLog(e,t)),i&&this.shouldLog(a)&&this.matchesLogMessage(e,t)&&i.apply(console,t)}catch(e){console&&(console.error?console.error(e):console.log(e))}},i.prototype.debug=function(){this.z(s.LogLevel.DEBUG,[].slice.call(arguments))},i.prototype.log=function(){this.z(s.LogLevel.INFO,[].slice.call(arguments))},i.prototype.logAlways=function(){var e=this.j([].slice.call(arguments));console&&console.log&&console.log.apply&&console.log.apply(console,e),this.storeLog(s.LogLevel.INFO,e)},i.prototype.warn=function(){this.z(s.LogLevel.WARN,[].slice.call(arguments))},i.prototype.error=function(e){var t=[].slice.call(arguments);1===t.length&&e.stack?(this.z(s.LogLevel.ERROR,[this.H(),e]),this.z(s.LogLevel.INFO,[e.stack])):this.z(s.LogLevel.ERROR,t)},i.prototype.groupCollapsed=function(){this.z("GROUPSTART",[].slice.call(arguments))},i.prototype.groupEnd=function(){this.z("GROUPEND",[].slice.call(arguments))},i.prototype.j=function(e){var t=this.H().toString();return t.length<6&&(t=("     "+t).slice(-6)),[t+"| Optly / "+e[0]].concat(e.slice(1))},i.prototype.H=function(){return this.timebase?o.now()-this.timebase:0},i.prototype.B=function(e){return e&&(e=e.toUpperCase(),"TRUE"===e&&(e="INFO"),"FALSE"===e&&(e="OFF"),"ALL"===e&&(e="DEBUG"),!r.isUndefined(s.LogLevel[e]))?s.LogLevel[e]:null},e.exports=new i}),(function(e,t){t.now=function(){return+new Date}}),(function(e,t,n){var i=n(8);t.COOKIES={OPT_OUT:"optimizelyOptOut",PREVIEW:"optimizelyPreview",REDIRECT:"optimizelyRedirectData",SESSION_STATE:"optimizelySessionState",TOKEN:"optimizelyToken",VISITOR_ID:"optimizelyEndUserId"},t.LayerActivationTypes={CONDITIONAL:"conditional",IMMEDIATE:"immediate",MANUAL:"manual",READY:"ready",TIMEOUT:"timeout"},t.LogLevel={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},t.Lifecycle=i({preActivate:null,postVisitorProfileLoad:null,postViewsActivated:null,postActivate:null}),t.ViewActivationTypes={immediate:"immediate",manual:"manual",callback:"callback",polling:"polling",URLChanged:"url_changed",DOMChanged:"dom_changed"},t.StorageKeys={PENDING_EVENTS:"pending_events"},t.PluginTypes=i({visitorProfileProviders:null,viewProviders:null,audienceMatchers:null,viewMatchers:null,analyticsTrackers:null,viewTagLocators:null,userFeatureDefs:null,apiModules:null,changeAppliers:null,deciders:null,eventImplementations:null,viewTriggers:null}),t.ResourceTimingAttributes=i({connectStart:null,connectEnd:null,decodedBodySize:null,domainLookupStart:null,domainLookupEnd:null,duration:null,encodedBodySize:null,fetchStart:null,requestStart:null,responseStart:null,responseEnd:null,secureConnectionStart:null,startTime:null,transferSize:null}),t.RUMPerformanceTimingAttributes=i({blockTime:null}),t.AttributionTypes=i({FIRST_TOUCH:null,LAST_TOUCH:null}),t.SandboxedFunctions=i({XMLHttpRequest:null}),t.PerformanceData=i({performance_marks:null,resource_timing:null,performance_timing:null}),t.PerformanceCounters=i({mutation_observer_invocation:null,polling_invocation:null,match_selector_invocation:null}),t.VisitorStorageKeys={EVENTS:"events",EVENT_QUEUE:"event_queue",LAYER_MAP:"layer_map",LAYER_STATES:"layer_states",SESSION_STATE:"session_state",VISITOR_PROFILE:"visitor_profile",VARIATION_MAP:"variation_map",TRACKER_OPTIMIZELY:"tracker_optimizely"},t.ListTargetingKeyTypes={COOKIE:"c",QUERY:"q",JS_VARIABLE:"j"}}),(function(e,t,n){function i(e){var t=[Array.prototype],n=[];r.each(t,(function(e){r.isUndefined(e.toJSON)||(n.push(e.toJSON),delete e.toJSON)}));var i,a;try{i=e()}catch(e){a=e}finally{r.each(n,(function(e,n){t[n].toJSON=e}))}if(a)throw a;return i}var r=n(2);t.stringify=function(){return i(r.bind((function(){return JSON.stringify.apply(null,this)}),arguments))},t.parse=JSON.parse}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.P={},this.on(i.REGISTER_ASYNC_DEFERRED,this.Y),this.on(i.RESOLVE_DEFERRED,this.K),this.on(i.REJECT_DEFERRED,this.q)},getRequest:function(e){return this.P[e]},getPromise:function(e){var t=this.getRequest(e);if(t)return t.promise},Y:function(e){this.P[e.source]={promise:e.promise,resolver:e.resolver,rejecter:e.rejecter}},K:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);t.resolver(e.resolveWith)},q:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);if(!t.rejecter)throw new Error("No rejecter registered for source: "+e.source);t.rejecter(e.rejectWith)}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k)},k:function(e){i.isEmpty(e.data.audiences)||(i.each(e.data.audiences,i.bind((function(e){a.deepFreeze(e),this.P[e.id]=e}),this)),this.emitChange())},getAll:function(){return a.safeReference(i.values(this.P))},getAudiencesMap:function(){return a.safeReference(this.P)},get:function(e){return a.safeReference(this.P[e])},getAudienceName:function(e){var t=i.find(i.values(this.P),{id:e});return t.name||"Aud "+e}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.ADD_CHANGE,this.W),this.on(r.DATA_LOADED,this.k)},getChange:function(e){return this.P[e]},k:function(e){i.isEmpty(e.data.changes)||i.each(e.data.changes,i.bind(this.W,this))},W:function(e){a.deepFreeze(e),this.P[e.id]=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.P={},i.each(a.Lifecycle,i.bind((function(e){this.P[e]=[]}),this)),this.on(r.ADD_CLEANUP_FN,this.X),this.on(r.CLEAR_CLEANUP_FN,this.Q)},getCleanupFns:function(e){return i.cloneDeep(this.P[e])},X:function(e){this.P[e.lifecycle].push(e.cleanupFn),this.emitChange()},Q:function(e){var t=this.P[e.lifecycle];if(e.cleanupFn){var n=t.indexOf(e.cleanupFn);n>-1&&(t.splice(n,1),this.emitChange())}else this.P[e.lifecycle]=[],this.emitChange()}}}),(function(e,t,n){var i=n(7),r=15552e3;e.exports={initialize:function(){this.P={currentDomain:null,defaultAgeSeconds:r},this.on(i.SET_COOKIE_DOMAIN,this.$),this.on(i.SET_COOKIE_AGE,this.J)},getCurrentDomain:function(){return this.P.currentDomain},getDefaultAgeInSeconds:function(){return this.P.defaultAgeSeconds},$:function(e){this.P.currentDomain=e,this.emitChange()},J:function(e){this.P.defaultAgeSeconds=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k)},getAll:function(){return a.safeReference(i.values(this.P))},getEventsMap:function(){return a.safeReference(this.P)},get:function(e){return a.safeReference(this.P[e])},getByApiName:function(e){return a.safeReference(i.find(i.values(this.P),{apiName:e}))},getByPageId:function(e){return a.safeReference(i.filter(this.P,{pageId:e}))},k:function(e){i.isEmpty(e.data.events)||(i.each(e.data.events,i.bind((function(e){e.pageId||(e.pageId=e.viewId),a.deepFreeze(e),this.P[e.id]=e}),this)),this.emitChange())}}}),(function(e,t,n){function i(e){var t=[];return e&&r.isObject(e)?(e.type&&t.push(e.type),t.push(o),e.type&&e.name&&t.push(e.name),t.join("")):o}var r=n(2),a=n(7),o="|";e.exports={initialize:function(){this.P={handlers:{}},this.on(a.ADD_EMITTER_HANDLER,this.Z),this.on(a.REMOVE_EMITTER_HANDLER,this.ee)},getHandlers:function(e,t){var n=[null,{type:e.type},{type:e.type,name:e.name}],a=[];return r.each(n,r.bind((function(e){var t=i(e),n=this.P.handlers[t];n&&(a=a.concat(n))}),this)),t&&(a=r.filter(a,(function(e){return!e.publicOnly}))),a},Z:function(e){var t=i(e.filter);this.P.handlers[t]||(this.P.handlers[t]=[]),this.P.handlers[t].push({handler:e.handler,token:e.token,publicOnly:!!e.publicOnly,emitErrors:!!e.emitErrors}),this.emitChange()},ee:function(e){var t=!1,n=e.token;r.forOwn(this.P.handlers,r.bind((function(e,i){var a=r.filter(e,(function(e){return e.token!==n}));a.length!==e.length&&(t=!0,this.P.handlers[i]=a)}),this)),t&&this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k)},k:function(e){i.isEmpty(e.data.dimensions)||(i.each(e.data.dimensions,i.bind((function(e){a.deepFreeze(e),this.P[e.id]=e}),this)),this.emitChange())},getAll:function(){return a.safeReference(i.values(this.P))},getById:function(e){return a.safeReference(this.P[e])},getByApiName:function(e){return a.safeReference(i.find(i.values(this.P),{apiName:e}))}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={disabled:!1,forceAudienceIds:[],forceVariationIds:[],alreadyInitialized:!1,mutationObserverAPISupported:!1,isEditor:!1,isPreview:!1,isLegacyPreview:!1,isSlave:!1,previewLayerIds:[],projectToken:null,shouldOptOut:!1,trackingDisabled:!1,isRunningInV2Editor:!1,isRunningInDesktopApp:!1,forceTracking:!1},this.on(r.LOAD_DIRECTIVE,this.te)},getAll:function(){return i.cloneDeep(this.P)},conflictInObservingChanges:function(){return!1},isDisabled:function(){return this.P.disabled},isEditor:function(){return this.P.isEditor},clientHasAlreadyInitialized:function(){return this.P.alreadyInitialized},getForceAudienceIds:function(){return this.P.forceAudienceIds},getForceVariationIds:function(){return this.P.forceVariationIds},getPreviewLayerIds:function(){return this.P.previewLayerIds},getProjectToken:function(){return this.P.projectToken},getForceTracking:function(){return this.P.forceTracking},shouldActivate:function(){return!this.P.isEditor&&!this.isDisabled()},shouldBootstrapDataForPreview:function(){return this.P.isPreview},shouldBootstrapDataForEditor:function(){return this.P.isEditor},shouldInitialize:function(){return!(this.shouldLoadPreview()||this.isDisabled()||this.getProjectToken())},shouldLoadPreview:function(){return!(this.P.isPreview||this.P.isLegacyPreview||!this.getProjectToken()||this.P.isEditor)},shouldBailForDesktopApp:function(){return!this.P.isEditor&&this.P.isRunningInDesktopApp},shouldLoadInnie:function(){return!this.P.isSlave&&!this.P.isEditor&&this.P.isRunningInV2Editor},shouldObserveChangesIndefinitely:function(){return!1},shouldOptOut:function(){return this.P.shouldOptOut},shouldSendTrackingData:function(){return!this.P.trackingDisabled&&(!!this.P.forceTracking||!this.P.isPreview&&i.isEmpty(this.getForceVariationIds())&&i.isEmpty(this.getForceAudienceIds()))},isSlave:function(){return this.P.isSlave},isRunningInDesktopApp:function(){return this.P.isRunningInDesktopApp},isRunningInV2Editor:function(){return this.P.isRunningInV2Editor},te:function(e){i.extend(this.P,e),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={holdback:0,isGlobalHoldback:null,listTargetingKeys:[],revision:null,projectId:null,accountId:null,namespace:null,activationId:null,activationTimestamp:null,dcpServiceId:null,dcpKeyfieldLocators:[],recommenderServices:[],anonymizeIP:null,projectJS:null,snippetId:null,plugins:[],domContentLoaded:!1},this.on(r.DATA_LOADED,this.ne),this.on(r.ACTIVATE,this.re),this.on(r.RECORD_GLOBAL_DECISION,this.ae),this.on(r.SET_DOMCONTENTLOADED,this.oe)},getRevision:function(){return this.P.revision},getGlobalHoldbackThreshold:function(){return this.P.holdback},getProjectId:function(){return this.P.projectId},getSnippetId:function(){return this.P.snippetId},getAccountId:function(){return this.P.accountId},getNamespace:function(){return this.P.namespace},getActivationId:function(){return this.P.activationId},getActivationTimestamp:function(){return this.P.activationTimestamp},getAnonymizeIP:function(){return this.P.anonymizeIP},isGlobalHoldback:function(){return!!this.P.isGlobalHoldback},getListTargetingKeys:function(){return this.P.listTargetingKeys.slice()},getDCPServiceId:function(){return this.P.dcpServiceId},getDCPKeyfieldLocators:function(){return this.P.dcpKeyfieldLocators},getRecommenderServices:function(){return this.P.recommenderServices},getProjectJS:function(){return this.P.projectJS},getPlugins:function(){return this.P.plugins},domContentLoadedHasFired:function(){return this.P.domContentLoaded},re:function(e){this.P.activationId=e.activationId,this.P.activationTimestamp=e.activationTimestamp,this.P.isGlobalHoldback=null},ae:function(e){var t=e.isGlobalHoldback;if(null!==this.P.isGlobalHoldback&&this.P.isGlobalHoldback!==t)throw new Error("Attempted to change already set global holdback!");this.P.isGlobalHoldback=t,this.emitChange()},ne:function(e){var t=i.pick(e.data,["holdback","accountId","projectId","snippetId","namespace","revision","listTargetingKeys","dcpServiceId","dcpKeyfieldLocators","recommenderServices","anonymizeIP","plugins","projectJS"]);if(0!==i.keys(t).length){var n={listTargetingKeys:[],dcpServiceId:null,dcpKeyfieldLocators:[]};i.extend(this.P,n,t),this.emitChange()}},oe:function(){this.P.domContentLoaded=!0,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={effectiveReferrer:null,effectiveVariationId:null},this.on(r.INITIALIZE_STATE,this.se)},getEffectiveReferrer:function(){return this.P.effectiveReferrer},getEffectiveVariationId:function(){return this.P.effectiveVariationId},se:function(e){i.isUndefined(e.effectiveReferrer)||(this.P.effectiveReferrer=e.effectiveReferrer),i.isUndefined(e.effectiveVariationId)||(this.P.effectiveVariationId=e.effectiveVariationId),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(36);e.exports={initialize:function(){this.P={originalPushState:null,originalReplaceState:null},this.on(r.ENSURE_ORIGINAL_PUSHSTATE,this.ue),this.on(r.ENSURE_ORIGINAL_REPLACESTATE,this.ce)},getOriginalPushState:function(){return this.P.originalPushState},getOriginalReplaceState:function(){return this.P.originalReplaceState},ue:function(){this.P.originalPushState||(this.P.originalPushState=i.bind(a.getGlobal("history").pushState,a.getGlobal("history")))},ce:function(){this.P.originalReplaceState||(this.P.originalReplaceState=i.bind(a.getGlobal("history").replaceState,a.getGlobal("history")))}}}),(function(e,t,n){var i=n(2);t.getUserAgent=function(){return window.navigator.userAgent},t.getLocationSearch=function(){return window.location.search},t.getNavigatorLanguage=function(){return window.navigator.language||window.navigator.userLanguage},t.getHref=function(){return window.location.href},t.getLocation=function(){return window.location},t.setLocation=function(e){window.location.replace(e)},t.setGlobal=function(e,t){window[e]=t},t.getGlobal=function(e){return window[e]},t.addEventListener=function(){return window.addEventListener.apply(window,arguments)},t.removeEventListener=function(){return window.removeEventListener.apply(window,arguments)},t.isMutationObserverAPISupported=function(){return!i.isUndefined(window.MutationObserver)},t.alert=function(e){alert(e)}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k),this.on(r.SET_INTEGRATION_SETTINGS,this.le)},k:function(e){i.isEmpty(e.data.integrationSettings)||(i.each(e.data.integrationSettings,i.bind((function(e){this.P[e.id]=e}),this)),this.emitChange())},le:function(e){var t=this.P[e.id];t?i.extend(t,e):this.P[e.id]=e},getAll:function(){return i.cloneDeep(i.values(this.P))},get:function(e){return i.cloneDeep(this.P[e])},getReference:function(e){return this.P[e]}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(20),o="*";e.exports={initialize:function(){this.P={},this.on(r.LOAD_PERSISTED_LAYER_STATES,this.de),this.on(r.RECORD_LAYER_DECISION,this.fe),this.on(r.RECORD_LAYER_DECISION_EVENT_ID,this.pe)},getLayerState:function(e,t){if(this.P[e]){var n=this.P[e];if(i.keys(n).length>1&&!t)throw new Error("View Id must be specified when more than one layerState for layer.");return t?i.cloneDeep(i.find(n,{pageId:t})):i.cloneDeep(n[o])}},getLayerStates:function(e){var t=[];for(var n in this.P)i.forEach(this.P[n],(function(n){(i.isUndefined(e)||n.namespace===e)&&t.push(i.cloneDeep(n))}));return t},getLayerStatesForAnalytics:function(){var e=[];for(var t in this.P)i.forEach(this.P[t],(function(t){e.push(i.pick(t,["layerId","decision","decisionEventId"]))}));return e},de:function(e){e.merge||(this.P={}),i.each(e.layerStates,i.bind((function(e){var t=e.layerId;e.pageId||(e.pageId=e.viewId);var n=e.pageId||o,r=this.P[t];if(i.isUndefined(r))this.P[t]={},this.P[t][n]=e;else{var a=r[n];(!a||e.decisionTimestamp>(a.decisionTimestamp||0))&&(this.P[t][n]=e)}}),this)),this.emitChange()},fe:function(e){var t={layerId:e.layerId,revision:e.revision,namespace:e.namespace,pageId:e.pageId,decisionTicket:e.decisionTicket,decision:e.decision,decisionActivationId:e.activationId,decisionTimestamp:e.timestamp,decisionEventId:null},n=this.P[e.layerId]||{};e.pageId?(delete n[o],n[e.pageId]=t):(n={},n[o]=t),this.P[e.layerId]=n,this.emitChange()},pe:function(e){var t=e.layerId,n=e.pageId||o;return this.P[t]?this.P[t][n]?(this.P[t][n].decisionEventId=e.decisionId,void this.emitChange()):void a.warn("Not recording decision event: Layer state not found for view",n):void a.warn("Not recording decision event: Campaign not registered",t)}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19),o=n(40);e.exports={initialize:function(){this.P={layers:{},experiments:{},variations:{}},this.on(r.DATA_LOADED,this.k)},k:function(e){if(!i.isEmpty(e.data.layers)){var t=this;i.each(e.data.layers,(function(e){i.each(e.experiments,(function(n){e.pageIds||(e.pageIds=e.viewIds),n.campaignName||o.isSingleExperimentPolicy(e.policy)?o.isSingleExperimentPolicy(e.policy)&&e.groupId&&(n.groupId=e.groupId):n.campaignName=e.name,i.each(n.variations,(function(e){i.each(e.actions,(function(e){e.pageId||(e.pageId=e.viewId)})),t.P.variations[e.id]=e})),t.P.experiments[n.id]=n})),a.deepFreeze(e),t.P.layers[e.id]=e})),this.emitChange()}},getAll:function(){return a.safeReference(i.values(this.P.layers))},getCampaignsMap:function(){return a.safeReference(this.P.layers)},getExperimentsMap:function(){return a.safeReference(this.P.experiments)},getVariationsMap:function(){return a.safeReference(this.P.variations)},getCount:function(){return i.keys(this.P.layers).length},getAllByPageIds:function(e){return a.safeReference(i.filter(i.values(this.P.layers),(function(t){return i.some(e,i.partial(i.includes,t.pageIds))})))},get:function(e){return a.safeReference(this.P.layers[e])},getLayerByExperimentId:function(e){var t=i.values(this.P.layers),n=i.find(t,(function(t){return i.find(t.experiments,{id:e})}));return a.safeReference(n)},getExperimentByVariationId:function(e){var t,n=i.values(this.P.layers);return i.some(n,(function(n){return i.some(n.experiments,(function(n){return i.find(n.variations,{id:e})&&(t=n),t})),t})),a.safeReference(t)}}}),(function(e,t){var n="single_experiment",i="multivariate";t.isSingleExperimentPolicy=function(e){return e===n||e===i}}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){
this.P={logs:[]},this.on(i.LOG,this.ge)},getLogs:function(){return this.P.logs},ge:function(e){this.P.logs.push(e),this.emitChange()},w:function(){return this.P.logs.slice()}}}),(function(e,t,n){var i=n(7),r=n(19);e.exports={initialize:function(){this.P={data:null,hasTracked:null},this.on(i.LOAD_REDIRECT_DATA,this.he),this.on(i.REGISTER_TRACKED_REDIRECT_DATA,this._e)},get:function(){return r.safeReference(this.P.data)},hasTracked:function(){return this.P.hasTracked},he:function(e){r.deepFreeze(e),this.P.data=e,this.P.hasTracked=!1,this.emitChange()},_e:function(){this.P.hasTracked=!0}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(23),o=1e3;e.exports={initialize:function(){this.P={},this.on(r.SET_PENDING_EVENT,this.ve),this.on(r.REMOVE_PENDING_EVENT,this.Ee),this.on(r.LOAD_PENDING_EVENTS,this.me)},getEvents:function(){return this.P},getEventsString:function(){return a.stringify(this.P)},ve:function(e){i.keys(this.P).length>=o&&this.Ie();var t=e.id,n=e.retryCount;this.P[t]&&this.P[t].retryCount===n||(this.P[t]={id:t,timeStamp:e.timeStamp,data:e.data,retryCount:n},this.emitChange())},Ee:function(e){delete this.P[e.id],this.emitChange()},me:function(e){this.P=e.events,this.Ie(),this.emitChange()},Ie:function(){for(var e=i.sortBy(this.P,"timeStamp"),t=0;t<=e.length-o;t++)delete this.P[e[t].id];this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.P={},this.P[a.PerformanceData.performance_marks]={},this.on(r.SET_PERFORMANCE_MARKS_DATA,this.ye)},ye:function(e){i.isUndefined(this.P[a.PerformanceData.performance_marks][e.name])&&(this.P[a.PerformanceData.performance_marks][e.name]=[]),this.P[a.PerformanceData.performance_marks][e.name].push(e.data),this.emitChange()},getMarks:function(){return i.mapValues(this.P[a.PerformanceData.performance_marks],(function(e){return i.map(e,(function(e){return[e.startTime,e.duration]}))}))},getDurationsFor:function(e){return i.reduce(e,i.bind((function(e,t){var n=this.P[a.PerformanceData.performance_marks][t];return n&&(e[t]=Math.round(i.reduce(n,(function(e,t){return e+t.duration}),0))),e}),this),{})}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22),o=n(20);e.exports={initialize:function(){this.P=i.mapValues(a.PluginTypes,(function(){return{}})),this.on(r.REGISTER_PLUGIN,this.Se)},Se:function(e){var t=e.type,n=e.name,i=e.plugin;if(!t||!n)throw new Error("Missing information needed to register plugins: "+t+":"+n);if(!this.P[t])throw new Error("Invalid plugin type specified: "+t);this.P[t][n]=i,o.debug("Plugin Store: Registering Plugin :",e)},getAllPlugins:function(e){if(e){if(this.P[e])return this.P[e];throw new Error("Invalid plugin type: "+e)}return this.P},getPlugin:function(e,t){if(!t||!e)throw new Error("Missing plugin parameters");var n=this.getAllPlugins(e);return n[t]||null}}}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.P={},this.on(i.SET_VISITOR_ATTRIBUTE_PENDING,this.Te)},getPendingAttributeValue:function(e){if(this.P[e])return this.P[e].pending},Te:function(e){this.P[e.key]={pending:e.pending},this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={layerId:null},this.on(r.ANNOUNCE_PENDING_REDIRECT,this.he)},isExpectingRedirect:function(){return i.isString(this.P.layerId)},getLayerId:function(){return this.P.layerId},he:function(e){this.isExpectingRedirect()||(this.P.layerId=e.layerId,this.emitChange())}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={inRumSample:!1,id:null,src:null,RumHost:null,data:{extras:{}},apis:{},DOMObservation:{}},this.on(r.SET_RUM_DATA,this.Ae),this.on(r.RECORD_API_USAGE,this.be),this.on(r.INITIALIZE_CHANGE_METRICS,this.we),this.on(r.RECORD_CHANGE_MACROTASK_RATE,this.Re),this.on(r.RECORD_CHANGE_OVERHEATED,this.De),this.on(r.RECORD_DOM_OBSERVATION_OCCURENCE,this.Oe)},Ae:function(e){i.merge(this.P,e),this.emitChange()},be:function(e){this.P.apis[e.methodName]||(this.P.apis[e.methodName]=0),this.P.apis[e.methodName]++,this.emitChange()},we:function(){i.isUndefined(this.P.data.extras.changeMacrotaskRate)&&(this.P.data.extras.changeMacrotaskRate=0),i.isUndefined(this.P.data.extras.numOverheatedChanges)&&(this.P.data.extras.numOverheatedChanges=0)},Re:function(e){i.isUndefined(this.P.data.extras.changeMacrotaskRate)&&(this.P.data.extras.changeMacrotaskRate=0),e.changeMacrotaskRate>this.P.data.extras.changeMacrotaskRate&&(this.P.data.extras.changeMacrotaskRate=e.changeMacrotaskRate),this.emitChange()},De:function(){i.isUndefined(this.P.data.extras.numOverheatedChanges)&&(this.P.data.extras.numOverheatedChanges=0),this.P.data.extras.numOverheatedChanges++,this.emitChange()},Oe:function(e){this.P.DOMObservation[e.counterName]||(this.P.DOMObservation[e.counterName]=0),this.P.DOMObservation[e.counterName]++,this.emitChange()},getSampleRum:function(){return this.P.inRumSample},getRumId:function(){return this.P.id},getRumHost:function(){return this.P.RumHost},getApiData:function(){return this.P.apis},getDOMObservationData:function(){return this.P.DOMObservation},getRumData:function(){return i.cloneDeep(this.P.data)},getScriptSrc:function(){return this.P.src}}}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.P={initialized:!1,natives:{}},this.on(i.SANDBOXED_FUNCTIONS_ADDED,this.Ne)},Ne:function(e){if(!e.sandboxedFunctions)throw new Error("No sandboxedFunctions found in payload");this.P.natives=e.sandboxedFunctions,this.P.initialized=!0,this.emitChange()},getAll:function(){return this.P.natives},get:function(e){if(!e)throw new Error("Missing name parameter");return this.P.natives[e]||null},isInitialized:function(){return this.P.initialized}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(21),o=n(5),s=18e5;e.exports={initialize:function(){this.P={lastSessionTimestamp:0,sessionId:null},this.on(r.REFRESH_SESSION,this.Ce),this.on(r.LOAD_SESSION_STATE,this.Le)},getState:function(){return i.cloneDeep(this.P)},getSessionId:function(){return this.P.sessionId},Le:function(e){this.P.sessionId=e.sessionId,this.P.lastSessionTimestamp=e.lastSessionTimestamp,this.emitChange()},Ce:function(){var e=a.now(),t=this.P.lastSessionTimestamp;(!this.P.sessionId||e-t>s)&&(this.P.sessionId=o.generate()),this.P.lastSessionTimestamp=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.Pe(),this.on(r.FINALIZE_BATCH_SNAPSHOT,this.Ve),this.on(r.REGISTER_PREVIOUS_BATCH,this.xe),this.on(r.REGISTER_TRACKER_VISITOR,this.ke),this.on(r.REGISTER_TRACKER_EVENT,this.Fe),this.on(r.REGISTER_TRACKER_DECISION,this.Me),this.on(r.RESET_TRACKER_EVENTS,this.Ue),this.on(r.RESET_TRACKER_STORE,this.Pe),this.on(r.RESET_TRACKER_PREVIOUS_BATCHES,this.Ge),this.on(r.SET_TRACKER_POLLING,this.Be),this.on(r.SET_TRACKER_BATCHING,this.ze),this.on(r.SET_TRACKER_SEND_EVENTS,this.je),this.on(r.SET_TRACKER_PERSISTABLE_STATE,this.He),this.on(r.SET_TRACKER_DIRTY,this.Ye),this.on(r.UPDATE_TRACKER_VISITOR_ATTRIBUTES,this.Ke)},getPersistableState:function(){return this.P.isDirty?this.hasEventsToSend()||this.hasPreviousBatchesToSend()?{data:this.P.data,decisions:this.P.decisions,decisionEvents:this.P.decisionEvents,previousBatches:this.P.previousBatches}:{}:null},He:function(e){i.isEmpty(this.P.data)||i.isEmpty(e.data)||(this.Ve(),this.P.previousBatches.push(this.getEventBatch())),this.P.data=e.data||{},this.P.decisions=e.decisions||[],this.P.decisionEvents=e.decisionEvents||[],i.isEmpty(this.P.previousBatches)||i.isEmpty(e.previousBatches)?this.P.previousBatches=e.previousBatches||[]:this.P.previousBatches=this.P.previousBatches.concat(e.previousBatches),this.emitChange()},Ye:function(e){this.P.isDirty=e,this.emitChange()},Fe:function(e){var t=this.qe();!i.isEmpty(t.snapshots)&&i.isEmpty(this.P.decisionEvents)||this.We(),this.Xe().events.push(e.event),this.P.decisions=e.decisions,this.Ye(!0)},Me:function(e){this.P.decisionEvents.push(e.decisionEvent),this.P.decisions=e.decisions,this.Ye(!0)},ke:function(e){i.isEmpty(this.P.data)?this.P.data=e.data:this.Ve(),this.P.data.visitors.push(e.visitor),this.P.decisions=e.decisions,this.P.decisionEvents=[],this.Ye(!0)},xe:function(e){this.P.previousBatches.push(e),this.Ye(!0)},Pe:function(){this.P={polling:!1,shouldBatch:!0,data:{},decisions:[],decisionEvents:[],canSend:!1,isDirty:!1,previousBatches:[]},this.emitChange()},Ue:function(){var e=this.qe();this.P.data.visitors=[e],e.snapshots=[],this.Ye(!0)},Ge:function(){this.P.previousBatches=[],this.Ye(!0)},Be:function(e){this.P.polling=e,this.emitChange()},ze:function(e){this.P.shouldBatch=e,this.emitChange()},je:function(e){this.P.canSend=e,this.emitChange()},getEventBatch:function(){return i.cloneDeep(this.P.data)},getPreviousBatches:function(){return i.cloneDeep(this.P.previousBatches)},Qe:function(){return this.P.decisionEvents.slice()},$e:function(){this.P.decisionEvents=[]},Je:function(){return this.P.decisions.slice()},isPolling:function(){return this.P.polling},shouldBatch:function(){return this.P.shouldBatch},Xe:function(){return i.last(this.qe().snapshots)},qe:function(){return i.last(this.P.data.visitors)},We:function(){var e=this.Qe(),t=this.qe();t.snapshots.push({decisions:this.Je(),events:e}),this.$e(),this.Ye(!0)},Ve:function(){this.P.decisionEvents.length>0&&this.We()},hasEventsToSend:function(){if(!i.isEmpty(this.P.decisionEvents))return!0;if(!i.isEmpty(this.P.data)){var e=i.some(this.P.data.visitors||[],(function(e){return e.snapshots.length>0}));if(e)return!0}return!1},hasPreviousBatchesToSend:function(){return!i.isEmpty(this.P.previousBatches)},canSend:function(){return this.P.canSend},Ke:function(e){var t=this.qe();t&&(t.attributes=e.attributes)}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={},this.on(r.SET_UA_DATA,this.k)},k:function(e){i.isEmpty(this.P)&&(this.P=e.data)},get:function(){return i.cloneDeep(this.P)}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(20),o={globalTags:{},viewStates:{},shouldBatch:!1};e.exports={initialize:function(){this.P=i.cloneDeep(o),this.on(r.REGISTER_VIEWS,this.Ze),this.on(r.SET_VIEW_ACTIVE_STATE,this.et),this.on(r.UPDATE_PARSED_VIEW_METADATA,this.tt),this.on(r.UPDATE_USER_SUPPLIED_METADATA,this.nt),this.on(r.TRACK_VIEW_ACTIVATED_EVENT,this.it),this.on(r.SET_GLOBAL_TAGS,this.rt),this.on(r.ACTIVATE,this.at),this.on(r.SET_VIEW_BATCHING,this.ze)},getAll:function(){var e={};for(var t in this.P.viewStates)e[t]=this.getViewState(t);return e},shouldBatch:function(){return this.P.shouldBatch},getViewState:function(e){var t=i.cloneDeep(this.P.viewStates[e]),n=this.P.globalTags;return t.metadata=i.extend({},t.parsedMetadata,n,t.userSuppliedMetadata),t},getActiveViewTags:function(){var e=this.getActiveViewStates(),t=i.map(e,(function(e){return e.metadata})),n=[{}].concat(t);return i.extend.apply(i,n)},getActivationEventId:function(e){return this.P.viewStates[e]?this.P.viewStates[e].activationEventId:null},getActiveViewStates:function(){return i.reduce(this.P.viewStates,i.bind((function(e,t,n){return this.isViewActive(n)&&e.push(this.getViewState(n)),e}),this),[])},isViewActive:function(e){var t=this.P.viewStates[e];return t||a.warn("No Page registered with id",e),!!t.isActive},getGlobalTags:function(){return i.cloneDeep(this.P.globalTags)},at:function(){this.P.viewStates={},this.emitChange()},Ze:function(e){i.each(e.views,i.bind((function(e){var t=e.id;this.P.viewStates[t]={id:t,isActive:!1,activatedTimestamp:null,activationEventId:null,parsedMetadata:{},userSuppliedMetadata:{}}}),this)),this.emitChange()},et:function(e){var t=e.view.id;if(!this.P.viewStates[t])throw new Error("No view exists with id "+t);this.P.viewStates[t].isActive=e.isActive,e.isActive?this.P.viewStates[t].activatedTimestamp=e.timestamp:(this.P.viewStates[t].parsedMetadata={},this.P.viewStates[t].userSuppliedMetadata={}),this.emitChange()},tt:function(e){var t=e.pageId;if(!this.P.viewStates[t])throw new Error("No view exists with id "+t);i.merge(this.P.viewStates[t].parsedMetadata,e.metadata),this.emitChange()},nt:function(e){var t=e.pageId;if(!this.P.viewStates[t])throw new Error("No view exists with id "+t);i.merge(this.P.viewStates[t].userSuppliedMetadata,e.metadata),this.emitChange()},it:function(e){var t=e.pageId;this.P.viewStates[t]&&(this.P.viewStates[t].activationEventId=e.eventData.eventId,this.emitChange())},rt:function(e){i.extend(this.P.globalTags,e),this.emitChange()},ze:function(e){this.P.shouldBatch=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k)},getAll:function(){return a.safeReference(i.values(this.P))},getPagesMap:function(){return a.safeReference(this.P)},get:function(e){return a.safeReference(this.P[e])},getByApiName:function(e){return a.safeReference(i.find(i.values(this.P),{apiName:e}))},getNumberOfPages:function(){return i.keys(this.P).length},getAllViewsForActivationType:function(e){return i.filter(i.values(this.P),{activationType:e})},k:function(e){i.isEmpty(e.data.views)||(i.each(e.data.views,i.bind((function(e){a.deepFreeze(e),this.P[e.id]=e}),this)),this.emitChange())}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={profile:{},metadata:{}},this.on(r.SET_VISITOR_ATTRIBUTES,this.ot),this.on(r.LOAD_EXISTING_VISITOR_PROFILE,this.st)},getVisitorProfile:function(){return this.P.profile},getVisitorProfileMetadata:function(){return this.P.metadata},getAttribute:function(e,t){var n=this.P.profile;return t&&(n=n[t]||{}),i.cloneDeep(n[e])},getAttributeMetadata:function(e){return i.cloneDeep(this.P.metadata[e])},st:function(e){this.P.profile=e.profile,this.P.metadata=e.metadata,this.emitChange()},ot:function(e){var t,n;i.each(e.attributes,i.bind((function(e){t=this.P.profile,n=this.P.metadata,e.type&&(t=this.P.profile[e.type]=this.P.profile[e.type]||{}),t[e.key]=e.value,e.metadata&&i.forOwn(e.metadata,i.bind((function(t,i){e.type&&(n=this.P.metadata[e.type]=this.P.metadata[e.type]||{}),n[e.key]=n[e.key]||{},n[e.key][i]=t}),this))}),this)),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.ut)},getCustomBehavioralAttributes:function(){return i.filter(this.P,(function(e){return!!e.rule_json}))},getVisitorAttribute:function(e){var t=i.values(this.P);if(e.datasourceId&&(t=i.filter(t,{dcp_datasource_id:String(e.datasourceId)})),e.attributeName&&e.attributeId)throw new Error("Must not specify both attribute name and attribute ID");if(e.attributeId){var n=this.P[e.attributeId];if(!n)throw new Error("Unrecognized attribute ID: "+e.attributeId);return n}if(e.attributeName){var r=i.filter(t,{name:e.attributeName});if(!r.length)throw new Error("Unrecognized attribute name: "+e.attributeName);if(r.length>1)throw new Error("Too many attributes with name: "+e.attributeName);return r[0]}throw new Error("Must specify attribute name or attribute ID")},ut:function(e){i.isEmpty(e.data.visitorAttributes)||(i.each(e.data.visitorAttributes,i.bind((function(e){this.P[e.id]=e}),this)),this.emitChange())}}}),(function(e,t,n){var i=(n(2),n(7));n(58).Event;e.exports={initialize:function(){this.P={events:[],foreignEvents:{},foreignEventQueues:{}},this.on(i.SET_VISITOR_EVENTS,this.k),this.on(i.SET_FOREIGN_VISITOR_EVENTS,this.ct),this.on(i.SET_FOREIGN_VISITOR_EVENT_QUEUE,this.dt)},getEvents:function(){return this.P.events},getForeignEvents:function(){return this.P.foreignEvents},getForeignEventQueues:function(){return this.P.foreignEventQueues},k:function(e){this.P.events=e,this.emitChange()},ct:function(e){this.P.foreignEvents[e.key]=e.value},dt:function(e){this.P.foreignEventQueues[e.key]=e.value}}}),(function(e,t,n){function i(e,t,n,i,r){this[o.FIELDS.NAME]=e,this[o.FIELDS.TYPE]=t,a.isString(n)&&n.trim().length>0&&(this[o.FIELDS.CATEGORY]=n),i&&a.keys(i).length>0&&(this[o.FIELDS.OPTIONS]=i),a.isUndefined(r)||(this[o.FIELDS.REVENUE]=r)}function r(e,t,n,i){this.eventBase=e,this[o.FIELDS.TIME]=t,a.isUndefined(n)||(this[o.FIELDS.SESSION_ID]=n),a.isUndefined(i)||(this[o.FIELDS.SESSION_INDEX]=i)}var a=n(2),o=n(59),s=n(60).getFieldValue,u=n(61);t.EventBase=i,i.prototype.digest=function(){var e=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},t=[];if(t.push(e(o.FIELDS.NAME,this[o.FIELDS.NAME])),t.push(e(o.FIELDS.TYPE,this[o.FIELDS.TYPE])),this[o.FIELDS.CATEGORY]&&t.push(e(o.FIELDS.CATEGORY,this[o.FIELDS.CATEGORY])),this[o.FIELDS.REVENUE]&&t.push(e(o.FIELDS.REVENUE,this[o.FIELDS.REVENUE])),!this[o.FIELDS.OPTIONS])return t.join("&");var n=this[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(n),(function(e){return n.hasOwnProperty(e)}));i=i.sort();for(var r=0;r<i.length;r++)t.push(e(i[r],n[i[r]]));return t.join("&")},i.prototype.hash=function(){return this.hash_?this.hash_:(this.hash_=u.hashToHex(u.toByteString(this.digest()),u.Seed.BEHAVIOR_EVENT),this.hash_)},i.prototype.setHash=function(e){this.hash_=e},i.prototype.reHash=function(){this.hash_=null,this.hash()},i.prototype.equals=function(e){if(this.hash()!==e.hash())return!1;if(this[o.FIELDS.NAME]!==e[o.FIELDS.NAME]||this[o.FIELDS.TYPE]!==e[o.FIELDS.TYPE]||this[o.FIELDS.CATEGORY]!==e[o.FIELDS.CATEGORY]||this[o.FIELDS.REVENUE]!==e[o.FIELDS.REVENUE])return!1;if(!this[o.FIELDS.OPTIONS]&&!e[o.FIELDS.OPTIONS])return!0;var t=this[o.FIELDS.OPTIONS]||{},n=e[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(t),(function(e){return t.hasOwnProperty(e)})),r=a.filter(a.keys(n),(function(e){return n.hasOwnProperty(e)}));if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++){var u=i[s];if(!n.hasOwnProperty(u)||t[u]!==n[u])return!1}return!0},i.prototype.getValueOrDefault=function(e,t){var n=s(this,e);return a.isUndefined(n)?t:n},i.prototype.setFieldValue=function(e,t){e!==o.FIELDS.NAME&&e!==o.FIELDS.TYPE&&e!==o.FIELDS.CATEGORY&&e!==o.FIELDS.REVENUE&&e!==o.FIELDS.OPTIONS||(this[e]=t,this.reHash())},t.Event=r,r.prototype.getValueOrDefault=function(e,t){if(0===e.length)return this;var n={};n[o.FIELDS.TIME]=this[o.FIELDS.TIME],n[o.FIELDS.SESSION_ID]=this[o.FIELDS.SESSION_ID],n[o.FIELDS.SESSION_INDEX]=this[o.FIELDS.SESSION_INDEX];var i=s(n,e);return a.isUndefined(i)?this.eventBase.getValueOrDefault(e,t):i},r.prototype.setFieldValue=function(e,t){e===o.FIELDS.TIME||e===o.FIELDS.SESSION_ID||e===o.FIELDS.SESSION_INDEX?this[e]=t:this.eventBase.setFieldValue(e,t)};var c={n:"name",y:"type",c:"category",r:"revenue",s:"session_id",o:"tags",si:"session_index"};r.prototype.readableEvent=function(){var e,t,n=function(e){return a.isString(e)?'"'+e+'"':e},i=this,r=[];a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.SESSION_ID],(function(o){e=c[o],t=i.getValueOrDefault([o]),a.isUndefined(t)||r.push(e+": "+n(t))}));var s=[];if(e=c[o.FIELDS.OPTIONS],t=i.getValueOrDefault([o.FIELDS.OPTIONS]),a.isUndefined(t)||(a.each(t,(function(e,t){s.push(t+": "+String(n(e)))})),r.push(e+": {\n\t\t"+s.join(",\n\t\t")+"\n\t}")),t=i.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(t)&&(t=n(new Date(t).toString())),!a.isUndefined(t)){var u="timestamp";r.push(u+": "+t)}return"{\n\t"+r.join(",\n\t")+"\n}"},r.prototype.toObject=function(e){var t,n,i={},r=this;a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.OPTIONS,o.FIELDS.SESSION_INDEX],(function(e){t=c[e],n=r.getValueOrDefault([e],e===o.FIELDS.OPTIONS?{}:void 0),a.isUndefined(n)||(i[t]=n)}));var s=c[o.FIELDS.OPTIONS],u=c[o.FIELDS.REVENUE];if(e&&e.revenueAsTag&&i[u]&&(i[s]=i[s]||{},i[s][u]=i[u],delete i[u]),n=r.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(n))if(e&&e.timeAsTimestamp){var l="timestamp";i[l]=new Date(n)}else{var d="time";i[d]=n}return i}}),(function(e,t){t.FIELDS={NAME:"n",TIME:"t",TYPE:"y",CATEGORY:"c",REVENUE:"r",SESSION_ID:"s",OPTIONS:"o",SESSION_INDEX:"si"},t.FIELDS_V0_2={name:t.FIELDS.NAME,time:t.FIELDS.TIME,type:t.FIELDS.TYPE,category:t.FIELDS.CATEGORY,tags:t.FIELDS.OPTIONS,session_index:t.FIELDS.SESSION_INDEX}}),(function(e,t,n){var i=n(2);t.getFieldValue=function(e,t){if(i.isArray(t)){for(var n=e,r=0;r<t.length;r++){var a=t[r];if(!i.isObject(n)||!n.hasOwnProperty(a))return;n=n[a]}return n}}}),(function(e,t,n){var i=n(62).v3,r={IGNORING:0,BUCKETING:1,FALLBACK:2,HOLDBACK:3,BEHAVIOR_EVENT:2716770798},a=Math.pow(2,32),o=function(e,t,n){return Math.floor(u(e,t)*n)},s=function(e,t){var n=i(e,t);return(n>>>16).toString(16)+(65535&n).toString(16)},u=function(e,t){var n=i(e,t);return(n>>>0)/a},c=function(e){var t=String.fromCharCode;return e.replace(/[\S\s]/gi,(function(e){e=e.charCodeAt(0);var n=t(255&e);return e>255&&(n=t(e>>>8&255)+n),e>65535&&(n=t(e>>>16)+n),n}))};e.exports={Seed:r,hashToHex:s,hashToInt:o,hashToReal:u,toByteString:c}}),(function(e,t,n){!(function(){function t(e,t){for(var n,i=e.length,r=t^i,a=0;i>=4;)n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^n,i-=4,++a;switch(i){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r^=255&e.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>15,r>>>0}function n(e,t){var n,i,r,a,o,s,u,c;for(n=3&e.length,i=e.length-n,r=t,o=3432918353,s=461845907,c=0;c<i;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,r^=u,r=r<<13|r>>>19,a=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&a)+27492+(((a>>>16)+58964&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:u^=255&e.charCodeAt(c),u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,r^=u}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,r>>>0}var i=n;i.v2=t,i.v3=n;e.exports=i})()}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.P={baseMap:{},eventQueue:[],lastEvent:null,initialized:!1,cleared:!1},this.on(i.UPDATE_BEHAVIOR_STORE,this.ft)},getBaseMap:function(){return this.P.baseMap},getEventQueue:function(){return this.P.eventQueue},getLastEvent:function(){return this.P.lastEvent},getCleared:function(){return this.P.cleared},getInitialized:function(){return this.P.initialized},ft:function(e){this.P[e.key]=e.value}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={randomId:null},this.on(r.SET_VISITOR_ID,this.k)},getBucketingId:function(){return this.getRandomId()},getRandomId:function(){return this.P.randomId},k:function(e){i.extend(this.P,e),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(23);e.exports={initialize:function(){this.P={variationIdMap:{},preferredLayerMap:{}},this.on(r.UPDATE_VARIATION_ID_MAP,this.pt),this.on(r.MERGE_VARIATION_ID_MAP,this.ht),this.on(r.UPDATE_PREFERRED_LAYER_MAP,this._t),this.on(r.MERGE_PREFERRED_LAYER_MAP,this.vt)},getVariationIdMap:function(){return i.cloneDeep(this.P.variationIdMap)},getVariationIdMapString:function(){return a.stringify(this.P.variationIdMap)},pt:function(e){var t=this.P.variationIdMap,n=t[e.layerId]||{};n[e.experimentId]!==e.variationId&&(n[e.experimentId]=e.variationId,this.P.variationIdMap[e.layerId]=n,this.emitChange())},ht:function(e){var t=this.getVariationIdMap(),n=e.variationIdMap;i.merge(n,t),this.P.variationIdMap=n,this.emitChange()},getPreferredLayerMap:function(){return i.cloneDeep(this.P.preferredLayerMap)},getPreferredLayerMapString:function(){return a.stringify(this.P.preferredLayerMap)},getPreferredLayerId:function(e){return this.P.preferredLayerMap[e]},_t:function(e){this.P.preferredLayerMap[e.groupId]!==e.layerId&&(this.P.preferredLayerMap[e.groupId]=e.layerId,this.emitChange())},vt:function(e){var t=this.getPreferredLayerMap(),n=e.preferredLayerMap;i.merge(n,t),this.P.preferredLayerMap=n,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.P={frames:[],defaultFrame:null,messages:[],subscribers:[],canonicalOrigins:null,disabled:!1},this.on(r.XDOMAIN_SET_DEFAULT_FRAME,this.Et),this.on(r.XDOMAIN_ADD_FRAME,this.mt),this.on(r.XDOMAIN_SET_MESSAGE,this.It),this.on(r.XDOMAIN_ADD_SUBSCRIBER,this.yt),this.on(r.XDOMAIN_SET_CANONICAL_ORIGINS,this.St),this.on(r.XDOMAIN_SET_DISABLED,this.Tt)},getMessages:function(){return i.cloneDeep(this.P.messages)},getNextMessageId:function(){return this.P.messages.length},getMessageById:function(e){return this.P.messages[e]},getSubscribers:function(){return this.P.subscribers},getFrames:function(){return this.P.frames},getNextFrameId:function(){return this.P.frames.length},getDefaultFrame:function(){return this.P.defaultFrame},getCanonicalOrigins:function(){return i.cloneDeep(this.P.canonicalOrigins)},isDisabled:function(){return this.P.disabled},Et:function(e){this.P.defaultFrame=e},mt:function(e){this.P.frames.push(e)},It:function(e){this.P.messages[e.messageId]=e.message},yt:function(e){this.P.subscribers.push(e.subscriber)},St:function(e){this.P.canonicalOrigins=e.canonicalOrigins},Tt:function(e){this.P.disabled=e.disabled}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.P={},this.on(r.DATA_LOADED,this.k)},k:function(e){i.isEmpty(e.data.groups)||(i.each(e.data.groups,i.bind((function(e){a.deepFreeze(e),this.P[e.id]=e}),this)),this.emitChange())},getAll:function(){return a.safeReference(i.values(this.P))},getGroupsMap:function(){return a.safeReference(this.P)},get:function(e){return a.safeReference(this.P[e])}}}),(function(e,t,n){var i=n(69);t.initializeStore=i.initialize,t.addEvent=i.addEvent,t.getEvents=i.getEvents,t.usageInBytes=i.usageInBytes}),(function(e,t,n){function i(e){I.dispatch(v.SET_VISITOR_EVENTS,e)}function r(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"baseMap",value:e})}function a(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"eventQueue",value:e})}function o(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"lastEvent",value:e})}function s(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"cleared",value:e})}function u(){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"initialized",value:!0})}function c(){return O.getEvents()}function l(){return N.getBaseMap()}function d(){return N.getEventQueue()}function f(){return N.getLastEvent()}function p(){return N.getCleared()}function g(){return N.getInitialized()}function h(){return i(c().concat(d())),a([]),c().length>L&&(i(c().slice(-L)),!0)}var _=n(2),v=n(7),E=n(21),m=n(70),I=n(9),y=n(20),S=n(71),T=t,A=n(58).Event,b=n(59),w=n(58).EventBase,R=n(85),D=n(16),O=D.get("stores/visitor_events"),N=D.get("stores/visitor_events_manager"),C={EVENTBASE:"eb",HASH:"h",TIMEBASE:"tb",TIMESTAMPS:"ts",DELTA:"d",INDEX:"i"},L=1e3;t.initialize=function(e,t){if(!g()){T.At(e,t);var n=c();n.length>0&&o(n[n.length-1]);var i=d();i.length>0&&o(i[i.length-1]),u()}},t.addEvent=function(e){y.debug("Behavior store: adding event",e);var t=T.bt(e);o(t),a(d().concat(t)),R.reindexIfNecessary(f(),c(),d()),T.wt(d())},t.getEvents=function(){return d().length>0&&(h()&&R.sessionize(c()),T.Rt(c()),T.wt(d())),c()},T.At=function(e,t){T.Dt(e,t)&&(T.Rt(c()),T.wt(d())),R.sessionize(c())},T.Dt=function(e,t){if(0===e.length&&0===t.length)return i([]),a([]),!1;var n=!1,r=e[0]||t[0];return C.EVENTBASE in r?(i(T.Ot(e)),a(T.Ot(t))):(n=!0,i(T.Nt(e)),a(T.Nt(t))),d().length>0&&(h(),n=!0),i(T._updateBaseMapAndMaybeDedupe(c())),T._migrateEventBasesAndUpdateStore()&&(n=!0),n},T.Nt=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=T.Ct(i);t[n]=new A(r,i[b.FIELDS.TIME])}return t},T._migrateEventBasesAndUpdateStore=function(){var e=!1,t=T.Lt();return R.applyMigrations(t)&&(e=!0,r({}),i(T._updateBaseMapAndMaybeDedupe(c())),a(T._updateBaseMapAndMaybeDedupe(d()))),e},T.Pt=function(){return E.now()},T.bt=function(e){var t,n=e.name,i=e.type||"default",r=e.category||m.OTHER,a=e.tags||{};e.revenue&&(t=e.revenue);var o=new w(n,i,r,a,t);o=T.Vt(o);var s=T.Pt(),u=new A(o,s,-1);return R.updateSessionId(f(),u),R.updateSessionIndex(f(),u),u},T._updateBaseMapAndMaybeDedupe=function(e){for(var t=0;t<e.length;t++)e[t].eventBase=T.Vt(e[t].eventBase);return e},T.Rt=function(e){var t=T.xt(e);S.persistBehaviorEvents(t)},T.wt=function(e){var t=T.xt(e);S.persistBehaviorEventQueue(t)},T.kt=function(){p()||(i([]),a([]),T.Rt(c()),T.wt(d()),r({}),o(null),s(!0))},T.Vt=function(e){var t=e.hash(),n=l(),i=n[t];if(_.isUndefined(i))return n[t]=[e],r(n),e;for(var a=0;a<i.length;a++)if(e.equals(i[a]))return i[a];return i.push(e),r(n),e},T.Lt=function(){var e=[],t=l();for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(t[n]));return e},T.xt=function(e){for(var t=function(e){var t={};t[b.FIELDS.NAME]=e.getValueOrDefault([b.FIELDS.NAME]),t[b.FIELDS.TYPE]=e.getValueOrDefault([b.FIELDS.TYPE]);var n=e.getValueOrDefault([b.FIELDS.CATEGORY]);_.isUndefined(n)||(t[b.FIELDS.CATEGORY]=n);var i=e.getValueOrDefault([b.FIELDS.REVENUE]);_.isUndefined(i)||(t[b.FIELDS.REVENUE]=i);var r=e.getValueOrDefault([b.FIELDS.OPTIONS]);return _.isUndefined(r)||(t[b.FIELDS.OPTIONS]=r),t},n=C,i=[],r="_idx_",a=0;a<e.length;a++){var o,s,u=e[a],c=u.eventBase;if(c.hasOwnProperty(r)){o=i[c[r]];var l=u[b.FIELDS.TIME]-(o[n.TIMEBASE]||0);s={},s[n.DELTA]=l,s[n.INDEX]=a,o[n.TIMESTAMPS].push(s)}else o={},o[n.EVENTBASE]=t(u),o[n.HASH]=c.hash(),o[n.TIMEBASE]=u[b.FIELDS.TIME],s={},s[n.DELTA]=0,s[n.INDEX]=a,o[n.TIMESTAMPS]=[s],i.push(o),c[r]=i.length-1}for(a=0;a<e.length;a++)delete e[a].eventBase[r];return i},T.Ct=function(e,t){var n=new w(e[b.FIELDS.NAME],e[b.FIELDS.TYPE],e[b.FIELDS.CATEGORY],e[b.FIELDS.OPTIONS],e[b.FIELDS.REVENUE]);return _.isUndefined(t)||n.setHash(t),n},T.Ot=function(e){for(var t=C,n=[],i=0;i<e.length;i++)for(var r=e[i],a=T.Ct(r[t.EVENTBASE],r[t.HASH]),o=r[t.TIMEBASE],s=r[t.TIMESTAMPS],u=0;u<s.length;u++){var c=s[u],l=new A(a,o+c[t.DELTA]),d=c[t.INDEX];n[d]=l}return n},t.deserialize=function(e){return T.Ot(e)},t.mergeAllEvents=function(e){var t=[].concat.apply([],e);return t.sort(R.sessionSortPredicate),R.sessionize(t),t}}),(function(e,t){e.exports={OTHER:"other"}}),(function(e,t,n){function i(){return u(U.LAYER_MAP)||{}}function r(e,t){R.dispatch(D.UPDATE_PREFERRED_LAYER_MAP,{groupId:e,layerId:t})}function a(){var e=Y.getPreferredLayerMapString();p(U.LAYER_MAP,e,!0)}function o(e){R.dispatch(D.SET_TRACKER_PERSISTABLE_STATE,e)}function s(e,t){function n(e,n){var i;t.attributionType&&(i=L.now()),R.dispatch(D.SET_VISITOR_ATTRIBUTES,{attributes:[{key:e,value:n,metadata:{lastModified:i}}]})}if(t.getter){var i,r=t.provides;if(!t.isSticky||w.isUndefined(e[r]))try{var a=P.evaluate(t.getter);w.isFunction(a)&&(a=a((function(){return e[r]}),(function(e){return n(r,e)}))),w.isUndefined(a)||(t.isAsync?(i=a.then((function(e){n(r,e)}),(function(e){F.warn('Failed to evaluate provider for "'+t.provides+'"; error was:',e)})),R.dispatch(D.SET_VISITOR_ATTRIBUTE_PENDING,{key:r,pending:i})):n(r,a))}catch(e){F.warn('Failed to evaluate getter for provider for "'+t.provides+'"; error was: '+e.message)}return i}}function u(e){var t=g(e),n=k.getItem(t);if(!n){var i=h(e);n=k.getItem(i),f(e,n)}return w.isString(n)&&(n=b(n)),n}function c(e){var t=[];return w.each(e,(function(e){w.each(e.item,(function(n){n.namespace=e.namespace,t.push(n)}))})),t}function l(e){var t;return t=e.layerId?e:{layerId:e.i,pageId:e.p,decisionTimestamp:e.t,decisionTicket:{audienceIds:e.a||[]},decision:{layerId:e.i,experimentId:e.x||null,variationId:e.v||null,isLayerHoldback:e.h||!1}}}function d(e){var t=H.getBucketingId(),n=[],i=t+"\\$\\$([^$]+?)\\$\\$"+e,r=new RegExp(i);return w.each(k.keys(),(function(e){var i=e.match(r);if(i){var a={namespace:i[1],userId:t,item:b(k.getItem(e))};n.push(a)}})),n}function f(e,t){var n=g(e),i=h(e);k.setItem(n,t),k.removeItem(i)}function p(e,t,i){try{var r=g(e);i||(t=x.stringify(t));try{k.removeItem(h(e)),k.setItem(r,t)}catch(e){throw F.warn("Visitor / Unable to set localStorage key, error was:",e),new Error("Unable to set localStorage")}n(81).setItem(r,t)}catch(e){F.warn("Unable to persist visitor data:",e.message);
}}function g(e){var n=H.getBucketingId();if(!n)throw new Error("Visitor bucketingId not set");var i=t.getNamespace();if(!i)throw new Error("Namespace is not set");return[n,i,e].join("$$")}function h(e){var t=H.getBucketingId();if(!t)throw new Error("Cannot get legacy key: visitor bucketingId not set");return[t,e].join("$$")}function _(e,t){if(E(e,g(U.EVENT_QUEUE)))R.dispatch(D.SET_FOREIGN_VISITOR_EVENT_QUEUE,{key:e,value:N.deserialize(b(t))});else if(E(e,g(U.EVENTS)))R.dispatch(D.SET_FOREIGN_VISITOR_EVENTS,{key:e,value:N.deserialize(b(t))});else if(E(e,g(U.LAYER_STATES)))R.dispatch(D.LOAD_PERSISTED_LAYER_STATES,{layerStates:w.map(b(t),l),merge:!0});else if(E(e,g(U.VARIATION_MAP)))R.dispatch(D.MERGE_VARIATION_ID_MAP,{variationIdMap:b(t)});else if(E(e,g(U.VISITOR_PROFILE))){var n=["custom"],i=b(t);w.each(n,(function(e){var t=z.getPlugin(V.PluginTypes.visitorProfileProviders,e);if(t){if(i.profile&&i.metadata){var n=v(i,e,t.attributionType);if(!w.isEmpty(n)){var r=[];w.forOwn(n.data,(function(t,i){var a=n.metadata[i],o={key:i,value:t,type:e,metadata:a};r.push(o)})),R.dispatch(D.SET_VISITOR_ATTRIBUTES,{attributes:r})}}}else F.debug("Attribute type",e,"not used by any audiences")}))}}function v(e,t,n){var i=K.getAttribute(t),r=K.getAttributeMetadata(t),a=e.profile[t],o=e.metadata[t];if(w.isEmpty(i))return{data:a,metadata:o};var s={};return w.forOwn(a,(function(e,t){var i;r&&r[t]&&(i=r[t].lastModified);var a;o&&o[t]&&(a=o[t].lastModified),(n===V.AttributionTypes.FIRST_TOUCH&&i>=a||n===V.AttributionTypes.LAST_TOUCH&&a>=i||w.isUndefined(i)&&a)&&(s.data=s.data||{},s.data[t]=e,a&&(s.metadata=s.metadata||{},s.metadata[t]=s.metadata[t]||{},s.metadata[t].lastModified=a))})),s}function E(e,t){return e.indexOf(t)>0}function m(){var e=K.getVisitorProfile(),t=K.getVisitorProfileMetadata(),n=z.getAllPlugins(V.PluginTypes.visitorProfileProviders);if(n){var i=w.reduce(n,(function(e,t){return t.provides&&(e[t.provides]=t),e}),{});e=w.omitBy(e,(function(e,t){var n=i[t];return n&&n.isTransient}))}return{profile:e,metadata:t}}function I(e,t){O.initializeStore(e,t)}function y(e){R.dispatch(D.LOAD_PERSISTED_LAYER_STATES,{layerStates:w.filter(e,(function(e){return!!e.decision}))})}function S(e){e=w.extend({lastSessionTimestamp:0,sessionId:null},e),R.dispatch(D.LOAD_SESSION_STATE,e)}function T(){return"oeu"+L.now()+"r"+Math.random()}function A(e){var t,n,i=z.getAllPlugins(V.PluginTypes.visitorProfileProviders),r=w.filter(i,(function(e){return w.isFunction(e.restorer)}));e.profile&&e.metadata?(t=e.profile,n=e.metadata):(t=e,n={}),t=w.reduce(t,(function(e,t,n){var i=t,a=w.find(r,{provides:n});return a&&(i=a.restorer(t)),e[n]=i,e}),{}),R.dispatch(D.LOAD_EXISTING_VISITOR_PROFILE,{profile:t,metadata:n})}function b(e){try{return x.parse(e)}catch(t){return F.debug("Failed to parse: ",e,t),null}}var w=n(2),R=n(9),D=n(7),O=n(68),N=n(69),C=n(72),L=n(21),P=n(16),V=n(22),x=n(23),k=n(78).LocalStorage,F=n(20),M=n(12).Promise,U=n(22).VisitorStorageKeys,G=P.get("stores/global"),B=P.get("stores/layer"),z=P.get("stores/plugins"),j=P.get("stores/session"),H=P.get("stores/visitor_id"),Y=P.get("stores/visitor_bucketing"),K=P.get("stores/visitor"),q=P.get("stores/provider_status");t.getIdFromCookies=function(){var e=t.getCurrentId();return e||(e=T()),{randomId:e}},t.getCurrentId=function(){return C.get(V.COOKIES.VISITOR_ID)},t.hasSomeData=function(){return k.keys().length>0},t.setId=function(e){var n=H.getBucketingId();R.dispatch(D.SET_VISITOR_ID,e),H.getBucketingId()!==n&&t.loadData();try{t.persistVisitorId(e)}catch(e){if(F.error("Visitor / Unable to persist visitorId, disabling tracking"),R.dispatch(D.LOAD_DIRECTIVE,{trackingDisabled:!0}),e instanceof C.MismatchError)throw F.error("Visitor / Cookie not set to correct value:",e),new Error("Cookie mismatch error while persisting visitorId");throw e}t.refreshSession()},t.getVariationIdMap=function(){return u(U.VARIATION_MAP)||{}},t.updateVariationIdMap=function(e,t,n){R.dispatch(D.UPDATE_VARIATION_ID_MAP,{layerId:e,experimentId:t,variationId:n})},t.persistVariationIdMap=function(){var e=Y.getVariationIdMapString();p(U.VARIATION_MAP,e,!0)},t.getPreferredLayerMap=i,t.updatePreferredLayerMap=r,t.persistTrackerOptimizelyData=function(e){p(U.TRACKER_OPTIMIZELY,e)},t.refreshSession=function(){R.dispatch(D.REFRESH_SESSION)},t.populateEagerVisitorData=function(e,n){var i=w.filter(e,(function(e){return!e.isLazy})),r=t.populateVisitorData(i,n);return r},t.populateLazyVisitorData=function(e,n){var i=w.filter(e,(function(e){return e.isLazy}));return t.populateVisitorData(i,n)},t.populateVisitorData=function(e,t){t=t||{};var n=w.partial(s,t),i=w(e).filter({isAsync:!0}).map(n).filter().value();return w.forEach(w.filter(e,(function(e){return!e.isAsync})),n),i.length>0?M.all(i):M.resolve()},t.loadData=function(){I(u(U.EVENTS)||[],u(U.EVENT_QUEUE)||[]);var e=d(U.LAYER_STATES);w.forEach(e,(function(e){e.item=w.map(e.item,l)})),y(c(e)),S(u(U.SESSION_STATE)||{}),A(u(U.VISITOR_PROFILE)||{});var n=u(U.TRACKER_OPTIMIZELY);n&&o(n),t.loadForeignData(),t.removeLegacySessionStateCookies()},t.persistBehaviorEvents=function(e){p(U.EVENTS,e)},t.persistBehaviorEventQueue=function(e){p(U.EVENT_QUEUE,e)},t.persistLayerStates=function(){var e=B.getLayerStates(t.getNamespace());e=w.map(e,(function(e){return w.omit(e,"namespace")})),p(U.LAYER_STATES,e)},t.persistSessionState=function(){p(U.SESSION_STATE,j.getState())},t.persistVisitorProfile=function(){p(U.VISITOR_PROFILE,m())},t.persistVisitorBucketingStore=function(){t.persistVariationIdMap(),a()},t.getUserIdFromKey=function(e,n){var i;return w.includes(e,n)&&w.includes(e,"_")&&w.includes(e,"$$")&&w.includes(e.slice(e.indexOf("$$")),t.getNamespace())&&(i=e.slice(e.indexOf("_")+1,e.indexOf("$$"))),i},t.persistVisitorId=function(e){C.remove(V.COOKIES.VISITOR_UUID),e.randomId&&C.set(V.COOKIES.VISITOR_ID,e.randomId)},t.getAttribute=function(e){return K.getAttribute(e)},t.getPendingAttributeValue=function(e){return q.getPendingAttributeValue(e)},t.loadForeignData=function(){w.each(k.keys(),(function(e){var t=k.getItem(e);t&&_(e,t)}))},t.getNamespace=function(){return G.getNamespace()},t.removeLegacySessionStateCookies=function(){var e=C.getAll();w.forEach(w.keys(e),(function(e){0===e.indexOf(V.COOKIES.SESSION_STATE+"$$")&&C.remove(e)}))}}),(function(e,t,n){function i(e,n){n!==!1&&(n=!0);for(var i,a,o=e.hostname.split("."),s=[],u=null,l=o.length-1;l>=0;l--)if(s.unshift(o[l]),i=s.join("."),!r.includes(h,i)){a={domain:n?"."+i:i};try{t.set(_,Math.random().toString(),a),t.remove(_,a),u=a.domain;break}catch(e){}}return d.dispatch(c.SET_COOKIE_DOMAIN,u),u}var r=n(2),a=n(73).create,o=n(21),s=n(77),u=n(36),c=n(7),l=n(16),d=n(9),f=l.get("stores/cookie_options"),p=t.SetError=a("CookieSetError"),g=t.MismatchError=a("CookieMismatchError");t.getAll=function(e){r.isUndefined(e)&&(e=!0);var n,i,a,o,u;n=s.getCookieString().split(/\s*;\s*/);var c={};for(a=0;a<n.length;a++)if(i=n[a],o=i.indexOf("="),o>0&&(u=t.safeDecodeURIComponent(i.substring(0,o)),void 0===c[u])){var l=i.substring(o+1);e&&(l=t.safeDecodeURIComponent(l)),c[u]=l}return c},t.safeDecodeURIComponent=function(e){try{return decodeURIComponent(e)}catch(t){return e}},t.get=function(e,n){var i=t.getAll(n);return i[e]},t.set=function(e,n,a,c){a=r.extend({encodeValue:!0},a),c!==!1&&(c=!0);var l=[];if(r.isUndefined(a.domain)){var d=f.getCurrentDomain();d||(d=i(u.getLocation(),!0)),a.domain=d}if(a.domain&&l.push("domain="+a.domain),r.isUndefined(a.path)&&(a.path="/"),a.path&&l.push("path="+a.path),r.isUndefined(a.expires)){var h=r.isUndefined(a.maxAge)?f.getDefaultAgeInSeconds():a.maxAge;a.expires=new Date(o.now()+1e3*h)}if(r.isUndefined(a.expires)||l.push("expires="+a.expires.toUTCString()),a.secure&&l.push("secure"),l=l.join(";"),s.setCookie(e+"="+(a.encodeValue?encodeURIComponent(n):n)+";"+l),c){var _=a.encodeValue,v=t.get(e,_);if(v!==n){if(!v)throw new p('Failed to set cookie "'+e+'"');throw new g('Expected "'+n+'" for "'+e+'", got "'+v+'"')}}},t.remove=function(e,n){t.set(e,null,r.extend({},n,{expires:new Date(0)}),!1)};var h=["optimizely.test"],_="optimizelyDomainTestCookie"}),(function(e,t,n){var i=n(74),r=i("InternalError");t.BaseError=r,t.create=function(e){return i(e,r)}}),(function(e,t,n){function i(e,t){function n(t){if(!(this instanceof n))return new n(t);try{throw new Error(t)}catch(t){t.name=e,this.stack=t.stack}r&&this.stack&&(this.stack=a(this.stack,e,t)),this.message=t||"",this.name=e}return n.prototype=new(t||Error),n.prototype.constructor=n,n.prototype.inspect=function(){return this.message?"["+e+": "+this.message+"]":"["+e+"]"},n.prototype.name=e,n}var r=n(75)(),a=n(76);e.exports=i}),(function(e,t){"use strict";e.exports=function(){var e=new Error("yep");return!!e.stack&&"Error: yep\n"===e.stack.substr(0,11)}}),(function(e,t){"use strict";e.exports=function(e,t,n){var i=t;return n&&(i+=": "+n),e=i+e.slice(e.indexOf("\n"))}}),(function(e,t,n){function i(){return"loading"===t.getReadyState()}var r=n(16),a=r.get("stores/global");t.getDocumentElement=function(){return document.documentElement},t.getCookieString=function(){return document.cookie||""},t.setCookie=function(e){document.cookie=e},t.querySelector=function(e){return document.querySelector(e)},t.querySelectorAll=function(e){return document.querySelectorAll(e)},t.childrenOf=function(e){return Array.prototype.slice.call(e.querySelectorAll("*"))},t.createElement=function(e){return document.createElement(e)},t.isReady=function(){return a.domContentLoadedHasFired()||"interactive"===document.readyState||"complete"===document.readyState},t.isLoaded=function(){return"complete"===document.readyState},t.addReadyHandler=function(e){return document.addEventListener("DOMContentLoaded",e),function(){t.removeReadyHandler(e)}},t.removeReadyHandler=function(e){return function(){document.removeEventListener("DOMContentLoaded",e)}},t.getReferrer=function(){return document.referrer},t.getReadyState=function(){return document.readyState},t.write=function(e){if(!i())throw new Error("Aborting attempt to write to already-loaded document");document.write(e)},t.appendToHead=function(e){return t.appendTo(document.head,e)},t.appendTo=function(e,t){e.appendChild(t)},t.addEventListener=function(e,t,n){return document.addEventListener(e,t,n),function(){document.removeEventListener(e,t,n)}},t.getCurrentScript=function(){if(document.currentScript)return document.currentScript},t.parentElement=function(e){for(var t=e.parentNode;t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;return t}}),(function(e,t,n){var i,r,a="optimizely_data",o=n(73).create,s=n(79),u=n(36),c=t.Error=o("StorageError");try{r=u.getGlobal("localStorage")}catch(e){throw new c("Unable to read localStorage: "+e.toString())}if(!r)throw new c("localStorage is undefined");i=s.create(r,a),t.LocalStorage=i}),(function(e,t,n){function i(e,t){this.Ft=e,this.Mt=t}var r=n(2),a=n(20),o="$$";i.prototype.Ut=function(e){return[this.Mt,e].join(o)},i.prototype.Gt=function(e){return e.replace(this.Mt+o,"")},i.prototype.setItem=function(e,t){try{this.Ft.setItem(this.Ut(e),t)}catch(t){a.warn("Failed to save",e,"to localStorage:",t)}},i.prototype.removeItem=function(e){this.Ft.removeItem(this.Ut(e))},i.prototype.getItem=function(e){var t=null;try{t=this.Ft.getItem(this.Ut(e))}catch(e){}return t},i.prototype.keys=function(){var e=r.keys(this.Ft);return r.map(r.filter(e,r.bind((function(e){return r.includes(e,this.Mt)}),this)),r.bind(this.Gt,this))},i.prototype.allKeys=function(){return r.keys(this.Ft)},i.prototype.allValues=function(){return r.values(this.Ft)},e.exports={create:function(e,t){return new i(e,t)},mockStorage:{keys:function(){},getItem:function(e){},removeItem:function(e){},setItem:function(e,t){}}}}),(function(e,t,n){function i(){return u.getGlobal("performance")}var r=n(7),a=n(73).create,o=n(21),s=n(9),u=n(36),c=n(16),l=c.get("stores/rum"),d="optimizely:",f=t.Error=a("PerformanceError");t.time=function(e){if(l.getSampleRum()){var t=i();if(t&&t.mark){var n=d+e;t.clearMarks(n+"Begin"),t.mark(n+"Begin")}}},t.timeEnd=function(e){if(l.getSampleRum()){var t=i();if(t&&t.mark){var n=d+e,a=t.getEntriesByName(n+"Begin");if(0===a.length)throw new f("Called timeEnd without matching time: "+e);t.clearMarks(n+"End"),t.mark(n+"End");var o=t.getEntriesByName(n+"End"),u=e+"Time",c=o[0].startTime-a[0].startTime;s.dispatch(r.SET_PERFORMANCE_MARKS_DATA,{name:u,data:{startTime:Math.round(1e3*a[0].startTime)/1e3,duration:Math.round(1e3*c)/1e3}})}}},t.now=function(){var e=i();return e?e.now():o.now()}}),(function(e,t,n){function i(e){var t;if(!o.find(I.getFrames(),{origin:e.origin}))return void m.debug("XDomain","No frame found for origin: "+e.origin);try{t=h.parse(e.data)}catch(t){return void m.debug("XDomain","Ignoring malformed message event:",e)}if("ERROR"===t.type)l.dispatch(u.XDOMAIN_SET_DISABLED,{disabled:!0}),d.emitInternalError(new y("Xdomain Error: "+t.response));else if("SYNC"===t.type)o.each(I.getSubscribers(),(function(e){e(t.response.key,t.response.value)}));else{var n=I.getMessageById(t.id);if(!n){if(m.warn("XDomain","No stored message found for ID",t.id),o.isNumber(t.id)){var i=I.getNextMessageId();t.id>=i?d.emitInternalError(new y("Message ID is greater than expected maximum ID ("+t.id+">"+i+")")):t.id<0?d.emitInternalError(new y("Message ID is < 0: "+t.id)):d.emitInternalError(new y("No stored message found for message ID: "+t.id))}else d.emitInternalError(new y("Message ID is not a number: "+t.id));return}n.resolver(t.response),l.dispatch(u.XDOMAIN_SET_MESSAGE,{messageId:t.id,message:o.extend({},n,{endTime:p.now(),response:t.response})})}}function r(e,t){return t||(t=I.getDefaultFrame()),new s(function(n){var i={data:o.extend({},e,{id:I.getNextMessageId()}),resolver:n};t?I.isDisabled()||a(i,t):l.dispatch(u.XDOMAIN_SET_MESSAGE,{messageId:i.data.id,message:i})})}function a(e,t){var n=e.data;l.dispatch(u.XDOMAIN_SET_MESSAGE,{messageId:e.data.id,message:o.extend({},e,{startTime:p.now()})}),t.target.postMessage(h.stringify(n),t.origin)}var o=n(2),s=n(12).Promise,u=n(7),c=n(16),l=n(9),d=n(82),f=n(73).create,p=n(21),g=n(77),h=n(23),_=n(84),v=n(71),E=n(36),m=n(20),I=c.get("stores/xdomain"),y=t.Error=f("XDomainStorageError");t.setItem=function(e,t,n){return r({type:"PUT",key:e,value:t},n)},t.getItem=function(e,t){return r({type:"GET",key:e},t)},t.fetchAll=function(e){return r({type:"GETALL"},e)},t.subscribe=function(e){l.dispatch(u.XDOMAIN_ADD_SUBSCRIBER,{subscriber:e})},t.loadIframe=function(e,t){return new s(function(n){var i=g.createElement("iframe");i.src=e+t,i.hidden=!0,i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","-1"),i.style.display="none",i.height=0,i.width=0,i.onload=function(){var r={id:I.getNextFrameId(),target:i.contentWindow,origin:e,path:t};l.dispatch(u.XDOMAIN_ADD_FRAME,r),n(r)},g.appendTo(g.querySelector("body"),i)})},t.loadCanonicalOrigins=function(e){l.dispatch(u.XDOMAIN_SET_CANONICAL_ORIGINS,{canonicalOrigins:e})},t.getXDomainUserId=function(e,t){var n,i={};return o.each(t,(function(t){i[t]=[],o.each(o.keys(e),(function(e){var r=v.getUserIdFromKey(e,t);!n&&r&&(n=r),r&&!o.includes(i[t],r)&&i[t].push(r)}))})),m.debug("XDomain: Found userIds:",i),n},t.load=function(e,n){E.addEventListener("message",i);var r=function(){return!!g.querySelector("body")},s=function(){return t.loadIframe(e,n)};return _.pollFor(r).then(s).then((function(e){l.dispatch(u.XDOMAIN_SET_DEFAULT_FRAME,e),I.isDisabled()||o.each(I.getMessages(),(function(t){t.startTime||a(t,e)}))}))}}),(function(e,t,n){var i=n(83);t.emitError=function(e,t,n){var r=!0;i.emit({type:"error",name:e.name||"Error",data:{error:e,metadata:t}},n||!1,r)},t.emitInternalError=function(e,n){t.emitError(e,n,!0)},t.emitAnalyticsEvent=function(e,t){var n={type:"analytics",name:"trackEvent",data:e};i.emit(n,t)}}),(function(e,t,n){var i=n(2),r=n(5),a=n(7),o=n(82),s=n(16),u=n(9),c=n(20),l=s.get("stores/event_emitter");t.on=function(e){return e.token||(e.token=r.generate()),u.dispatch(a.ADD_EMITTER_HANDLER,e),e.token},t.off=function(e){u.dispatch(a.REMOVE_EMITTER_HANDLER,{token:e})},t.emit=function(e,t,n){var r=l.getHandlers(e,t);i.each(r,(function(i){try{i.handler.call({$di:s},e)}catch(r){!n&&i.emitErrors?(c.error("Error in handler for event:",e,r),o.emitError(r,null,t)):c.warn("Suppressed error in handler for event:",e,r)}}))}}),(function(e,t,n){var i=n(2),r=n(12).Promise,a=100,o=50;t.pollFor=function(e,t,n){var s,u;return i.isFunction(n)?u=n:(s=n||a,u=function(){return s--,s<-1}),t=t||o,new r(function(n,i){!(function r(){var a;if(!u()){try{var o=e();if(o)return n(o)}catch(e){a=e}return setTimeout(r,t)}i(a||new Error("Poll timed out"))})()})}}),(function(e,t,n){function i(e,n){var i;i=t.isInSameSession(e,n)?e.getValueOrDefault([s.FIELDS.SESSION_ID]):n.getValueOrDefault([s.FIELDS.TIME]),n.setFieldValue(s.FIELDS.SESSION_ID,i)}function r(e,n,i){var r,a=e.getValueOrDefault([s.FIELDS.SESSION_INDEX]);r=t.isInSameSession(n,e)?a:i?a+1:a-1,n.setFieldValue(s.FIELDS.SESSION_INDEX,r)}var a=n(58).Event,o=n(21),s=n(59),u=n(58).EventBase;t.CURRENT_SESSION_INDEX=0;var c=18e5;t.isInSameSession=function(e,t){var n=e.getValueOrDefault([s.FIELDS.TIME],0),i=t.getValueOrDefault([s.FIELDS.TIME],0);return Math.abs(n-i)<c},t.updateSessionId=function(e,t){if(!e)return void t.setFieldValue(s.FIELDS.SESSION_ID,t.getValueOrDefault([s.FIELDS.TIME]));var n=e.getValueOrDefault([s.FIELDS.TIME]),r=e.getValueOrDefault([s.FIELDS.SESSION_ID]),o=t.getValueOrDefault([s.FIELDS.TIME]);n="number"!=typeof n?o-36e5:n,r="number"!=typeof r?n:r,e=new a(new u("",""),n,r),i(e,t)},t.updateSessionIndex=function(e,t){if(!e)return void t.setFieldValue(s.FIELDS.SESSION_INDEX,0);var n=e.getValueOrDefault([s.FIELDS.TIME]),i=e.getValueOrDefault([s.FIELDS.SESSION_INDEX]),o=t.getValueOrDefault([s.FIELDS.TIME]),c=e.getValueOrDefault([s.FIELDS.SESSION_ID]);n="number"!=typeof n?o-36e5:n,i="number"!=typeof i?0:i,c="number"!=typeof c?n:c,e=new a(new u("",""),n,c,i),r(e,t,!1)},t.sessionize=function(e){var n=e.length;if(0!==n){e[0].setFieldValue(s.FIELDS.SESSION_ID,e[0].getValueOrDefault([s.FIELDS.TIME]));for(var a=1;a<n;a++)i(e[a-1],e[a]);var u=t.CURRENT_SESSION_INDEX,l=e[n-1].getValueOrDefault([s.FIELDS.TIME]),d=o.now();d-l>c&&(u+=1),e[n-1].setFieldValue(s.FIELDS.SESSION_INDEX,u);for(var a=n-1;a>0;a--)r(e[a],e[a-1],!0)}},t.reindexIfNecessary=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t].getValueOrDefault([s.FIELDS.SESSION_INDEX]);e[t].setFieldValue(s.FIELDS.SESSION_INDEX,n+1)}}e.getValueOrDefault([s.FIELDS.SESSION_INDEX])===-1&&(i(t),i(n))},t.sessionSortPredicate=function(e,t){return e[s.FIELDS.TIME]-t[s.FIELDS.TIME]},t.applyMigrations=function(e){return!1}}),(function(e,t,n){var i=n(2),r=n(7),a=n(21),o=n(9),s=n(23),u=n(20),c=n(12).Promise,l=n(87),d=3;t.isCORSSupported=function(){var e=l.get("XMLHttpRequest");return"withCredentials"in new e},t.request=function(e){return e=i.extend({method:"GET",async:!0,contentType:"text/plain;charset=UTF-8"},e),new c(function(n,r){if(!t.isCORSSupported())return r("CORS is not supported");var a=l.get("XMLHttpRequest"),o=new a;o.onload=function(){e.success&&e.success(o),n(o)},o.onerror=function(){e.error&&e.error(o),r(o)},i.isObject(e.data)&&(e.data=s.stringify(e.data)),o.open(e.method,e.url,e.async),o.setRequestHeader("Content-Type",e.contentType),o.send(e.data)})},t.retryableRequest=function(e,n,s,l){if(!n)return c.reject(new Error("No id specified for request."));if(!t.isCORSSupported())return c.reject(new Error("CORS is not supported."));i.isUndefined(l)&&(l=d),i.isUndefined(s)&&(s=0);var f={id:n,timeStamp:a.now(),data:e,retryCount:s};return o.dispatch(r.SET_PENDING_EVENT,f),u.debug("Sending event ",n),t.request(e).then((function(e){return o.dispatch(r.REMOVE_PENDING_EVENT,{id:n}),e}),(function(e){throw f.retryCount>=l?(o.dispatch(r.REMOVE_PENDING_EVENT,{id:n}),u.warn("Event ",f," could not be sent after ",l," attempts.")):(f.retryCount++,o.dispatch(r.SET_PENDING_EVENT,f),u.debug("Event ",f," failed to send, with error ",e," It will be retried ",l-s," times.")),e}))},t.sendBeacon=t.request}),(function(e,t,n){var i=n(2),r=n(7),a=n(21),o=n(16),s=n(77),u=n(22),c=n(9),l=n(20),d=o.get("stores/sandbox"),f=n(36);t.shouldSandbox=function(){return!1},t.get=function(e){if(!e)throw new Error("Name is required");if(t.shouldSandbox()){d.isInitialized()||p();var n=d.get(e);if(n)return n}return f.getGlobal(e)};var p=function(){try{var e="optimizely_"+a.now(),t=s.createElement("iframe");t.name=e,t.style.display="none",s.appendToHead(t);var n=t.contentWindow,o=t.contentDocument;o.write("<script></scr'+'ipt>"),o.close();var d=i.mapValues(u.SandboxedFunctions,(function(e){return n[e]}));c.dispatch(r.SANDBOXED_FUNCTIONS_ADDED,{sandboxedFunctions:d}),t.parentNode.removeChild(t)}catch(e){l.warn("Unable to create a sandbox: ",e)}}}),(function(e,t,n){var i=n(2),r=n(20),a=n(89),o=n(16),s=o.get("stores/plugins"),u=n(7),c=n(22),l=n(9),d=[n(103),n(104),n(123)],f=["disable","load","optOut"];t.push=function(e,t){var n,a,o,s;if(!i.isArray(e)&&i.isObject(e))s=i.isUndefined(e.version)?1:e.version,n=e.type,o=[e];else if(i.isArray(e))s=0,n=e[0],o=e.slice(1);else{if(!i.isString(e))return r.warn("API / Ignoring non-array/object/string argument:",e),!1;s=0,n=e,o=[]}if(d[s]&&(a=d[s][n]),t&&f.indexOf(n)===-1)return r.debug("API / Ignoring non high priority function:",n,o),!1;if(!a)return r.warn('API / No function found for "'+n+'" (v'+s+") with arguments:",o),!1;r.log('API / Executing: "'+n,'" with arguments:',o);try{a.apply(null,o),l.dispatch(u.RECORD_API_USAGE,{methodName:s?"v"+s+"."+n:n})}catch(e){r.error(e)}return!0},t.get=function(e){r.log('API / Getting module: "'+e+'"');var t=a[e];return t?i.isArray(t)&&(t=o.evaluate(t)):t=s.getPlugin(c.PluginTypes.apiModules,e),t?(l.dispatch(u.RECORD_API_USAGE,{methodName:"get."+e}),t):void r.warn('Module "'+e+'" not found.')}}),(function(e,t,n){function i(e,t,n,i){var r=e.getLayerState(i),a=t.get(i),s=n.get();if(!r||!a)return s?{layer:{name:s.layerName,id:s.layerId,policy:s.layerPolicy,integrationStringVersion:s.integrationStringVersion},experiment:{name:s.experimentName,id:s.experimentId},variation:{name:s.variationName,id:s.variationId},isLayerHoldback:!1}:null;if(d.isSingleExperimentPolicy(a.policy)&&r.decision.isLayerHoldback)return null;var u=r.decision.experimentId,c=r.decision.variationId;if(!u||!c)return null;var l,f;return(l=o.find(a.experiments,{id:u}))?(f=o.find(l.variations,{id:c}),f?{layer:{name:a.name,id:a.id,policy:a.policy,integrationStringVersion:a.integrationStringVersion},experiment:{name:l.name,id:l.id},variation:{name:f.name,id:f.id},isLayerHoldback:r.decision.isLayerHoldback}:null):null}function r(e,t,n,i,r,s){var u=[],c=e.getLayerStates();s.onlySingleExperiments&&(c=o.filter(c,(function(e){var n=t.get(e.layerId);return n&&d.isSingleExperimentPolicy(n.policy)})));var l=o.map(c,(function(e){var t=!!e.decision.variationId,n=e.decisionActivationId&&e.decisionActivationId===i.getActivationId(),r=f.getExperimentAndVariation(),a=r?r.variationId:null,s=t&&e.decision.variationId===a;return o.extend(e,{isActive:t&&n||s,visitorRedirected:s})})),p=r?o.filter(l,r):l;return o.each(p,(function(e){var i=a(e,t,n,s.includeOfferConsistency);i&&u.push(i)})),u}function a(e,t,n,i){var r,a,s=e.layerId,u=t.get(s)||{},c=o.map(u.experiments,(function(e){return o.pick(e,["id","name"])}));if(i||!u.decisionMetadata||!u.decisionMetadata.offerConsistency){var l={id:s,campaignName:u.name||null,experiment:null,allExperiments:c,variation:null,reason:e.decision.reason,isActive:e.isActive,visitorRedirected:e.visitorRedirected,isInCampaignHoldback:e.decision.isLayerHoldback};e.decision&&e.decision.experimentId&&(r=o.find(u.experiments,{id:e.decision.experimentId})),r&&(l.experiment=o.pick(r,["id","name","campaignName"])),r&&e.decision.variationId&&(a=o.find(r.variations,{id:e.decision.variationId})),a&&(l.variation=o.pick(a,["id","name"]));var d=o.map(e.decisionTicket.audienceIds,(function(e){return o.pick(n.get(e),["id","name"])}));return l.audiences=d,u.decisionMetadata&&u.decisionMetadata.offerConsistency&&(l.pageId=e.pageId),l}}var o=n(2),s=n(90),u=n(91),c=n(92),l=n(94),d=n(40),f=n(95);t.data=["stores/audience_data","stores/event_data","stores/layer_data","stores/view_data","stores/group_data","stores/global",function(e,t,n,i,r,a){var u={},d={},f={},p={audiences:e.getAudiencesMap(),events:t.getEventsMap(),campaigns:u,pages:i.getPagesMap(),experiments:d,variations:f,projectId:a.getProjectId(),snippetId:a.getSnippetId(),accountId:a.getAccountId(),dcpServiceId:a.getDCPServiceId(),revision:a.getRevision(),clientVersion:s.VERSION},g=l.dereferenceChangeId;return o.each(n.getAll(),(function(e){c.defineProperty(u,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"changes",(function(){return o.map(e.changes,g)}),"campaign"),c.defineProperty(t,"experiments",(function(){return o.map(e.experiments,(function(e){return d[e.id]}))}),"campaign"),t}),"campaignMap","byId"),o.each(e.experiments,(function(e){c.defineProperty(d,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"changes",(function(){return o.map(e.changes,g)}),"experiment"),c.defineProperty(t,"variations",(function(){return o.map(e.variations,(function(e){return f[e.id]}))}),"experiment"),t}),"experimentMap","byId"),o.each(e.variations,(function(e){c.defineProperty(f,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"actions",(function(){return o.map(e.actions,(function(e){return o.extend({},e,{changes:o.map(e.changes,g)})}))}),"variation"),t}),"variationMap","byId")}))}))})),p.groups=r.getGroupsMap(),p}],t.session=["stores/session",function(e){return e.getState()}],t.visitor=["stores/visitor",function(e){return o.cloneDeep(e.getVisitorProfile())}],t.visitor_id=["stores/visitor_id",function(e){return{randomId:e.getRandomId()}}],t.state=["stores/audience_data","stores/layer_data","stores/layer","stores/view_data","stores/view","stores/global","stores/observed_redirect",function(e,t,n,a,s,c,l){return{getCampaignStates:function(i){var a={},s=r(n,t,e,c,i,{includeOfferConsistency:!1});return o.each(s,(function(e){a[e.id]=e})),a},getExperimentStates:function(i){var a=r(n,t,e,c,i,{includeOfferConsistency:!1,onlySingleExperiments:!0}),s=["audiences","variation","reason","visitorRedirected","isActive"],u=o.reduce(a,(function(e,t){var n=t.allExperiments[0];return e[n.id]=o.extend({},o.pick(t,s),{id:n.id,experimentName:n.name,isInExperimentHoldback:t.isInCampaignHoldback}),e}),{});return u},getCampaignStateLists:function(i){var a={},s=r(n,t,e,c,i,{includeOfferConsistency:!0});return o.each(s,(function(e){var t=e.id;a[t]||(a[t]=[]),a[t].push(e)})),a},getPageStates:function(e){var t=s.getAll(),n=o.reduce(t,(function(e,t){var n=a.get(t.id);return e[t.id]=o.extend({},o.pick(n,["id","name","apiName","category","staticConditions","tags"]),o.pick(t,["isActive","metadata"])),e}),{});return e?o.pickBy(n,e):n},isGlobalHoldback:function(){return c.isGlobalHoldback()},getActivationId:function(){return c.getActivationId()},getVariationMap:function(){var e=n.getLayerStates(),i={};return o.each(e,(function(e){var n=t.get(e.layerId);if(e.decision&&e.decision.experimentId&&(i[e.decision.experimentId]={id:e.decision.variationId,name:null,index:null},n)){var r=o.find(n.experiments,{id:e.decision.experimentId});if(r&&e.decision.variationId)var a=o.find(r.variations,{id:e.decision.variationId}),s=o.findIndex(r.variations,{id:e.decision.variationId});a&&(i[e.decision.experimentId]={id:e.decision.variationId,name:a.name,index:s})}})),i},getActiveExperimentIds:function(){var e={};return o.each(this.getCampaignStateLists({isActive:!0}),(function(t){o.each(t,(function(t){e[t.experiment.id]=!0}))})),o.keys(e)},getRedirectInfo:function(){var e=f.getExperimentAndVariation();return e&&(e.referrer=f.getReferrer()),e},getDecisionString:function(e){if(!e)throw new Error("Must pass a config to getDecisionString");e=o.extend({maxLength:255,shouldCleanString:!1},e);var r=i(n,t,l,e.campaignId);return r?u.generateAnalyticsString(r.layer,r.experiment,r.variation,r.isLayerHoldback,e.maxLength,e.shouldCleanString):null},getDecisionObject:function(e){if(!e)throw new Error("Must pass a config to getDecisionObject");e=o.extend({maxLength:255,shouldCleanString:!1},e);var r=i(n,t,l,e.campaignId);if(!r)return null;var a=u.formatNamesAndIdsForAnalytics(r.layer,r.experiment,r.variation,e.shouldCleanString),s=o.mapValues(a.names,(function(t,n){return u.combineAndTruncateIdAndName(t,a.idStrings[n],e.maxLength)})),c={experiment:s.experiment,variation:s.variation};return d.isSingleExperimentPolicy(r.layer.policy)||o.extend(c,{campaign:s.layer,holdback:r.isLayerHoldback}),c}}}],t.utils=n(96).create(),t.jquery=["env/jquery",function(e){return e}],t.event_emitter=n(102)}),(function(e,t,n){t.VERSION="0.100.0",t.ENGINE="js"}),(function(e,t,n){function i(e){return e.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_")}function r(e){return!u.isEmpty(e)&&u.includes(["and","or","not"],e[0])}function a(e,t){var n="";return u.isEmpty(t)?n=d:(n=u.reduce(t,(function(t,n){var r=e.get(n);return r?t+i(r.name?r.name:r.id)+",":t}),""),n=n.slice(0,-1)),n}function o(e,n,i,r,a,o){if(!_.isSingleExperimentPolicy(e.policy)||!r){var s=!_.isSingleExperimentPolicy(e.policy)&&r,c=t.formatNamesAndIdsForAnalytics(e,n,i,o),d=[c.names.experiment,c.names.variation],p=[c.idStrings.experiment,c.idStrings.variation];_.isSingleExperimentPolicy(e.policy)||(d.unshift(c.names.layer),p.unshift(c.idStrings.layer));var g=u.reduce(p,(function(e,t){return e+t.length}),0),h=d.length-1+(s?1:0),v=h*l.length,E=g+v;if(s&&(E+=f.length),E>a)throw new Error("The analytics string size is too low to send the entity IDs.");for(var m=a-E,I=d.length,y=[],S=d.length-1;S>=0;S--){var T=d[S],A=Math.min(T.length,Math.floor(m/I));m-=A,I--,y.unshift(T.substring(0,A))}var b=u.map(y,(function(e,t){return e+p[t]}));return s&&b.push(f),b.join(l)}}function s(e,n,i,r,a,o){var s=r?f:p,c=3*l.length,d=t.formatNamesAndIdsForAnalytics(e,n,i,o),g=d.names,h=d.idStrings,v=u.reduce(h,(function(e,t){return e+t.length}),0);if(v+c+s.length>a)throw new Error("The analytics string size is too low to send the campaign, experiment, and variation IDs.");var E=a-v-c-s.length,m={};m.variation=Math.min(g.variation.length,Math.floor(E/3)),E-=m.variation,m.experiment=Math.min(g.experiment.length,Math.floor(E/2)),E-=m.experiment,m.layer=E;var I={};u.each(g,(function(e,t){I[t]=e.substring(0,m[t])}));var y=[];return _.isSingleExperimentPolicy(e.policy)||y.push(I.layer+h.layer),y=y.concat([I.experiment+h.experiment,I.variation+h.variation,s]),y.join(l)}var u=n(2),c=n(16),l=":",d="everyone_else",f="holdback",p="treatment",g="",h=n(20),_=n(40);t.formatNamesAndIdsForAnalytics=function(e,t,n,o){var s={layer:e.name||g,experiment:t.name||g,variation:n.name||g};if(o&&(s=u.mapValues(s,i)),s.experiment===g&&(!e.integrationStringVersion||1===e.integrationStringVersion))if(r(t.audienceIds))s.experiment="Exp";else{var l=c.get("stores/audience_data");s.experiment=a(l,t.audienceIds)}var d={layer:"("+i(e.id)+")",experiment:"("+i(t.id)+")",variation:"("+i(n.id)+")"};return{names:s,idStrings:d}},t.combineAndTruncateIdAndName=function(e,t,n){var i=n-t.length;if(i<0&&(h.warn("maxLength must be at least long enough to fit the entity ID, which is length"+t.length+". Defaulting to only use entity ID as name."),e=g),e===g)return t;if(e.length>i){var r=Math.min(e.length,i);return e=e.substring(0,r),e+t}return e+" "+t},t.generateAnalyticsString=function(e,t,n,i,r,a){return e.integrationStringVersion&&2===e.integrationStringVersion?o(e,t,n,i,r,a):s(e,t,n,i,r,a)}}),(function(e,t,n){var i=n(93),r=n(7),a=n(9),o=n(20);t.defineProperty=function(e,t,n,s,u){i(e,t,(function(){var e=["prop",s,u||t].join(".");return o.debug('Evaluating getter: "'+e+'"'),a.dispatch(r.RECORD_API_USAGE,{methodName:e}),n()}),!0)}}),(function(e,t){"use strict";function n(e,t,n,i){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return Object.defineProperty(this,t,{value:e,enumerable:!!i,writable:!0}),e},set:function(e){return Object.defineProperty(this,t,{value:e,enumerable:!!i,writable:!0}),e},enumerable:!!i,configurable:!0})}e.exports=n}),(function(e,t,n){function i(e){var n=r.cloneDeep(e);return n.changes&&(n.changes=r.map(n.changes,t.dereferenceChangeId)),n.experiments&&r.each(n.experiments,(function(e){
e.changes&&(e.changes=r.map(e.changes,t.dereferenceChangeId)),e.variations&&r.each(e.variations,(function(e){e.actions&&r.each(e.actions,(function(e){e.changes&&(e.changes=r.map(e.changes,t.dereferenceChangeId))}))}))})),n}var r=n(2),a=n(16),o=n(19),s=n(92),u=a.get("stores/change_data");t.translateDecisionToCampaignDecision=function(e){return c(r.cloneDeep(e),{layerId:"campaignId",isLayerHoldback:"isCampaignHoldback"})},t.translateLayerEventToCampaignEvent=function(e){var t={};return s.defineProperty(t,"campaign",(function(){var t=i(e.data.layer);return t}),"campaignEvent"),t.decisionTicket=e.data.decisionTicket,t.decision=this.translateDecisionToCampaignDecision(e.data.decision),t.audiences=e.data.audiences,{type:"lifecycle",name:"campaignDecided",data:t}},t.translateViewActivatedToPageActivated=function(e){return{type:"lifecycle",name:"pageActivated",data:{page:e.data.view}}},t.dereferenceChangeId=function(e){var t=u.getChange(e);return t?o.safeReference(t):e};var c=function(e,t){var n=r.omit(e,r.keys(t));return r.each(t,(function(t,i){n[t]=e[i]})),n}}),(function(e,t,n){var i=n(2),r=n(16),a=r.get("stores/global_state"),o=r.get("stores/layer_data"),s=r.get("stores/observed_redirect");t.getReferrer=function(){var e=s.get();return e?e.referrer:i.isString(a.getEffectiveReferrer())?a.getEffectiveReferrer():null},t.getExperimentAndVariation=function(){var e=s.get();if(e&&i.isString(e.variationId))return i.pick(e,["experimentId","variationId"]);if(i.isString(a.getEffectiveVariationId())){var t=a.getEffectiveVariationId(),n=o.getExperimentByVariationId(t),r=n?n.id:null;return{experimentId:r,variationId:t}}return null}}),(function(e,t,n){var i=n(12).Promise,r=n(97).observeSelector,a=n(98).poll,o=n(100).waitForElement,s=n(101).waitUntil;t.create=function(){return{observeSelector:r,poll:a,Promise:i,waitForElement:o,waitUntil:s}}}),(function(e,t,n){function i(){if(f.shouldObserveChangesIndefinitely()){var e={attributes:!0,childList:!0,subtree:!0,characterData:!0},t=p.getDocumentElement(),n=new MutationObserver(function(){this.disconnect(),l.each(l.keys(v),a),this.observe(t,e)});return function(i){var r=v[i];n.observe(t,e),r.cancelObservation=function(){delete v[i],l.isEmpty(v)&&n.disconnect()}}}return function(e){var t=h.poll(l.partial(a,e));v[e].cancelObservation=function(){t(),delete v[e]}}}function r(e){var t=v[e];t&&t.cancelObservation&&t.cancelObservation()}function a(e){if(v[e]){if(o(v[e]))return 0===v[e].matchedCount&&l.isFunction(v[e].options.onTimeout)&&v[e].options.onTimeout(),void r(e);var t=document.querySelectorAll(v[e].selector);t.length&&(l.each(t,(function(t){t.Bt&&t.Bt[e]||v[e].callbackQueue.push(t)})),s(e))}}function o(e){var t=e.options.timeout;if(null!==t)if("function"==typeof t)try{return t()}catch(e){}else if(Date.now()-e.startTime>t)return!0;return!1}function s(e){for(;v[e]&&v[e].callbackQueue.length;){var t=v[e].callbackQueue.shift();if(u(t,e),v[e].matchedCount=v[e].matchedCount+1,v[e].callback(t),v[e]&&v[e].options.once)return void r(e)}}function u(e,t){e.Bt||(e.Bt={}),e.Bt[t]=!0}function c(e){try{document.querySelector(e)}catch(e){return!1}return!0}var l=n(2),d=(n(7),n(16)),f=d.get("stores/directive"),p=n(77),g=(n(22),n(9),n(5).generate),h=n(98),_=(d.get("stores/rum"),{once:!1,onTimeout:null,timeout:null}),v={},E=function(e){(E=i())(e)};t.observeSelector=function(e,t,n){if(!c(e))throw new Error("observeSelector expects a valid css selector as its first argument");if(!l.isFunction(t))throw new Error("observeSelector expects a function as its second argument");if(n&&(!l.isObject(n)||l.isFunction(n)))throw new Error("observeSelector expects an object as its third argument");var i=g();return n=l.merge({},_,n||{}),v[i]={callback:t,callbackQueue:[],matchedCount:0,options:n,selector:e,startTime:Date.now()},E(i),setTimeout(l.bind(a,null,i),0),l.partial(r,i)}}),(function(e,t,n){function i(e){c[e]&&a.each(c[e].callbacks,(function(e){e.call(null)}))}function r(e,t){c[t]&&c[t].callbacks[e]&&(delete c[t].callbacks[e],a.some(c[t].callbacks)||(clearInterval(c[t].id),delete c[t]))}var a=n(2),o=(n(7),n(16)),s=(n(22),n(9),n(5).generate),u=(o.get("stores/rum"),n(99).DEFAULT_INTERVAL),c={};t.poll=function(e,t){a.isNumber(t)||(t=u),c[t]||(c[t]={callbacks:{},id:setInterval(a.partial(i,t),t)});var n=s();return c[t].callbacks[n]=e,a.partial(r,n,t)},t.cancelAll=function(){a.each(c,(function(e,t){clearInterval(e.id),delete c[t]}))}}),(function(e,t){e.exports={DEFAULT_INTERVAL:20}}),(function(e,t,n){var i=n(12).Promise,r=n(97).observeSelector;t.waitForElement=function(e){return new i(function(t,n){r(e,t,{once:!0})})}}),(function(e,t,n){var i=n(12).Promise,r=n(98).poll;t.waitUntil=function(e){return new i(function(t,n){if(e())return void t();var i=r((function(){e()&&(i(),t())}))})}}),(function(e,t,n){var i=n(83);t.on=function(e){return e.publicOnly=!0,i.on(e)},t.off=i.off,t.emit=function(e){i.emit(e)}}),(function(e,t,n){function i(e){var t,n={};if(e)if(r(e))t=Number(e);else{if("object"!=typeof e)throw new Error("tracker","Revenue argument",e,"not a number.");if(n=a.extend({},e),"revenue"in n){if(!r(n["revenue"]))throw new Error("tracker","Revenue value",n["revenue"],"not a number.");t=Number(n["revenue"]),delete n["revenue"]}}return a.isUndefined(t)||(n.revenue=t),n}function r(e){return a.isNumber(e)||a.isString(e)&&Number(e)==e}var a=n(2),o=n(104);t.activateGeoDelayedExperiments=function(e,t){t||(t=e.lists?"odds":"cdn3"),o.dataFromSource({data:e,source:t})},t.activateSiteCatalyst=function(e){e&&e.sVariable&&o.integrationSettings({id:"adobe_analytics",settings:{sVariableReference:e.sVariable}})},t.bucketUser=t.bucketVisitor=function(e,t){if(e&&t){var n={experimentId:String(e)};t>256?n.variationId=String(t):n.variationIndex=String(t),o.bucketVisitor(n)}},t.disable=function(e){o.disable({scope:e})},t.log=function(e){a.isUndefined(e)&&(e=!0),o.log({level:e?"INFO":"OFF"})},t.optOut=function(e){a.isUndefined(e)&&(e=!0),o.optOut({isOptOut:e})},t.setCookieDomain=function(e){o.cookieDomain({cookieDomain:e})},t.setCookieExpiration=function(e){o.cookieExpiration({cookieExpirationDays:e})},t.setDimensionValue=function(e,t){var n={};n[e]=t,o.user({attributes:n})},t.setUserId=function(e){o.user({userId:e})},t.storeThirdPartyData=function(e,t){o.dataFromSource({source:e,data:t})},t.trackEvent=function(e,t){o.event({eventName:e,tags:i(t)})}}),(function(e,t,n){var i=n(2),r=n(7),a=n(88),o=n(89),s=n(105),u=n(22),c=n(106),l=n(113),d=n(6),f=n(73).create,p=n(21),g=n(114),h=n(83),_=n(9),v=n(23),E=n(20),m=n(117),I=n(118),y=n(71),S=n(81),T=n(16),A=T.get("stores/dimension_data"),b=T.get("stores/view_data"),w=T.get("stores/visitor_id"),R=T.get("stores/layer_data"),D=T.get("stores/directive"),O=86400,N=90,C=t.ApiListenerError=f("ApiListenerError");t.event=function(e){I.updateAllViewTags();var t=function(){var t=c.trackCustomEvent(e.eventName,e.tags);t?E.log("API / Tracking custom event:",e.eventName,e.tags):E.log("API / Not tracking custom event:",e.eventName)};w.getBucketingId()?t():_.dispatch(r.ADD_CLEANUP_FN,{lifecycle:u.Lifecycle.postActivate,cleanupFn:t})},t.page=function(e){var t=b.getByApiName(e.pageName);if(!t)throw new Error('Unknown page "'+e.pageName+'"');var n=!e.hasOwnProperty("isActive")||e.isActive,i=function(){n?I.activateViaAPI(t,e.tags):(I.deactivate(t),E.log("API / Deactivated Page",I.description(t)))};w.getBucketingId()?i():_.dispatch(r.ADD_CLEANUP_FN,{lifecycle:u.Lifecycle.postViewsActivated,cleanupFn:i})},t.tags=function(e){I.setGlobalTags(e.tags)},t.user=function(e){E.log("API / Setting visitor attributes:",e.attributes),i.each(e.attributes,(function(e,t){var n,i=t,a="custom",o=A.getById(t)||A.getByApiName(t);o&&(i=o.id,n=o.segmentId||o.id);var s=function(){_.dispatch(r.SET_VISITOR_ATTRIBUTES,{attributes:[{key:i,value:{id:n,value:e},type:a,metadata:{lastModified:p.now()}}]})};w.getBucketingId()?s():_.dispatch(r.ADD_CLEANUP_FN,{lifecycle:u.Lifecycle.postVisitorProfileLoad,cleanupFn:s})}))},t.optOut=function(e){var t=!e.hasOwnProperty("isOptOut")||e.isOptOut;g.setOptOut(t)},t.cookieExpiration=function(e){var t=e.cookieExpirationDays;t<N&&(E.error('Argument "cookieExpirationDays"=',t,"less than minimum days:",N,", setting to minimum."),t=N),E.log("API / Setting cookie age to",t,"days."),_.dispatch(r.SET_COOKIE_AGE,t*O)},t.cookieDomain=function(e){E.log("API / Setting cookie domain to",e.cookieDomain),_.dispatch(r.SET_COOKIE_DOMAIN,e.cookieDomain)},t.disable=function(e){if(e.scope){if("tracking"!==e.scope)throw new Error('Unknown "scope" for disable: '+e.scope);E.log("API / Disabling tracking"),_.dispatch(r.LOAD_DIRECTIVE,{trackingDisabled:!0})}else E.log("API / Disabling everything"),_.dispatch(r.LOAD_DIRECTIVE,{disabled:!0})},t.log=function(e){var t=e.level,n=e.match;i.isUndefined(t)&&(t="INFO"),i.isUndefined(n)&&(n=""),E.setLogMatcher(n),E.setLogLevel(t)},t.registerModule=function(e){var t="custom/"+e.moduleName;if(o[t]||a.get(t))throw new Error('Module name "'+t+'" is reserved. Will not be registered as plugin.');m.registerApiModule(t,e.module)},t.dataFromSource=function(e){var t=e.source;d.makeAsyncRequest(t),d.resolveRequest(t,e.data)},t.addListener=function(e){if(!i.isFunction(e.handler))throw new Error("A handler function must be supplied");e=i.omit(e,"type"),e.publicOnly=!0,e.emitErrors=!0;var t=e.handler;e.handler=function(e){try{return t(e)}catch(e){throw new C(e)}},h.on(e)},t.removeListener=function(e){if(!e.token)throw new Error("Must supply a token to removeListener");h.off(e.token)},t.load=function(e){e.data=i.extend({},e.data),s.normalizeClientData(e.data),_.dispatch(r.DATA_LOADED,{data:e.data})},t.integrationSettings=function(e){if(!e.id)throw new Error("id is required");if(!e.settings)throw new Error("settings is required");_.dispatch(r.SET_INTEGRATION_SETTINGS,i.extend({},e.settings,{id:e.id}))},t.bucketVisitor=function(e){if(!e.variationId&&i.isUndefined(e.variationIndex)||e.variationId&&e.variationIndex)throw new Error("One of a variationId or a variationIndex is required.");if(!e.experimentId)throw new Error("An experimentId is required.");var t,n,r=e.campaignId;if(r){if(t=R.get(r),!t)throw new Error("Could not find layer "+r)}else if(t=R.getLayerByExperimentId(e.experimentId),r=t.id,!r)throw new Error("Could not find layer for experiment "+e.experimentId);if(n=i.find(t.experiments,{id:e.experimentId}),!n)throw new Error("Could not find experiment "+e.experimentId+" in layer "+r);var a=e.variationId;if(i.isUndefined(e.variationIndex)){if(!i.find(n.variations,{id:a}))throw new Error("Cound not find variation "+a+" in experiment "+e.experimentId)}else if(a=n.variations[e.variationIndex].id,!a)throw new Error("Could not find variation at index "+e.variationIndex+" in experiment "+e.experimentId);y.updateVariationIdMap(r,e.experimentId,a),w.getBucketingId()&&y.persistVariationIdMap()},t.waitForOriginSync=function(e){if(!i.isArray(e.canonicalOrigins))throw new Error("canonicalOrigins must be an array. Got: "+v.stringify(e.canonicalOrigins));i.each(e.canonicalOrigins,(function(e){if(!i.isString(e))throw new Error("Each item in canonicalOrigins must be a string. Found type "+typeof e)})),S.loadCanonicalOrigins(e.canonicalOrigins)},t.activate=function(){D.shouldActivate()?l.emitActivateEvent():E.debug("Not activating.")},t.sendEvents=function(){l.emitSendEvents()},t.holdEvents=function(){l.emitHoldEvents()}}),(function(e,t,n){var i=n(2),r=n(22);t.normalizeClientData=function(e){!e.listTargetingKeys&&e.listTargetingCookies&&(e.listTargetingKeys=i.map(e.listTargetingCookies,(function(e){return{type:r.ListTargetingKeyTypes.COOKIE,key:e}})),delete e.listTargetingCookies)}}),(function(e,t,n){function i(e,t){var n=V.description(t),i=X.isExpectingRedirect(),r=X.getLayerId();if(i&&r===t.id){var a=G.TrackLayerDecisionTimingFlags.preRedirectPolicy;e.timing=a,E(a,[G.PreRedirectPolicies.PERSIST_BEFORE_AND_TRACK_DURING_REDIRECT],e),x.log("Called trackLayerDecision for redirect Campaign",n,e)}else{var a=G.TrackLayerDecisionTimingFlags.nonRedirectPolicy;e.timing=a,E(a,[G.NonRedirectPolicies.TRACK_IMMEDIATELY],e),x.log("Called trackLayerDecision for non-redirect Campaign",n,e)}}function r(e,t,n,i,r){var a=q.get(t.layerId),o=V.description(a),s=d(e,t,n,i);_("onLayerDecision",s,r?"trackLayerDecision":void 0),x.log("Analytics / Called onLayerDecision for Campaign",o,s)}function a(e,t){var n=f({activeViewStates:H.getActiveViewStates(),visitorProfile:Q.getVisitorProfile(),layerStates:K.getLayerStatesForAnalytics()}),i=J.getByApiName(e),r=i&&i.pageId?g(i):H.getActiveViewTags(),a=I.extend({},r,t),o=i&&i.category?i.category:O.OTHER;return I.extend(n,{eventEntityId:i&&i.id,eventApiName:e,eventCategory:o,eventTags:a})}function o(e,t){var n=f({activeViewStates:H.getActiveViewStates(),visitorProfile:Q.getVisitorProfile(),layerStates:K.getLayerStatesForAnalytics()});return I.extend(n,{pageId:e.id,viewCategory:e.category,eventTags:t.metadata})}function s(e){var t=f({activeViewStates:H.getActiveViewStates(),visitorProfile:Q.getVisitorProfile(),layerStates:K.getLayerStatesForAnalytics()}),n=e.config&&e.config.selector?e.config.selector:e.eventFilter.selector,i=e&&e.category?e.category:O.OTHER,r=g(e);return I.extend(t,{event:e,eventCategory:i,eventTags:r,selector:n})}function u(){var e=f({activeViewStates:[],visitorProfile:Q.getVisitorProfile(),layerStates:K.getLayerStatesForAnalytics()});return I.extend(e,{eventTags:{}})}function c(e,t,n){var i=q.get(t.layerId),r=null,a=null,o=null;if(t.experimentId){var s=I.find(i.experiments,{id:t.experimentId});if(s&&(r=s.name||null,o=s.integrationSettings,t.variationId)){var u=I.find(s.variations,{id:t.variationId});u&&(a=u.name||null)}}var c=F.getReferrer()||R.getReferrer(),l={sessionId:j.getSessionId(),decisionTicketAudienceIds:n.audienceIds,visitorId:Z.getRandomId(),decisionId:e,activationId:z.getActivationId(),namespace:z.getNamespace(),timestamp:b.now(),pageId:n.pageId||null,variationId:t.variationId,variationName:a,experimentId:t.experimentId,experimentName:r,layerId:t.layerId,layerName:i.name,layerPolicy:i.policy,accountId:z.getAccountId(),projectId:z.getProjectId(),revision:String(z.getRevision()),clientVersion:A.VERSION,referrer:c,integrationStringVersion:i.integrationStringVersion,integrationSettings:I.extend({},i.integrationSettings,o)};return l}function l(e,t,n){var i=I.extend({},e,{isLayerHoldback:t,clientEngine:A.ENGINE,anonymizeIP:I.isNull(z.getAnonymizeIP())?void 0:z.getAnonymizeIP(),userFeatures:h(n),layerStates:K.getLayerStatesForAnalytics()});return i}function d(e,t,n,i){return{decisionId:e,timestamp:b.now(),revision:z.getRevision(),clientEngine:A.ENGINE,clientVersion:A.VERSION,projectId:z.getProjectId(),accountId:z.getAccountId(),activationId:z.getActivationId(),sessionId:j.getSessionId(),visitorId:Z.getRandomId(),decision:t,decisionTicket:n,userFeatures:h(i),layerStates:K.getLayerStatesForAnalytics()}}function f(e){var t={eventId:B.generate(),timestamp:b.now(),revision:z.getRevision(),clientEngine:A.ENGINE,clientVersion:A.VERSION,projectId:z.getProjectId(),accountId:z.getAccountId(),activationId:z.getActivationId(),sessionId:j.getSessionId(),isGlobalHoldback:z.isGlobalHoldback(),visitorId:Z.getRandomId(),activeViewStates:e.activeViewStates,layerStates:e.layerStates,userFeatures:h(e.visitorProfile)};return t}function p(e){var t=H.getViewState(e),n=t&&t.isActive?t.metadata:{};return n}function g(e){var t={};return e.pageId?p(e.pageId):t}function h(e){var t=Y.getAllPlugins(D.PluginTypes.visitorProfileProviders),n=I.filter(t,{shouldTrack:!0}),i={id:null,type:null,name:"",value:null,shouldIndex:!0};return I.reduce(n,(function(t,n){try{var r=n.provides,a=e[r],o=[];if(!I.isUndefined(a)){I.isObject(a)?o=I.map(a,(function(e,t){var n=I.isObject(e)?e:{value:e};return I.extend({},{type:r,name:t},n)})):o.push({type:r,value:a});var s=I(o).map((function(e){return I.pick(I.extend({},i,e),I.keys(i))})).filter((function(e){return!!e.value})).value();t=t.concat(s)}}catch(e){x.warn("Error evaluating userFeature against visitorProfile:",e)}return t}),[])}function _(e,t,n){var i=v(e,n);x.debug("Found "+i.length+" analytics integrations defining a "+e+" hook"),x.debug("Calling each with data: ",t),I.each(i,(function(e){try{x.debug("Calling plugin: "+e.name),e.hookFn(t),x.debug("Called plugin: "+e.name)}catch(e){x.error(e)}}))}function v(e,t){var n=[];return I.each(Y.getAllPlugins(D.PluginTypes.analyticsTrackers),(function(i,r){if(i[e]&&(!t||!i[t]))try{n.push({name:r,hookFn:w.evaluate(i[e])})}catch(e){x.error(e)}})),n}function E(e,t,n){var i=m(e,t);x.debug("Found "+i.length+" analytics integrations  defining a trackLayerDecision "+e+" timing of "+t.join("|")),x.debug("Calling each with data: ",n),I.each(i,(function(e){try{x.debug("Calling plugin: "+e.name),e.hookFn(n),x.debug("Called plugin: "+e.name)}catch(e){x.error(e)}}))}function m(e,t){var n=[];return I.each(Y.getAllPlugins(D.PluginTypes.analyticsTrackers),(function(i,r){I.includes(t,i[e])&&n.push({name:r,hookFn:i.trackLayerDecision})})),n}var I=n(2),y=n(7),S=n(82),T=n(68),A=n(90),b=n(21),w=n(16),R=n(77),D=n(22),O=n(70),N=n(83),C=n(107),L=n(108),P=n(9),V=n(109),x=n(20),k=(n(80),n(12).Promise),F=n(95),M=n(110),U=n(112),G=n(111),B=n(5),z=w.get("stores/global"),j=w.get("stores/session"),H=w.get("stores/view"),Y=w.get("stores/plugins"),K=w.get("stores/layer"),q=w.get("stores/layer_data"),W=w.get("stores/observed_redirect"),X=w.get("stores/pending_redirect"),Q=w.get("stores/visitor"),$=w.get("stores/directive"),J=w.get("stores/event_data"),Z=w.get("stores/visitor_id"),ee="COOKIE",te=!0,ne=1e3;t.trackClientActivation=function(){if($.shouldSendTrackingData()){var e=u();return _("onClientActivation",e),e}},t.trackCustomEvent=function(e,t){t=t||{};var n=a(e,t),i=J.getByApiName(e),r={name:e,type:L.CUSTOM,category:n.eventCategory,tags:I.omit(n.eventTags,"revenue")};if(I.isUndefined(t.revenue)||(r.revenue=t.revenue),S.emitAnalyticsEvent({name:i?i.name||i.apiName:e,apiName:i?i.apiName:void 0,type:L.CUSTOM,tags:I.omit(n.eventTags,"revenue"),category:n.eventCategory,metrics:r.revenue?{revenue:r.revenue}:{}},!$.shouldSendTrackingData()),$.shouldSendTrackingData())return T.addEvent(r),_("onCustomEvent",n),n},t.trackDecisionEvent=function(e,t){var n=q.get(e.layerId),a=B.generate();P.dispatch(y.RECORD_LAYER_DECISION_EVENT_ID,{layerId:e.layerId,pageId:t.pageId,decisionId:a});var o;if(ee){o=c(a,e,t);var s=X.isExpectingRedirect(),u=X.getLayerId();if(s&&u===n.id){M.persist(o,ee);var d=V.description(n);x.log("Relaying decision for redirect Campaign",d,V.description(n))}}if(!$.shouldSendTrackingData())return void x.log("Analytics / Not tracking decision for Campaign",V.description(n));var f=Q.getVisitorProfile();if(ee){var p=l(o,e.isLayerHoldback,f);i(p,n),r(a,e,t,f,!0)}else r(a,e,t,f,!1)},t.trackPostRedirectDecisionEvent=function(){if(!$.shouldSendTrackingData())return k.resolve();if(W.hasTracked())return k.resolve();var e=W.get();if(!e)return k.resolve();var t=Q.getVisitorProfile(),n=l(e,!1,t),i=G.TrackLayerDecisionTimingFlags.postRedirectPolicy;if(n.timing=i,E(i,[G.PostRedirectPolicies.TRACK_IMMEDIATELY],n),te){var r=new k(function(e,t){var n=N.on({filter:{type:C.TYPES.LIFECYCLE,name:"originsSynced"},handler:function(){e(),N.off(n)}})}),a=U.makeTimeoutPromise(ne);return k.race([r,a]).then((function(){x.log("Calling trackers after successful sync")}),(function(e){x.warn("Calling trackers after failed sync:",e)})).then((function(){t=Q.getVisitorProfile(),n=l(e,!1,t),n.timing=G.TrackLayerDecisionTimingFlags.postRedirectPolicy,E(G.TrackLayerDecisionTimingFlags.postRedirectPolicy,[G.PostRedirectPolicies.TRACK_AFTER_SYNC],n),P.dispatch(y.REGISTER_TRACKED_REDIRECT_DATA)}))["catch"]((function(e){x.error("Error when calling trackers after sync:",e)}))}return E(G.TrackLayerDecisionTimingFlags.postRedirectPolicy,[G.PostRedirectPolicies.TRACK_AFTER_SYNC],n),P.dispatch(y.REGISTER_TRACKED_REDIRECT_DATA),k.resolve()},t.trackClickEvent=function(e){var t=s(e),n={name:e.apiName,type:e.eventType,category:t.eventCategory,tags:t.eventTags};if(S.emitAnalyticsEvent({name:e.name||e.apiName,apiName:e?e.apiName:void 0,type:e.eventType,category:t.eventCategory,tags:t.eventTags,metrics:{}},!$.shouldSendTrackingData()),$.shouldSendTrackingData())return T.addEvent(n),_("onClickEvent",t),t},t.trackViewActivation=function(e){var t=H.getViewState(e.id);if(!t.isActive)return void x.debug("Inactive view passed to `trackViewActivation`");var n=o(e,t),i={name:e.apiName,type:L.PAGEVIEW,category:n.viewCategory,tags:n.eventTags};return S.emitAnalyticsEvent({name:e.name||e.apiName,apiName:e.apiName,type:L.PAGEVIEW,category:n.viewCategory,tags:n.eventTags,metrics:{}},!$.shouldSendTrackingData()),$.shouldSendTrackingData()?(T.addEvent(i),P.dispatch(y.TRACK_VIEW_ACTIVATED_EVENT,{pageId:e.id,eventData:n}),_("onPageActivated",n),n):void 0}}),(function(e,t){t.TYPES={ACTION:"action",ANALYTICS:"analytics",EDITOR:"editor",LIFECYCLE:"lifecycle"}}),(function(e,t){e.exports={CLICK:"click",CUSTOM:"custom",ENGAGEMENT:"engagement",PAGEVIEW:"pageview"}}),(function(e,t,n){var i=n(2),r=n(7),a=n(21),o=n(16),s=n(9),u=o.get("stores/global"),c=o.get("stores/session"),l=2e3;t.recordLayerDecision=function(e,t,n){return s.dispatch(r.RECORD_LAYER_DECISION,{layerId:e,decision:n,decisionTicket:t,sessionId:c.getSessionId(),activationId:u.getActivationId(),timestamp:a.now(),revision:u.getRevision(),namespace:u.getNamespace(),pageId:t.pageId}),n},t.relatedAudienceIds=function(e){var t={},n=["and","or","not"];return i.each(e.experiments,(function(e){i.each(i.flattenDeep(e.audienceIds),(function(e){i.includes(n,e)||(t[e]=!0)}))})),i.keys(t)},t.getActivationTimeout=function(e){var t=e.activation;return t&&null!==t.timeout&&void 0!==t.timeout?t.timeout:l},t.description=function(e){return(e.name?'"'+e.name+'" ':"")+"("+e.id+")"}}),(function(e,t,n){function i(e){try{var t=r(e)}catch(e){return v.error("Relay / Error computing redirect relay cookie: ",e),void p.emitError(e)}v.debug("Relay / Setting redirect relay cookie:",t);try{f.set(h.COOKIES.REDIRECT,t,{maxAge:5,encodeValue:!1})}catch(e){v.error("Relay / Failed to set redirect relay cookie",e),p.emitError(e)}}function r(e){var t=[],n=l.reduce(e,(function(e,n,i){var r=S[i];return r?(r.isMulti?l.forEach(n,(function(t,n){t=r.valueToValueString?r.valueToValueString(t,n):String(t),l.isNull(t)||(t=(r.encodeValueString||encodeURIComponent)(t),e.push(encodeURIComponent(r.relayName+I+n)+"="+t))})):l.isNull(n)||(n=(r.valueToValueString||String)(n),n=(r.encodeValueString||encodeURIComponent)(n),e.push(r.relayName+"="+n)),e):(t.push(i),e)}),[]);if(t.length)throw new Error("Relay / Don't know how to relay some fields:",t);return n.sort(),n.join("&")}function a(){var e=f.get(h.COOKIES.REDIRECT,!1);if(e){v.log("Relay / Found redirect cookie:",e);var t=o(e);if(!t.visitorId){v.warn("Relay / Missing required field visitorId, attempting to load from VISITOR_ID cookie");var n=f.get(h.COOKIES.VISITOR_ID);t.visitorId=l.isString(n)?n:null}return t}}function o(e){var t={},n=e.split("&");return l.forEach(n,(function(e){var n=e.split("=");if(2!==n.length)return void v.warn("Relay / Skipping invalid segment:",e);var i=f.safeDecodeURIComponent(n[0]),r=T[i];if(!r&&(r=l.find(y,(function(e){return e.isMulti&&0===i.indexOf(e.relayName+I)})),!r))return void v.warn("Relay / Skipping segment with unknown field identifier:",e,i);var a=n[1];try{if(r.isMulti){t[r.name]=t[r.name]||{};var o=i.substring(r.relayName.length+I.length);a=(r.decodeValueString||f.safeDecodeURIComponent)(a),a=(r.valueFromValueString||l.identity)(a,o),t[r.name][o]=a}else a=(r.decodeValueString||f.safeDecodeURIComponent)(a),a=(r.valueFromValueString||l.identity)(a),t[r.name]=a}catch(t){return v.warn("Relay / Skipping segment due to decode or parse error:",e,t),void p.emitError(t)}})),t}function s(e,t){var n=null;if(e){var i=m.getPlugin(h.PluginTypes.analyticsTrackers,t);if(i&&l.isFunction(i.serializeSettings))try{n=i.serializeSettings(e)}catch(e){v.warn("Analytics / Failed to persist integrationSettings for plugin:",t,e)}}return n}function u(e,t){var n=null,i=m.getPlugin(h.PluginTypes.analyticsTrackers,t);if(i&&l.isFunction(i.deserializeSettings))try{n=i.deserializeSettings(e)}catch(e){v.warn("Analytics / Failed to persist integrationSettings for plugin:",t,e)}return n}function c(e){var t=e.pageId||void 0;_.dispatch(d.RECORD_LAYER_DECISION,{layerId:e.layerId,decision:{layerId:e.layerId,experimentId:e.experimentId,variationId:e.variationId,isLayerHoldback:!1},decisionTicket:{audienceIds:e.decisionTicketAudienceIds,bucketingId:e.visitorId,globalHoldback:0,preferredVariationMap:void 0,pageId:t,activationId:e.activationId},sessionId:e.sessionId,activationId:e.activationId,timestamp:e.timestamp,revision:e.revision,namespace:e.namespace,pageId:t}),_.dispatch(d.RECORD_LAYER_DECISION_EVENT_ID,{layerId:e.layerId,pageId:t,decisionId:e.decisionId}),_.dispatch(d.ACTION_EXECUTED,{sessionId:e.sessionId,layerId:e.layerId,pageId:e.pageId,timestamp:e.timestamp,activationId:e.activationId})}var l=n(2),d=n(7),f=n(72),p=n(82),g=n(16),h=n(22),_=n(9),v=n(20),E=n(111),m=g.get("stores/plugins"),I=".",y=[{name:"sessionId",relayName:"s"},{name:"decisionTicketAudienceIds",relayName:"as",valueToValueString:function(e){return l.map(e,encodeURIComponent).join(",")},encodeValueString:l.identity,decodeValueString:l.identity,valueFromValueString:function(e){return l.map(e.split(","),f.safeDecodeURIComponent)}},{name:"decisionId",relayName:"d"},{name:"activationId",relayName:"aId"},{name:"pageId",relayName:"vId",isNullable:!0},{name:"variationId",relayName:"v",isNullable:!0},{name:"referrer",relayName:"r"},{name:"timestamp",relayName:"t",valueFromValueString:Number},{name:"visitorId",relayName:"i"},{name:"projectId",relayName:"p"},{name:"revision",relayName:"n"},{name:"clientVersion",relayName:"cV"},{name:"namespace",relayName:"ns"},{name:"accountId",relayName:"a"},{name:"layerId",relayName:"l"},{name:"layerName",relayName:"lN",isNullable:!0},{name:"layerPolicy",relayName:"lP"},{name:"experimentId",relayName:"x",isNullable:!0},{name:"experimentName",relayName:"xN",isNullable:!0},{name:"variationName",relayName:"vN",isNullable:!0},{name:"integrationStringVersion",relayName:"isv",valueFromValueString:Number,isNullable:!0},{name:"integrationSettings",relayName:"iS",isMulti:!0,valueToValueString:s,valueFromValueString:u,isNullable:!0}],S={},T={};l.forEach(y,(function(e){S[e.name]=e,T[e.relayName]=e})),t.persist=function(e,t){t===E.RedirectRelayMedia.COOKIE?i(e):v.error("Relay / Unsupported redirect relay medium: "+t)},t.load=function(){var e;if(e||(e=a()),e){var t=[];return l.forEach(y,(function(n){(l.isNull(e[n.name])||l.isUndefined(e[n.name]))&&(n.isNullable?e[n.name]=null:(delete e[n.name],t.push(n.name)))})),t.length?void v.error("Relay / Observed redirect data with missing fields:",t):(_.dispatch(d.LOAD_REDIRECT_DATA,e),_.dispatch(d.ADD_CLEANUP_FN,{lifecycle:h.Lifecycle.postVisitorProfileLoad,cleanupFn:function(){c(e)}}),e)}}}),(function(e,t,n){var i=n(8);t.TrackLayerDecisionTimingFlags=i({preRedirectPolicy:null,postRedirectPolicy:null,nonRedirectPolicy:null}),t.PreRedirectPolicies=i({PERSIST_BEFORE_AND_TRACK_DURING_REDIRECT:null,PERSIST_BEFORE_REDIRECT:null}),t.PostRedirectPolicies=i({TRACK_IMMEDIATELY:null,TRACK_AFTER_SYNC:null}),t.NonRedirectPolicies=i({TRACK_IMMEDIATELY:null}),t.RedirectRelayMedia=i({COOKIE:null})}),(function(e,t,n){var i=n(12).Promise;t.makeTimeoutPromise=function(e){return new i(function(t,n){setTimeout((function(){n(new Error("Timed out after "+e+" ms"))}),e)})}}),(function(e,t,n){function i(e){var t=["type","selector","attributes","value"],n=r.extend({},e);return n.changeSet=r.map(e.changeSet,(function(e){return r.pick(l.dereferenceChangeId(e),t)})),n}var r=n(2),a=n(16),o=a.get("stores/audience_data"),s=n(83),u=n(107),c=n(92),l=n(94);t.emitLayerDecided=function(e){var t=e.decisionTicket?e.decisionTicket.audienceIds:[],n=r.map(t,(function(e){return{id:e,name:o.get(e).name}})),i={type:u.TYPES.LIFECYCLE,name:"layerDecided",data:r.extend(e,{audiences:n})},a=l.translateLayerEventToCampaignEvent(i);s.emit(i),s.emit(a)},t.emitViewActivated=function(e){var t={type:u.TYPES.LIFECYCLE,name:"viewActivated",data:e},n=l.translateViewActivatedToPageActivated(t);s.emit(t),s.emit(n)},t.emitViewsActivated=function(e){var t={type:u.TYPES.LIFECYCLE,name:"viewsActivated",data:e};s.emit(t)},t.emitPageDeactivated=function(e){var t={type:u.TYPES.LIFECYCLE,name:"pageDeactivated",data:e};s.emit(t)},t.emitActivateEvent=function(){s.emit({type:u.TYPES.LIFECYCLE,name:"activate"},!0)},t.emitActivatedEvent=function(){s.emit({type:u.TYPES.LIFECYCLE,name:"activated"})},t.emitInitializedEvent=function(){var e={type:u.TYPES.LIFECYCLE,name:"initialized"};SLAVE_CLIENT.optimizely&&(SLAVE_CLIENT.optimizely.initialized=!0),s.emit(e)},t.emitOriginsSyncedEvent=function(){var e={type:u.TYPES.LIFECYCLE,name:"originsSynced"};s.emit(e)},t.emitActionAppliedEvent=function(e){var t={type:e.type,campaignId:e.layerId,pageId:e.pageId,experimentId:e.experimentId,variationId:e.variationId};c.defineProperty(t,"changes",(function(){return i(e).changeSet}),"actionAppliedEvent");var n={type:u.TYPES.ACTION,name:"applied",data:t};s.emit(n)},t.emitActionsForDecisionAppliedEvent=function(e,t){var n={decision:e};c.defineProperty(n,"actions",(function(){return r.map(t,i)}),"appliedAllForDecisionEvent");var a={type:u.TYPES.ACTION,name:"appliedAllForDecision",data:n};s.emit(a)},t.emitSendEvents=function(){var e={type:u.TYPES.ANALYTICS,name:"sendEvents"};s.emit(e)},t.emitHoldEvents=function(){var e={type:u.TYPES.ANALYTICS,name:"holdEvents"};s.emit(e)}}),(function(e,t,n){function i(){var e=Boolean(m.result(SLAVE_CLIENT.optimizely,"initialized"));b.dispatch(I.LOAD_DIRECTIVE,{alreadyInitialized:e})}function r(){b.dispatch(I.LOAD_DIRECTIVE,{mutationObserverAPISupported:N.isMutationObserverAPISupported()})}function a(){var e=N.getUserAgent()||"";if(!m.isString(e))return void w.warn("Directive / userAgent not a string");e=e.toLowerCase();var t=["googlebot","yahoo! slurp","bingbot","bingpreview","msnbot","keynote","ktxn","khte","gomezagent","alertsite","yottaamonitor","pingdom.com_bot","aihitbot","baiduspider","adsbot-google","mediapartners-google","applebot","catchpoint","phantomjs","moatbot","facebookexternalhit"],n=function(t){if(m.includes(e,t))return w.warn("Directive / Matches bot:",t),!0};m.some(t,n)&&(w.log("Directive / Disabling tracking"),b.dispatch(I.LOAD_DIRECTIVE,{trackingDisabled:!0}))}function o(){var e=S.get(A.COOKIES.OPT_OUT),n=D.getQueryParamValue(C.OPT_OUT),i="You have successfully opted out of Optimizely for this domain.",r="You are NOT opted out of Optimizely for this domain.",a="true"===n||"false"===n;e?a&&n!==e?t.setOptOut("true"===n):b.dispatch(I.LOAD_DIRECTIVE,{shouldOptOut:"true"===e}):"true"===n&&t.setOptOut(!0),a&&N.alert("true"===n?i:r)}function s(){var e=!1,t=[C.AB_PREVIEW,C.DISABLE];t.push(C.EDITOR);for(var n=0;n<t.length;n++)if("true"===D.getQueryParamValue(t[n])){w.warn("Directive / Not activating because "+t[n]+" is set."),e=!0;break}b.dispatch(I.LOAD_DIRECTIVE,{disabled:e})}function u(){b.dispatch(I.LOAD_DIRECTIVE,{isPreview:!1})}function c(){var e=D.getQueryParamValue(C.LEGACY_PREVIEW);e&&w.log("Directive / Is legacy preview mode"),b.dispatch(I.LOAD_DIRECTIVE,{isLegacyPreview:!!e})}function l(){b.dispatch(I.LOAD_DIRECTIVE,{isEditor:!1})}function d(){w.log("Directive / Is Slave mode"),b.dispatch(I.LOAD_DIRECTIVE,{isSlave:!0})}function f(){var e=N.getGlobal("optlyDesktop"),t=!(!e||m.isUndefined(e["p13nInner"]));t&&w.log("Directive / Is running in desktop app editor"),b.dispatch(I.LOAD_DIRECTIVE,{isRunningInDesktopApp:t})}function p(){var e="true"===D.getQueryParamValue(C.EDITOR_V2);e&&w.log("Directive / Is running in editor"),b.dispatch(I.LOAD_DIRECTIVE,{isRunningInV2Editor:e})}function g(){var e=S.get(A.COOKIES.TOKEN)||null,t=D.getQueryParamValue(C.TOKEN)||e;b.dispatch(I.LOAD_DIRECTIVE,{projectToken:t})}function h(){var e=S.get(A.COOKIES.PREVIEW),t=[],n=D.getQueryParamValue(C.FORCE_AUDIENCES);if(n)t=S.safeDecodeURIComponent(n).split(",");else if(e)try{var i=O.parse(e);t=i.forceAudienceIds}catch(t){var r=new R("Failed to parse previewCookie in registerForceAudienceIds: "+e),a={originalMessage:t.message,
userError:!0};y.emitError(r,a)}t.length&&(w.log("Directive / Force Audience IDs:",t),b.dispatch(I.LOAD_DIRECTIVE,{forceAudienceIds:t}))}function _(){var e=S.get(A.COOKIES.PREVIEW),t=[],n=D.getQueryParamValue(C.FORCE_VARIATIONS);if(n)t=S.safeDecodeURIComponent(n).split(",");else if(e)try{var i=O.parse(e);t=i.forceVariationIds}catch(t){var r=new R("Failed to parse previewCookie in registerForceVariationIds: "+e),a={originalMessage:t.message,userError:!0};y.emitError(r,a)}t.length&&(w.log("Directive / Force Variation IDs:",t),b.dispatch(I.LOAD_DIRECTIVE,{forceVariationIds:t}))}function v(){var e=D.getQueryParamValue(C.FORCE_TRACKING);e&&b.dispatch(I.LOAD_DIRECTIVE,{forceTracking:e})}function E(){var e="OFF",t=D.getQueryParamValue("optimizely_log");if(t){var n=t.split(":");""!==n[0]&&(e=String(n[0]).toUpperCase()),"undefined"!=typeof n[1]&&w.setLogMatch(n[1])}w.setLogLevel(e)}var m=n(2),I=n(7),y=n(82),S=n(72),T=n(73).create,A=n(22),b=n(9),w=n(20),R=t.JSONParseError=T("JSONParseError"),D=n(115),O=n(23),N=n(36),C={AB_PREVIEW:"optimizely_show_preview",DISABLE:"optimizely_disable",EDITOR:"optimizely_editor",EDITOR_V2:"optimizely_p13n",FORCE_AUDIENCES:"optimizely_x_audiences",FORCE_VARIATIONS:"optimizely_x",LEGACY_PREVIEW:"optimizely_show_preview",OPT_OUT:"optimizely_opt_out",PREVIEW_LAYER_IDS:"optimizely_preview_layer_ids",TOKEN:"optimizely_token",FORCE_TRACKING:"optimizely_force_tracking"};t.populateDirectiveData=function(){E(),a(),i(),r(),o(),s(),l(),u(),c(),d(),f(),p(),g(),h(),_(),v()};var L=31536e3;t.setOptOut=function(e){e?(w.warn("Directive / Opting out"),S.set(A.COOKIES.OPT_OUT,"true",{maxAge:10*L},!0)):S.remove(A.COOKIES.OPT_OUT),b.dispatch(I.LOAD_DIRECTIVE,{shouldOptOut:e})}}),(function(e,t,n){var i=n(116),r=n(36);t.getLanguage=function(){return r.getNavigatorLanguage()},t.getQueryParams=i.getQueryParams,t.getQueryParamValue=i.getQueryParamValue,t.getUrl=function(){return r.getHref()}}),(function(e,t,n){var i=n(2),r=n(36);t.getQueryParams=function(){var e=r.getLocationSearch()||"";if(0===e.indexOf("?")&&(e=e.substring(1)),0===e.length)return[];for(var t=e.split("&"),n=[],i=0;i<t.length;i++){var a="",o="",s=t[i].split("=");s.length>0&&(a=s[0]),s.length>1&&(o=s[1]),n.push([a,o])}return n},t.getQueryParamValue=function(e){for(var n=t.getQueryParams(),i=0;i<n.length;i++)if(n[i][0]===e)return n[i][1];return null},t.queryStringFromMap=function(e){return i.map(e,(function(e,t){return t+"="+e})).join("&")}}),(function(e,t,n){var i=n(2),r=n(7),a=n(16),o=n(22),s=n(83),u=n(9);t.registerApiModule=function(e,t){i.isArray(t)&&(t=a.evaluate(t)),u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.apiModules,name:e,plugin:t})},t.registerDependency=function(e,t){var n=a.get(e);n||a.register(e,t)},t.registerVisitorProfileProvider=function(e){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.visitorProfileProviders,name:e.provides,plugin:e})},t.registerViewProvider=function(e){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewProviders,name:e.provides,plugin:e})},t.registerAudienceMatcher=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.audienceMatchers,name:e,plugin:t})},t.registerViewMatcher=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewMatchers,name:e,plugin:t})},t.registerAnalyticsTracker=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.analyticsTrackers,name:e,plugin:t})},t.registerViewTagLocator=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewTagLocators,name:e,plugin:t})},t.registerAudiencePlugin=function(e){e.dependencies&&i.each(e.dependencies,(function(e,n){t.registerDependency(n,e)}));var n,r="vendor."+e.vendor;n=i.isString(e.provider)?a.get(e.provider)(e.vendor):i.isFunction(e.provider)?e.provider(e.vendor):i.cloneDeep(e.provider),t.registerVisitorProfileProvider(i.extend(n,{provides:r}));var o;o=i.isString(e.matcher)?a.get(e.matcher):e.matcher;var s={fieldsNeeded:[r],match:function(e,t){return o(e[r],t)}};t.registerAudienceMatcher(r,s)},t.registerWidget=function(e){i.isArray(e)&&(e=a.evaluate(e));var t=s.on({filter:{type:"showWidget",name:e.widgetId},handler:e.showFn}),n=s.on({filter:{type:"hideWidget",name:e.widgetId},handler:e.hideFn});return{showToken:t,hideToken:n}},t.registerChangeApplier=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.changeAppliers,name:e,plugin:t})},t.registerDecider=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.deciders,name:e,plugin:t})},t.registerEventImplementation=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.eventImplementations,name:e,plugin:t})},t.registerViewTrigger=function(e,t){u.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewTriggers,name:e,plugin:t})}}),(function(e,t,n){function i(e,t){r.forEach(e,(function(e){if(e.eventType!==d.CUSTOM){var n=h.getPlugin(l.PluginTypes.eventImplementations,e.eventType);n?t?n.attach(e):n.detach(e):p.warn("No implementation found for event type:",e.eventType,"needed for event:",e)}}))}var r=n(2),a=n(7),o=n(113),s=n(119),u=n(21),c=n(16),l=n(22),d=n(108),f=n(9),p=n(20),g=n(120),h=c.get("stores/plugins"),_=c.get("stores/view"),v=c.get("stores/view_data"),E=c.get("stores/event_data");t.parseViewTags=function(e){var n=t.evaluateViewTags(e);t.setParsedViewTags(e.id,n)},t.updateAllViewTags=function(){var e=_.getActiveViewStates();r.each(e,(function(e){var n=v.get(e.id);t.parseViewTags(n)}))},t.evaluateViewTags=function(e){if(!e.tags)return{};var t=r.reduce(e.tags,(function(e,t){try{e[t.apiName]=g.getTagValue(t)}catch(e){e instanceof g.Error?p.warn("Page / Ignoring unparseable tag",t,e):p.error(e)}return e}),{});return t},t.createViewTicket=function(){var e={};return r.each(h.getAllPlugins(l.PluginTypes.viewProviders),(function(t){e[t.provides]=c.evaluate(t.getter)})),e},t.registerViews=function(e){f.dispatch(a.REGISTER_VIEWS,{views:e})},t.activateViaAPI=function(e,n){n&&t.setUserSuppliedViewTags(e.id,n),t.activateMultiple([e],n)},t.getViewsAndActivate=function(e){var n=v.getAllViewsForActivationType(e);t.activateMultiple(n)},t.activateMultiple=function(e,n){var a=[];r.each(e,(function(e){var r=_.getViewState(e.id),s=t.createViewTicket();if(r.isActive)return void(e.deactivationEnabled?t.hasValidStaticConditions(e,s)||t.deactivate(e):p.log("Not activating Page, already active ",t.description(e)));if(!t.hasValidStaticConditions(e,s))return void p.log("Page / Failed to match page conditions for "+t.description(e),e.staticConditions);a.push(e),t.setViewActiveState(e,!0),p.log("Activated Page",t.description(e)),o.emitViewActivated({view:e,metadata:n});var u=E.getByPageId(e.id);i(u,!0)})),r.isEmpty(a)||o.emitViewsActivated({views:a})},t.deactivate=function(e){var n=_.getViewState(e.id);if(!n.isActive)return void p.log("Not deactivating Page, already inactive ",t.description(e));t.setViewActiveState(e,!1),p.log("Deactivated Page",t.description(e)),o.emitPageDeactivated({page:e});var r=E.getByPageId(e.id);i(r,!1)},t.setViewActiveState=function(e,t){f.dispatch(a.SET_VIEW_ACTIVE_STATE,{view:e,timestamp:u.now(),isActive:t})},t.setGlobalTags=function(e){f.dispatch(a.SET_GLOBAL_TAGS,e)},t.setParsedViewTags=function(e,t){f.dispatch(a.UPDATE_PARSED_VIEW_METADATA,{pageId:e,metadata:t})},t.setUserSuppliedViewTags=function(e,t){f.dispatch(a.UPDATE_USER_SUPPLIED_METADATA,{pageId:e,metadata:t})},t.hasValidStaticConditions=function(e,t){if(r.isEmpty(e.staticConditions))return!0;var n=h.getAllPlugins(l.PluginTypes.viewMatchers);p.groupCollapsed("Page / Evaluating staticConditions:",e.staticConditions),p.debug("Matching to current value:",t);var i=s.evaluate(e.staticConditions,(function(e){var i=e.type,r=n[i];if(!r)throw new Error("Page / No matcher found for type="+i);return r.match(t,e)}));return p.groupEnd(),i},t.description=function(e){return'"'+e.name+'" ('+e.id+")"},t.shouldTriggerImmediately=function(e){return e===l.ViewActivationTypes.DOMChanged||e===l.ViewActivationTypes.URLChanged||e===l.ViewActivationTypes.immediate||!e}}),(function(e,t,n){function i(e,t){for(var n,i,r=0;r<e.length;r++){if(n=o(e[r],t),n===!1)return!1;s.isUndefined(n)&&(i=!0)}if(!i)return!0}function r(e,t){for(var n,i=!1,r=0;r<e.length;r++){if(n=o(e[r],t),n===!0)return!0;s.isUndefined(n)&&(i=!0)}if(!i)return!1}function a(e,t){if(1!==e.length)return!1;var n=o(e[0],t);return s.isUndefined(n)?void 0:!n}function o(e,t){var n;if(s.isArray(e)){var i,r;e[0]in d?(i=e[0],r=e.slice(1)):(i=l.OR,r=e),c.groupCollapsed('Condition / Applying operator "'+i+'" with args',u.stringify(r));try{n=d[i](r,t),c.debug("Condition / Result:",n)}finally{c.groupEnd()}return n}return n=t(e),c.debug("Condition / Evaluated:",u.stringify(e),":",n),n}var s=n(2),u=n(23),c=n(20),l={AND:"and",OR:"or",NOT:"not"},d={};d[l.AND]=i,d[l.OR]=r,d[l.NOT]=a,e.exports={evaluate:o}}),(function(e,t,n){var i=n(22).PluginTypes,r=n(16),a=r.get("stores/plugins");t.getTagValue=function(e){var n=a.getPlugin(i.viewTagLocators,e.locatorType);if(!n)throw new t.Error("No locator registered for tag locatorType: "+e.locatorType);return n(e)},t.enums=n(121),t.Error=n(122).Error}),(function(e,t){t.locatorType={CSS_SELECTOR:"css_selector",JAVASCRIPT:"javascript",URL_REGEX:"url_regex"},t.valueType={STRING:"string",NUMBER:"number",CURRENCY:"currency"},t.nodeNames={INPUT:"INPUT",SELECT:"SELECT"}}),(function(e,t,n){var i=n(73).create;t.Error=i("TagError")}),(function(e,t){}),(function(e,t,n){var i=n(16);i.register("env/jquery",n(125))}),(function(e,t,n){var i,r=n(36);try{i=$}catch(e){}var a=r.getGlobal("$");i&&i!==a?e.exports=i:e.exports=a}),(function(e,t,n){var i=n(36),r="optimizelyDataApi";t.registerFunction=function(e,t){var n=i.getGlobal(r);n||(n={},i.setGlobal(r,n)),n[e]||(n[e]=t)},t.getFunction=function(e){return i.getGlobal(r)[e]}}),(function(e,t,n){var i=n(77),r=n(20),a=n(86);t.addScriptAsync=function(e,t){var n=i.querySelector("head"),a=i.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,t&&(a.onload=t),n.insertBefore(a,n.firstChild),r.debug("Asynchronously requesting "+e)},t.addScriptSync=function(e,n){try{var o="optimizely_synchronous_script_"+Math.floor(1e5*Math.random());if(e.indexOf('"')!==-1)return void r.error("Blocked attempt to load unsafe script: "+e);i.write('<script id="'+o+'" src="'+e+'"></scr'+'ipt>');var s=i.querySelector("#"+o);if(!s)throw new Error("Document.write failed to append script");s.onload=n,s.onerror=function(i){r.warn("Failed to load script ("+e+") synchronously:",i),t.addScriptAsync(e,n)}}catch(i){r.debug("Document.write failed for "+e+": "+i.message);var u=function(e){var t=new Function(e.responseText);t(),n&&n()};return a.request({url:e,async:!1,contentType:"text/plain",success:u})["catch"]((function(i){r.error("Failed to load "+e+" via synchronous XHR: "+i.message),t.addScriptAsync(e,n)}))}}}),(function(e,t,n){function i(){var e=null;w.isNumber(e)&&0===_e.getCount()?(Q.log("Activating after delay of",e,"ms because no Experiments are running"),K.dispatch(C.SET_RUM_DATA,{data:{activateDfd:!0}}),setTimeout(P.emitActivateEvent,e)):P.emitActivateEvent()}function r(e){Re.handleError(e.data.error,e.data.metadata)}function a(){w.isArray(SLAVE_CLIENT.optimizely)&&(SLAVE_CLIENT.optimizely=w.filter(SLAVE_CLIENT.optimizely,(function(e){var t=!0;return!we.push(e,t)})))}function o(e){return w.each(e,(function(e,t){X.setItem(t,e)})),e}function s(){var e=ge.getAccountId(),t="https://a6250770393.cdn.optimizely.com".replace("__SUBDOMAIN__","a"+e+"."),n="/client_storage/a"+e+".html";ue.subscribe(w.bind(X.setItem,X));var i=ue.fetchAll().then((function(e){var t=be.getCanonicalOrigins();if(t){var n=ue.getXDomainUserId(e,t);n&&(Q.log("Syncing cross-origin visitor randomId:",n),se.persistVisitorId({randomId:n}))}return e})).then(o),r=!!se.getCurrentId(),a=!!r&&se.hasSomeData();return r?a?Q.log("xd / Existing visitor; has data on this origin"):Q.log("xd / Existing visitor; new to this origin"):Q.log("xd / New visitor"),te.all([ue.load(t,n)["catch"]((function(e){throw Q.debug("xd / Failed to load iframe:",e),r&&!a&&u(!1,e),e})),i.then((function(e){if(se.loadForeignData(),r&&!a){var t=!w.isEmpty(e);Q.debug("xd / Loaded foreign data? ",t),u(t)}}),(function(e){throw r&&!a&&(Q.debug("xd / Failed to load foreign data:",e),u(!1,e)),e})).then((function(){Q.log("Loaded visitor data from foreign origins"),P.emitOriginsSyncedEvent()}),(function(e){Q.debug("xd / Ignored error syncing foreign data (expected if waitForOriginSync used:",e.message),Q.debug("xd / Enqueuing sync to happen after visitorId set."),K.dispatch(C.ADD_CLEANUP_FN,{lifecycle:z.Lifecycle.postVisitorProfileLoad,cleanupFn:P.emitOriginsSyncedEvent})}))])}function u(e,t){K.dispatch(C.SET_RUM_DATA,{data:{extras:{xdAttempt:e,xdError:t?t.toString():void 0}}})}function c(e){var t=Ie.getVisitorProfile();return se.populateEagerVisitorData(e,t)}function l(e,t,n){e=e||[];var i=me.getAllPlugins(z.PluginTypes.visitorProfileProviders),r=ge.getGlobalHoldbackThreshold(),a=Ie.getVisitorProfile();se.populateLazyVisitorData(i,a);var o=Te.getBucketingId();if(!o)throw new Error("bucketingId not set");var s,u=Ie.getVisitorProfile();if(t){var c=Ae.getVariationIdMap();s=c[t.id]}var l={bucketingId:o,visitorProfile:u,audiences:e,globalHoldback:r,preferredVariationMap:s,layer:t};return t&&n&&U.isPageIdRelevant(t)?w.map(n,(function(e){return U.createTicket(w.extend({},l,{pageId:e}))})):[U.createTicket(l)]}function d(e){return{bucketingId:Te.getBucketingId(),preferredLayerId:Ae.getPreferredLayerMap()[e.id]}}function f(e){var t=_e.getAllByPageIds(e),n=pe.getForceVariationIds(),i=pe.getForceAudienceIds(),r=w.reduce(t,(function(e,t){return t.groupId?e.groups[t.groupId]||(e.groups[t.groupId]=he.get(t.groupId)):e.individual.push(t),e}),{groups:{},individual:[]});Q.log("Deciding Campaigns/Experiments for Page(s)",e);var a=w.map(r.groups,q.description).join(", ");Q.log("Groups:",a);var o=w.map(r.individual,W.description).join(", ");Q.log("Campaigns/Experiments not in Groups (by Campaign id):",o);var s=w.map(r.groups,w.partial(p,n,i,e))||[],u=w.map(r.individual,(function(t){var r=w.filter(t.pageIds,w.partial(w.includes,e));return g(n,i,r,t)})),c=s.concat(u);return te.all(c).then((function(t){var n=w.filter(t,(function(e){return!!e}));return Q.log("All Campaigns/Experiments for Page(s) (by Campaign id)",e,"resolved:",w.map(n,W.description).join(", ")),n}))}function p(e,n,i,r){try{var a=d(r),o=U.decideGroup(r,a);if(o.reason)return Q.debug("Not activating Group",q.description(r),"; reason:",o.reason),te.resolve();var s=_e.get(o.layerId);if(!s)return Q.debug("Visitor was bucketed into a Campaign ("+o.layerId+") which is not in this snippet"),te.resolve();var u=w.filter(s.pageIds,w.partial(w.includes,i));return w.isEmpty(u)?(Q.debug("Not activating Group",q.description(r),"; reason: visitor was bucketed into a Campaign/Experiment not related to the currently-activating Page(s)"),te.resolve()):t.decideAndExecuteLayerASAP(e,n,u,s)}catch(e){return Q.error("Error getting decision for Group",q.description(r),"; ",e),te.reject(e)}}function g(e,t,n,i){return new te(function(r,a){try{E(i,e,t,n,(function(a){w.each(a,(function(r){var a=r.pageId?[r.pageId]:n;Q.debug("Deciding layer: ",i,"with decisionTicket: ",r,"and actionViewIds: ",a),h(i,e,t,a,r)})),r(i)}))}catch(e){Q.error("Error getting decision for Campaign: "+W.description(i),e),a(e)}})}function h(e,t,n,i,r){var a=W.description(e);Q.log("Activating Campaign",a,"on Page(s)",i),n.length&&(Q.log("Applying force audienceIds:",n,"to Campaign",a),r=w.cloneDeep(r),r.audienceIds=n);var o=S(e,r,t),s=!(!t.length&&!n.length),u=A(e,o,s)||[],c=b(u,i);if(_(c,e,o,i),w.forEach(i,(function(){L.trackDecisionEvent(o,r)})),P.emitLayerDecided({layer:e,decisionTicket:r,decision:o}),o.error)throw o.error;return U.isInCohort(o)?void v(c,e,o,i):void Q.log("Not activating Campaign: "+W.description(e)+"; not in the cohort because:",o.reason)}function _(e,t,n,i){var r=W.description(t);Q.log("Preparing actions",e,"for Campaign",r,"on Page(s)",i),w.forEach(e,N.prepareAction)}function v(e,t,n,i){var r=W.description(t);return Q.log("Executing actions",e,"for Campaign",r,"on Page(s)",i),te.all(w.map(e,(function(e){return N.executePreparedAction(e).then(w.partial(P.emitActionAppliedEvent,e))}))).then((function(){Q.log("All page actions for",n,"applied:",e),P.emitActionsForDecisionAppliedEvent(n,e)}))["catch"]((function(e){Q.warn("Error evaluating page actions for decision",n,"because:",e)}))}function E(e,t,n,i,r){if(t.length||n.length)return void r(l([],void 0,i));var a=W.relatedAudienceIds(e),o=w.reduce(a,(function(e,t){var n=le.get(t);return n&&e.push(n),e}),[]);y(o,W.getActivationTimeout(e),(function(){var t=l(o,e,i);w.map(t,(function(t){m(t,o,e)})),r(t)}))}function m(e,t,n){var i=w.map(e.audienceIds,w.bind(le.get,le)),r=w.filter(t,(function(t){return!w.includes(e.audienceIds,t.id)}));Q.log("When deciding Campaign",W.description(n),"visitor is in audiences:",I(i),"and not in audiences:",I(r))}function I(e){var t=[];return w.each(e,(function(e){t.push(e.name,e)})),t}function y(e,t,n){var i={},r=me.getAllPlugins(z.PluginTypes.audienceMatchers);w.each(e,(function(e){var t=V.requiredAudienceFields(e,r);w.each(t,(function(e){i[e]=!0}))}));var a=w.reduce(i,(function(e,t,n){if(w.isUndefined(se.getAttribute(n))){var i=se.getPendingAttributeValue(n);w.isUndefined(i)||e.push(i)}return e}),[]);if(0===a.length)return n();var o=[].concat(e),s=ne.firstToResolve(w.map(a,(function(e){return te.resolve(e).then((function(){var e=Ie.getVisitorProfile();if(o=w.filter(o,(function(t){return w.isUndefined(V.isInAudience(e,t,r))})),!w.isEmpty(o))throw new Error("At least one audience is still pending")}))})));te.race([s,new te(function(e,n){setTimeout(n,t)})]).then((function(){Q.log("Activating Campaign after pending Audiences resolved",e),n()}),(function(){Q.log("Activating Campaign after timeout on Audiences",e),n()}))}function S(e,t,n){var i,r=W.description(e);return i=n.length?U.getDummyLayerDecision(e,n):U.decideLayer(e,t),Q.log("Recording decision for Campaign",r,t,"->",i),W.recordLayerDecision(e.id,t,i),i.variationId&&i.experimentId&&se.updateVariationIdMap(e.id,i.experimentId,i.variationId),e.groupId&&se.updatePreferredLayerMap(e.groupId,e.id),i}function T(e){var t=fe.getCleanupFns(e);if(t.length>0){for(;t.length>0;)t.shift()();K.dispatch(C.CLEAR_CLEANUP_FN,{lifecycle:e})}}function A(e,t,n){var i=W.description(e),r="NOT applying changes for Campaign";if(!n&&ge.isGlobalHoldback())return Q.log(r,i,"(visitor is in global holdback)"),null;if(t.isLayerHoldback)return Q.log(r,i,"(visitor is in layer holdback)"),null;if(!t.experimentId||!t.variationId)return Q.log(r,i,"(visitor is not eligible for any Experiments)"),null;var a=[].concat(de.getLayerActions(t.layerId)||[],de.getExperimentActions(t.experimentId)||[],de.getExperimentVariationActions(t.experimentId,t.variationId)||[]);return Q.log("Got Actions for Campaign:",i,a),a}function b(e,t){return w.filter(e,(function(e){return w.isUndefined(e.pageId)||w.includes(t,e.pageId)}))}var w=n(2),R=n(73).create,D=t.ActivationCodeError=R("ActivationCodeError"),O=t.ProjectJSError=R("ProjectJSError"),N=n(129),C=n(7),L=n(106),P=n(113),V=n(133),x=n(72),k=n(82),F=n(105),M=n(21),U=n(134),G=n(16),B=n(77),z=n(22),j=n(83),H=n(107),Y=n(139),K=n(9),q=n(138),W=n(109),X=n(78).LocalStorage,Q=n(20),$=n(140),J=n(80),Z=n(117),ee=n(84),te=n(12).Promise,ne=n(141),ie=n(110),re=n(112),ae=n(131),oe=n(118),se=n(71),ue=n(81),G=n(16),ce=G.get("stores/session"),le=G.get("stores/audience_data"),de=G.get("stores/action_data"),fe=G.get("stores/cleanup"),pe=G.get("stores/directive"),ge=G.get("stores/global"),he=G.get("stores/group_data"),_e=G.get("stores/layer_data"),ve=G.get("stores/layer"),Ee=G.get("stores/pending_events"),me=G.get("stores/plugins"),Ie=G.get("stores/visitor"),ye=G.get("stores/view_data"),Se=G.get("stores/view"),Te=G.get("stores/visitor_id"),Ae=G.get("stores/visitor_bucketing"),be=G.get("stores/xdomain"),we=n(88),Re=n(142),De=1e3,Oe=!1,Ne=1e3,Ce=t;t.initialize=function(e){var n=e.clientData;if(F.normalizeClientData(e.clientData),j.on({filter:{type:"error"},handler:r}),K.dispatch(C.DATA_LOADED,{data:n}),Q.log("Initialized with DATA:",n),a(),pe.isDisabled()||pe.shouldOptOut())return void Q.log("Controller / Is disabled");B.isReady()?K.dispatch(C.SET_DOMCONTENTLOADED):B.addReadyHandler((function(){K.dispatch(C.SET_DOMCONTENTLOADED)}));var o=!1,u=x.get(z.COOKIES.REDIRECT);if(u){var c=u.match(/^(\d+)\|(.*)/);if(c){Q.debug("Found legacy redirect data:",u);var l=c[1],d=c[2];K.dispatch(C.INITIALIZE_STATE,{effectiveVariationId:l,effectiveReferrer:d}),o=!0}}J.time("projectJS");var f=ge.getProjectJS();if(w.isFunction(f))try{Y.apply(f)}catch(e){Q.error("Error while executing projectJS: ",e),k.emitError(new O(e))}J.timeEnd("projectJS"),w.each(e.plugins||[],(function(e){try{e(Z)}catch(e){k.emitInternalError(e)}})),w.each(ge.getPlugins()||[],(function(e){try{Y.apply(e,[Z])}catch(e){k.emitError(e)}})),o||ie.load();var p=j.on({filter:{type:"lifecycle",name:"activated"},handler:function(){Ie.observe(se.persistVisitorProfile),ve.observe(se.persistLayerStates),ce.observe(se.persistSessionState),Ee.observe($.persistPendingEvents),Ae.observe(se.persistVisitorBucketingStore),j.off(p)}});j.on({filter:{type:"lifecycle",name:"viewsActivated"},handler:t.onViewsActivated}),j.on({filter:{type:"lifecycle",name:"pageDeactivated"},handler:t.onPageDeactivated}),t.initializeApi();var g=$.getPendingEvents();if(g&&(K.dispatch(C.LOAD_PENDING_EVENTS,{events:g}),$.retryPendingEvents(g)),j.on({filter:{type:"lifecycle",name:"activate"},handler:t.activate}),P.emitInitializedEvent(),!pe.shouldActivate())return te.resolve();var h=[],_=s();if(h.push(_),be.getCanonicalOrigins()){var v=re.makeTimeoutPromise(Ne);te.race([_,v])["catch"]((function(e){Q.error("Failed to initialize xDomain storage: ",e)})).then(i)["catch"](Re.handleError)}else i();return te.all(h)},t.activate=function(){try{var e=[];Q.log("Activated client"),w.forEach(Se.getActiveViewStates(),(function(e){oe.deactivate(ye.get(e.id))})),T(z.Lifecycle.preActivate);var t=M.now();K.dispatch(C.ACTIVATE,{activationId:String(t),activationTimestamp:t});var n=ye.getAll();oe.registerViews(n),se.setId(se.getIdFromCookies()),e.push(L.trackPostRedirectDecisionEvent()),K.dispatch(C.MERGE_VARIATION_ID_MAP,{variationIdMap:se.getVariationIdMap()}),K.dispatch(C.MERGE_PREFERRED_LAYER_MAP,{preferredLayerMap:se.getPreferredLayerMap()}),T(z.Lifecycle.postVisitorProfileLoad),e.push(c(me.getAllPlugins(z.PluginTypes.visitorProfileProviders)).then((function(){Q.log("Populated visitor profile")})));var i=l(),r=U.decideGlobal(i);Q.log("Made global decision",i,"->",r),K.dispatch(C.RECORD_GLOBAL_DECISION,r);var a=L.trackClientActivation();a?Q.log("Tracked activation event",a):Q.log("Not tracking activation event");var o=Ce.setUpViewActivation(n);return Oe?oe.activateMultiple(o):w.each(o,(function(e){oe.activateMultiple([e])})),T(z.Lifecycle.postViewsActivated),T(z.Lifecycle.postActivate),P.emitActivatedEvent(),te.all(e).then((function(){j.emit({type:H.TYPES.LIFECYCLE,name:"activateDeferredDone"}),Q.log("All immediate effects of activation resolved")}),k.emitError)}catch(e){return k.emitError(e),te.reject(e)}},Ce.setUpViewActivation=function(e){var t=[];return w.each(e,(function(e){oe.shouldTriggerImmediately(e.activationType)?t.push(e):e.activationType===z.ViewActivationTypes.callback?(Q.debug("Setting up conditional activation for Page",oe.description(e)),Ce.activateViewOnCallback(e)):e.activationType===z.ViewActivationTypes.polling?(Q.debug("Setting up polling activation for Page",oe.description(e)),ee.pollFor(w.partial(Y.apply,e.activationCode),null,w.partial(ae.isTimedOut,M.now())).then((function(){oe.activateMultiple([e])}))["catch"]((function(t){Q.warn("Failed to activate view ",e,t)}))):e.activationType!==z.ViewActivationTypes.manual&&k.emitError(new Error("Unknown view activationType: "+e.activationType))})),t},Ce.activateViewOnCallback=function(e){var t=function(t){var n=w.extend({},t,{pageName:e.apiName,type:"page"});we.push(n)},n={pageId:e.id};Object.defineProperty(n,"isActive",{get:function(){return Se.isViewActive(e.id)}});try{Y.apply(e.activationCode,[t,n])}catch(t){var i=new D("("+t.toString()+") in activationCode for "+oe.description(e));k.emitError(i,{originalError:t,userError:!0})}},t.onViewsActivated=function(e){var t,n=e.data.views,i=w.map(n,"id");try{if(!Te.getBucketingId())throw new Error("View activated with no visitorId set");var r=f(i)["catch"](k.emitError);return t=te.all(w.map(n,(function(e){var t=function(){oe.parseViewTags(e);var t=L.trackViewActivation(e);t?Q.log("Tracked activation for Page",oe.description(e),t):Q.log("Not Tracking activation for Page",oe.description(e))};return B.isReady()?te.resolve(t()):ee.pollFor(B.isReady,De).then(t)}))),te.all([r,t])}catch(e){k.emitError(e)}},t.onPageDeactivated=function(e){var t=e.data.page,n=de.getAllActionIdsByPageId(t.id);w.each(n,(function(e){var n=de.getActionState(e);n&&(w.each(n,(function(e,n){if(e.cancel)try{e.cancel(),Q.debug("Controller / Canceled change",n,"observation due to deactivation of page:",t)}catch(e){Q.error("Controller / Error canceling change",n,"observation upon deactivation of page.",e)}if(t.undoOnDeactivation&&e.undo)try{e.undo(),Q.debug("Controller / Undid change",n,"due to deactivation of page:",t)}catch(e){Q.error("Controller / Error undoing change upon deactivation of page.",e)}})),K.dispatch(C.REMOVE_ACTION_STATE,{actionId:e}),Q.debug("Controller / Undid changes and/or canceled change observation due to deactivation of page:",t,e))}))},t.initializeApi=function(){var e={get:we.get,push:we.push},t=SLAVE_CLIENT.optimizely;w.isArray(t)&&w.each(t,(function(t){e.push(t)})),e.data={note:"Obsolete, use optimizely.get('data') instead"},e.state={},SLAVE_CLIENT.optimizely=e},t.decideAndExecuteLayerASAP=g}),(function(e,t,n){function i(e,t,n){var i=v.getActionState(t.id);if(!i)return void p.warn("Action / Attempted to prepare change for inactive action: ",t);var r=v.getChangeApplier(e.id,t.id);if(!a.isUndefined(r))return void p.warn("Action / Attempted to prepare a change which is already being applied: ",e);var s={changeId:e.id,actionId:t.id,changeApplier:I.create(e,t,n)};f.dispatch(o.SET_CHANGE_APPLIER,s)}function r(e,t,n,o){if(a.includes(o,t))return void p.error("Change with id "+t+" has circular dependencies: "+o.concat(t));if(!e[t]){var c=E.getChange(t);if(!c){var d="Change with id "+t+" is absent";return o.length&&(d+=" but listed as a dependency for "+o[o.length-1]),void p.warn(d)}e[t]=new g(function(d){var f=a.map(c.dependencies||[],(function(i){return r(e,i,n,o.concat([t]))}));if(c.src){var _="change_"+c.src,m=u.makeAsyncRequest(_,(function(){return h.addScriptAsync("https://cdn.optimizely.com/public/6250770393/data"+c.src,(function(){u.resolveRequest(_)}))})).then((function(){var e=E.getChange(c.id);e||s.emitError(new S("Failed to load async change from src: "+c.src)),i(e,n,l.now())}));f.push(m)}g.all(f).then((function(){var e=l.now(),i=v.getChangeApplier(t,n.id);return i?(p.debug("Action / Applying change:",c),i.apply().then((function(t){t?p.log(t):p.debug("Action / Applied change for the first time in "+(l.now()-e)+"ms:",c),d()}))):(p.debug("Action / Not applying change ",t," - No changeApplier found."),void d())}))["catch"]((function(e){p.error("Action / Failed to apply change:",c,e),d()}))})}return e[t]}var a=n(2),o=n(7),s=n(82),u=n(6),c=n(73).create,l=n(21),d=n(16),f=n(9),p=n(20),g=n(12).Promise,h=n(127),_=d.get("stores/global"),v=d.get("stores/action_data"),E=d.get("stores/change_data"),m=d.get("stores/session"),I=n(130),y=n(131);y.initialize();var S=c("ActionError");t.prepareAction=function(e){p.debug("Action / Preparing:",e),f.dispatch(o.ACTION_EXECUTED,{actionId:e.id,sessionId:m.getSessionId(),layerId:e.layerId,pageId:e.pageId,timestamp:l.now(),activationId:_.getActivationId()});var t=l.now();a.forEach(e.changeSet,(function(n){var r=a.isObject(n)?n.id:n,s=E.getChange(r);s||(f.dispatch(o.ADD_CHANGE,n),s=E.getChange(n.id)),s.src||i(s,e,t)}))},t.executePreparedAction=function(e){p.debug("Action / Executing:",e);var t={},n=a.map(e.changeSet,(function(n){var i=a.isObject(n)?n.id:n;return r(t,i,e,[])}));return g.all(n).then((function(){p.debug("changes for action id="+e.id+" applied")}))}}),(function(e,t,n){var i=n(13).Promise,r=n(21),a=n(16),o=a.get("stores/plugins"),s=n(22),u=n(20);t.create=function(e,t,n){var a={identifier:e.id,action:t,startTime:n||r.now()};try{var c=o.getPlugin(s.PluginTypes.changeAppliers,e.type);if(!c)throw new Error("Unrecognized change type "+e.type);return new c(e,a)}catch(e){u.error("Change applier was never properly constructed:",e);var l={apply:function(){return i.reject(e)}};return l}}}),(function(e,t,n){function i(){"interactive"!==document.readyState&&"complete"!==document.readyState||(t.domReadyTime=Date.now())}var r=n(132),a=n(16).get("stores/directive");t.domReadyTime=null,t.initialize=function(){i(),document.addEventListener("readystatechange",i,!0)},t.isTimedOut=function(e){var n=Date.now();if(!t.domReadyTime||!e)return!1;var i=Math.max(e,t.domReadyTime);return a.isEditor()&&(i=t.domReadyTime),!(n-i<r.SELECTOR_POLLING_MAX_TIME)}}),(function(e,t){e.exports={SELECTOR_POLLING_MAX_TIME:2e3,CHANGE_DATA_KEY:"optimizelyChangeData",CHANGE_ID_ATTRIBUTE_PREFIX:"data-optly-"}}),(function(e,t,n){function i(e,t){var n={};return o.each(e,(function(e){if(o.isArray(e))o.extend(n,i(e,t));else if(o.isObject(e)){var r=t[e.type];r&&o.each(r.fieldsNeeded,(function(e){n[e]=!0}))}})),n}function r(e,t){return function(n){var i=n.type,r=t[i];if(!r)throw new Error("Audience / No matcher found for type="+i);if(r.fieldsNeeded)for(var a,s,c=0;c<r.fieldsNeeded.length;c++)if(a=r.fieldsNeeded[c],s=e[a],o.isUndefined(s))return void u.debug("Audience / Required field",a,"for type",i,"has no value");u.debug("Matching condition:",n,"to values:",e);var l=r.match(e,n);if(!o.isUndefined(l))return!!l}}function a(e){return e.name?e.name+" ("+e.id+")":e.id}var o=n(2),s=n(119),u=n(20);t.isInAudience=function(e,t,n){var i=r(e,n);u.groupCollapsed("Checking audience",t.name,t.id,t),u.debug("Visitor Profile:",e);var o;try{var c=s.evaluate(t.conditions,i)}catch(e){o=e,c=!1}return u.groupEnd(),o&&u.error("Audience / Error evaluating audience",a(t),":",o),u.log("Is "+(c?"in":"NOT in")+" audience:",a(t)),c},t.requiredAudienceFields=function(e,t){return o.keys(i(e.conditions,t))}}),(function(e,t,n){function i(e,t){v.debug("Decision / Deciding layer for group: ",h.description(e));var n,i,r=t.preferredLayerId,a=!!r;if(a)v.debug("Decision / Using preferredLayerMap to select layer for group:",h.description(e)),n=r;else try{n=l.chooseWeightedCandidate(t.bucketingId,e.id,e.weightDistributions),n&&"None"!==n||(i='Group traffic allocation. Visitor maps to a "hole" in the bucket space left by an experiment or campaign that\'s since been removed from the group')}catch(e){i="Group traffic allocation. Visitor maps to a point in the bucket space which has never been covered by any experiment or campaign."}if(i)return{layerId:null,reason:i};if(!s.find(e.weightDistributions,{entityId:n})){var o=a?" sticky-":" non-sticky ",u="Visitor was"+o+"bucketed into a campaign ("+n+") which is not in the group";if(!a)throw new f(u);return{layerId:null,reason:u}}return{layerId:n}}function r(e,t){for(var n=0;n<e.experiments.length;n++)for(var i=0;i<e.experiments[n].variations.length;i++)if(t.indexOf(e.experiments[n].variations[i].id)>-1)return{experimentId:e.experiments[n].id,variationId:e.experiments[n].variations[i].id};return null}function a(e){var t=m.getPlugin(g.PluginTypes.deciders,e);if(s.isEmpty(t))throw new Error("No deciders found for policy: "+e);return t}function o(e,t){var n=m.getAllPlugins(g.PluginTypes.audienceMatchers);return s.reduce(t,(function(t,i){return c.isInAudience(e,i,n)&&t.push(i.id),t}),[])}var s=n(2),u=n(82),c=n(133),l=n(135),d=n(136),f=n(137).DecisionError,p=n(16),g=n(22),h=n(138),_=n(109),v=n(20),E=n(40),m=p.get("stores/plugins"),I=p.get("stores/global"),y=p.get("stores/layer_data");t.isPageIdRelevant=function(e){if(!e)return!1;var t=a(e.policy);return s.isFunction(t.includePageIdInDecisionTicket)?t.includePageIdInDecisionTicket(e):t.includePageIdInDecisionTicket===!0},t.createTicket=function(e){var t=s.pick(e,["bucketingId","globalHoldback","preferredVariationMap","pageId"]);return s.extend(t,{audienceIds:o(e.visitorProfile,e.audiences),
activationId:I.getActivationId()}),t},t.decideGlobal=function(e){var t=l.isHoldback(e.bucketingId,{id:null,holdback:e.globalHoldback});return{isGlobalHoldback:t}},t.decideGroup=i,t.decideLayer=function(e,t){v.debug("Deciding: ",e,t);var n,i,r=a(e.policy),o={layerId:e.id,experimentId:null,variationId:null,isLayerHoldback:l.isHoldback(t.bucketingId,e)};if(s.isEmpty(e.experiments))throw new f("No experiments in layer.");try{if(r.decideLayer){v.debug("Decision / Using decider's custom decideLayer.");var c=r.decideLayer(e,t);n=c.experiment,i=c.variation}else v.debug("Decision / Using default decideLayer behavior."),n=r.selectExperiment(e,t.audienceIds,t.bucketingId),i=d.selectVariation(n,t.audienceIds,t.bucketingId,t.activationId,t.preferredVariationMap)}catch(e){e instanceof f?o.reason=e.message:o.error=e}return o.experimentId=n?n.id:null,o.variationId=i?i.id:null,o.error&&(o.error.name="DecisionEngineError",u.emitError(o.error)),o},t.getDummyLayerDecision=function(e,t){var n,i=r(e,t);return i?(v.log("Decision / Applying force variation:",i.variationId,"to Campaign",_.description(e)),n={layerId:e.id,variationId:i.variationId,experimentId:i.experimentId,isLayerHoldback:!1,reason:"force"}):(v.log("No variation matches ids:",t,"in Campaign",_.description(e)),n={layerId:e.id,variationId:null,experimentId:null,isLayerHoldback:!1,reason:"force"}),n},t.isInCohort=function(e){if(!e.experimentId||!e.variationId)return!1;var t=y.get(e.layerId);return!(E.isSingleExperimentPolicy(t.policy)&&e.isLayerHoldback)}}),(function(e,t,n){var i=n(61),r=t.TOTAL_POINTS=1e4;t.bucketingNumber=function(e,t,n){var a=i.hashToInt(e+t,n,r);return a},t.isHoldback=function(e,n){return t.bucketingNumber(e,n.id,i.Seed.IGNORING)<(n.holdback||0)},t.chooseWeightedCandidate=function(e,n,r){for(var a=t.bucketingNumber(e,n,i.Seed.BUCKETING),o=0;o<r.length;o++)if(r[o].endOfRange>a)return r[o].entityId;throw new Error("Unable to choose candidate")}}),(function(e,t,n){var i=n(2),r=n(135),a=n(119),o=n(137).DecisionError,s=n(20),u="impression";t.isValidExperiment=function(e,t){var n,r=i.partial(i.includes,e);return s.groupCollapsed("Decision / Evaluating audiences for experiment:",t,e),n=!t.audienceIds||a.evaluate(t.audienceIds,r),s.groupEnd(),s.debug("Decision / Experiment",t,"is valid?",n),n},t.selectVariation=function(e,t,n,a,c){if(!e.variations||0===e.variations.length)throw new o('No variations in selected experiment "'+e.id+'"');if(!e.weightDistributions&&e.variations.length>1)throw new o('On selected experiment "'+e.id+'", weightDistributions must be defined if # variations > 1');var l;if(e.bucketingStrategy&&e.bucketingStrategy===u)if(1===e.variations.length)l=e.variations[0].id;else{var d=a;l=r.chooseWeightedCandidate(n+d,e.id,e.weightDistributions)}else if(c&&c[e.id]){s.debug("Decision / Using preferredVariationMap to select variation for experiment:",e.id);var f=c[e.id];if(!i.find(e.variations,{id:f}))return s.debug("Decision / Preferred variation:",f,"not found on experiment:",e.id,". Visitor not bucketed."),null;l=f}else l=1===e.variations.length?e.variations[0].id:r.chooseWeightedCandidate(n,e.id,e.weightDistributions);var p=i.find(e.variations,{id:l});if(p)return s.debug("Decision / Selected variation:",p),p;throw new o('Unable to find selected variation: "'+l+'".')},t.getExperimentById=function(e,t){var n=i.find(e.experiments,{id:t});if(n)return n;throw new o("Unable to find selected experiment.")},t.hasVariationActionsOnView=function(e,t){return s.debug("Decision / Checking variation:",e,"for actions on pageId:",t),!!i.find(e.actions,(function(e){return e.pageId===t&&!i.isEmpty(e.changes)}))}}),(function(e,t){function n(e){this.message=e}n.prototype=new Error,t.DecisionError=n}),(function(e,t,n){function i(e){return r.map(e.weightDistributions,"entityId")}var r=n(2);t.description=function(e){var t=!!e.name,n=t?'"'+e.name+'" ':"",r=i(e).join(", ");return n+"(id "+e.id+", campaigns: "+r+")"}}),(function(module,exports,__webpack_require__){var createError=__webpack_require__(74),di=__webpack_require__(16),Logger=__webpack_require__(20),CSP_MODE=!1,EXEC_WITH_JQUERY=!0,ExecError=exports.Error=createError("ExecError");exports.apply=function(e,t){t=t||[],EXEC_WITH_JQUERY&&(t=t.concat(di.get("env/jquery")));try{return e.apply(void 0,t)}catch(n){throw Logger.warn("Error applying function",e,"with args:",t,n),new ExecError(n)}},exports.eval=function(str){if(CSP_MODE)throw new ExecError("eval is not supported in CSP mode");try{return EXEC_WITH_JQUERY&&(str="var $ = optimizely.get('jquery');"+str),eval(str)}catch(e){throw Logger.warn("Error executing JS:",str,e),new ExecError(e)}}}),(function(e,t,n){var i=n(2),r=n(82),a=n(22),o=n(23),s=n(78).LocalStorage,u=n(20),c=n(86),l=n(16),d=l.get("stores/pending_events"),f=a.StorageKeys.PENDING_EVENTS;t.persistPendingEvents=function(){try{var e=d.getEventsString();s.setItem(f,e),n(81).setItem(f,e)}catch(e){u.warn("PendingEvents / Unable to set localStorage key, error was: ",e),r.emitInternalError(e)}},t.getPendingEvents=function(){try{return o.parse(s.getItem(f))}catch(e){return null}},t.retryPendingEvents=function(e){i.forOwn(e,(function(e,t){c.retryableRequest(e.data,t,e.retryCount)})),i.isEmpty(e)||u.log("Retried pending events: ",e)}}),(function(e,t,n){var i=n(2),r=n(12).Promise;t.firstToResolve=function(e){return new r(function(t){i.each(e,(function(e){r.resolve(e).then(t,(function(){}))}))})}}),(function(e,t,n){var i=n(2),r=n(90),a=n(73).BaseError,o=n(21),s=n(16),u=n(77),c=n(20),l=n(36),d=n(86),f=s.get("stores/global"),p="https://errors.client.optimizely.com";t.handleError=function(e,t){function n(){return d.request({url:p+"/log",method:"POST",data:_,contentType:"application/json"}).then((function(e){c.log("Error Monitor / Logged error with response: ",e)}),(function(e){c.error("Failed to log error, response was: ",e)}))}var s=e.name||"Error",g=e.message,h=e.stack||null;e instanceof a&&(g instanceof Error?(g=g.message,h=e.message.stack):h=null);var _={timestamp:o.now(),clientEngine:r.ENGINE,clientVersion:r.VERSION,accountId:f.getAccountId(),projectId:f.getProjectId(),errorClass:s,message:g,stacktrace:h};t&&(_.metadata=i.reduce(t,(function(e,t,n){return i.isObject(t)||e.push({key:n,value:String(t)}),e}),[])),c.error("Logging error",_),u.isLoaded()?n():l.addEventListener("load",n)}}),(function(e,t,n){function i(e){var t=!1;if(a.isArray(SLAVE_CLIENT.optimizely)&&a.each(SLAVE_CLIENT.optimizely,(function(n){a.isArray(n)&&"verifyPreviewProject"===n[0]&&String(n[1])===e&&(t=!0)})),!t)throw new Error("Preview projectId: "+e+" does not match expected")}function r(){s.on({filter:{type:u.TYPES.ANALYTICS,name:"trackEvent"},handler:f}),s.on({filter:{type:u.TYPES.LIFECYCLE,name:"viewActivated"},handler:f}),s.on({filter:{type:u.TYPES.LIFECYCLE,name:"layerDecided"},handler:f}),s.on({filter:{type:"error"},publicOnly:!0,handler:f})}var a=n(2),o=n(16),s=n(83),u=n(107),c=n(36),l=o.get("stores/directive"),d="optimizelyPreview",f=function(e){var t=c.getGlobal(d);t.push(e)};t.initialize=function(e){l.isSlave()&&i(e),r()},t.setupPreviewGlobal=function(){c.getGlobal(d)||c.setGlobal(d,[])},t.pushToPreviewGlobal=function(e){f(e)}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(145))}}),(function(e,t){e.exports={provides:"visitorId",getter:["stores/visitor_id",function(e){return e.getRandomId()}]}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(147)),e.registerAudienceMatcher("behavior",n(149))}}),(function(e,t,n){var i=n(148);e.exports={provides:"events",isTransient:!0,getter:[function(){return i.getEvents()}]}}),(function(e,t,n){var i=n(2),r=n(69),a=n(16),o=a.get("stores/visitor_events"),s=1e3;t.getEvents=function(){var e=r.getEvents(),t=[].concat.apply([],i.values(o.getForeignEvents())),n=[].concat.apply([],i.values(o.getForeignEventQueues())),a=r.mergeAllEvents([e,t,n]);return a.slice(a.length-s)}}),(function(e,t,n){var i=n(2),r=n(23),a=n(150),o=n(151);e.exports={fieldsNeeded:["events"],match:function(e,t){var n=[],s=r.parse(t.value);return n=i.isUndefined(s.version)?[s]:a.buildFromSpecV0_1(s),i.every(n,(function(t){return o.isSatisfied(t,e.events)}))}}}),(function(e,t,n){function i(e){return e=(e||"").toString().trim(),p[e]||e}function r(e,t,n){var i={where:t};if(e.count&&(i["limit"]=e.count),e.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT){var r=s.getFieldKeyPathForSource(e.name,n),a=s.aggregate("count"),o=s.aggregateField("count"),l=s.groupField(r);return u.extend(i,{select:[{field:l}],groupBy:s.groupBy([r]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}]})}return u.extend(i,{orderBy:[{field:[c.FIELDS.TIME],direction:"DESC"}]})}function a(e){var t=[];if(u.isUndefined(e))throw new Error("rule is undefined");if(!u.isObject(e))throw new Error("rule is not an Object");"0.2"!==e["version"]&&t.push('version: not "0.2"'),e["filter"]&&(u.isArray(e["filter"])?u.each(e["filter"],(function(e,n){var i=s.validateFieldKeyPathV0_2(e["field"],s.FieldPurpose.FILTER);i&&t.push("filter["+n+"]: "+i);var r=s.validateComparatorAndValue(e["comparator"],e["value"]);r&&t.push("filter["+n+"]: "+r)})):t.push("filter: not an array"));var n=[],i=[];if(e["sort"]&&(e["reduce"]&&e["reduce"]["aggregator"]&&"nth"!==e["reduce"]["aggregator"]&&t.push("sort: superfluous because we can apply aggregator "+l.stringify(e["reduce"]["aggregator"])+" to unsorted items"),u.isArray(e["sort"])?u.each(e["sort"],(function(e,r){var a=s.validateFieldKeyPathV0_2(e["field"],s.FieldPurpose.SORT);a&&t.push("sort["+r+"]: "+a),e["field"]&&"frequency"===e["field"][0]?n.push(e):i.push(e);var u=o(e["direction"]);u&&t.push("sort["+r+"]: "+u)})):t.push("sort: not an array"),n.length&&i.length&&t.push('sort: sorting by non-["frequency"] field is pointless because we are going to sort the picked values by ["frequency"]'),n.length&&!e["pick"]&&t.push('sort: sorting by ["frequency"] is impossible because no values have been picked')),e["pick"]){e["reduce"]&&"count"===e["reduce"]["aggregator"]&&t.push('pick: superfluous because we can apply aggregator "count" to raw events');var r=s.validateFieldKeyPathV0_2(e["pick"]["field"]);r&&t.push("pick: "+r)}if(e["reduce"]){var a=e["reduce"]["aggregator"],c="aggregator "+(l.stringify(a)||String(a)),d=e["reduce"]["n"],f="index "+(l.stringify(d)||String(d));u.includes(["sum","avg","max","min","count","nth"],a)||t.push("reduce: "+c+" is unknown"),u.includes(["sum","avg","max","min"],a)&&(e["pick"]||t.push("reduce: "+c+" is impossible to use because no values have been picked")),"nth"===a?((!u.isNumber(d)||isNaN(d)||parseInt(d,10)!==d||d<0)&&t.push("reduce: "+f+" is not a non-negative integer (mandated by "+c+")"),e["sort"]||t.push('reduce: aggregator "nth" is meaningless without a specific sort order')):u.isUndefined(d)||t.push("reduce: "+f+" is defined (not mandated by "+c+")")}if(t.length)throw new Error(t.join("\n"))}function o(e){var t="direction "+(l.stringify(e)||String(e));if(!u.includes(["ascending","descending"],e))return t+' is not "ascending" or "descending"'}var s=t,u=n(2),c={FIELDS:n(59).FIELDS,FIELDS_V0_2:n(59).FIELDS_V0_2},l=n(23),d=n(20),f=n(151);s.MILLIS_IN_A_DAY=864e5,s.aggregateField=function(e,t){return u.isString(t)&&(t=[t]),t=t||f.DEFAULT_FIELD,[f.generateAlias(e,t)]},s.groupField=function(e){return u.isString(e)&&(e=[e]),e=e||f.DEFAULT_FIELD,[e.join(".")]};var p={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};s.fieldComparison=function(e,t,n){return e=i(e),u.isString(t)&&(t=[t]),"exists"===e?{op:e,args:[{field:t}]}:{op:e,args:[{field:t},{value:n}]}},s.relativeTimeComparison=function(e,t){return{op:i(e),args:[{op:"-",args:[{eval:"now"},{field:[c.FIELDS.TIME]}]},{value:t*s.MILLIS_IN_A_DAY}]}},s.rangeTimeComparison=function(e){return u.isArray(e)?{op:"between",args:[{field:[c.FIELDS.TIME]},{value:[e[0]||+new Date(0),e[1]||+new Date]}]}:(d.error("Rule builder","rangeTimeComparison passed invalid range",e),null)},s.groupBy=function(e){for(var t=[],n=0;n<e.length;n++)t[n]={field:e[n]};return t},s.aggregate=function(e,t){return u.isString(t)&&(t=[t]),t=t||f.DEFAULT_FIELD,{op:e,args:[{field:t}]}},s.SOURCE_TYPES={BEHAVIOR:"events",CUSTOM_BEHAVIOR:"custom_behavior",DCP:"dcp"},s.FREQUENCY_FILTERS={MOST_FREQUENT:"most_frequent",LEAST_FREQUENT:"least_frequent"},s.RECENCY_FILTERS={MOST_RECENT:"most_recent",LEAST_RECENT:"least_recent"},s.getFieldKeyPathForSource=function(e,t){t=t||s.SOURCE_TYPES.BEHAVIOR;var n=[];return u.isString(e)?(n=[e],t!==s.SOURCE_TYPES.BEHAVIOR||u.includes(u.values(c.FIELDS),e)||(n=[c.FIELDS.OPTIONS,e])):n=e,n},s.buildFromSpecV0_1=function(e){if(!(e.action||e.filters&&0!==e.filters.length))throw new Error('Audience spec must have an "action" field or at least one "filter" '+l.stringify(e));var t=s.fieldComparison("gt",c.FIELDS.TIME,0),n=[],i=[];if(e.action&&(i.push(s.fieldComparison("eq",c.FIELDS.NAME,e.action.value)),e.action.type&&i.push(s.fieldComparison("eq",c.FIELDS.TYPE,e.action.type))),e.time)if("last_days"===e.time.type)i.push(s.relativeTimeComparison("lte",e.time.days));else if("range"===e.time.type){var a=s.rangeTimeComparison([e.time.start,e.time.stop]);a&&i.push(a)}else d.error("Rule builder",'Audience spec has bad "time" type',e.time.type);if(t={op:"and",args:i},e.count&&n.push({where:s.fieldComparison(e.count.comparator,"0",e.count.value),from:{select:[{field:s.aggregateField("count")}],where:t,aggregate:[s.aggregate("count")]}}),e.filters&&u.each(e.filters,(function(r){var a,o,u=s.getFieldKeyPathForSource(r.name,e.source);if(r.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT?(a=s.aggregate("count"),o=s.aggregateField("count")):r.modifier===s.RECENCY_FILTERS.MOST_RECENT&&(a=s.aggregate("max",c.FIELDS.TIME),o=s.aggregateField("max",c.FIELDS.TIME)),a){var l=u,d=s.groupField(l);n.push({where:s.fieldComparison(r.comparator,"0",r.value),from:{select:[{field:d}],where:t,groupBy:s.groupBy([l]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}],limit:1}})}else i.push(s.fieldComparison(r.comparator,u,r.value))})),e.pick){if(n.length>0)throw new Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+l.stringify(e));return[r(e.pick,t,e.source)]}return n.length>0?n:[{where:t}]},s.buildFromSpecV0_2=function(e){a(e);var t={where:{op:"and",args:u.map(e["filter"]||[],(function(e){return"age"===e["field"][0]?s.relativeTimeComparison(e["comparator"]||"eq",e["value"]/s.MILLIS_IN_A_DAY):s.fieldComparison(e["comparator"]||"eq",s.convertFieldKeyPathFromSpecV0_2(e["field"]),e["value"])}))}};if(e["reduce"]&&"count"===e["reduce"]["aggregator"])return u.extend(t,{aggregate:[{op:"count",args:[{field:["*"]}]}],select:[{field:["_count_*"]}]});var n=[],i=[];if(e["sort"]&&(u.each(e["sort"],(function(e){u.includes(["ascending","descending"],e["direction"])&&(u.includes(["time","age"],e["field"][0])&&i.push(e),"frequency"===e["field"][0]&&n.push(e))})),i.length&&!n.length&&(t["orderBy"]=u.filter(u.map(i,(function(e){return"time"===e["field"][0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e["direction"]?"ASC":"DESC"}:"age"===e["field"][0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e["direction"]?"DESC":"ASC"}:void 0}))))),e["pick"]&&e["pick"]["field"]){var r=s.convertFieldKeyPathFromSpecV0_2(e["pick"]["field"]);if(e["reduce"]&&u.includes(["avg","max","min","sum"],e["reduce"]["aggregator"]))return u.extend(t,{aggregate:[{op:e["reduce"]["aggregator"],args:[{field:r}]}],select:[{field:[f.generateAlias(e["reduce"]["aggregator"],r)]}]});t=n.length?u.extend(t,{groupBy:[{field:r}],aggregate:[{op:"count",args:[{field:["*"]}]}],orderBy:[{field:["_count_*"],direction:"ascending"===n[0]["direction"]?"ASC":"DESC"}],select:[{field:[r.join(".")]}]}):u.extend(t,{select:[{field:r}]})}if(e["reduce"]&&"nth"===e["reduce"]["aggregator"]){var o=e["reduce"]["n"];if(u.isNumber(o)&&o>=0&&Number(o)===Math.floor(Number(o)))return u.extend(t,{offset:o,limit:1})}return t},s.convertFieldKeyPathFromSpecV0_2=function(e){return"tags"===e[0]&&"revenue"===e[1]?["r"]:[c.FIELDS_V0_2[e[0]]].concat(e.slice(1))},s.FieldPurpose={FILTER:"filter",SORT:"sort",PICK:"pick"},s.validateFieldKeyPathV0_2=function(e,t){var n="field "+(l.stringify(e)||String(e));if(!u.isArray(e)||!u.every(e,u.isString))return n+" is not an array of strings";if("tags"===e[0]&&e.length>2||"tags"!==e[0]&&e.length>1)return n+" includes too many strings";if("tags"===e[0]&&e.length<2)return n+" does not specify an exact tag";if(e.length<1)return n+" does not specify a top-level field";var i=u.keys(c.FIELDS_V0_2),r=["age","frequency"];return t===s.FieldPurpose.FILTER&&(i.push("age"),r=["frequency"]),t===s.FieldPurpose.SORT&&(i=["time","age","frequency"],r=["name","type","category","tags"]),u.includes(r,e[0])?n+" is not supported here":u.includes(i,e[0])?void 0:n+" is unknown"},s.validateComparatorAndValue=function(e,t){var n="comparator "+(l.stringify(e)||String(e)),i="value "+(l.stringify(t)||String(t));if(!u.isString(e)&&!u.isUndefined(e))return n+" is not a string";switch(e){case void 0:case"eq":case"is":case"contains":break;case"lt":case"gt":case"lte":case"gte":if(!u.isNumber(t))return i+" is not a number (mandated by "+n+")";break;case"in":if(!u.isArray(t))return i+" is not an array (mandated by "+n+")";break;case"between":if(!(u.isArray(t)&&2===t.length&&u.isNumber(t[0])&&u.isNumber(t[1])&&t[0]<=t[1]))return i+" is not a pair of increasing numbers (mandated by "+n+")";break;case"regex":if(!(u.isString(t)||u.isArray(t)&&2===t.length&&u.isString(t[0])&&u.isString(t[1])))return i+" is not a pattern string or a [pattern string, flags string] array (mandated by "+n+")";break;case"exists":if(!u.isUndefined(t))return i+" is not undefined (mandated by "+n+")";break;default:return n+" is unknown"}}}),(function(e,t,n){var i=n(2),r=n(22),a=n(20),o=i.bind(a.log,a),s=n(21),u=n(60).getFieldValue,c=n(23),l=function(e,t,n){if(e.getValueOrDefault)return e.getValueOrDefault(t,n);var i=u(e,t);return"undefined"==typeof i&&(i=n),i},d=function(e){return"string"==typeof e?e.trim().toLowerCase():e};t.clause={WHERE:"where",GROUP_BY:"groupBy",AGGREGATE:"aggregate",HAVING:"having",ORDER_BY:"orderBy",SELECT:"select",OFFSET:"offset",LIMIT:"limit",FROM:"from"},t.DEFAULT_FIELD=["*"],t.booleanOperators={eq:function(e){var t=i.map(e,d);return t[0]==t[1]},is:function(e){return e[0]===e[1]},gt:function(e){return e[0]>e[1]},lt:function(e){return e[0]<e[1]},gte:function(e){return e[0]>=e[1]},lte:function(e){return e[0]<=e[1]},"in":function(e){var t=i.map(e[1]||[],d);return i.includes(t,d(e[0]))},between:function(e){return e[1][0]<=e[0]&&e[0]<=e[1][1]},contains:function(e){var t=i.map(e,(function(e){return"string"==typeof e?e.toLowerCase():e}));return(t[0]||"").indexOf(t[1])!==-1},regex:function(e){try{var t,n;return i.isString(e[1])?(t=e[1],n="i"):(t=e[1][0]||"",n=e[1][1]||""),new RegExp(t,n).test(e[0])}catch(e){return a.error("Rules",'In operator "regex", error: '+(e.message||"invalid RegExp /"+[t,n].join("/"))),!1}},exists:function(e){return"undefined"!=typeof e[0]},and:function(e){return i.every(e,(function(e){return e}))},or:function(e){return i.some(e,(function(e){return e}))},not:function(e){return!e[0]}},t.arithmeticOperators={"+":function(e){return(e[0]||0)+(e[1]||0)},"-":function(e){return(e[0]||0)-(e[1]||0)},"/":function(e){return(e[0]||0)/(e[1]||1)},"%":function(e){return(e[0]||0)%(e[1]||1)}},t.aggregateOperators={sum:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=0,a=0;a<n.length;a++)r+=l(n[a],i,0);return r},avg:function(e,n){if(0===n.length)return 0;for(var i=e[0]||t.DEFAULT_FIELD,r=0,a=0;a<n.length;a++)r+=l(n[a],i,0);return r/n.length},max:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=Number.NEGATIVE_INFINITY,a=0;a<n.length;a++)r=Math.max(r,l(n[a],i,Number.NEGATIVE_INFINITY));return r},min:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=Number.POSITIVE_INFINITY,a=0;a<n.length;a++)r=Math.min(r,l(n[a],i,Number.POSITIVE_INFINITY));return r},count:function(e,t){return t.length}};var f={now:function(){return s.now()}},p=function(e){return e in t.booleanOperators?t.booleanOperators[e]:e in t.arithmeticOperators?t.arithmeticOperators[e]:null},g=function(e,t){if(t.hasOwnProperty("value"))return t["value"];if(t.hasOwnProperty("field"))return l(e,t["field"]);if(t.hasOwnProperty("eval"))return t["eval"]in f?f[t["eval"]]():void a.error("Rules","Unknown function: "+t["eval"]);if(!t["op"])return void a.error("Rules","No operator specified: "+c.stringify(t));var n=p(t["op"]);if(!n)return void a.error("Rules","Unknown operator: "+t["op"]);var r=i.partial(g,e),o=t["args"]||[],s=i.map(o,(function(e){return r(e)}));return n(s,e)},h=function(e,t){var n={};if("undefined"==typeof e||!i.isArray(e)||0===e.length)return n["*"]={fieldValues:{},events:t},n;for(var r=i.map(e,(function(e){return e["field"]})),a=0;a<t.length;a++){for(var o=t[a],s=[],u={},d=0;d<r.length;d++){var f=r[d],p=l(o,f),g=f.join(".");u[g]=p,s.push(encodeURIComponent(g)+"="+encodeURIComponent(c.stringify(p)))}var h=s.join("&");n.hasOwnProperty(h)||(n[h]={fieldValues:u,events:[]}),n[h].events.push(o)}return n};t.generateAlias=function(e,t){return"_"+e+"_"+t.join(".")};var _=function(e,n){var r={};return i.each(n,(function(n,i){r[i]={};for(var o=0;o<e.length;o++){var s=e[o],u=s["op"];if(u in t.aggregateOperators){var c=(s["args"]&&s["args"][0]||{})["field"]||t.DEFAULT_FIELD,l=t.generateAlias(u,c),d=t.aggregateOperators[u]([c],n.events);r[i][l]=d}else a.error("Rules","Unknown aggregate operator "+u)}})),r},v=function(e,t){var n=[];return i.each(e,(function(e,r){var a=i.extend({},e.fieldValues),o=t[r]||{};i.extend(a,o),n.push(a)})),n},E=function(e,t){return i.isArray(e)?0===e.length?t:t.sort((function(t,n){for(var i=0;i<e.length;i++){var r=e[i],a=r["direction"]||"ASC",o="ASC"===a?1:-1,s=r["field"],u=l(t,s,0),c=l(n,s,0);if(u<c)return-o;if(u>c)return o}return 0})):(o("Rules","groupBy rule must be an array"),t)};t.rewrite=function(e){function n(e,s){if(i.isArray(e)&&("and"!==e[0]&&"or"!==e[0]&&"not"!==e[0]&&a.error("Rules","Unexpected operation "+e[0]+". Continuing optimistically."),e={op:e[0],args:e.slice(1)}),e.hasOwnProperty("field")||e.hasOwnProperty("value")||e.hasOwnProperty("eval"))return e;if(s&&e["op"]in t.aggregateOperators){var u=(e["args"]&&e["args"][0]||{})["field"]||t.DEFAULT_FIELD,c=t.generateAlias(e["op"],u);return c in o||(r.push({op:e["op"],args:e["args"]}),o[c]=!0),{field:[c]}}for(var l=[],d=e["args"]||[],f=0;f<d.length;f++)l[f]=n(d[f],s);return{op:e["op"],args:l}}var r=[],o={},s={};e.hasOwnProperty(t.clause.WHERE)&&(s[t.clause.WHERE]=n(e[t.clause.WHERE],!1)),e.hasOwnProperty(t.clause.HAVING)&&(s[t.clause.HAVING]=n(e[t.clause.HAVING],!0)),(e.hasOwnProperty(t.clause.AGGREGATE)||r.length>0)&&(s[t.clause.AGGREGATE]=(e[t.clause.AGGREGATE]||[]).concat(r));for(var u=[t.clause.GROUP_BY,t.clause.ORDER_BY,t.clause.SELECT,t.clause.OFFSET,t.clause.LIMIT],c=0;c<u.length;c++)e.hasOwnProperty(u[c])&&(s[u[c]]=e[u[c]]);return e.hasOwnProperty(t.clause.FROM)&&(s[t.clause.FROM]=t.rewrite(e[t.clause.FROM])),s};var m=function(e,n){n=n||0;var r=[];if(e.hasOwnProperty(t.clause.WHERE)?e[t.clause.WHERE]["op"]?e[t.clause.WHERE]["op"]in t.booleanOperators||r.push("Non-boolean WHERE clause operator"):r.push("Missing WHERE clause operator"):r.push("Missing WHERE clause"),e.hasOwnProperty(t.clause.HAVING)&&(e[t.clause.HAVING]["op"]?e[t.clause.HAVING]["op"]in t.booleanOperators||r.push("Non-boolean HAVING clause operator"):r.push("Missing HAVING clause operator")),e.hasOwnProperty(t.clause.GROUP_BY)&&!e.hasOwnProperty(t.clause.AGGREGATE)&&r.push("No AGGREGATE clause specified with GROUP_BY clause"),e.hasOwnProperty(t.clause.SELECT)){var a=e[t.clause.SELECT];if(i.isArray(a))for(var o=0;o<a.length;o++)a[o]["op"]&&a[o]["op"]in t.aggregateOperators&&r.push('In SELECT clause, aggregate operator "'+a[o]["op"]+'" specified in selector at index '+o);else r.push("SELECT clause must be an array")}if(e.hasOwnProperty(t.clause.OFFSET)){var s=e[t.clause.OFFSET];(!i.isNumber(s)||Number(s)<0||Number(s)!==Math.floor(Number(s)))&&r.push("OFFSET must be a non-negative integer")}if(e.hasOwnProperty(t.clause.LIMIT)){var u=e[t.clause.LIMIT];(!i.isNumber(u)||Number(u)<0||Number(u)!==Math.floor(Number(u)))&&r.push("LIMIT must be a non-negative integer")}return n>0&&(r=i.map(r,(function(e){return"Sub-rule "+n+": "+e}))),e.hasOwnProperty(t.clause.FROM)&&(r=r.concat(m(e[t.clause.FROM],n+1))),r},I=function(e,t){return i.map(t,(function(t){return i.map(e,(function(e){return g(t,e)}))}))},y=function(e,n){var r=n;if(e.hasOwnProperty(t.clause.FROM)&&(a.debug("Evaluating FROM clause:",e[t.clause.FROM]),r=y(e[t.clause.FROM],r),a.debug("Results after FROM:",r)),a.debug("Evaluating WHERE clause:",e[t.clause.WHERE]),r=i.filter(r,(function(n){return g(n,e[t.clause.WHERE])})),a.debug("Results after WHERE:",r),e.hasOwnProperty(t.clause.AGGREGATE)){a.debug("Evaluating AGGREGATE clause:",e[t.clause.AGGREGATE]);var o=h(e[t.clause.GROUP_BY],r),s=_(e[t.clause.AGGREGATE],o);r=v(o,s),a.debug("Results after AGGREGATE:",r)}e.hasOwnProperty(t.clause.HAVING)&&(a.debug("Evaluating HAVING clause:",e[t.clause.HAVING]),r=i.filter(r,(function(n){return g(n,e[t.clause.HAVING])})),a.debug("Results after HAVING:",r)),e.hasOwnProperty(t.clause.ORDER_BY)&&(a.debug("Evaluating ORDER_BY clause:",e[t.clause.ORDER_BY]),r=E(e[t.clause.ORDER_BY],r),a.debug("Results after ORDER_BY:",r));var u=0;e.hasOwnProperty(t.clause.OFFSET)&&(a.debug("Evaluating OFFSET clause:",e[t.clause.OFFSET]),u=Number(e[t.clause.OFFSET]));var c;return e.hasOwnProperty(t.clause.LIMIT)&&(a.debug("Evaluating LIMIT clause:",e[t.clause.LIMIT]),c=u+Number(e[t.clause.LIMIT])),(u>0||!i.isUndefined(c))&&(r=r.slice(u,c),a.debug("Results after OFFSET/LIMIT:",r)),e.hasOwnProperty(t.clause.SELECT)&&(a.debug("Evaluating SELECT clause:",e[t.clause.SELECT]),r=I(e[t.clause.SELECT],r),a.debug("Results after SELECT:",r)),r};t.execute=function(e,n){e=t.rewrite(e),a.shouldLog(r.LogLevel.DEBUG)&&a.groupCollapsed("Evaluating Behavioral Rule"),a.debug("Rule:",e,c.stringify(e)),a.debug("Events:",n);var i=m(e);if(i.length>0)throw new Error("Rule "+c.stringify(e)+" has violations: "+i.join("\n"));var o=y(e,n);return a.debug("Rule result:",o),a.shouldLog(r.LogLevel.DEBUG)&&a.groupEnd(),o},t.isSatisfied=function(e,n){try{return t.execute(e,n).length>0}catch(t){return a.error("Rules","Error "+t.toString()+" while evaluating rule "+c.stringify(e)),!1}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(153))}}),(function(e,t,n){var i=n(2),r=n(154),a=n(148),o=n(23),s=n(150);e.exports={provides:"customBehavior",shouldTrack:!0,isLazy:!1,getter:["stores/global","stores/visitor_attribute_entity",function(e,t){var n=e.getProjectId(),u=i.filter(i.map(t.getCustomBehavioralAttributes(n),(function(e){try{return{id:e.id,granularity:r.GRANULARITY.ALL,rule:s.buildFromSpecV0_2(o.parse(e.rule_json))}}catch(e){return}}))),c=a.getEvents();return r.evaluate(u,c)}]}}),(function(e,t,n){function i(e){if(0===e.length)return[];for(var t=e.length-1,n=o.FIELDS.SESSION_ID,i=e[t][n];t>0&&i===e[t-1][n];)t--;return e.slice(t)}function r(e,t){if(0===e.length||t<=0)return[];var n=+new Date-t*s.MILLIS_IN_A_DAY;n-=n%s.MILLIS_IN_A_DAY;for(var i=e.length;i>0&&n<=e[i-1][o.FIELDS.TIME];)i--;return e.slice(i)}var a=n(20),o={FIELDS:n(59).FIELDS},s=n(150),u=n(151);t.GRANULARITY={ALL:"all",CURRENT_SESSION:"current_session",LAST_30_DAYS:"last_30_days",LAST_60_DAYS:"last_60_days"},t.evaluate=function(e,n){var o={};if(0===n.length){for(var s=0;s<e.length;s++)o[e[s].id]=e[s].defaultValue;return o}var c=i(n),l=r(n,60);for(s=0;s<e.length;s++){var d=e[s],f=n;d.granularity===t.GRANULARITY.CURRENT_SESSION?f=c:d.granularity===t.GRANULARITY.LAST_60_DAYS&&(f=l);try{var p=f;d.rule&&(p=u.execute(d.rule,f)),o[d.id]=d.defaultValue,1===p.length?o[d.id]=p[0][0]||d.defaultValue:a.debug("Behavior / Rule for",d.id,"returned",p.length,"results, expected 1")}catch(e){a.error("Behavior / Rule for",d.id,"failed with",e.message||"")}}return o}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(156)),e.registerAudienceMatcher("first_session",n(157))}}),(function(e,t,n){var i=n(59),r=n(148),a=n(60).getFieldValue,o=n(85).CURRENT_SESSION_INDEX;e.exports={provides:"first_session",shouldTrack:!0,getter:[function(){var e=r.getEvents();if(e&&e.length>0){var t=e[0],n=a(t,[i.FIELDS.SESSION_INDEX]);return n===o}return!0}]}}),(function(e,t){e.exports={fieldsNeeded:["first_session"],match:function(e){return!!e.first_session}}}),(function(e,t,n){e.exports=function(e){e.registerApiModule("behavior",n(159))}}),(function(e,t,n){function i(e,t){var n=d.buildFromSpecV0_1(t);if(1!==n.length)throw new Error("Invalid query descriptor; verify that no aggregators are specified");return f.execute(n[0],e)}function r(e,t){return c.map(e,(function(e){return c.isFunction(e.toObject)?e.toObject(t):e}))}function a(e,t){if(!e)return["Descriptor not defined"];var n=[];return e.count&&n.push('Unexpected "count" clause specified'),e.pick&&e.pick.modifier&&t.indexOf(e.pick.modifier)===-1&&n.push('Invalid "pick" modifier "'+e.pick.modifier+'"'),c.each(e.filters,(function(e){c.isUndefined(e.modifier)||n.push('Unexpected "filter" modifier "'+e.modifier+'"')})),n.length>0?n:void 0}function o(e,t){var n,o={revenueAsTag:!1,timeAsTimestamp:!0};if(c.isUndefined(t))return n=l.getEvents(e),r(n,o);if(c.isNumber(t)){if(t<=0)throw new Error("Count must be a positive integer, got "+t);return n=l.getEvents(e),r(n.slice(-t),o)}var s=a(t,c.values(d.RECENCY_FILTERS));if(s)throw new Error(s.join("\n"));return n=l.getEvents(e),r(i(n,t),o)}function s(e,t){if(t=c.cloneDeep(t)||{},!t.pick)throw new Error('No "pick" clause provided in query descriptor');if(!t.pick.name)throw new Error('No field name provided in "pick" clause');t.pick.modifier=t.pick.modifier||d.FREQUENCY_FILTERS.MOST_FREQUENT;var n=a(t,c.values(d.FREQUENCY_FILTERS));if(n)throw new Error(n.join("\n"));var r=l.getEvents(e);return i(r,t)}function u(e,t){var n=d.buildFromSpecV0_2(t),i=l.getEvents(e),a=r(f.execute(n,i),{revenueAsTag:!0,timeAsTimestamp:!1});return(t.pick||t.reduce&&"count"===t.reduce.aggregator)&&(a=c.flatten(a)),t.reduce&&(a=a[0]),a}var c=n(2),l=n(148),d=n(150),f=n(151);e.exports=["stores/visitor_events",function(e){return{getEvents:c.partial(o,e),getByFrequency:c.partial(s,e),query:c.partial(u,e)}}]}),(function(e,t,n){e.exports=function(e){e.registerDependency("sources/browser_id",n(161)),e.registerVisitorProfileProvider(n(166)),e.registerVisitorProfileProvider(n(167)),e.registerAudienceMatcher("browser_version",n(168))}}),(function(e,t,n){var i=n(162);t.getId=function(){return i.get().browser.id},t.getVersion=function(){return i.get().browser.version}}),(function(e,t,n){var i=n(2),r=n(163),a=n(36),o=n(7),s=n(16),u=n(9),c=s.get("stores/ua_data");t.get=function(){var e=c.get();return i.isEmpty(e)&&(e=r.parseUA(a.getUserAgent()),u.dispatch(o.SET_UA_DATA,{data:e})),e}}),(function(e,t,n){function i(e){if(e=(e||"").toLowerCase(),e in u)return e;var t=a.keys(u);return a.find(t,(function(t){var n=u[t];return a.includes(n,e)}))||"unknown"}function r(e,t,n){return t?t:"unknown"===e?"unknown":n?"mobile":"desktop_laptop"}var a=n(2),o=n(164);t.parseUA=function(e){var t=new o(e),n=t.getBrowser(),a=t.getOS(),u=t.getDevice(),l=(a.name||"unknown").toLowerCase(),d=(n.name||"unknown").toLowerCase(),f=s(u.type,d,l);return{browser:{id:i(n.name),version:n.version},platform:{name:l,version:a.version},device:{model:c[u.model]||"unknown",type:r(d,u.type,f),isMobile:f}}};var s=function(e,t,n){if(a.includes(["mobile","tablet"],e))return!0;if(a.includes(["opera mini"],t))return!0;var i=["android","blackberry","ios","windows phone"];return!!a.includes(i,n)},u={gc:["chrome","chromium","silk","yandex","maxthon"],edge:["edge"],ie:["internet explorer","iemobile"],ff:["firefox","iceweasel"],opera:["opera","opera mini","opera tablet"],safari:["safari","mobile safari","webkit"],ucbrowser:["uc browser"]},c={iPhone:"iphone",iPad:"ipad"}}),(function(e,t,n){var i;!(function(r,a){"use strict";var o="0.7.17",s="",u="?",c="function",l="undefined",d="object",f="string",p="major",g="model",h="name",_="type",v="vendor",E="version",m="architecture",I="console",y="mobile",S="tablet",T="smarttv",A="wearable",b="embedded",w={
extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2===0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===f?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},R={rgx:function(e,t){for(var n,i,r,o,s,u,l=0;l<t.length&&!s;){var f=t[l],p=t[l+1];for(n=i=0;n<f.length&&!s;)if(s=f[n++].exec(e))for(r=0;r<p.length;r++)u=s[++i],o=p[r],typeof o===d&&o.length>0?2==o.length?typeof o[1]==c?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3==o.length?typeof o[1]!==c||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):a:this[o[0]]=u?o[1].call(this,u,o[2]):a:4==o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):a):this[o]=u?u:a;l+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===d&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(w.has(t[n][i],e))return n===u?a:n}else if(w.has(t[n],e))return n===u?a:n;return e}},D={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},O={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[h,E],[/(opios)[\/\s]+([\w\.]+)/i],[[h,"Opera Mini"],E],[/\s(opr)\/([\w\.]+)/i],[[h,"Opera"],E],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[h,E],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[h,"IE"],E],[/(edge)\/((\d+)?[\w\.]+)/i],[h,E],[/(yabrowser)\/([\w\.]+)/i],[[h,"Yandex"],E],[/(puffin)\/([\w\.]+)/i],[[h,"Puffin"],E],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[h,"UCBrowser"],E],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],E],[/(micromessenger)\/([\w\.]+)/i],[[h,"WeChat"],E],[/(QQ)\/([\d\.]+)/i],[h,E],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[h,E],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[E,[h,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[E,[h,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[E,[h,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,/(.+)/,"$1 WebView"],E],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[h,/(.+(?:g|us))(.+)/,"$1 $2"],E],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[E,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[h,E],[/(dolfin)\/([\w\.]+)/i],[[h,"Dolphin"],E],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[h,"Chrome"],E],[/(coast)\/([\w\.]+)/i],[[h,"Opera Coast"],E],[/fxios\/([\w\.-]+)/i],[E,[h,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[E,[h,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[E,h],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[h,"GSA"],E],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[E,R.str,D.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[h,E],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],E],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,E]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[g,v,[_,S]],[/applecoremedia\/[\w\.]+ \((ipad)/],[g,[v,"Apple"],[_,S]],[/(apple\s{0,1}tv)/i],[[g,"Apple TV"],[v,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[v,g,[_,S]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[g,[v,"Amazon"],[_,S]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[g,R.str,D.device.amazon.model],[v,"Amazon"],[_,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[g,v,[_,y]],[/\((ip[honed|\s\w*]+);/i],[g,[v,"Apple"],[_,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[v,g,[_,y]],[/\(bb10;\s(\w+)/i],[g,[v,"BlackBerry"],[_,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[g,[v,"Asus"],[_,S]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[v,"Sony"],[g,"Xperia Tablet"],[_,S]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[g,[v,"Sony"],[_,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[v,g,[_,I]],[/android.+;\s(shield)\sbuild/i],[g,[v,"Nvidia"],[_,I]],[/(playstation\s[34portablevi]+)/i],[g,[v,"Sony"],[_,I]],[/(sprint\s(\w+))/i],[[v,R.str,D.device.sprint.vendor],[g,R.str,D.device.sprint.model],[_,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[v,g,[_,S]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[v,[g,/_/g," "],[_,y]],[/(nexus\s9)/i],[g,[v,"HTC"],[_,S]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[g,[v,"Huawei"],[_,y]],[/(microsoft);\s(lumia[\s\w]+)/i],[v,g,[_,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[g,[v,"Microsoft"],[_,I]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[v,"Microsoft"],[_,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[g,[v,"Motorola"],[_,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[g,[v,"Motorola"],[_,S]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[v,w.trim],[g,w.trim],[_,T]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[v,"Samsung"],[_,T]],[/\(dtv[\);].+(aquos)/i],[g,[v,"Sharp"],[_,T]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[v,"Samsung"],g,[_,S]],[/smart-tv.+(samsung)/i],[v,[_,T],g],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[v,"Samsung"],g,[_,y]],[/sie-(\w+)*/i],[g,[v,"Siemens"],[_,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[v,"Nokia"],g,[_,y]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[g,[v,"Acer"],[_,S]],[/android.+([vl]k\-?\d{3})\s+build/i],[g,[v,"LG"],[_,S]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[v,"LG"],g,[_,S]],[/(lg) netcast\.tv/i],[v,g,[_,T]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[g,[v,"LG"],[_,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[g,[v,"Lenovo"],[_,S]],[/linux;.+((jolla));/i],[v,g,[_,y]],[/((pebble))app\/[\d\.]+\s/i],[v,g,[_,A]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[v,g,[_,y]],[/crkey/i],[[g,"Chromecast"],[v,"Google"]],[/android.+;\s(glass)\s\d/i],[g,[v,"Google"],[_,A]],[/android.+;\s(pixel c)\s/i],[g,[v,"Google"],[_,S]],[/android.+;\s(pixel xl|pixel)\s/i],[g,[v,"Google"],[_,y]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w?)?[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[g,/_/g," "],[v,"Xiaomi"],[_,y]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+)?)\s+build/i],[[g,/_/g," "],[v,"Xiaomi"],[_,S]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[g,[v,"Meizu"],[_,S]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[g,[v,"OnePlus"],[_,y]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[g,[v,"RCA"],[_,S]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[g,[v,"Dell"],[_,S]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[g,[v,"Verizon"],[_,S]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[v,"Barnes & Noble"],g,[_,S]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[g,[v,"NuVision"],[_,S]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[v,"ZTE"],g,[_,S]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[g,[v,"Swiss"],[_,y]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[g,[v,"Swiss"],[_,S]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[g,[v,"Zeki"],[_,S]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[v,"Dragon Touch"],g,[_,S]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[g,[v,"Insignia"],[_,S]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[g,[v,"NextBook"],[_,S]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[v,"Voice"],g,[_,y]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[v,"LvTel"],g,[_,y]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[g,[v,"Envizen"],[_,S]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[v,g,[_,S]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[g,[v,"MachSpeed"],[_,S]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[v,g,[_,S]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[g,[v,"Rotor"],[_,S]],[/android.+(KS(.+))\s+build/i],[g,[v,"Amazon"],[_,S]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[v,g,[_,S]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[_,w.lowerize],v,g],[/(android.+)[;\/].+build/i],[g,[v,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[E,[h,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,E],[/rv\:([\w\.]+).*(gecko)/i],[E,h]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[h,E],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[h,[E,R.str,D.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[E,R.str,D.os.windows.version]],[/\((bb)(10);/i],[[h,"BlackBerry"],E],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[h,E],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[h,"Symbian"],E],[/\((series40);/i],[h],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"],E],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[h,E],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],E],[/(sunos)\s?([\w\.]+\d)*/i],[[h,"Solaris"],E],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[h,E],[/(haiku)\s(\w+)/i],[h,E],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[E,/_/g,"."],[h,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[h,"Mac OS"],[E,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[h,E]]},N=function(e,t){if("object"==typeof e&&(t=e,e=a),!(this instanceof N))return new N(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:s),i=t?w.extend(O,t):O;return this.getBrowser=function(){var e={name:a,version:a};return R.rgx.call(e,n,i.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:a};return R.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:a,model:a,type:a};return R.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:a,version:a};return R.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:a,version:a};return R.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};N.VERSION=o,N.BROWSER={NAME:h,MAJOR:p,VERSION:E},N.CPU={ARCHITECTURE:m},N.DEVICE={MODEL:g,VENDOR:v,TYPE:_,CONSOLE:I,MOBILE:y,SMARTTV:T,TABLET:S,WEARABLE:A,EMBEDDED:b},N.ENGINE={NAME:h,VERSION:E},N.OS={NAME:h,VERSION:E},typeof t!==l?(typeof e!==l&&e.exports&&(t=e.exports=N),t.UAParser=N):"function"===c&&n(165)?(i=function(){return N}.call(t,n,t,e),!(i!==a&&(e.exports=i))):r&&(r.UAParser=N)})("object"==typeof window?window:this)}),(function(e,t){(function(t){e.exports=t}).call(t,{})}),(function(e,t){e.exports={provides:"browserId",shouldTrack:!0,isSticky:!0,getter:["sources/browser_id",function(e){return e.getId()}]}}),(function(e,t){e.exports={provides:"browserVersion",getter:["sources/browser_id",function(e){return e.getVersion()}]}}),(function(e,t,n){var i=n(169).compareVersion;e.exports={fieldsNeeded:["browserVersion","browserId"],match:function(e,t){var n=t.value,r=e.browserId,a=e.browserVersion;if(0===n.indexOf(r)){var o=n.substr(r.length);return 0===i(a,o)}return!1}}}),(function(e,t,n){var i=n(2);t.compareVersion=function(e,t){if(!t)return 0;for(var n=t.toString().split("."),r=e.toString().split("."),a=0;a<n.length;a++){if(i.isUndefined(r[a]))return-1;if(isNaN(Number(r[a]))){if(r[a]!==n[a])return-1}else{if(Number(r[a])<Number(n[a]))return-1;if(Number(r[a])>Number(n[a]))return 1}}return 0}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(171)),e.registerAudienceMatcher("campaign",n(172))}}),(function(e,t,n){var i=n(115);e.exports={provides:"campaign",shouldTrack:!0,isSticky:!0,getter:[function(){return i.getQueryParamValue("utm_campaign")}]}}),(function(e,t,n){var i=n(173);e.exports={fieldsNeeded:["campaign"],match:function(e,t){return i.hasMatch(t.value,t.match,e.campaign)}}}),(function(e,t,n){var i=n(2);t.hasMatch=function(e,t,n){var r=!i.isUndefined(n)&&null!==n,a=!i.isUndefined(e)&&null!==e,o=t||(a?"exact":"exists");switch(o){case"exists":return r;case"exact":return r&&String(n)===e;case"substring":return r&&String(n).indexOf(e)>-1;case"regex":try{if(a&&r){var s=new RegExp(e);return s.test(String(n))}return!1}catch(e){}return!1;case"range":var u=e.split(":"),c=parseFloat(u[0]),l=parseFloat(u[1]),d=parseFloat(n);return d>=c&&d<=l;default:return!1}}}),(function(e,t,n){e.exports=function(e){e.registerAudienceMatcher("code",n(175))}}),(function(e,t,n){var i=n(2),r=n(139);t.fieldsNeeded=[],t.match=function(e,t){if(i.isUndefined(t.value))return!0;if("function"==typeof t.value)try{return Boolean(r.apply(t.value))}catch(e){return!1}else try{return Boolean(r.eval(t.value))}catch(e){return!1}return!1}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(177));var t=n(178);e.registerAudienceMatcher("custom_attribute",t),e.registerAudienceMatcher("custom_dimension",t)}}),(function(e,t,n){var i=n(2),r=n(22),a=n(20),o=n(16),s=o.get("stores/dimension_data");e.exports={provides:"custom",attributionType:r.AttributionTypes.LAST_TOUCH,restorer:function(e){return i.reduce(e,(function(e,t,n){var r=t,o=n,u=s.getByApiName(n),c=s.getById(n);return i.isObject(t)&&!t.id&&(u&&!c?(o=u.id,r={id:u.segmentId||u.id,value:t.value}):c||a.warn("Unable to determine ID for custom attribute:",n,"; segmentation is disabled.")),e[o]=r,e}),{})},shouldTrack:!0}}),(function(e,t,n){var i=n(2),r=n(173);t.match=function(e,t){var n;return e.custom&&(n=e.custom[t.name]),i.isObject(n)&&(n=n.value),r.hasMatch(t.value,t.match,n)}}),(function(e,t,n){e.exports=function(e){e.registerDependency("sources/device",n(180)),e.registerVisitorProfileProvider(n(181)),e.registerAudienceMatcher("device",n(182))}}),(function(e,t,n){var i=n(162);t.getDevice=function(){var e=i.get().device;return"unknown"!==e.model?e.model:"tablet"===e.type?"tablet":e.isMobile?"mobile":"desktop"}}),(function(e,t){e.exports={provides:"device",shouldTrack:!0,isSticky:!0,getter:["sources/device",function(e){return e.getDevice()}]}}),(function(e,t){e.exports={fieldsNeeded:["device"],match:function(e,t){return e.device===t.value}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(184)),e.registerAudienceMatcher("device_type",n(185))}}),(function(e,t,n){var i=n(162);e.exports={provides:"device_type",shouldTrack:!0,isSticky:!0,getter:[function(){var e=i.get().device;switch(e.type){case"mobile":return"phone";case"tablet":case"desktop_laptop":return e.type;default:return"other"}}]}}),(function(e,t){e.exports={fieldsNeeded:["device_type"],match:function(e,t){return e.device_type===t.value}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(187)),e.registerAudienceMatcher("referrer",n(188))}}),(function(e,t,n){var i=n(77),r=n(95);e.exports={provides:"referrer",shouldTrack:!0,isSticky:!0,getter:[function(){var e=r.getReferrer()||i.getReferrer();return""===e&&(e=null),e}]}}),(function(e,t,n){var i=n(189);t.fieldsNeeded=["referrer"],t.match=function(e,t){return null!==e.referrer&&i(e.referrer,t)}}),(function(e,t,n){function i(e){var t=e.indexOf("?");return t!==-1&&(e=e.substring(0,t)),t=e.indexOf("#"),t!==-1&&(e=e.substring(0,t)),e}function r(e){return a(i(e))}function a(e,t){e=e.replace("/?","?"),e=e.toLowerCase().replace(/[\/&?]+$/,"");var n=l.slice(0);t||(n=n.concat(u));for(var i=n.length,r=0;r<i;r++){var a=n[r],o=new RegExp("^"+a);e=e.replace(o,"")}return e}function o(e){var t=e.split("?");if(t[1]){var n=t[1].split("#"),i=n[0],r=n[1],a=i.split("&"),o=[];return s.each(a,(function(e){0!==e.indexOf(c)&&o.push(e)})),t[1]="",o.length>0&&(t[1]="?"+o.join("&")),r&&(t[1]+="#"+r),t.join("")}return e}var s=n(2);e.exports=function(e,t){e=o(e);var n=t.value;switch(t.match){case"exact":return e=a(e),e===a(n);case"regex":try{return Boolean(e.match(n))}catch(e){}return!1;case"simple":return e=r(e),n=r(n),e===n;case"substring":return e=a(e,!0),n=a(n,!0),e.indexOf(n)!==-1;default:return!1}};var u=["www."],c="optimizely_",l=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"]}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(191)),e.registerAudienceMatcher("source_type",n(193))}}),(function(e,t,n){var i=n(115),r=n(77),a=n(95),o=n(192),s=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www)?\\.google\\..*?/$","bing\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","yahoo\\.\\w{2,3}(\\.\\w{2,3})?/search","baidu\\.\\w{2,3}(\\.\\w{2,3})?/s?"];e.exports={provides:"source_type",shouldTrack:!0,isSticky:!1,getter:[function(){return function(e,t){var n=function(){if(i.getQueryParamValue("utm_source")||i.getQueryParamValue("gclid")||i.getQueryParamValue("otm_source"))return"campaign";for(var e=a.getReferrer()||r.getReferrer(),t=0;t<s.length;t++){var n=s[t],u=e.match(n);if(u)return"search"}return e&&o.getDomain(e)!==o.getDomain(i.getUrl())?"referral":"direct"},u=function(e,t){return!e||"direct"!==t},c=e(),l=n();u(c,l)&&t(l)}}]}}),(function(e,t){t.getDomain=function(e,t){if(!e)return"";try{return t?e.match(/:\/\/(.[^\/]+)/)[1]:e.match(/:\/\/(?:www[0-9]?\.)?(.[^\/:]+)/)[1]}catch(e){return""}}}),(function(e,t,n){var i=n(173);t.fieldsNeeded=["source_type"],t.match=function(e,t){return i.hasMatch(t.value,t.match,e.source_type)}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(195)),e.registerVisitorProfileProvider(n(196)),e.registerAudienceMatcher("time_and_day",n(197))}}),(function(e,t,n){var i=n(21);e.exports={provides:"currentTimestamp",shouldTrack:!0,isLazy:!0,getter:[function(){return i.now()}]}}),(function(e,t){e.exports={provides:"offset",shouldTrack:!0,isLazy:!0,getter:[function(){return(new Date).getTimezoneOffset()}]}}),(function(e,t,n){var i=n(198);t.fieldsNeeded=["currentTimestamp"],t.match=function(e,t){return i.test(t.value,new Date(e.currentTimestamp))}}),(function(e,t,n){function i(e){var t=e.split(o);if(3!==t.length)throw new Error("Invalid time and day string "+e);var n=t[2].split(s);return{start_time:t[0],end_time:t[1],days:n}}function r(e){var t=e.split(u);if(2!==t.length)throw new Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+e);return 60*parseInt(t[0],10)+parseInt(t[1],10)}var a=n(2),o="_",s=",",u=":";t.test=function(e,t){var n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=i(e),s=r(o.start_time),u=r(o.end_time),c=60*t.getHours()+t.getMinutes(),l=n[t.getDay()];return c>=s&&c<=u&&a.includes(o.days,l)}}),(function(e,t,n){var i=n(2),r=n(23),a=n(20),o=n(84),s=n(95),u=n(111),c=n(36),l="google_classic_analytics",d="Optimizely",f="_gaq",p=128,g=p-d.length,h=n(91),_=["stores/layer_data",function(e){return function(t){var n=t.decision.experimentId,r=t.decision.variationId,o=t.decision.isLayerHoldback,s=e.get(t.decision.layerId),u=i.find(s.experiments,{id:n});if(u){var c=u["integrationSettings"]||s["integrationSettings"]||{},d=c[l];if(d){var f=i.find(u.variations,{id:r});if(f){var p=h.generateAnalyticsString(s,u,f,o,g,!0);if(p)return E(p,d)["catch"]((function(e){a.warn("Tracker for",l,"failed:",e)}))}}}}}],v=function(e){var t=e.integrationSettings;if(t&&t[l]&&e.experimentId&&e.variationId){var n={id:e.layerId,name:e.layerName,policy:e.layerPolicy,integrationStringVersion:e.integrationStringVersion},i={id:e.experimentId,name:e.experimentName},r={id:e.variationId,name:e.variationName},o=e.isLayerHoldback,s=h.generateAnalyticsString(n,i,r,o,g,!0);if(s)return E(s,t[l])["catch"]((function(e){a.warn("Tracker for",l,"failed:",e)}))}},E=function(e,t){var n=50,r=200;return o.pollFor((function(){var e=c.getGlobal(f);if(e&&!i.isArray(e))return e}),r,n).then((function(n){var i=null,r=null,o=!0,u=t.google_analytics_tracker,c=u?u+".":"",l=parseInt(t.google_analytics_slot,10);if(isNaN(l))return void a.warn('Google Analytics custom variable slot cannot be parsed to an integer: "',t.google_analytics_slot,'".  No data can be sent to Google Analytics.');var f=s.getReferrer();f&&n.push([c+"_setReferrerOverride",f]),n.push([c+"_setCustomVar",l,d,e],[c+"_trackEvent","Optimizely","Assigned to Campaign",i,r,o])}))},m={preRedirectPolicy:u.PreRedirectPolicies.PERSIST_BEFORE_REDIRECT,postRedirectPolicy:u.PostRedirectPolicies.TRACK_IMMEDIATELY,nonRedirectPolicy:u.NonRedirectPolicies.TRACK_IMMEDIATELY,onLayerDecision:_,trackLayerDecision:v,serializeSettings:r.stringify,deserializeSettings:r.parse};e.exports=function(e){e.registerAnalyticsTracker("google_classic_analytics",m)}}),(function(e,t,n){function i(e){function t(e,t,n){try{u(t),e[n]=t}catch(e){N.emitError(new q("Bad value for eventTags["+n+"]: "+e.message))}return e}var n=O.keys(Z),i=O.omit(e,n),r=O.pick(e,n),a=O.reduce(i,t,{}),o=O.reduce(r,(function(e,n,i){var r=Z[i];r.excludeFeature||t(a,n,i);try{r.validate(n),e[i]=r.sanitize(n),a[i]=e[i]}catch(e){N.emitError(new q("Bad value for eventMetrics["+i+"]: "+e.message))}return e}),{});return o.tags=a,o}function r(e){var t=O.extend({entity_id:e.pageId,key:e.pageId,timestamp:e.timestamp,uuid:e.eventId,type:Q},i(e.eventTags));return t}function a(e){return O.extend({entity_id:e.event.id,key:e.event.apiName,timestamp:e.timestamp,uuid:e.eventId,type:e.event.category},i(e.eventTags))}function o(e){return O.extend({entity_id:e.eventEntityId,key:e.eventApiName,timestamp:e.timestamp,uuid:e.eventId,type:e.eventCategory},i(e.eventTags))}function s(e){return{entity_id:null,type:W,uuid:e.eventId,timestamp:e.timestamp}}function u(e){if(null==e)throw new Error("Feature value is null");if("object"==typeof e){var t;try{t=x.stringify(e)}catch(e){}throw new Error('Feature value is complex: "'+t||'[object]"')}}function c(e){if(null==e)throw new Error("Metric value is null");if(!O.isNumber(e))throw new Error("Metric value is not numeric")}function l(e){return O.reduce(e,(function(e,t){try{u(t.value),e.push({entity_id:t.id||null,key:t.name,type:t.type,value:t.value})}catch(e){k.warn("Error evaluating user feature",t,e)}return e}),[])}function d(e,t,n){H.dispatch(P.REGISTER_TRACKER_EVENT,{event:e,decisions:n}),f(t),w()}function f(e){var t=l(e);H.dispatch(P.UPDATE_TRACKER_VISITOR_ATTRIBUTES,{attributes:t})}function p(e){var t=l(e.userFeatures),n={account_id:e.accountId,anonymize_ip:e.anonymizeIP,client_name:e.clientEngine,client_version:e.clientVersion,project_id:e.projectId,visitors:[{session_id:h(e.sessionId),visitor_id:e.visitorId,attributes:t,snapshots:[{decisions:[{campaign_id:e.layerId,experiment_id:e.experimentId,variation_id:e.variationId,is_campaign_holdback:e.isLayerHoldback}],events:[{uuid:e.decisionId,entity_id:e.layerId,timestamp:e.timestamp,type:X}]}]}]};H.dispatch(P.REGISTER_PREVIOUS_BATCH,n),w()}function g(e){var t=O.isNull(Y.getAnonymizeIP())?void 0:Y.getAnonymizeIP(),n={account_id:e.accountId,anonymize_ip:t,client_name:e.clientEngine,client_version:e.clientVersion,project_id:e.projectId,visitors:[]};n.revision=e.revision;var i={session_id:h(e.sessionId),visitor_id:e.visitorId,attributes:[],snapshots:[]},r=R(e.layerStates);H.dispatch(P.REGISTER_TRACKER_VISITOR,{data:n,visitor:i,decisions:r}),w()}function h(e){return ie?ne:e}function _(e){var t={entity_id:e.layerId,type:X,uuid:e.decisionId,timestamp:e.timestamp};H.dispatch(P.REGISTER_TRACKER_DECISION,{decisionEvent:t,decisions:R(e.layerStates)}),f(e.userFeatures),w()}function v(){if(!K.canSend())return void k.debug("Not sending events (holding)");var e=K.hasEventsToSend(),t=K.hasPreviousBatchesToSend();return e||t?(t&&(O.each(K.getPreviousBatches(),E),H.dispatch(P.RESET_TRACKER_PREVIOUS_BATCHES)),void(e&&(H.dispatch(P.FINALIZE_BATCH_SNAPSHOT),E(K.getEventBatch()),H.dispatch(P.RESET_TRACKER_EVENTS)))):void k.debug("Not sending events because there are no events to send")}function E(e){k.debug("Sending ticket:",e);var t=C.generate();U.retryableRequest({url:L,method:"POST",data:m(e)},t)}function m(e){var t=O.extend({},O.pick(e,["account_id","anonymize_ip","client_name","client_version","project_id","revision"]),{visitors:O.map(e.visitors,I)});return t}function I(e){return{visitor_id:e.visitor_id,session_id:ne,attributes:O.map(e.attributes,y),snapshots:O.map(e.snapshots,S)}}function y(e){return b(e,{entity_id:"e",key:"k",type:"t",value:"v"})}function S(e){var t=e.events;return{activationTimestamp:Y.getActivationTimestamp(),decisions:O.map(e.decisions,T),events:O.map(t,A)}}function T(e){return b(e,{campaign_id:"c",experiment_id:"x",is_campaign_holdback:"h",variation_id:"v"})}function A(e){return e.key===X&&(e.type=X,delete e.key),b(e,{entity_id:"e",key:"k",quantity:"q",revenue:"$",tags:"a",timestamp:"t",uuid:"u",value:"v",type:"y"})}function b(e,t){return O.reduce(e,(function(e,n,i){return i in t&&(e[t[i]||i]=n),e}),{})}function w(){function e(){var t=!ee||B.isLoaded();t&&v(),K.isPolling()&&setTimeout(e,J)}return K.shouldBatch()?void(K.isPolling()||(setTimeout(e,J),H.dispatch(P.SET_TRACKER_POLLING,!0),setTimeout((function(){H.dispatch(P.SET_TRACKER_BATCHING,!1),H.dispatch(P.SET_TRACKER_POLLING,!1)}),$))):void v()}function R(e){return O.map(e,(function(e){return{campaign_id:e.layerId,experiment_id:e.decision.experimentId,variation_id:e.decision.variationId,is_campaign_holdback:e.decision.isLayerHoldback}}))}function D(){var e=K.getPersistableState();if(e)try{k.debug("Persisting pending batch:",e),M.persistTrackerOptimizelyData(e),H.dispatch(P.SET_TRACKER_DIRTY,!1)}catch(e){k.debug("Failed to persist pending batch:",e)}}var O=n(2),N=n(82),C=n(5),L="https://logx.optimizely.com/v1/events",P=n(7),V=n(73).create,x=n(23),k=n(20),F=n(111),M=n(71),U=n(86),G=n(16),B=n(77),z=n(83),j=n(107),H=n(9),Y=G.get("stores/global"),K=G.get("stores/tracker_optimizely"),q=t.Error=V("OptimizelyTrackerError"),W="client_activation",X="campaign_activated",Q="view_activated",$=1e4,J=1e3,Z={revenue:{validate:c,sanitize:Math.floor,excludeFeature:!0},quantity:{validate:c,sanitize:Math.floor,excludeFeature:!0},value:{validate:c,sanitize:O.identity}},ee=!1,te=!1,ne="AUTO",ie=!0,re=[function(){return function(e){_(O.extend(e,e.decision))}}],ae=function(e){e.timing===F.TrackLayerDecisionTimingFlags.postRedirectPolicy?p(e):_(e)},oe=[function(){return function(e){d(r(e),e.userFeatures,R(e.layerStates))}}],se=[function(){return function(e){g(e),d(s(e),e.userFeatures,R(e.layerStates))}}],ue=[function(){return function(e){d(o(e),e.userFeatures,R(e.layerStates))}}],ce=[function(){return function(e){d(a(e),e.userFeatures,R(e.layerStates))}}],le={onLayerDecision:re,trackLayerDecision:ae,postRedirectPolicy:F.PostRedirectPolicies.TRACK_AFTER_SYNC,nonRedirectPolicy:F.NonRedirectPolicies.TRACK_IMMEDIATELY,onPageActivated:oe,onClientActivation:se,onClickEvent:ce,onCustomEvent:ue};e.exports=function(e){e.registerAnalyticsTracker("optimizely",le),z.on({filter:{type:j.TYPES.ANALYTICS,name:"sendEvents"},handler:function(){H.dispatch(P.SET_TRACKER_SEND_EVENTS,!0)}}),z.on({filter:{type:j.TYPES.ANALYTICS,name:"holdEvents"},handler:function(){H.dispatch(P.SET_TRACKER_SEND_EVENTS,!1)}}),H.dispatch(P.SET_TRACKER_SEND_EVENTS,!te);var t=z.on({filter:{type:"lifecycle",name:"activated"},handler:function(){K.observe(D),z.off(t)}})}}),(function(e,t,n){e.exports=function(e){e.registerViewProvider(n(202)),e.registerViewMatcher("url",n(203))}}),(function(e,t,n){var i=n(115);e.exports={provides:"url",getter:[function(){return i.getUrl()}]}}),(function(e,t,n){var i=n(189);e.exports={fieldsNeeded:["url"],match:function(e,t){return i(e.url,t)}}}),(function(e,t,n){function i(e,t){if(this.change=r.cloneDeep(e),this.change=m.transformVisibilityAttributesToCSS(this.change),this.identifier=t.identifier,this.startTime=t.startTime,this.disconnectObserverQueue=[],d.shouldObserveChangesIndefinitely()){g.dispatch(a.INITIALIZE_CHANGE_METRICS),this.rateMeter=new v(S.MOVING_WINDOW_MILLISECONDS);var n=r.isNull(S.MAX_MACROTASKS_IN_MOVING_WINDOW)?Number.POSITIVE_INFINITY:S.MAX_MACROTASKS_IN_MOVING_WINDOW;this.rateMeter.addListener(n,r.bind((function(){h.warn("AttributeChange",this,"has overheated and will no longer apply or reapply"),this.cancel(),g.dispatch(a.RECORD_CHANGE_OVERHEATED),o.emitError(new A("Change "+this.identifier+" has overheated"),{layerId:t.action&&t.action.layerId,experimentId:t.action&&t.action.experimentId,variationId:t.action&&t.action.variationId,changeId:e.id,changeType:e.type,movingWindowMilliseconds:S.MOVING_WINDOW_MILLISECONDS,maxMacroTasksInMovingWindow:n})}),this));for(var i=Math.min(n,50),s=0;s<=i;s++)this.rateMeter.addListener(s,r.partial((function(e){g.dispatch(a.RECORD_CHANGE_MACROTASK_RATE,{changeMacrotaskRate:e})}),s))}this.cancelled=!1}var r=n(2),a=n(7),o=n(82),s=n(132),u=n(73).create,c=n(205),l=n(206),d=n(16).get("stores/directive"),f=n(77),p=n(207),g=n(9),h=n(20),_=n(208),v=n(209),E=n(131),m=n(210),I=n(96).create(),y={attributes:!0,childList:!0,subtree:!0,characterData:!0},S={MOVING_WINDOW_MILLISECONDS:1e3,MAX_MACROTASKS_IN_MOVING_WINDOW:10},T=!1,A=u("ChangeOverheatError");i.prototype.apply=function(){this.applyDeferred=l();try{if(r.isEmpty(this.change.attributes)&&r.isEmpty(this.change.css))return h.debug("Not applying empty AttributeChange"),this.applyDeferred.resolve(),this.applyDeferred;var e={},t=r.partial(this.applyDeferred.reject,new Error("Unable to find selector."));d.shouldObserveChangesIndefinitely()?d.isEditor()&&I.waitUntil(r.partial(E.isTimedOut,this.startTime)).then(t,t):e={timeout:r.partial(E.isTimedOut,this.startTime),onTimeout:t},this.unobserveSelector=I.observeSelector(this.change.selector,r.bind(this.maybeApplyToElement,this),e);
var n=f.querySelectorAll(this.change.selector);r.each(n,r.bind(this.maybeApplyToElement,this))}catch(e){this.applyDeferred.reject(e)}return this.applyDeferred},i.prototype.maybeApplyToElement=function(e){var t=s.CHANGE_ID_ATTRIBUTE_PREFIX+this.change.id;if(e.hasAttribute(t))return h.debug("AttributeChange not being applied. Element already changed, or is a child of an element that was changed by this AttributeChange. "+e),void this.applyDeferred.resolve();this.rateMeter&&this.rateMeter.countCurrentTick();var n=r.bind(this.applyOrReapplyToElement,this,e,t);if(n(),T){var i=r.bind((function(){setTimeout(r.bind((function(){this.cancelled||_.observe(a,e,y)}),this))}),this),a=_.create(r.bind((function(){this.rateMeter&&this.rateMeter.countCurrentTick(),a.disconnect(),n(),i()}),this));i(),this.disconnectObserverQueue.push(r.bind(a.disconnect,a))}this.applyDeferred.resolve()},i.prototype.applyOrReapplyToElement=function(e,t){var n={};r.forOwn(this.change.attributes,(function(i,a){switch(a){case p.selectorChangeType.CLASS:r.isUndefined(e.className)||(n[p.selectorChangeType.CLASS]=e.className,e.className=i);break;case p.selectorChangeType.HREF:r.isUndefined(e.href)||(n[p.selectorChangeType.HREF]=e.href,e.href=i);break;case p.selectorChangeType.HTML:r.isUndefined(e.innerHTML)||(n[p.selectorChangeType.HTML]=e.innerHTML,e.innerHTML=i,r.each(f.childrenOf(e),(function(e){e.setAttribute(t,"")})));break;case p.selectorChangeType.SRC:r.isUndefined(e.src)||(n[p.selectorChangeType.SRC]=e.src,e.src=i);break;case p.selectorChangeType.STYLE:break;case p.selectorChangeType.TEXT:r.isUndefined(e.textContent)||(n[p.selectorChangeType.TEXT]=e.textContent,e.textContent=i);break;default:throw new Error("Unrecognized attribute: "+a)}}));var i=m.createStylesFromChange(e.style.cssText,this.change);r.isString(i)&&(n[p.selectorChangeType.STYLE]=e.style.cssText,e.style.cssText=i),e.setAttribute(t,""),c.setData(e,this.change.id,this.identifier,n)},i.prototype.cancel=function(){this.cancelled=!0,this.unobserveSelector&&this.unobserveSelector(),r.each(this.disconnectObserverQueue,(function(e){try{e()}catch(e){}}))},e.exports=function(e){e.registerChangeApplier(p.changeType.ATTRIBUTE,i)}}),(function(e,t,n){function i(e,t){return[e,t].join("_")}var r=n(2),a=n(132).CHANGE_DATA_KEY;t.getData=function(e,t,n){var r=i(t,n);return e[a]&&e[a][r]?e[a][r]:null},t.hasData=function(e){return Boolean(e&&e[a]&&!r.isEmpty(e[a]))},t.removeData=function(e,t,n){e[a]&&delete e[a][i(t,n)]},t.setData=function(e,t,n,r){if("object"!=typeof r)throw new Error("setData expects an object");e[a]||(e[a]={}),e[a][i(t,n)]=r}}),(function(e,t,n){var i=n(2),r=n(12).Promise,a=function(){var e,t,n=new r(function(n,i){e=n,t=i});return n.resolve=function(){return e.apply(null,i.toArray(arguments)),n},n.reject=function(){return t.apply(null,i.toArray(arguments)),n},n};e.exports=a}),(function(e,t,n){var i=n(8);e.exports={changeType:{CUSTOM_CODE:"custom_code",ATTRIBUTE:"attribute",APPEND:"append",REARRANGE:"rearrange",REDIRECT:"redirect",WIDGET:"widget"},DOMInsertionType:{AFTER:"after",APPEND:"append",BEFORE:"before",PREPEND:"prepend"},insertAdjacentHTMLType:{AFTER_BEGIN:"afterbegin",AFTER_END:"afterend",BEFORE_BEGIN:"beforebegin",BEFORE_END:"beforeend"},selectorChangeType:{CLASS:"class",HTML:"html",HREF:"href",SRC:"src",STYLE:"style",TEXT:"text",HIDE:"hide",REMOVE:"remove"},changeApplierState:i({APPLIED:null,APPLYING:null,UNAPPLIED:null,UNDOING:null}),changeState:i({BLOCKED:null,UNAPPLIED:null,APPLIED:null,APPLYING:null,UNDOING:null,TIMED_OUT:null,IGNORED:null,ERROR:null})}}),(function(e,t){t.create=function(e){return new MutationObserver(e)},t.observe=function(e,t,n){e.observe(t,n)}}),(function(e,t,n){function i(e){this.windowLength=e,this.count=0,this.listeners={},this.isIncrementingTick=!1}var r=n(2),a=n(20);i.prototype.countCurrentTick=function(){this.isIncrementingTick||(this.isIncrementingTick=!0,this.increment(),setTimeout(r.bind((function(){this.isIncrementingTick=!1}),this),0))},i.prototype.increment=function(){this.count+=1,r.forEach(this.listeners[String(this.count)],(function(e){e()})),setTimeout(r.bind(this.decrement,this),this.windowLength)},i.prototype.decrement=function(){this.count-=1,this.count<0&&(a.warn("Decremented down to negative count: ",this.count),this.count=0)},i.prototype.addListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.exports=i}),(function(e,t,n){var i=n(2),r=n(207);t.transformVisibilityAttributesToCSS=function(e){if(!e.attributes)return e;if(e.attributes[r.selectorChangeType.HIDE]||e.attributes[r.selectorChangeType.REMOVE]){var t=i.extend({css:{}},i.cloneDeep(e));return e.attributes[r.selectorChangeType.HIDE]&&(t.css.visibility="hidden",delete t.attributes[r.selectorChangeType.HIDE]),e.attributes[r.selectorChangeType.REMOVE]&&(t.css.display="none",delete t.attributes[r.selectorChangeType.REMOVE]),t}return e},t.createStylesFromChange=function(e,t){if(i.isEmpty(t.css))return t.attributes.style;var n="",r=t.attributes.style||"";return i.each(t.css,(function(e,t){var i=new RegExp(t+"\\s?:");i.test(r)||(n+=t+":"+e+";")})),i.isUndefined(t.attributes.style)?(e||"")+n:n+r}}),(function(e,t,n){var i=n(136),r=n(137).DecisionError,a="single_experiment",o="multivariate",s={selectExperiment:function(e,t,n){if(e.experiments.length<1)throw new r("Unable to find experiment to bucket user into");var a=e.experiments[0];if(!i.isValidExperiment(t,a))throw new r('Audience conditions failed for experiment: "'+a.id+'".');return a}};e.exports=function(e){e.registerDecider(a,s),e.registerDecider(o,s)}})]);
window.optimizely2 = SLAVE_CLIENT.optimizely;

}());
  </script>
  <!-- Facebook Pixel Code -->
  <script>
   !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1948608388708675', {
}); // Insert your pixel ID here.
fbq('track', 'PageView');
  </script>
  <noscript>
   <img height="1" src="https://www.facebook.com/tr?id=1948608388708675&amp;ev=PageView&amp;noscript=1" style="display:none" width="1"/>
  </noscript>
  <!-- DO NOT MODIFY -->
  <!-- End Facebook Pixel Code -->
  <script async="" src="//static.criteo.net/js/ld/ld.js">
  </script>
  <script>
   // TODO: get rid of this global variable
    var deviceType = /iPad/.test(navigator.userAgent) ? 't' : /Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent) ? 'm': 'd';
  </script>
  <link href="//ht-assets.couchsurfing.com/assets/couchsurfing/couchsurfing-3cde06d19e84767f9d4970de54bada91489ae6c2db5fb3be557061a11e9a8968.css" media="all" rel="stylesheet"/>
  <link href="//ht-assets.couchsurfing.com/assets/logo-square-e2d7f22607e27920605d6656b76c78666b948c4bf638cec31c88aa0605a4f00d.png" rel="apple-touch-icon"/>
  <!-- TODO: use canonical for featured city pages -->
  <link href="//ht-assets.couchsurfing.com/assets/couchsurfing-a9fd96c18915be30614570aa3f5cc56e8300c50c9e969ffd63bab2975ba4e8ad.woff" rel="prefetch"/>
  <link href="//ht-assets.couchsurfing.com/assets/favicon-3c494547ebeda33dea8d2259a8f2d626103de3e0dc1b1da58fa067b5128eafed.ico" rel="shortcut icon"/>
  <!-- TODO ensive: rewrite, combine with bottom statement -->
  <script>
   var googletag = googletag || {};
      googletag.cmd = googletag.cmd || [];

      (function () {
        var gads = document.createElement('script');
        gads.async = true;
        gads.type = 'text/javascript';
        gads.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';

        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
      })();
  </script>
  <!-- TODO: delete after React clean up -->
 </head>
 <!-- TODO: remove any custom classes from body -->
 <!-- TODO: do not rely on page_css_class in CSS, remove! -->
 <body class="static_content_welcome mod-home-page ">
  <noscript>
   <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KC3GXKG" style="display:none;visibility:hidden" width="0">
   </iframe>
  </noscript>
  <script type="text/javascript">
   var _user_id = '';
  var _session_id = '';

  var _sift = window._sift = window._sift || [];
  _sift.push(['_setAccount', '2058321eba']);
  _sift.push(['_setUserId', _user_id]);
  _sift.push(['_setSessionId', _session_id]);
  _sift.push(['_trackPageview']);

 (function() {
   function ls() {
     var e = document.createElement('script');
     e.src = 'https://cdn.siftscience.com/s.js';
     document.body.appendChild(e);
   }
   if (window.attachEvent) {
     window.attachEvent('onload', ls);
   } else {
     window.addEventListener('load', ls, false);
   }
 })();
  </script>
  <!-- TODO: move to the bottom -->
  <!-- TODO: move to the helper or find out another way how to log those events -->
  <!-- TODO: use ajax call or different render logic-->
  <header class="header">
   <div class="header-wrapper">
    <a class="header-logo" href="/" title="Couchsurfing">
     <img alt="Couchsurfing" src="//ht-assets.couchsurfing.com/assets/logo-orange-58ccd2edda8895d1e1742f7744683e61f2c6fa069290a9ff012ef09d51ea643b.png" title="Couchsurfing"/>
    </a>
    <ul class="header-nav-buttons-list mod-logged-out">
     <li class="header-nav-buttons-list-item mod-inline-web mod-no-mobile">
      <!-- Language dropdown -->
      <div class="select-dropdown">
       <select class="select-dropdown__language" data-set-locale-path="/locale" id="locale" name="locale">
        <option value="en_US">
         English
        </option>
        <option value="es_ES">
         Español
        </option>
        <option value="fr_FR">
         Français
        </option>
        <option value="it_IT">
         Italiano
        </option>
        <option value="pl_PL">
         Polski
        </option>
        <option selected="selected" value="pt_BR">
         Português
        </option>
        <option value="zh_CN">
         中文 (简化字)
        </option>
        <option value="ru_RU">
         Русский
        </option>
        <option value="de_DE">
         Deutsch
        </option>
       </select>
      </div>
     </li>
     <li class="header-nav-buttons-list-item mod-inline-web mod-no-mobile">
      <a class="header-link header-nav-button mod-gray mod-uppercase" href="#how-it-works">
       Como Funciona
      </a>
     </li>
     <li class="header-nav-buttons-list-item mod-inline-web mod-no-mobile">
      <a class="header-link header-nav-button mod-gray mod-uppercase" href="#trust-and-safety">
       Segurança
      </a>
     </li>
     <li class="header-nav-buttons-list-item mod-less-space">
      <a class="header-nav-button button mod-join mod-small-min-width js-user-join" data-amplitude-click="signup_modal" data-amplitude-properties='{"source":"homepage"}' data-modal="true" href="/users/sign_up?join_source=header">
       Participar
      </a>
     </li>
     <li class="header-nav-buttons-list-item mod-less-space">
      <a class="header-nav-button button mod-blue mod-outline mod-small-min-width" data-amplitude-click="login_modal" data-amplitude-properties='{"source":"homepage"}' data-modal="true" href="/users/sign_in?cs_new_fe=true">
       Entrar
      </a>
     </li>
    </ul>
   </div>
  </header>
  <div class="banner is-hidden" data-banner="" data-cookie-disclaimer="">
   <p class="banner-text">
    Usamos cookies para melhorar a sua experiência. Ao usar o site, você concorda com o uso de cookies.
    <a class="mod-on-right" href="http://www.couchsurfing.com/about/privacy-policy" target="_blank">
     Saiba Mais
    </a>
   </p>
   <div class="banner-buttons">
    <button class="button mod-on-right mod-small" data-banner-dismiss="true" data-cookie-value="true" data-set-cookie="cookie_ack" name="button" type="submit">
     Entendi
    </button>
   </div>
  </div>
  <div class="flash mod-error is-hidden" data-error="" data-flash="" data-global-flash="">
   <span aria-hidden="true" class="icon mod-error mod-on-left" data-icon="">
   </span>
   <span data-flash-msg="">
   </span>
  </div>
  <main class="main mod-home-page" data-pjax-container="">
   <script type="application/ld+json">
    { "@context" : "http://schema.org",
  "@type" : "Organization",
  "name" : "Couchsurfing",
  "url" : "https://www.couchsurfing.com",
  "sameAs" : [ "https://www.facebook.com/couchsurfing",
    "https://twitter.com/couchsurfing",
    "https://instagram.com/couchsurfing",
    "https://www.linkedin.com/company/couchsurfing"]
}
   </script>
   <div class="hero-strip" data-amplitude-pageview="welcome_page">
    <section class="hero mod-join">
     <div class="hero-content">
      <h1 class="hero-content-title mod-tight">
       Hospede-se com Moradores Locais e Conheça Viajantes
      </h1>
      <h2 class="hero-content-subtitle">
       Compartilhe Experiências Autênticas de Viagem
      </h2>
      <ul class="mod-inline-web mod-buttons u-text-center">
       <li>
        <a class="button mod-homepage mod-facebook mod-bigger js-user-join" data-amplitude-click="join" data-amplitude-properties='{"type":"fb"}' href="/users/auth/facebook?auth_action=sign_up">
         <span aria-hidden="true" class="icon mod-facebook mod-on-left" data-icon="">
         </span>
         Entrar com o Facebook
        </a>
       </li>
       <li>
        <a class="button mod-couchsurfing mod-homepage mod-over-image mod-bigger js-user-join" data-amplitude-click="join" data-amplitude-properties='{"type":"email"}' data-modal="true" href="/users/sign_up?join_source=join_with_email">
         Participar com E-mail
        </a>
       </li>
      </ul>
      <div class="u-hidden js-app-download-buttons">
       <a class="button mod-transparent mod-block mod-app-download mod-ios" href="https://itunes.apple.com/app/apple-store/id525642917?pt=1067410&amp;ct=Homepage%20Mobile%20Web&amp;mt=8" target="_blank" title="Download iOS Couchsurfing App">
       </a>
       <a class="button mod-transparent mod-block mod-app-download mod-android" href="https://play.google.com/store/apps/details?id=com.couchsurfing.mobile.android&amp;referrer=utm_source%3Dcouchsurfing%26utm_medium%3Dhomepage_web" target="_blank" title="Download Android Couchsurfing App">
       </a>
      </div>
     </div>
    </section>
    <section class="hero mod-testimonials">
     <div class="hero-content">
      <h2 class="hero-content-title">
       Why Join?
      </h2>
      <hr class="mod-short mod-white"/>
      <div class="info-box-container">
       <div class="info-box mod-blue">
        <article>
         <img alt="Family at home hosting a surfer" class="mod-center mod-margin-bottom" src="https://ht-cdn.couchsurfing.com/assets/home/H2yepUC.png"/>
         <h3 class="info-box-title">
          On Surfing
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          "Couchsurfing has given me the opportunity to live very valuable and beautiful experiences. It's filled my journey with stories, people, and friends. It's given life to the places I visited, and I know that anywhere in the world I visit, I'll possibly have a good friend waiting for me!"
         </p>
         - Andrea
         <br/>
         (Traveling in South America)
        </article>
       </div>
       <div class="info-box mod-blue">
        <article>
         <img alt="New friends meeting in Asia" class="mod-center mod-margin-bottom" src="https://ht-cdn.couchsurfing.com/assets/home/pkjx9zk.png"/>
         <h3 class="info-box-title">
          On Community
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          "We can't recommend Couchsurfing highly enough. It's a great way to experience places from a unique insider perspective, and you'll undoubtedly make great friends along the way. Travel is more about the people you meet than the places you see, and Couchsurfing reinforced the fact that people are inherently good."
         </p>
         - Matt and Sara
         <br/>
         (Traveling In Asia)
        </article>
       </div>
       <div class="info-box mod-blue">
        <article>
         <img alt="Family with kids hosting surfers" class="mod-center mod-margin-bottom" src="https://ht-cdn.couchsurfing.com/assets/home/uzEQcHe.png"/>
         <h3 class="info-box-title">
          On Hosting
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          "We wanted to show our children that people from all over the world are good, no matter what culture, skin color, or language. We had no money to travel the world with our four kids, and decided to let the world come to us. We opened our house, our hearts, and our lives to strangers. A lot of them became friends for life!"
         </p>
         - Lieke, Peter, and Kids
         <br/>
         (Hosting in Belgium)
        </article>
       </div>
      </div>
      <div class="mod-margin-top">
       <a class="mod-underline mod-white" href="http://www.couchsurfing.com/about/safety">
        Saiba mais sobre Confiança e Segurança
       </a>
      </div>
     </div>
    </section>
    <section class="hero mod-meet">
     <div class="hero-content mod-column mod-left mod-with-background-image">
      <h2 class="hero-content-title">
       Conheça Pessoas
      </h2>
      <div class="mod-margin-top">
       <a class="button mod-homepage" href="http://www.couchsurfing.com/about/how-it-works">
        Como Funciona
       </a>
      </div>
     </div>
     <div class="hero-content mod-column mod-box mod-on-right mod-testimonial mod-spain">
      <article>
       <h3 class="testimonial-title">
        Conectado com
       </h3>
       <img alt="People" class="mod-center" src="//ht-assets.couchsurfing.com/assets/icons/people-f36217aba29d7627b316e817a24ea12139d4bd876f531f7c67f88dc107350e83.png"/>
       <div class="testimonial-images">
        <figure>
         <img alt="Alex" class="testimonial-image" src="//ht-assets.couchsurfing.com/assets/homepage/photo_A-e35c781ea316bf3b6a76050bad42d99d6a065083638b4720a75c9f91226859f6.png"/>
         <figcaption class="testimonial-name">
          Alex
         </figcaption>
        </figure>
        <figure class="mod-float-right">
         <img alt="Zack" class="testimonial-image" src="//ht-assets.couchsurfing.com/assets/homepage/photo_B-51665b60d0644bd391bb5d16ca9d3c58f7aa745b95778450c91054fd6a59b180.png"/>
         <figcaption class="testimonial-name">
          Zack
         </figcaption>
        </figure>
       </div>
       <p class="testimonial-subtitle">
        em Barcelona, Espanha
       </p>
       <hr class="mod-short"/>
       <p class="testimonial-text">
        Quando viajei sozinha pela Europa neste verão, eu usei o Couchsurfing para conhecer novas pessoas. Zack estava em um evento semanal do Couchsurfing em Barcelona, e tive muita sorte de conhecê-lo! Adorei nossas conversas sobre a vida, e ele me mostrou a melhor lanchonete para tomarmos um autêntico milkshake. Depois de alguns dias passeando pela cidade, senti como se eu o conhecesse há anos.
       </p>
      </article>
     </div>
    </section>
    <section class="hero mod-explore">
     <div class="hero-content mod-column mod-box mod-on-left mod-testimonial mod-cali">
      <article>
       <h3 class="testimonial-title">
        Hospedou-se com
       </h3>
       <img alt="Plane" class="mod-center" src="//ht-assets.couchsurfing.com/assets/icons/plane-78800c5e0b44b99bd8f295a1f109b5bd59c3f28fa43169dffae51abc0fa2250f.png"/>
       <div class="testimonial-images">
        <figure>
         <img alt="Annie" class="testimonial-image" src="//ht-assets.couchsurfing.com/assets/homepage/photo_C-c7321e3e807f078147fb288edc6ab2a7ac435aa51db7d3c18951314b7b414141.png"/>
         <figcaption class="testimonial-name">
          Annie
         </figcaption>
        </figure>
        <figure class="mod-float-right">
         <img alt="Caitlyn" class="testimonial-image" src="//ht-assets.couchsurfing.com/assets/homepage/photo_D-a2fe0072f098bd6887f9bf9f58a65d58043c2ab075e4103c61ddc662b67d971a.png"/>
         <figcaption class="testimonial-name">
          Caitlyn
         </figcaption>
        </figure>
       </div>
       <p class="testimonial-subtitle">
        em San Francisco, CA, EUA
       </p>
       <hr class="mod-short"/>
       <p class="testimonial-text">
        Caitlyn é demais! Adorei passar o tempo com ela, e sua natureza aberta e meiga foi sincera e animadora. Até minha bagagem chegar, no segundo dia, ela foi gentil em emprestar os pijamas mais confortáveis possíveis para que eu pudesse dormir na primeira noite, muito obrigada de novo! Uma das coisas mais legais da viagem foi comemorar o aniversário dela com uma festa na sala de estar. Espero vê-la novamente em breve!
       </p>
      </article>
     </div>
     <div class="hero-content mod-column mod-order-1-mobile mod-right mod-with-background-image">
      <h2 class="hero-content-title">
       Explore o mundo
      </h2>
      <div class="mod-margin-top">
       <a class="button mod-couchsurfing mod-homepage mod-over-image" data-amplitude-click="join" data-amplitude-properties='{"type":"plan_trip"}' data-modal="true" href="/users/sign_up?join_source=plan_a_trip">
        Planeje Uma Viagem
       </a>
      </div>
     </div>
    </section>
    <section class="hero mod-how-it-works" id="how-it-works">
     <div class="hero-content">
      <h2 class="hero-content-title">
       Como Funciona
      </h2>
      <hr class="mod-short mod-white"/>
      <div class="info-box-container">
       <div class="info-box mod-orange">
        <article>
         <img alt="Discover amazing people" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/discover-amazing-people-75ec5628b259a817d9389816d8b3b9c8369d87c524f0fc29f5fd81d7bdb462e5.png"/>
         <h3 class="info-box-title">
          Conheça pessoas incríveis
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          Os Couchsurfers abrem suas casas e compartilham suas vidas. Conecte-se e se inspire.
         </p>
        </article>
       </div>
       <div class="info-box mod-orange">
        <article>
         <img alt="Book a stay" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/book-a-stay-64b707177c5c69aa958920761cdd560d7ced3edf3ca7c09c91155c2863f5bdc8.png"/>
         <h3 class="info-box-title">
          Encontrar anfitrião
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          Conecte-se com anfitriões e confirme a estada na plataforma do Couchsurfing. Sua estada com anfitriões é gratuita.
         </p>
        </article>
       </div>
       <div class="info-box mod-orange">
        <article>
         <img alt="Join events" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/join-events-23ca802d7e5993838f1122d360dc35b3ef00291507a9a960b435d116baf30979.png"/>
         <h3 class="info-box-title">
          Participar de eventos
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          Conheça viajantes em outras cidades ou até na sua própria cidade! Sempre há algo novo para fazer.
         </p>
        </article>
       </div>
      </div>
      <div>
       <table class="hero-table">
        <tr>
         <th>
         </th>
         <th class="mod-border-top mod-border-right-left">
          Grátis
         </th>
         <th>
          Membros
          <br/>
          Verificados
         </th>
        </tr>
        <tr>
         <td class="u-text-left">
          Hospede-se com anfitriões locais
         </td>
         <td class="mod-border-right-left">
          <span aria-hidden="true" class="icon mod-selected mod-large mod-white" data-icon="">
          </span>
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
        <tr>
         <td class="u-text-left">
          Hospede viajantes internacionais
         </td>
         <td class="mod-border-right-left">
          <span aria-hidden="true" class="icon mod-selected mod-large mod-white" data-icon="">
          </span>
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
        <tr>
         <td class="u-text-left">
          Participe de eventos gratuitos de viajantes
         </td>
         <td class="mod-border-right-left">
          <span aria-hidden="true" class="icon mod-selected mod-large mod-white" data-icon="">
          </span>
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
        <tr>
         <td class="u-text-left">
          Verifique o telefone por SMS e o endereço
         </td>
         <td class="mod-border-right-left">
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
        <tr>
         <td class="u-text-left">
          Site e aplicativos móveis sem anúncios
         </td>
         <td class="mod-border-right-left">
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
        <tr>
         <td class="u-text-left">
          Seja destaque nos resultados de pesquisa
         </td>
         <td class="mod-border-bottom mod-border-right-left">
         </td>
         <td>
          <span aria-hidden="true" class="icon mod-verified mod-large mod-white" data-icon="">
          </span>
         </td>
        </tr>
       </table>
      </div>
      <div class="mod-margin-top">
       <p>
        <a class="mod-underline mod-white" href="http://www.couchsurfing.com/about/how-it-works">
         Saiba como começar
        </a>
       </p>
      </div>
     </div>
    </section>
    <section class="hero u-text-center">
     <div class="hero-content">
      <h2 class="hero-content-title text mod-navy">
       Nós apoiamos todos os anos:
      </h2>
      <hr class="mod-short mod-navy"/>
      <div class="info-box-container">
       <div class="info-box mod-white">
        <h3 class="info-box-title mod-large mod-tight">
         400.000
        </h3>
        <p>
         <span class="mod-large">
          Anfitriões
         </span>
        </p>
       </div>
       <div class="info-box mod-white">
        <h3 class="info-box-title mod-large mod-tight">
         <span class="mod-uppercase">
          4
          <small>
           milhões
          </small>
         </span>
        </h3>
        <p>
         <span class="mod-large">
          Viajantes
         </span>
        </p>
       </div>
       <div class="info-box mod-white">
        <h3 class="info-box-title mod-large mod-tight">
         100.000
        </h3>
        <p>
         <span class="mod-large">
          Eventos
         </span>
        </p>
       </div>
      </div>
     </div>
    </section>
    <section class="hero mod-trust" id="trust-and-safety">
     <div class="hero-content">
      <h2 class="hero-content-title">
       Confiança e Segurança
      </h2>
      <hr class="mod-short mod-white"/>
      <div class="info-box-container">
       <div class="info-box mod-blue">
        <article>
         <img alt="Verified id" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/verified-id-2bb07b648ebe1d6d4160624d3454960b63ad7aa5e94f6bdbdb894ae956571629.png"/>
         <h3 class="info-box-title">
          Mensagens e Verificação
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          Conheça os possíveis Anfitriões ou Viajantes através do nosso sistema de mensagens. Confira se eles possuem um método de pagamento, endereço residencial ou telefone celular verificados.
         </p>
        </article>
       </div>
       <div class="info-box mod-blue">
        <article>
         <img alt="Profile" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/profile-2d3627e2c3b790a2f6fb84d2191ea8a973c4d06266a719e268b7fc0676261b21.png"/>
         <h3 class="info-box-title">
          Perfis e Referências
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          Leia o que os membros dizem sobre si mesmos em seus perfis. Veja o que outros Viajantes disseram sobre suas experiências com eles.
         </p>
        </article>
       </div>
       <div class="info-box mod-blue">
        <article>
         <img alt="Messaging" class="mod-center mod-margin-bottom" src="//ht-assets.couchsurfing.com/assets/icons/messaging-596f66cabf3b236bfa809e1dba2f8b775d91eda698972e9bd3b8070bf0cd8e4d.png"/>
         <h3 class="info-box-title">
          Suporte da comunidade
         </h3>
         <hr class="mod-short mod-white"/>
         <p>
          A segurança dos membros é a nossa maior prioridade, e nossa equipe de Confiança e Segurança está aqui para ajudar. Dê feedback sobre os Couchsurfers com os quais você interagiu para que possamos tornar o Couchsurfing ainda melhor.
         </p>
        </article>
       </div>
      </div>
      <div class="mod-margin-top">
       <p>
        <a class="mod-underline mod-white" href="http://www.couchsurfing.com/about/safety">
         Saiba mais sobre Confiança e Segurança
        </a>
       </p>
      </div>
     </div>
    </section>
    <section class="hero mod-adventure mod-flex-row-mobile">
     <div class="hero-content">
      <h2 class="hero-content-title">
       Pronto para sua próxima aventura?
      </h2>
      <div class="mod-margin-top">
       <ul class="mod-inline-web mod-buttons u-text-center">
        <li>
         <a class="button mod-couchsurfing mod-homepage mod-over-image" data-amplitude-click="join" data-amplitude-properties='{"type":"plan_trip"}' data-modal="true" href="/users/sign_up?join_source=plan_a_trip">
          Planeje Uma Viagem
         </a>
        </li>
        <li>
         <a class="button mod-homepage" href="http://www.couchsurfing.com/about/how-it-works">
          Como Funciona
         </a>
        </li>
       </ul>
      </div>
     </div>
    </section>
    <section class="hero">
     <div class="hero-content">
      <h2 class="hero-content-title mod-destinations text mod-light mod-navy u-text-center">
       Principais Destinos
        do Couchsurfing
      </h2>
      <form accept-charset="UTF-8" action="/place" class="inline-search" method="get" role="search">
       <input name="utf8" type="hidden" value="✓"/>
       <fieldset class="inline-search-fieldset">
        <input class="inline-search-input mod-destination-input mod-google" data-auto-submit="true" data-destination-search="true" id="search_query" name="search_query" placeholder="Aonde você quer ir?" type="text"/>
       </fieldset>
       <a class="button inline-search-button" href="#">
        <span aria-hidden="true" class="icon mod-search" data-icon="">
        </span>
       </a>
       <input data-destination-lat="true" id="latitude" name="latitude" type="hidden"/>
       <input data-destination-lon="true" id="longitude" name="longitude" type="hidden"/>
       <input id="utm_content" name="utm_content" type="hidden" value="homepage"/>
       <input id="search_type" name="search_type" type="hidden" value="place"/>
      </form>
      <div class="destinations">
       <div class="destination mod-double">
        <a href="/places/europe/france/paris">
         <figure class="destination mod-paris">
          <img alt="Paris" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/paris@2x-739c4f2788d28777f167f9eb23c271d6fd68a43a33a5abb7e2d1b569a4adaf20.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Paris
          </figcaption>
         </figure>
        </a>
        <a href="/places/europe/denmark/copenhagen">
         <figure class="destination mod-copenhagen">
          <img alt="Copenhague" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/copenhagen@2x-6e03aefcb0bf3bbe0f4f0f1eeaf5a2fddb16d78c2b854f1cffafca6edebbc1ad.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Copenhague
          </figcaption>
         </figure>
        </a>
       </div>
       <div class="destination mod-double">
        <a href="/places/europe/england/london">
         <figure class="destination mod-london">
          <img alt="Londres" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/london@2x-07bd2f020f969dc18ca6164318d61ad14374f2e84212c1427ccbcdbe6b07070f.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Londres
          </figcaption>
         </figure>
        </a>
        <a href="/places/europe/spain/barcelona">
         <figure class="destination mod-barcelona">
          <img alt="Barcelona" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/barcelona@2x-cecbb10fd78e97580bced3d9a4dfcb230dd622e27f200409430fac2d30fa8261.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Barcelona
          </figcaption>
         </figure>
        </a>
       </div>
       <a href="/places/north-america/united-states/new-york">
        <figure class="destination mod-new-york">
         <img alt="Nova York" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/new-york@2x-6e5efd2ee4b38492ab6afb3a8a5b2dda9bce80a2b193a53f8bf6a43a3c118edf.jpg"/>
         <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
          Nova York
         </figcaption>
        </figure>
       </a>
       <a href="/places/europe/netherlands/amsterdam">
        <figure class="destination mod-amsterdam">
         <img alt="Amsterdã" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/amsterdam@2x-74f361110c5bcab98a1d9067dc5030de178202474e97fd91ac3fa3c03399f5a6.jpg"/>
         <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
          Amsterdã
         </figcaption>
        </figure>
       </a>
       <div class="destination mod-double">
        <a href="/places/europe/germany/berlin">
         <figure class="destination mod-berlin">
          <img alt="Berlim" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/berlin@2x-ba0c3ce9284afcf6b212cf81f139373830f1d7a9a9c43c6a54914d8a9f51104f.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Berlim
          </figcaption>
         </figure>
        </a>
        <a href="/places/europe/spain/madrid">
         <figure class="destination mod-madrid">
          <img alt="Madri" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/madrid@2x-e61402f5fd47770741315139fa43fa9d3d6101dd16bb5e91702520c1a7ab850c.jpg"/>
          <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
           Madri
          </figcaption>
         </figure>
        </a>
       </div>
       <a href="/places/europe/italy/rome">
        <figure class="destination mod-rome">
         <img alt="Roma" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/rome@2x-c03363a9436e501c25178e64183d3c20ea3aa5f99fd5db838be2dd25bd1d6131.jpg"/>
         <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
          Roma
         </figcaption>
        </figure>
       </a>
       <a href="/places/north-america/united-states/san-francisco">
        <figure class="destination mod-san-francisco">
         <img alt="São Francisco" class="destination__img" src="//ht-assets.couchsurfing.com/assets/destinations/san-francisco@2x-42c68e67c9edb4ca6b16b803f2b11b1eba5c29a7891f0cdd00f15677ad6beb47.jpg"/>
         <figcaption class="destination__title text mod-block mod-bold mod-white u-text-center">
          São Francisco
         </figcaption>
        </figure>
       </a>
       <a class="destination mod-all text mod-big mod-white mod-bold u-text-center" href="/places">
        <img alt="São Francisco" class="destination__img mod-hidden" src="//ht-assets.couchsurfing.com/assets/destinations/san-francisco@2x-42c68e67c9edb4ca6b16b803f2b11b1eba5c29a7891f0cdd00f15677ad6beb47.jpg"/>
        <p class="destination__all">
         <span class="text mod-block">
          Todos os mais de 200
         </span>
         <span class="text mod-block">
          Principais Destinos
         </span>
         <span class="text mod-block">
          do Couchsurfing
         </span>
        </p>
       </a>
      </div>
     </div>
    </section>
   </div>
  </main>
  <footer class="footer js-footer flexbox">
   <div class="footer-wrap">
    <ul class="footer-links-list mod-footer-links-list-main">
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://www.couchsurfing.com/about/about-us">
       Sobre
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://www.couchsurfing.com/about/safety">
       Segurança
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="https://support.couchsurfing.com" target="_blank">
       Suporte
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://blog.couchsurfing.com/" target="_blank">
       Blog
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://store.couchsurfing.com/" target="_blank">
       Loja
      </a>
     </li>
    </ul>
    <div class="footer-language">
     <!-- Language dropdown -->
     <form accept-charset="UTF-8" action="/locale" method="post">
      <input name="utf8" type="hidden" value="✓"/>
      <input name="authenticity_token" type="hidden" value="7A9gX2R1+IdUi2Hq7AoEYRPMCmeZ4YciCK4GKCJ/ql0cPHOq1bsveFOuMTSKAraotYyvdU5CPHxHbft1UvTyRg=="/>
      <div class="select-dropdown">
       <select class="select-dropdown__language" data-set-locale-path="/locale" id="locale" name="locale">
        <option value="en_US">
         English
        </option>
        <option value="es_ES">
         Español
        </option>
        <option value="fr_FR">
         Français
        </option>
        <option value="it_IT">
         Italiano
        </option>
        <option value="pl_PL">
         Polski
        </option>
        <option selected="selected" value="pt_BR">
         Português
        </option>
        <option value="zh_CN">
         中文 (简化字)
        </option>
        <option value="ru_RU">
         Русский
        </option>
        <option value="de_DE">
         Deutsch
        </option>
       </select>
      </div>
      <input class="change-language-button" type="submit" value="Change"/>
     </form>
    </div>
    <!-- Social & Mobile Icons -->
    <div class="footer-icons">
     <section class="footer-block">
      <h3 class="footer-header">
       Conecte-se Conosco
      </h3>
      <ul class="icons-list">
       <li class="icons-list-item">
        <a class="mod-icon mod-circled mod-social mod-facebook" href="http://facebook.com/couchsurfing" target="_blank" title="Facebook">
         <span aria-hidden="true" class="icon mod-facebook" data-icon="">
         </span>
        </a>
       </li>
       <li class="icons-list-item">
        <a class="mod-icon mod-circled mod-social mod-twitter" href="http://twitter.com/couchsurfing" target="_blank" title="Twitter">
         <span aria-hidden="true" class="icon mod-twitter" data-icon="">
         </span>
        </a>
       </li>
       <li class="icons-list-item">
        <a class="mod-icon mod-circled mod-social mod-tumblr" href="http://couchsurfing.tumblr.com/" target="_blank" title="Tumblr">
         <span aria-hidden="true" class="icon mod-tumblr" data-icon="">
         </span>
        </a>
       </li>
       <li class="icons-list-item">
        <a class="mod-icon mod-circled mod-social mod-instagram" href="http://instagram.com/couchsurfing" target="_blank" title="Instagram">
         <span aria-hidden="true" class="icon mod-instagram" data-icon="">
         </span>
        </a>
       </li>
      </ul>
     </section>
     <div class="footer-block mod-mobile-apps">
      <section>
       <h3 class="footer-header">
        Aplicativos Móveis
       </h3>
       <ul class="icons-list">
        <li class="icons-list-item">
         <a class="mod-icon mod-circled mod-social mod-apple" href="https://itunes.apple.com/us/app/couchsurfing/id525642917" target="_blank" title="iOS App Store">
          <span aria-hidden="true" class="icon mod-apple" data-icon="">
          </span>
         </a>
        </li>
        <li class="icons-list-item">
         <a class="mod-icon mod-circled mod-social mod-android" href="https://play.google.com/store/apps/details?id=com.couchsurfing.mobile.android" target="_blank" title="Google Play Store">
          <span aria-hidden="true" class="icon mod-android" data-icon="">
          </span>
         </a>
        </li>
       </ul>
      </section>
     </div>
    </div>
    <ul class="footer-links-list mod-small">
     <li class="footer-links-list-item">
      @ 1999 - 2018 Couchsurfing International, Inc.
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://www.couchsurfing.com/about/terms-of-use">
       Termos
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="http://www.couchsurfing.com/about/privacy-policy">
       Privacidade
      </a>
     </li>
     <li class="footer-links-list-item">
      <a class="footer-link" href="/places">
       Mapa do Site
      </a>
     </li>
    </ul>
   </div>
  </footer>
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js">
  </script>
  <script>
   if (typeof WebFont === 'object') {
    WebFont.load({google: {families: ['Lato:400,700,300:latin,latin-ext']}});
  }
  </script>
  <!-- TODO ensive: rewrite -->
  <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
  </script>
  <ins class="adsbygoogle" data-ad-channel="1522856634" data-ad-client="pub-5344143540872666" data-ad-slot="8499794033" data-reactive-ad-format="1" style="display: none;">
  </ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  <script src="//ht-assets.couchsurfing.com/assets/couchsurfing/couchsurfing_body-cac170136311301bf800289fb44b0a6c71f50488510f24c936298c080d2314b4.js">
  </script>
  <script>
   (function(a, ns, cb, l) {
    l = document.createElement('link');
    l.rel = "stylesheet"
    l.type = "text/css"
    l.href = "//fast.appcues.com/appcues.css"
    l.id = 'appcues-css'
    document.getElementsByTagName('head')[0].appendChild(l);
    window[ns] = function(callback) {
      (window[ns].q = window[ns].q || []).push(callback);
      if (window[a] != null) {
        while (window[ns].q.length) {
          cb = window[ns].q.shift();
          if (typeof cb === 'function') cb();
        }
      }
    };
  })('Appcues', 'AppcuesReady');
  </script>
  <script>
   AppcuesReady(function() {
            Appcues.anonymous();
        });
  </script>
  <script async="" defer="" onload="AppcuesReady()" src="//fast.appcues.com/22666.js">
  </script>
 </body>
</html>

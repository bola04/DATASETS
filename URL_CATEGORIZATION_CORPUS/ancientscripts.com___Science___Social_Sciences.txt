<html>
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <title>
   Ancient Scripts: Home
  </title>
  <link href="favicon.ico" rel="Shortcut Icon"/>
  <link href="web.css" rel="stylesheet" type="text/css"/>
  <script src="xs_menu.js" type="text/javascript">
  </script>
  <script src="glossary.js" type="text/javascript">
  </script>
  <script src="main.js" type="text/javascript">
  </script>
 </head>
 <body bgcolor="#660000" leftmargin="0" marginheight="0" marginwidth="0" onload="callOnLoadHandlers()" topmargin="0">
  <center>
   <div id="page">
    <div style="width: 780px; background: #000000">
     <div style="padding: 1px">
      <div style="position: relative; width: 778px; height: 119px">
       <div style="width: 778px; height: 118px">
        <img border="0" height="118" src="random_logo.php" width="778"/>
       </div>
       <div style="position: absolute; left: 10px; top: 10px">
        <a href="index.html">
         <img border="0" height="70" src="images/s.gif" width="500"/>
        </a>
       </div>
       <div style="position: absolute; left: 0px; top: 96px">
        <div class="menubar" style="width: 778px">
         <link href="xs_menu.css" rel="stylesheet" type="text/css"/>
         <div id="menu" name="menu" style="position: absolute; left: 0px; width: 690px; text-align: left">
         </div>
         <div id="buttons" name="buttons" style="position: absolute; left: 705px">
          <a href="http://ancientscriptsblog.blogspot.com/">
           <img alt="Read Ancient Scripts Blog" border="0" src="images/icon_blogspot.png" title="Read Ancient Scripts Blog"/>
          </a>
          <a href="http://www.twitter.com/ancientscripts">
           <img alt="Follow Ancient Scripts on Twitter" border="0" src="images/icon_twitter.png" title="Follow Ancient Scripts on Twitter"/>
          </a>
          <a href="http://www.facebook.com/home.php#/pages/Ancient-Scripts/204557782951">
           <img alt="Be an Ancient Scripts fan on Facebook" border="0" src="images/icon_facebook.png" title="Be an Ancient Scripts fan on Facebook"/>
          </a>
         </div>
         <script type="text/javascript">
          <!--
var rendered = false;
function render() {
	if (!rendered) {
		menuBar.render();
		rendered = true;
	}
}
addOnLoadHandler(render);
var menuBar = new xirasol.MenuBar("menu");

var menu_ws = new xirasol.Menu(menuBar, "Writing Systems", "ws.html");
var menuItem_intro = new xirasol.MenuItem(menu_ws, "Introduction", "ws.html");
var menuItem_origins = new xirasol.MenuItem(menu_ws, "Origins", "ws_origins.html");
var menuItem_types = new xirasol.MenuItem(menu_ws, "Types", "ws_types.html");
var menuItem_families = new xirasol.MenuItem(menu_ws, "Families", "ws_families.html");
var menuItem_regions = new xirasol.MenuItem(menu_ws, "Regions", "ws_regions.html");
var menuItem_timeline = new xirasol.MenuItem(menu_ws, "Timeline", "ws_timeline.html");
var menuItem_atoz = new xirasol.MenuItem(menu_ws, "A to Z", "ws_atoz.html");

var menu_ph = new xirasol.Menu(menuBar, "Phonetics", "phonetics.html");

var menu_hl = new xirasol.Menu(menuBar, "Historical Linguistics", "hl.html");
var menuItem_why = new xirasol.MenuItem(menu_hl, "Language Change", "hl_why.html");
var menuItem_lf = new xirasol.MenuItem(menu_hl, "Language Families", "hl_families.html");

var menu_ia = new xirasol.Menu(menuBar, "Interactive", null);
var menuItem_games = new xirasol.MenuItem(menu_ia, "Games", "games.html");
//var menuItem_charts = new xirasol.MenuItem(menu_ia, "Charts", "null");

var menu_rsrc = new xirasol.Menu(menuBar, "Resources", null);
var menuItem_dl = new xirasol.MenuItem(menu_rsrc, "Downloads", "downloads.html");
var menuItem_ref = new xirasol.MenuItem(menu_rsrc, "Reference", "reference.html");
var menuItem_links = new xirasol.MenuItem(menu_rsrc, "Links", "links.html");

var menu_social = new xirasol.Menu(menuBar, "Social", null);
var menuItem_blogspot = new xirasol.MenuItem(menu_social, "Blogspot", "http://ancientscriptsblog.blogspot.com/");
var menuItem_twitter = new xirasol.MenuItem(menu_social, "Twitter", "http://www.twitter.com/ancientscripts");
var menuItem_facebook = new xirasol.MenuItem(menu_social, "Facebook", "http://www.facebook.com/home.php#/pages/Ancient-Scripts/204557782951");

var menu_about = new xirasol.Menu(menuBar, "About", "about.html");
var menuItem_author = new xirasol.MenuItem(menu_about, "Author", "author.html");
var menuItem_rabbit = new xirasol.MenuItem(menu_about, "Rabbit Scribe", "rabbit.html");
var menuItem_usage = new xirasol.MenuItem(menu_about, "Terms of Use", "usage.html");
var menuItem_email = new xirasol.MenuItem(menu_about, "Email", "email.html");

setTimeout(render, 50);
// -->
         </script>
        </div>
       </div>
      </div>
      <div class="main">
       <script type="text/javascript">
        <!--
var backgroundColors = [ "#e0d0b8", "#d8c8b0" ];

function showTwitterAll() {
	reloadTwitter('http://search.twitter.com/search.json?q=from%3Aancientscripts&rpp=10&callback=feeds.twitter');
	document.getElementById('twitter_all').className = "tabbar_cell_selected";
	document.getElementById('twitter_filtered').className = "tabbar_cell";
}

function showTwitterFiltered() {
	reloadTwitter('http://search.twitter.com/search.json?q=from%3Aancientscripts+%23ancientscripts&rpp=10&callback=feeds.twitter');
	document.getElementById('twitter_all').className = "tabbar_cell";
	document.getElementById('twitter_filtered').className = "tabbar_cell_selected";
}

function reloadTwitter(url) {
	var itemDiv = document.getElementById('twitter_feed');
	while (itemDiv && itemDiv.childNodes.length > 0) {
		itemDiv.removeChild(itemDiv.childNodes[0]);
	}
	var script = document.createElement("SCRIPT");
	script.src = url;
	document.body.appendChild(script);
}

function loadTwitterFeed(obj) {
	var container = document.getElementById("twitter_feed");
	while (container && container.childNodes.length > 0) {
		container.removeChild(container.childNodes[0]);
	}
	for(var i = 0; i < obj.results.length; i++) {
		var date = new Date(obj.results[i].created_at);
		var text = obj.results[i].text;
		var itemDiv = document.createElement("DIV");
		itemDiv.className = "home_news_item";
		itemDiv.style.backgroundColor = backgroundColors[i % 2];
		var dateDiv = document.createElement("SPAN");
		dateDiv.className = "home_news_date";
		dateDiv.innerHTML = formatDate(date);
		itemDiv.appendChild(dateDiv);
		var sepDiv = document.createElement("SPAN");
		sepDiv.innerHTML = " - ";
		itemDiv.appendChild(sepDiv);
		var textDiv = document.createElement("SPAN");
		textDiv.className = "home_news_text";
		var html = formatTwitterFeed(text);
		textDiv.innerHTML = html;
		itemDiv.appendChild(textDiv);
		container.appendChild(itemDiv);
	}
	var followMeDiv = document.createElement("DIV");
	followMeDiv.className = "home_news_item";
	followMeDiv.innerHTML = "<center><a href=\"http://twitter.com/ancientscripts\" style=\"font-weight: bold\">Follow me on Twitter</a></center>";
	container.appendChild(followMeDiv);
}

var linkFormat = /(https?:\/\/[^\s]+)/g;

var months = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];

function formatDate(date) {
	return months[date.getMonth()] + " " + date.getDate() + ", " + date.getFullYear();
}

function formatTwitterFeed(text) {
	return text
		.replace(linkFormat, "<a href=\"$1\">$1</a>")
		.replace("#ancientscripts","<a href=\"http://twitter.com/#search?q=%23ancientscripts\">#ancientscripts</a>")
		.replace(/@([0-9a-zA-Z_]+)/, "<a href=\"http://twitter.com/$1\">@$1</a>");
}

function loadFeaturedPage(obj) {
	var container = document.getElementById("featured_page");
	while (container && container.childNodes.length > 0) {
		container.removeChild(container.childNodes[0]);
	}
	var itemDiv = document.createElement("DIV");
	itemDiv.className = "home_news_item";
	itemDiv.style.backgroundColor = backgroundColors[0];
	var icon = "";
	if (obj.icon && obj.icon.length > 0) {
		icon = "<img src=\"images/" + obj.icon + "\" align=\"left\" style=\"padding-right: 4px; padding-bottom: 4px\">";
	}
	var html = 
		icon + 
		"<a href=\"" + obj.link + "\" class=\"home_news_date\">" + obj.title + "</a><br />" +
		obj.body +
		"<p><a href=\"" + obj.link + "\">Read more...</a></p>";
	itemDiv.innerHTML = html;
	container.appendChild(itemDiv);
}

function loadBlogspotFeed(obj) {
	var container = document.getElementById("blogspot_feed");
	while (container && container.childNodes.length > 0) {
		container.removeChild(container.childNodes[0]);
	}
	if (obj.feed.entry.length > 0) {
		var i = 0;
		var entryUrl = "http://ancientscriptsblog.blogspot.com";
		for(var j = 0; j < obj.feed.entry[i].link.length; j++) {
			var link = obj.feed.entry[i].link[j];
			if (link.rel == "alternate") {
				entryUrl = link.href;
			}
		}
		var itemDiv = document.createElement("DIV");
		itemDiv.className = "home_news_item";
		itemDiv.style.backgroundColor = backgroundColors[i % 2];
		var date = parseISO8601Date(obj.feed.entry[i].updated.$t);
		var text = "<span class=\"home_news_date\"><a href=\"" + entryUrl + "\" class=\"home_news_date\">" + obj.feed.entry[i].title.$t + "</a> (" + formatDate(date) + ")</span><br/><br/>\r\n" + truncateBlogspotText(obj.feed.entry[i].content.$t);
		var html = text;
		html += " <a href='" + entryUrl + "'>Read more...</a>";
		itemDiv.innerHTML = html;
		container.appendChild(itemDiv);
	}
}

function truncateBlogspotText(text) {
	var lb = text.indexOf("<br", 1000);
	if (lb == -1) {
		var lb = text.indexOf("<div", 1000);
	}
	if (lb > -1) {
		text = text.substring(0, lb);
	} 
	return text;
}

function parseISO8601Date(dateStr) {
	var dateFormat = /(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d+)([-+])(\d{2}):(\d{2})/;
	var match = dateFormat.exec(dateStr);
	if (match) {
		var date = new Date(match[1], match[2]-1, match[3], match[4], match[5], match[6]);
		return date;
	}
	return new Date();
}

var feeds = new Object();
feeds.twitter = loadTwitterFeed;
feeds.blogspot = loadBlogspotFeed;
feeds.featuredPage = loadFeaturedPage;

function testFeaturedPage() {
	var page = prompt("Please enter page name");
	var itemDiv = document.getElementById('featured_page');
	while (itemDiv && itemDiv.childNodes.length > 0) {
		itemDiv.removeChild(itemDiv.childNodes[0]);
	}
	//alert(page);
	var script = document.createElement("SCRIPT");
	script.src = "featured_page.php?callback=feeds.featuredPage&page=" + page;
	document.body.appendChild(script);
}

// -->
       </script>
       <div style="padding-top: 12px; padding-bottom: 12px; padding-left: 10px; padding-right: 10px; text-align: center">
        <table border="0" cellpadding="0" cellspacing="0" width="758">
         <tr>
          <td colspan="2">
           <div class="home_icon_row">
            <center>
             <div class="home_icon_left">
              <a href="ws.html">
               <img border="0" src="images/home_ws.gif"/>
              </a>
             </div>
             <div class="home_icon_inner">
              <a href="phonetics.html">
               <img border="0" src="images/home_ph.gif"/>
              </a>
             </div>
             <div class="home_icon_inner">
              <a href="hl.html">
               <img border="0" src="images/home_hl.gif"/>
              </a>
             </div>
             <div class="home_icon_inner">
              <a href="interactive.html">
               <img border="0" src="images/home_interactive.gif"/>
              </a>
             </div>
             <div class="home_icon_inner">
              <a href="resources.html">
               <img border="0" src="images/home_resources.gif"/>
              </a>
             </div>
             <div class="home_icon_right">
              <a href="about.html">
               <img border="0" src="images/home_about.gif"/>
              </a>
             </div>
            </center>
           </div>
          </td>
         </tr>
         <tr>
          <td style="padding-right: 8px" valign="top">
           <div class="index_mod" style="margin-bottom: 8px">
            <div class="index_mod_hdr">
             <img align="top" border="0" src="images/icon_topics.gif"/>
             Featured Script
             <a href="javascript:void(0)" onclick="testFeaturedPage()" style="text-decoration: none">
             </a>
            </div>
            <div class="index_mod_body1">
             <div id="featured_page" name="featured_page" style="width: 510px; height: 220px; overflow: auto">
              Loading ...
             </div>
            </div>
           </div>
           <div class="index_mod">
            <div class="index_mod_hdr">
             <a href="http://ancientscriptsblog.blogspot.com/" style="text-decoration: none; color: #663300">
              <img align="top" border="0" src="images/icon_blogspot_small.png"/>
              Latest Blog
             </a>
            </div>
            <div class="index_mod_body1">
             <div id="blogspot_feed" name="blogspot_feed" style="width: 510px; height: 220px; overflow: auto">
              Loading ...
             </div>
            </div>
           </div>
          </td>
          <td style="vertical-align: top" width="240">
           <div class="index_mod" style="margin-bottom: 8px">
            <div class="index_mod_hdr">
             <img align="top" border="0" src="images/icon_search.gif"/>
             Search
            </div>
            <div class="index_mod_body1">
             <div id="search" name="search" style="width: 238px; height: 28px; overflow: hidden">
              <div class="home_news_item">
               <table border="0" cellpadding="0" cellspacing="0">
                <form action="search.php">
                 <tr>
                  <td>
                   <input class="search_long" name="q" type="text"/>
                   <input class="search_button" type="submit" value="GO"/>
                  </td>
                 </tr>
                </form>
               </table>
              </div>
             </div>
            </div>
           </div>
           <div class="index_mod">
            <div class="index_mod_hdr">
             <a href="http://www.twitter.com/ancientscripts" style="text-decoration: none; color: #663300">
              <img align="top" border="0" src="images/icon_twitter_small.png"/>
              Twitter Updates
             </a>
            </div>
            <div class="index_mod_body1">
             <div id="" style="width: 238px; height: 30px; overflow: auto">
              <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 6px">
               <tr>
                <td class="tabbar_left_margin" style="width: 8px; height: 24px">
                </td>
                <td class="tabbar_cell_selected" id="twitter_all" style="width: 36px; height: 24px">
                 <a href="javascript:void(0)" onclick="showTwitterAll()" style="text-decoration: none; color: #000099">
                  all
                 </a>
                </td>
                <td class="tabbar_cell" id="twitter_filtered" style="width: 120px; height: 24px">
                 <a href="javascript:void(0)" onclick="showTwitterFiltered()" style="text-decoration: none; color: #000099">
                  #ancientscripts
                 </a>
                </td>
                <td class="tabbar_right_margin" style="width: 71px; height: 24px">
                </td>
               </tr>
              </table>
             </div>
             <div id="twitter_feed" name="twitter_feed" style="width: 238px; height: 384px; overflow: auto">
              Loading ...
             </div>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
       <script src="http://search.twitter.com/search.json?q=from%3Aancientscripts&amp;rpp=10&amp;callback=feeds.twitter" type="text/javascript">
       </script>
       <script src="http://ancientscriptsblog.blogspot.com/feeds/posts/default?alt=json-in-script&amp;callback=feeds.blogspot" type="text/javascript">
       </script>
       <script src="featured_page.php?callback=feeds.featuredPage" type="text/javascript">
       </script>
      </div>
      <div class="copyright">
       Copyright © 1996-2012, Lawrence Lo. All Rights Reserved
      </div>
     </div>
    </div>
   </div>
  </center>
  <script type="text/javascript">
   var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
   try {
var pageTracker = _gat._getTracker("UA-12695287-1");
pageTracker._trackPageview();
} catch(err) {}
  </script>
 </body>
</html>

<!DOCTYPE html>
 <!--[if IE]><![endif]-->
 <!--[if IE 7]>         <html class="no-js ie7 lt-ie10 lt-ie9 lt-ie8"> <![endif]-->
 <!--[if IE 8]>         <html class="no-js ie8 lt-ie10 lt-ie9"> <![endif]-->
 <!--[if IE 9]>         <html class="no-js ie9 lt-ie10"> <![endif]-->
 <!--[if gt IE 9]><!-->
 <html class="no-js">
  <!--<![endif]-->
  <head>
   <meta charset="utf-8"/>
   <meta content="width=device-width, initial-scale=1" name="viewport"/>
   <title>
    Chef Craft
   </title>
   <meta content="" name="description"/>
   <meta content="" name="keywords"/>
   <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet"/>
   <link href="templates/css/bootstrap-retail.css?v=2" rel="stylesheet"/>
   <link href="templates/fa/css/font-awesome.min.css" rel="stylesheet"/>
   <link href="templates/css/retail.css?v=2" rel="stylesheet"/>
   <link href="https://www.chefcraft.com/favicon.ico" rel="shortcut icon"/>
   <script src="templates/js/vendor/modernizr.min.js">
   </script>
   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">
   </script>
   <script src="templates/js/vendor/jquery-ui-1.10.1.custom.min.js">
   </script>
   <script src="templates/js/vendor/lodash.min.js">
   </script>
   <script src="templates/js/vendor/knockout-3.4.0.min.js">
   </script>
   <script src="templates/js/vendor/knockout.mapping.js">
   </script>
   <script src="i_js_hooks.asp">
   </script>
   <script>
    // This function is needed for JS hooks.
 function getOriginalPageName() {
 	return 'Default.asp';
 }
   </script>
   <!--[if lte IE 8]>
 <script src="//cdnjs.cloudflare.com/ajax/libs/selectivizr/1.0.2/selectivizr-min.js"></script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
 <![endif]-->
  </head>
  <body class="home t-ui-phase-4 site-type-3 loggedout">
   <div id="TopBarSearch-blackout">
   </div>
   <div class="app-loading hide" id="appLoadingWidget">
    <svg class="app-loading-spinner" enable-background="new -220 312 170 170" height="170px" id="appLoadingSpinner" version="1.1" viewbox="-220 312 170 170" width="170px" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
     <g class="app-loading-spinner-svg">
      <path d="M-67.6,398.2l13.5-4c-0.3-5.9-1.1-11.6-2.4-17l-14-0.3c-0.5-1.6-1.1-3-1.6-4.6l10.8-8.9 c-2.4-5.1-5.4-10.2-8.6-14.8l-13.2,5.1c-1.1-1.3-2.2-2.4-3.2-3.5l6.5-12.4c-4.3-3.8-8.9-7.3-13.8-10.2l-10,9.7 c-1.3-0.8-3-1.3-4.3-2.2l1.3-14c-5.4-1.9-10.8-3.5-16.7-4.3l-5.7,12.9c-1.6-0.3-3.2-0.3-4.9-0.3l-4-13.5c-5.9,0.3-11.6,1.1-17,2.4 l-0.3,14c-1.6,0.5-3,1.1-4.6,1.6l-8.9-10.8c-5.1,2.4-10.2,5.4-14.8,8.6l5.1,13.2c-1.3,1.1-2.4,2.2-3.5,3.2l-12.4-6.5 	c-3.8,4.3-7.3,8.9-10.2,13.8l9.7,10c-0.8,1.3-1.3,3-2.2,4.3l-14-1.3c-1.9,5.4-3.5,10.8-4.3,16.7l12.9,5.7c-0.3,1.6-0.3,3.2-0.3,4.9 l-13.5,4c0.3,5.9,1.1,11.6,2.4,17l14,0.3c0.5,1.6,1.1,3,1.6,4.6l-10.8,8.9c2.4,5.1,5.4,10.2,8.6,14.8l13.2-5.1 c1.1,1.3,2.2,2.4,3.2,3.5l-6.5,12.4c4.3,3.8,8.9,7.3,13.8,10.2l10-9.7c1.3,0.8,3,1.3,4.3,2.2l-1.3,14c5.4,1.9,10.8,3.5,16.7,4.3 l5.7-12.9c1.6,0.3,3.2,0.3,4.9,0.3l4,13.5c5.9-0.3,11.6-1.1,17-2.4l0.3-14c1.6-0.5,3-1.1,4.6-1.6l8.9,10.8 c5.1-2.4,10.2-5.4,14.8-8.6l-5.1-13.5c1.3-1.1,2.4-2.2,3.5-3.2l12.4,6.5c3.8-4.3,7.3-8.9,10.2-13.8l-9.7-10c0.8-1.3,1.3-3,2.2-4.3 	l14,1.3c1.9-5.4,3.5-10.8,4.3-16.7l-12.9-5.7C-67.9,401.4-67.6,399.8-67.6,398.2z M-135,437.3c-22.4,0-40.4-18.1-40.4-40.4 c0-22.4,18.1-40.4,40.4-40.4s40.4,18.1,40.4,40.4C-94.6,419.2-112.7,437.3-135,437.3z" fill="#AAAAAA">
      </path>
     </g>
     <image alt="Loading..." class="app-loading-spinner-img" src="templates/gfx/loading/loading.gif">
     </image>
    </svg>
   </div>
   <nav class="top-bar print-hide" id="top-bar">
    <div class="container-fluid">
     <div class="top-bar__left-menu" id="top-bar__left-menu">
      <a class="menu-toggle" href="#0">
       <i class="icon-reorder">
       </i>
       Menu
      </a>
      <ul class="linkset horizontal hover" id="linkset_retail_util">
       <li>
        <a href="page.asp?p_key=DD327C0FD47D46C5864FFBCB465976AE">
         Subscribe
        </a>
       </li>
       <li>
        <a href="contact_us.asp">
         Contact
        </a>
       </li>
      </ul>
     </div>
     <div class="top-bar__right-menu" id="top-bar__right-menu">
      <div id="menu-move__wrapper">
       <!-- Search -->
       <div id="TopBarSearch-wrap">
        <div class="page-search">
         <form action="" class="u-search-form" id="frmUnivSearch" method="post">
          <span class="u-search-group u-search-text">
           <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-search" id="u_search_text" name="u_search_text" placeholder="Search..." spellcheck="false" type="text" value=""/>
          </span>
          <span class="u-search-group u-search-droplist">
           <select class="" id="u_search_type" name="u_search_type">
            <option value="pc_combined_results.asp?search_prod=((searchlike~p.sku~&lt;keyword&gt;|Or|searchlike~p.nm~&lt;keyword&gt;|Or|searchlike~p.ds~&lt;keyword&gt;|Or|searchlike~p.search_terms~&lt;keyword&gt;|Or|searchlike~p.searchfield1~&lt;keyword&gt;|Or|searchlike~p.searchfield5~&lt;keyword&gt;|Or|searchlike~pa.sku_alias~&lt;keyword&gt;|Or|searchlike~pa.nm_alias~&lt;keyword&gt;|Or|searchlike~pa.ds_alias~&lt;keyword&gt;)|Or|searchlike~p.child_rollup_search_terms~&lt;keyword&gt;|Or|searchlike~p.search_terms~&lt;keyword&gt;)&amp;search_keyword=&lt;keyword&gt;">
             Products
            </option>
            <option value="erp_manage_sales_orders.asp?search2=(searchlike~order_date~&lt;keyword&gt;|OR|searchlike~eosoh.order_number~&lt;keyword&gt;|OR|searchlike~eosoh.status~&lt;keyword&gt;|OR|searchlike~grand_total~&lt;keyword&gt;|OR|searchlike~po_number~&lt;keyword&gt;|OR|searchlike~expected_ship_date~&lt;keyword&gt;)&amp;s=&lt;keyword&gt;&amp;sfield=searchall">
             Orders
            </option>
            <option value="back_order_report.asp?eosoh.order_date_date_from=&amp;eosoh.order_date_date_to=&amp;group=&amp;s=&lt;keyword&gt;&amp;sfield=searchall&amp;rpp=50&amp;ddtloaded=1&amp;pagesize=50&amp;search2=((searchlike~p.nm~&lt;keyword&gt;%7COR%7Csearchlike~p.sku~&lt;keyword&gt;%7COR%7Csearchlike~eosoh.order_number~&lt;keyword&gt;%7COR%7Csearchlike~eosoh.po_number~&lt;keyword&gt;%7COR%7Csearchlike~eosod.qty_backordered~&lt;keyword&gt;%7COR%7Csearchlike~eosod.unit_price~&lt;keyword&gt;))&amp;page=1&amp;ddt=1">
             Backorders
            </option>
            <option value="erp_manage_shipments.asp?ship_date_date_from=&amp;ship_date_date_to=&amp;group=&amp;s=&lt;keyword&gt;&amp;sfield=searchall&amp;rpp=50&amp;ddtloaded=1&amp;pagesize=50&amp;search2=((searchlike~ship_date~&lt;keyword&gt;%7COR%7Csearchlike~eos.ship_via~&lt;keyword&gt;%7COR%7Csearchlike~eos.tracking_num~&lt;keyword&gt;%7COR%7Csearchlike~eos.sales_order_number~&lt;keyword&gt;%7COR%7Csearchlike~eoih.ref_id~&lt;keyword&gt;%7COR%7Csearchlike~eosoh.po_number~&lt;keyword&gt;%7COR%7Csearchlike~eos.notes~&lt;keyword&gt;))&amp;page=1&amp;ddt=1">
             Shipments
            </option>
            <option value="erp_manage_invoices.asp?search2=(searchlike~eoih.ref_id~keyword|OR|searchlike~invoice_date~&lt;keyword&gt;|OR|searchlike~eoih.status~&lt;keyword&gt;|OR|searchlike~po_number~&lt;keyword&gt;|OR|searchlike~eoih.sales_order_number~&lt;keyword&gt;|OR|searchlike~invoice_due~&lt;keyword&gt;)&amp;s=&lt;keyword&gt;&amp;sfield=searchall">
             Invoices
            </option>
            <option value="my_addresses.asp?s=&lt;keyword&gt;&amp;sfield=searchall&amp;rpp=50&amp;ddtloaded=1&amp;pagesize=50&amp;search2=((searchlike~sha.nm~&lt;keyword&gt;%7COR%7Csearchlike~sha.s_add1~&lt;keyword&gt;%7COR%7Csearchlike~sha.s_city~&lt;keyword&gt;%7COR%7Csearchlike~sha.s_state~&lt;keyword&gt;%7COR%7Csearchlike~sha.s_zip~&lt;keyword&gt;%7COR%7Csearchlike~sha.s_country~&lt;keyword&gt;))&amp;page=1&amp;ddt=1">
             My Addresses
            </option>
            <option value="erp_manage_payments.asp?sortby=date_received&amp;sortorder=desc&amp;s=&lt;keyword&gt;&amp;sfield=searchall&amp;pagesize=100&amp;search2=((searchlike~date_received~&lt;keyword&gt;|OR|searchlike~eop.invoice_number~&lt;keyword&gt;|OR|searchlike~amount~&lt;keyword&gt;|OR|searchlike~payment_type~&lt;keyword&gt;|OR|searchlike~reference_info~&lt;keyword&gt;))">
             Payments
            </option>
            <option value="product_stock_ddt.asp?s=&lt;keyword&gt;&amp;sfield=searchall&amp;search2=((searchlike~p.nm~&lt;keyword&gt;%7COR%7Csearchlike~p.sku~&lt;keyword&gt;%7COR%7Csearchlike~p.retail_price~&lt;keyword&gt;))">
             Price List
            </option>
            <option value="favorite_lists_man.asp?s=&lt;keyword&gt;&amp;sfield=searchall&amp;search2=((searchlike~fl.nm~&lt;keyword&gt;))">
             Favorite Lists
            </option>
           </select>
          </span>
          <span class="u-search-group u-search-btn">
           <button class="btn btn-inverse" id="u_search_submit" name="u_search_submit" type="submit">
            <i class="icon-search">
            </i>
           </button>
          </span>
          <input id="search_tip_url" name="search_tip_url" type="hidden" value=""/>
         </form>
         <script>
          // Execute when DOM ready
 		$(function(){
 
 			// Form post
 			$('#frmUnivSearch').on('submit', function(e){
 				e.preventDefault();
 				fncProcessUniversalSearch();
 			});
 
 		});
 		
 		/* Boolean Vars */
 			/*
 			 * Add the STOREFRONTURL to the page being redirected to
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		bool
 			 */
 			var bAddStoreFronUrlToPost		= true;
 
 			/*
 			 * Log the keyword search
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		bool
 			 */
 			var bUseKeywordSearchLogging	= true;
 			
 			/*
 			 * Create searchstring by the splitting the terms on spaces
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		bool
 			 */
 			var bUseSplitTermSearching		= true;
 
 			/*
 			 * Use Auto Suggestions when searching
 			 * @author	johns
 			 * @since	07/26/2012
 			 * @var		bool
 			 */
 			var bUseAutoSuggestions			= true;
 
 			/*
 			 * Add Categories to the Searchstring
 			 * @author	johns
 			 * @since	07/26/2012
 			 * @var		bool
 			 */
 			var bUseCategories				= false;
 
 		/* String Vars */
 			/*
 			 * VBScript variable for STOREFRONTURL
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sStoreFrontUrl				= 'https://www.chefcraft.com';
 
 			/*
 			 * Name of the current page loaded
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sPageName					= 'Default.asp';
 
 			/*
 			 * List of product fields to check for a product search
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sProductFieldsToCheck		= 'p.sku, p.nm, p.ds, p.search_terms, p.child_rollup_search_terms';
 
 			/*
 			 * List of fields to check for a website search
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sWebsiteFieldsToCheck		= 'p.nm,p.ds,staticpages.se_pagetitle,staticpages.se_ds,staticpages.se_keywords';
 
 			/*
 			 * Name of the page to redirect to for product searches
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sProductSearchPage			= 'pc_combined_results.asp';
 
 			/*
 			 * Name of the page to redirect to for website searches
 			 * @author	johns
 			 * @since	6/28/2012
 			 * @var		string
 			 */
 			var sWebsiteSearchPage			= 'search_results.asp';
 
 			/*
 			 * List of category fields to check for a product search
 			 * @author	johns
 			 * @since	07/26/2012
 			 * @var		string
 			 */
 			var sCategoryFieldsToCheck		= 'pc.nm,pc.ds';
 		
 			//- these are for the search tips ajax call redirect
 			/*
 			 * Page the search is being performed on
 			 * @author	johns
 			 * @since	07/26/2012
 			 * @var		string
 			 */
 			var sInitPage					= '/Default.asp';
 
 			/*
 			 * Website name
 			 * @author	johns
 			 * @since	07/26/2012
 			 * @var		string
 			 */
 			var sSitename					= 'chefcraft';
 
 			var sProductSearchTerm = 'products';
 
 		/**
 		 * This function handles the form submission.
 		 *
 		 * @author		seanm
 		 * @since		??
 		 *
 		 * @author		johns
 		 * @modified	6/28/2012
 		 * 
 		 * @return		void
 		 */		
 		function fncProcessUniversalSearch() {
 			
 			var sSearchTerm    = encodeURIComponent(jQuery('#u_search_text').val());
 			var sPrepopValues  = '';
 			var sDelimiter     = '?';
 			var sNewSearchPage = '';
 			var sSearchType    = '';
 			var	sRedirectUrl   = '';
 
 			
 
 			sSearchType = jQuery('#u_search_type option:selected').text().toLowerCase();
 
 			if ( bUseSplitTermSearching && sSearchType == sProductSearchTerm ) {
 				sNewSearchPage = fncBuildSplitTermSearchPage ( sSearchTerm, sSearchType );
 			} else {
 				sNewSearchPage = jQuery('#u_search_type option:selected').val().replace(/<keyword>/ig, sSearchTerm);
 			} 
 			
 			/*
 			 * If there's already a ?, we need to make sure we don't add another.
 			 */
 			if ( sNewSearchPage.indexOf('?') >= 0 ) {
 				sDelimiter = '&';
 			}
 
 			if ( bUseSplitTermSearching && sSearchType == sProductSearchTerm ) {
 				sPrepopValues = sDelimiter + 'search_keyword=' + sSearchTerm;
 			} else {
 				sPrepopValues = sDelimiter + 'u_search_type=' + jQuery('#u_search_type option:selected').text();
 			} 
 
 			if ( sNewSearchPage.indexOf('u_search_type') >= 0 ) {
 				sPrepopValues = '';
 			} 
 			
 			if ( bAddStoreFronUrlToPost ) {
 				sNewSearchPage = sStoreFrontUrl + '/' + sNewSearchPage;
 			}
 
 			if ( bUseAutoSuggestions ) {
 				fncCheckSearchSuggestions();
 				sRedirectUrl = jQuery('#search_tip_url').val();
 			} //- if ( bUseAutoSuggestions )
 
 			if ( sRedirectUrl === '' ) {
 				sRedirectUrl = sNewSearchPage + sPrepopValues;
 			}
 
 			if ( bUseKeywordSearchLogging ) {
 				fncLogKeywordSearch(sSearchType, sSearchTerm, sRedirectUrl)
 			}
 
 			window.location = sRedirectUrl;
 		} //- function fncProcessUniversalSearch()
 
 		/**
 		 * This function fires an ajax call to log the keyword search.
 		 *
 		 * @author	johns
 		 * @since	6/28/2012
 		 *
 		 * @param	sType (string): type of search submitted
 		 * @param	sKeyword (string): keyword(s) searching for
 		 * @param	sUrl (string): url redirected to see the results
 		 *				of the search
 		 * 
 		 * @return	void
 		 */
 		function fncLogKeywordSearch ( sType, sKeyword, sUrl ) {
 			
 			jQuery.ajax({
 				url: sPageName,
 				data: 'pageaction=logsearch&SearchFormAjax=1&search_type=' + sType + '&search_term=' + sKeyword + '&search_url=' + sUrl + '&r_id=' + new Date().getTime(),
 				type: 'GET',
 				async: false,
 				dataType: 'text',
 				beforeSend: '',
 				success: function () { return; }
 			});
 		
 		} //- function fncLogKeywordSearch ( sType, sKeyword, sUrl )
 		
 		/**
 		 * This function builds a searchstring from phrases (denoted
 		 * by single or double quotes) and other search terms.
 		 *
 		 * @author	johns
 		 * @since	6/28/2012
 		 *
 		 * @param	sSearchType (string): type of search submitted
 		 * @param	sSearchTerms (string): phrases or words searching for
 		 * 
 		 * @return	string (page used to redirect to with the appropriate searchstring)
 		 */
 		function fncBuildSplitTermSearchPage ( sSearchTerms, sSearchType ) {
 
 			/*
 			 * array variables
 			 */
 			var aNewSearchTerms;
 			var aFieldsToCheck;
 			var aTerms;
 			
 			/*
 			 * string variables
 			 */
 			var sTerms             = '';
 			var aNewSearchTerms    = [];
 			var sResult            = '';
 			var sSearchStringQSVar = '';
 		
 			/*
 			 * determine which list of fields to use and which
 			 * page we need to redirect to based on search
 			 * type
 			 */
 			switch (sSearchType) {
 				case 'website':
 					sSearchPage        = sWebsiteSearchPage;
 					sFieldsToCheck     = sWebsiteFieldsToCheck;
 					sSearchStringQSVar = 'search_website';
 					break;
 				
 				case sProductSearchTerm:
 					sSearchPage    = sProductSearchPage;
 					sFieldsToCheck = sProductFieldsToCheck;
 
 					if ( bUseCategories ) aCategoryFieldsToCheck = sCategoryFieldsToCheck.split(',');
 
 					sSearchStringQSVar         = 'search_prod';
 					sCategorySearchStringQSVar = 'search_cat';
 					break;
 			}
 
 			/*
 			 * build an array from a list of fields to check in the extended search
 			 * by splitting the list on ','
 			 */			
 			aFieldsToCheck = sFieldsToCheck.split(',');
 			
 			aNewSearchTerms = decodeURIComponent(sSearchTerms).split(/\s+/);
 			
 			sSearchTerms = encodeURIComponent(sSearchTerms);
 
 			sSearchPage = sSearchPage + '?' + sSearchStringQSVar + '=' + fncBuildSearchString(aNewSearchTerms, aFieldsToCheck);
 
 			if (bUseCategories && sSearchType === sProductSearchTerm) {
 				sSearchPage = sSearchPage + '&' + sCategorySearchStringQSVar + '=' + fncBuildSearchString(aNewSearchTerms, aCategoryFieldsToCheck);
 			}
 
 			return sSearchPage;
 		} // fncBuildSplitTermSearchPage
 
 		function fncCheckSearchSuggestions () {
 			var sSearchTerm = '';
 
 			try {				
 					
 				/*
 				 * if it is blank, ge the value of term being searched
 				 * for
 				 */
 				sSearchTerm = jQuery('#u_search_text').val();
 				sSearchTerm = sSearchTerm.toLowerCase();
 				
 				/*
 				 * loop through the json object build by the ajax call
 				 * to build the search tips list
 				 */
 				for ( var i = 0, goTo = window.oSearch.terms.length; i < goTo; i++ ) {
 										
 					/*
 					 * get the term value of json object
 					 */
 					sTerm			= window.oSearch.terms[i];
 					sOriginalTerm	= sTerm;
 					sTerm			= sTerm.toLowerCase();
 					
 					/*
 					 * see if the term matches the word being searched for
 					 */
 					if ( sTerm == sSearchTerm ) {
 						
 						/*
 						 * check the term that matched an suggested term
 						 * has an specific url to redirect to
 						 */							
 						fncGetSearchTermRedirectUrl ( window.oSearch[sOriginalTerm] );
 
 						/*
 						 * if a specific redirect url has been found then exit the "terms" for loop
 						 */
 						if ( jQuery('#search_tip_url').val() !== '' ) break;
 
 					} //- if ( sTerm == sSearchTerm )
 
 				} //- for ( var i = 0, goTo = window.oSearch.terms.length; i < goTo; i++ )
 			
 			} catch ( oError ) {
 				//alert(oError.message);
 			} //- try
 
 			return 
 
 		} //- function fncGetSearchSuggestionUrl ()
 
 		/**
 		 * AJAX Call to get search term suggestions
 		 *
 		 * @author	johns
 		 * @since	4/15/2010
 		 *
 		 * @return	void
 		 */
 		function fncGetSuggestions ( text ) {
 
 			try {
 				
 				//- check to see if the ajax call should be fired again
 				//- run it again, if length of the search term = 0
 				if ( text.length < 1 ) {
 					window.bGetSuggestions = false;
 				} //- if ( text.length < 1 )
 
 				if ( ! window.bGetSuggestions ) {
 
 					if ( text.length >= 1 ) {
 						
 						//- set it to true once inside the ajax call so it does not fire again
 						window.bGetSuggestions = true;
 
 						text = text.substr(0,1);
 
 						jQuery.ajax({ 
 							url: 'i_i_pc_search_form.asp'
 							, data: ({	searchformaction : 'ajaxcall'
 										, searchformactiontype : 'getsearchtips'
 										, firstchar : text
 										, ajax: new Date().getTime() 
 									})
 							, cache: false
 							, dataType: 'json'
 							, error: function(jqXHR, textStatus, errorThrown) { alert('error - ' + errorThrown); }
 							, success: fncLoadSuggestions
 						});
 
 					} //- if ( text.length >= 1 )
 
 				} //- if ( ! window.bGetSuggestions )
 
 			} catch ( oError ) {
 				//alert(oError.message);
 			} //- try
 
 		}// function fncGetSuggestions()
 
 		/**
 		 * AJAX callback function to load search
 		 * term suggestions
 		 *
 		 * @author	johns
 		 * @since	4/15/2010
 		 *
 		 * @return	void
 		 */
 		function fncLoadSuggestions ( oData ) {
 
 			window.oSearch = oData;
 
 			jQuery('#u_search_text')
 				.autocomplete(oData.terms,{					
 					select: function ( event, ui ) {
 
 						/*
 						 *	get the search term selected from the auto complete list (json object)
 						 */
 						oResult = window.oSearch[ui.item.label];
 
 						/*
 						 * check the term that matched an suggested term
 						 * has an specific url to redirect to
 						 */	
 						fncGetSearchTermRedirectUrl ( oResult );
 						
 					}
 				});
 
 		} //- function fncLoadSuggestions ( oData )		
 		
 		/**
 		 * This function determines if the term that matched an
 		 * suggested term has an specific url to redirect to.
 		 *
 		 * @author	johns
 		 * @since	7/30/2012
 		 *
 		 * @param	oResult (json object): term in the json object
 		 *				that matched the term entered by the user
 		 * 
 		 * @return	void
 		 */
 		function fncGetSearchTermRedirectUrl ( oResult ) {
 
 			/*
 			 *	if the term matching the word being searched for
 			 *	has action = 'link' and the url is not blank then
 			 *	set the hidden input field for the search tip url
 			 *	to the url of the current term index
 			 */
 			if ( oResult.action == 'link' && oResult.url != '' ) {
 
 				/*
 				 *	get the length of the name of the site currently on(needed
 				 *	to see if the sitename/virtualweb needs to be 
 				 *	stripped off)
 				 */
 				iLenSitename = sSitename.length;
 				
 				/*
 				 *	if on an admin server strip off the '/sitename/virtualweb/' off the 
 				 *	current page name (pulled from the Request.ServerVariables("SCRIPT_NAME")
 				 */
 				if ( sInitPage.substr(0,iLenSitename + 13) === '/' + sSitename + '/virtualweb/' ) {
 					sInitPage = sInitPage.substr(iLenSitename + 13);
 				} //- if ( sInitPage.substr(0,iLenSitename + 13) === '/' + sSitename + '/virtualweb/' )
 
 				/*
 				 *	check to see if the static page is located in
 				 *	a directory (only assuming one directory deep off the root
 				 *	since static pages are only one directory deep 
 				 *	off the root)
 				 */
 				if ( sInitPage.indexOf('/') >= 0 ) {
 					sResultUrl = '../' + oResult.url;
 				} else {
 					sResultUrl = oResult.url;
 				} //- if ( sInitPage.indexOf('/') >= 0 )
 
 				/*
 				 *	set the hidden input field to the url of the matched term
 				 */
 				jQuery('#search_tip_url').val(sResultUrl);
 
 			} //- if ( oResult.action == 'link' && oResult.url != '' )
 
 		} //- function fncGetSearchTermRedirectUrl ( oResult )
 
 		/**
 		 * This function builds a searchstring based on the list of
 		 * split search terms and the list of fields to check.
 		 *
 		 * @author	johns
 		 * @since	7/30/2012
 		 *
 		 * @param	aSearchTerms (array): list of search terms
 		 * @param	aFieldsToCheck (array): list of fields to check
 		 * 
 		 * @return	string (WSP formatted searchstring)
 		 */
 		function fncBuildSearchString ( aSearchTerms, aFieldsToCheck ) {
 				
 			/*
 			 * string variables
 			 */
 				/*
 				 * New Search String Built
 				 * @author	johns
 				 * @since	08/15/2012
 				 * @var		string
 				 */
 				var sNewSearchString	= '';
 
 			/*
 			 * boolean variables
 			 */
 				/*
 				 * Is this the First Field in the list of fields
 				 * to check in split term searching?
 				 * @author	johns
 				 * @since	08/14/2012
 				 * @var		bool
 				 */
 				var bFirstField			= true;
 
 			/*
 			 * loop through the search terms split on whitespace
 			 */					
 			for ( var iTermCounter = 0, iTermGoTo = aSearchTerms.length - 1; iTermCounter <= iTermGoTo; iTermCounter++ ) {
 
 				/*
 				 * loop through the fields to search list with the current search term
 				 */
 				for ( var iFieldCounter = 0, iFieldGoTo = aFieldsToCheck.length - 1; iFieldCounter <= iFieldGoTo; iFieldCounter++ ) {
 					
 					/*
 					 * check to see if we are at the first field
 					 * if so, add the opening parantheses
 					 */
 					if ( bFirstField ) {
 						sNewSearchString += '(';
 					} //- if ( bFirstField )
 
 					/*
 					 * check to see if the searchstring var has assigned to anything yet
 					 * if so, concatentate '|Or|' to the end of the string
 					 */
 					if ( sNewSearchString != '' && ! bFirstField ) {
 						sNewSearchString += '|Or|';
 					} //- if ( sNewSearchString != '' && ! bFirstField )
 					
 					/*
 					 * build the searchstring with the current search term and field based
 					 * on the search type
 					 */
 					sNewSearchString += 'searchlike~' + aFieldsToCheck[iFieldCounter] + '~' + encodeURI(aSearchTerms[iTermCounter]);
 					
 					/*
 					 * set the var to false that signals we are on the first field the next time 
 					 * through the loop
 					 */
 					bFirstField = false;
 
 				} //- for ( var iFieldCounter = 0, iFieldGoTo = aFieldsToCheck.length - 1; iFieldCounter <= iFieldGoTo; iFieldCounter++ )
 				
 				/*
 				 * after looping through the fields to search with the current search term,
 				 * reset the var that signals we are on the first field the next time we
 				 * loop through them
 				 */						
 				bFirstField = true;
 				
 				/*
 				 * after looping through the fields to search with the current search term,
 				 * check to see if we just looped through the last search term
 				 */
 				if ( iTermCounter >= iTermGoTo ) {
 					
 					/*
 					 * if we are at the last search term, add the closing parantheses to 
 					 * the current search term
 					 */
 					sNewSearchString += ')';
 
 				} else {
 					
 					/*
 					 * if we are not at the last search term, add the closing parantheses
 					 * to the current search term and concatenate '|And|' to the end of 
 					 * the searchstring
 					 */
 					sNewSearchString += ')|And|';
 
 				} //- if ( iTermCounter >= iTermGoTo )
 
 			} //- for ( var iTermCounter = 0, iTermGoTo = aSearchTerms.length - 1; iTermCounter <= iTermGoTo; iTermCounter++ )
 
 			return sNewSearchString
 
 		} //- function fncBuildSearchString ( aSearchTerms, aFieldsToCheck )
 
 		jQuery(function() {
 			jQuery('#u_search_text').keyup(function() {
 
 				if ( bUseAutoSuggestions ) {
 					fncGetSuggestions(this.value);
 				} //- if ( bUseAutoSuggestions )
 
 			});
 
 			if (bUseAutoSuggestions) {
 				jQuery('#search_keyword').autocomplete([]);
 			}
 		});
         </script>
        </div>
       </div>
       <ul class="linkset click horizontal shop-links shop-item" id="search-dropdown">
        <li class="link-parent">
         <a href="#0" id="TopBarSearch">
          <i class="icon-search">
          </i>
          Search
         </a>
        </li>
       </ul>
       <!-- Search End -->
       <ul class="linkset horizontal click shop-links shop-item" id="linkset_retail_user">
        <li>
         <a href="security_logon.asp">
          <i class="icon-user">
          </i>
          Sign In
         </a>
        </li>
       </ul>
       <ul class="linkset horizontal click drop-left shop-links shop-item" id="cart-preview">
        <li class="link-parent">
         <a href="#0">
          <i class="icon-shopping-cart">
          </i>
          Cart
          <!-- <span id="cart_window_qty" class="badge"></span> -->
         </a>
         <ul>
          <li id="cart_window_incl">
           <div class="cart-preview" id="cart_window">
            <script>
             var cartQtyTarg = '#cart_window_qty',
 						cartQtyTotal = 0,
 						cartWinTarg = '#cart_window_incl';
            </script>
            <div class="well muted">
             Your shopping cart is empty.
            </div>
            <div class="controls">
             <a class="btn btn-block btn-primary" href="https://www.chefcraft.com/showcart.asp">
              <i class="icon-shopping-cart">
              </i>
              View &amp; Edit Cart
             </a>
            </div>
            <script type="text/javascript">
             jQuery(function(){
 				// Set the template cart qty on initial load
 				fncUpdateTemplateQty(cartQtyTarg, cartQtyTotal);
 			});
 
 			// Function to update the template qty value
 			function fncUpdateTemplateQty(targ, total) {
 				jQuery(targ).text(total);
 			}
 
 			// Function to remove an item from the cart window
 			function fncCartWinRemove(sUnqID, sConfirmText) {
 				var bUseRemoveMsg = true;
 
 				if(bUseRemoveMsg){
 					var okay = confirm(sConfirmText);
 				}
 				else{
 					okay = true;
 				}
 
 				if (okay) {
 					jQuery('#li_'+sUnqID).remove();
 					try {
 						jQuery.ajax({
 							url: 'i_i_add_to_cart.asp',
 							data: 'type=v200remove&ajax=returnJSON&rkey='+sUnqID,
 							type: 'GET',
 							dataType: "json",
 							success: function(jsonOrder) {
 								fncCartRefresh(jsonOrder[1].item_count, jsonOrder[1].o_total);
 							}
 						});
 					} catch (err) {
 						//alert(err.message);
 						location.reload();
 					}
 				}
 			} //-function fncCartWinRemove(sUnqID)
 
 			// Refreshes the (#) for the cart items count
 			function fncCartRefresh(item_count, o_total) {
 				if (typeof item_count == "undefined") {
 					try {
 						jQuery.ajax({
 							url: 'shopping_cart_window.asp',
 							data: 'cartwindowajax=getcart',
 							type: 'GET',
 							dataType: 'json',
 							error: function (jqXHR, textStatus, errorThrown) {
 								alert('Error! ' + errorThrown + ' ' + textStatus);
 								},
 							success: function (oData) {
 								var cart = oData || {};
 								if (typeof cart != "undefined") {
 									//console.log(cart);
 									jQuery(cartQtyTarg).html(cart.items);
 									jQuery("#cart_window_subtotal").html(cart.total);
 									//return true;
 								}
 								fncReloadCartWindow();
 							}
 						});
 					} catch(err) {
 						alert(err.message);
 					}
 				} else {
 					if (jQuery(cartQtyTarg).length==1) {
 						//console.log(cart);
 						jQuery(cartQtyTarg).html(item_count);
 						jQuery("#cart_window_subtotal").html(o_total);
 						//return true;
 					}
 					fncReloadCartWindow();
 				}
 			} //- function fncCartRefresh()
 
 			// Reload the contents of the cart window
 			function fncReloadCartWindow() {
 				try {
 					jQuery.ajax({
 						url: 'shopping_cart_window.asp',
 						data: 'cartwindowajax=ajaxcall',
 						type: 'get',
 						success: function (oData) {
 							jQuery(cartWinTarg).html(oData);
 							fncUpdateTemplateQty(cartQtyTarg, cartQtyTotal);
 							return true;
 						}
 					});
 				} catch(err) {
 					alert(err.message);
 				}
 			} //-function fncReloadCartWindow()
 
 			function fncConfirmEmptyCart() {
 				if(confirm("Are you sure you want to empty your cart?")) {
 					fncEmptyCart();
 				}
 			}
 
 			function fncEmptyCart() {
 				jQuery.ajax({
 					url: 'shopping_cart_window.asp',
 					data: 'pageaction=empty_cart',
 					type: 'get',
 					success: fncReloadCartWindow
 				});
 			}
            </script>
           </div>
           <!-- /#cart_window -->
          </li>
         </ul>
        </li>
       </ul>
      </div>
     </div>
    </div>
   </nav>
   <header class="template-header" id="template-header">
    <div class="container-fluid grid-row no-margin">
     <div class="logo-bar__logo grid-col grid-header-left">
      <a class="logo" href="default.asp">
       <img alt="Chef Craft Logo" src="images/Chef-Craft-Horizontal-Logo.png"/>
      </a>
     </div>
     <!-- snap shopnav -->
     <nav class="page-nav print-hide grid-col grid-header-right" id="pageNav">
      <div class="container-fluid">
       <ul class="linkset horizontal clickpersist shop-links shop-item" id="prodcat">
        <li class="link-parent">
         <a href="#0">
          <i class="icon-tags">
          </i>
          View
          <span class="hidden-xs hidden-sm">
           our products
          </span>
         </a>
         <!-- include files here -->
         <ul class="">
          <li class="">
           <a href="pc_combined_results.asp?pc_id=E86C4AAD81C8475292A6D266CD1F0677">
            <span class="cat-nm">
             Kitchen Tools
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=E72131C1F5B847DCB6378F320D0B4129">
              <span class="cat-nm">
               Silicone
              </span>
             </a>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=E32A4374D3824A22BD8D8DED163DD167">
              <span class="cat-nm">
               Nylon
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=82D3136C6D8C40168F5E943AFB5E02D2">
                <span class="cat-nm">
                 Select
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=FA6F58D5246346909B2B7D91542362F7">
                <span class="cat-nm">
                 Basic
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=D52C488AA6E24B3497A8FD1B1A80D81D">
              <span class="cat-nm">
               Stainless Steel
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=C67C1245137C4F258FAAD14D6507EE06">
                <span class="cat-nm">
                 Heavy Duty Select
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=B50ABBCC0CC24CD28A6DFD6FDF34649E">
                <span class="cat-nm">
                 Select
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=3CA037E809C34F2D97C755351901D3B8">
                <span class="cat-nm">
                 Solid
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=DD3176012AA44D6ABE668CBA5245B8D0">
                <span class="cat-nm">
                 Serving
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=3B1BFE84B55D4B16BA2B2641CB5D3E26">
                <span class="cat-nm">
                 Basic
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=A8C3FD6E2C424F21A1CB42EF8A847C0C">
              <span class="cat-nm">
               Melamine
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=C35CA035190D4481A8D6903BF513F39A">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=4F0EE1847DB2449D81AFA822B61C4AA0">
            <span class="cat-nm">
             Food Prep
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=8331A044FA6F4BA690433037E2BCBD45">
              <span class="cat-nm">
               Can and Jar Openers
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=C1960E0559264B53AB238CE7E02AD7BD">
              <span class="cat-nm">
               Kitchen Helpers
              </span>
             </a>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=2F0BA47BCA854F4AA8EA70B0D0997A74">
              <span class="cat-nm">
               Funnels, Colanders &amp; Strainers
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=88978C2CF5D24F1EAB2B4E379AD04336">
                <span class="cat-nm">
                 Funnels
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=D43125DCE9504BA88C0A2FEF4611BB49">
                <span class="cat-nm">
                 Colanders
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=2E265A01B044406B8EC4246465E4FEDD">
                <span class="cat-nm">
                 Strainers
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=A5EA56742A984E99AB52111DB2B7A031">
              <span class="cat-nm">
               Peelers &amp; Graters
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=82D4109E5FE0471187AE8B0CDA530BBE">
                <span class="cat-nm">
                 Peelers
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=3341CD04D1884627AA19286E8CE1649A">
                <span class="cat-nm">
                 Graters
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=D55D91D5CD7B49ED8E7D02927004D31E">
              <span class="cat-nm">
               Fruit Tools
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=BC495BBAF44B4E5C9593AD8BBA1495A2">
                <span class="cat-nm">
                 Squeezers &amp; Juicers
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=7520C739F2B24E3FB0D9C71598071C66">
                <span class="cat-nm">
                 Slicers &amp; Corers
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=751595CE85A54490A52DE9999780DAD2">
              <span class="cat-nm">
               Chip Clips
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=B03B84E11B0B45FA9C367B5ADCECC202">
              <span class="cat-nm">
               Mixing Bowls
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=7CC29B4F4DF9424894ADBF73850C1BB8">
              <span class="cat-nm">
               Measuring Aids
              </span>
             </a>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=406523070968442C8631789FEDA30B20">
              <span class="cat-nm">
               Mixing Spoons, Spatulas &amp; Whisks
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=78876A78EE3A4822B999751C157499B2">
                <span class="cat-nm">
                 Mixing Spoons
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=3E1217A368ED4F30B368484E53C2AB1D">
                <span class="cat-nm">
                 Spatulas
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=C88CF7A28925490DBA6F1C9D042EE95E">
                <span class="cat-nm">
                 Whisk
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=510CEB1FA43E45E6A427C803216F1B9D">
              <span class="cat-nm">
               Timers &amp; Thermometers
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=552932F8D3284009B7E4C7BD9E2908FB">
              <span class="cat-nm">
               Toothpicks
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=5E43E1D4D1964C94852EA0AA6AC135CF">
              <span class="cat-nm">
               Tongs
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=52E64D8238E941A58CF19B2731282145">
              <span class="cat-nm">
               Cake Decorating
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=7B739585ACD84CABB76C2F5C17220924">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=27471CAB21D44838BF81936511662898">
            <span class="cat-nm">
             Cutlery
            </span>
           </a>
           <ul class="">
            <li class="">
             <a href="pc_combined_results.asp?pc_id=234D0A7554F34F41BFA19B49F95E3665">
              <span class="cat-nm">
               Knives
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=839D776A8BA3443CA999158CED2B6D99">
                <span class="cat-nm">
                 Pro
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=987EC404AA6D472D9E9DBF384D5BEE43">
                <span class="cat-nm">
                 Select
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=4956CFF96C5B4BE1AC9A33F2A7797F6B">
                <span class="cat-nm">
                 Sheathed
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=8440925DBF584FAFB81314F87C413396">
                <span class="cat-nm">
                 Basic
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=6571AE98BF77422EB0FCE06E11D0F053">
              <span class="cat-nm">
               Knife Sharpeners
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=A8742350E1974DBEA6533A8708C61B16">
              <span class="cat-nm">
               Pizza Cutters
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=C564499FB331474C9A45B86B588DA8BE">
              <span class="cat-nm">
               Cutting Boards
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=471F2C2095FB42F6837D66594DF68F3E">
              <span class="cat-nm">
               Scissors
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=F1EBE1FEB05143DB9B4839376C7D1E20">
              <span class="cat-nm">
               Tabletop
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=98DCF22C743B4823971AA382D92AFF33">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=D586D72FE8854430B169803115B46D82">
            <span class="cat-nm">
             Barbecue
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=7401CAC4CAFA4B5F91A7DB1C5CBB238D">
              <span class="cat-nm">
               Tools
              </span>
             </a>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=CB1937E27595401D9DDF7224D09943BB">
              <span class="cat-nm">
               Accessories
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=2013932C52BB47D8A1F840A56A1B53C0">
                <span class="cat-nm">
                 Grill Brush
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=E09EBD178D3F43219984A08BD58923C2">
                <span class="cat-nm">
                 Skewers
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=B971190EE94D4469A8BD1691B271D333">
                <span class="cat-nm">
                 Squeeze Bottles
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=F2D7340B69A64FDD9DAC93F7586F49BD">
                <span class="cat-nm">
                 Basting Brushes
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=502EAD2B21DE4F7093DC678D85799B05">
                <span class="cat-nm">
                 Timers &amp; Thermometers
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=1A64815F856C4EEFB8D76F117CEF35F2">
              <span class="cat-nm">
               Corn Tools
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=AFFB7D38750D44499546B8B582F1226B">
              <span class="cat-nm">
               Picnic Supplies
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=82591291640E438E93D0D54CF272E246">
              <span class="cat-nm">
               Tongs
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=E1D8C14437C049B690B7D7DD6851462C">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=CD940FC1EED24D77A08C3029E187379A">
            <span class="cat-nm">
             Bar
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=C346596CF1BA401AA4B4042DF38D849E">
              <span class="cat-nm">
               Mixing Tools
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=E413D80D904C41E9885CF811AC76B65E">
              <span class="cat-nm">
               Serveware
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=CCD2C2F2CA514D8B8699B0FDC3144CD7">
              <span class="cat-nm">
               Bottle Openers, Stoppers &amp; Corkscrews
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=81C852A473E2488698651E91503FEA49">
              <span class="cat-nm">
               Ice Cube Trays
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=506AC380DBF34BB9BBBE30AF70D48126">
              <span class="cat-nm">
               Straws
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=B6DA87F58CD742D78C29407EC088A0DF">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=D1D79CB332DE4073866AA172E44450ED">
            <span class="cat-nm">
             Hydration
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=53E1E16452CC42438B92B4D9DD3B0B5E">
              <span class="cat-nm">
               Water Bottles
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=17E7B015957F404AA9438B8D8688163B">
              <span class="cat-nm">
               Coffee Mugs
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=E56B2E0EBB054E9F922699B59E924251">
              <span class="cat-nm">
               Ice Cube Trays
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=1097D2DC6D0B4F2EAFED517AD6DC26C6">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=7559BBF8B0B94D7791B86E19623EE7F3">
              <span class="cat-nm">
               Straws
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=48DD8868336349D0921EAD200F86EF25">
            <span class="cat-nm">
             Cleaning
            </span>
           </a>
           <ul class="">
            <li>
             <a href="pc_combined_results.asp?pc_id=940D9D8C29C94D20A8F535D2D59C16DA">
              <span class="cat-nm">
               Brushes
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=F847A28C1E20498A8B1589313AB5EFB8">
              <span class="cat-nm">
               Sponges
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=4694B4D5282C41ACB98CFFEA29702DE1">
              <span class="cat-nm">
               Laundry Aids
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=83CA05A673CC45088B15A35A6F247F50">
              <span class="cat-nm">
               Textiles
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=75158474FDD4425D85E98CD1A56D260B">
              <span class="cat-nm">
               Household Goods
              </span>
             </a>
            </li>
            <li>
             <a href="pc_combined_results.asp?pc_id=9CDE9C5655FD403589521DC73B16E9B1">
              <span class="cat-nm">
               POP Displays
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="">
           <a href="pc_combined_results.asp?pc_id=0128AA7B975942D8BB0143F93B2EB86E">
            <span class="cat-nm">
             Holiday
            </span>
           </a>
           <ul class="">
            <li class="">
             <a href="pc_combined_results.asp?pc_id=1983A17DAAB74DE1BA2CEEDEB4D85242">
              <span class="cat-nm">
               Spring &amp; Summer
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=4B16BC3CFEDE4C8B8F80740FA9CD05CF">
                <span class="cat-nm">
                 Valentine's Day
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=4AEBD78AB67E466D862BA58C2338798A">
                <span class="cat-nm">
                 St. Patrick's Day
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=E6CB1C850EF8407B8600E8E99849C27A">
                <span class="cat-nm">
                 Easter
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=E4148DF4AD684A72A5B365547EA7B0A3">
                <span class="cat-nm">
                 Fourth of July
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=B1A8EDE6DA234C09AE393924D9E9247C">
              <span class="cat-nm">
               Fall
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=BEAF0F0AE1A147C48F3044A5B9EDBD72">
                <span class="cat-nm">
                 Thanksgiving &amp; Harvest
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=A2C8BA4129F34661A0AFAA063A9C7D4B">
                <span class="cat-nm">
                 Halloween
                </span>
               </a>
              </li>
             </ul>
            </li>
            <li class="">
             <a href="pc_combined_results.asp?pc_id=AE089C3F016247E898EA6A874DD40153">
              <span class="cat-nm">
               Christmas
              </span>
             </a>
             <ul class="">
              <li>
               <a href="pc_combined_results.asp?pc_id=B4ADE5B2F13F4CA685B2BFC3777502F5">
                <span class="cat-nm">
                 Tabletop
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=1AD4A122C85F47E1B7548E786867C97D">
                <span class="cat-nm">
                 Storage
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=FB366C13349C40CBAD373119974988E2">
                <span class="cat-nm">
                 Baking
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=264572319C094A2C890AEC19D2902108">
                <span class="cat-nm">
                 Textiles &amp; Window Clings
                </span>
               </a>
              </li>
              <li>
               <a href="pc_combined_results.asp?pc_id=CF79F0F7A8494410B83A27EB95347976">
                <span class="cat-nm">
                 POP Displays
                </span>
               </a>
              </li>
             </ul>
            </li>
           </ul>
          </li>
          <li>
           <a href="pc_combined_results.asp?pc_id=3CA7E19AB84B464CBD23804258E03C90">
            <span class="cat-nm">
             New Products
            </span>
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </div>
     </nav>
     <!-- end snap shopnav -->
    </div>
   </header>
   <div class="page-main" id="pageMain">
    <!-- Home Page Carousel Retail Top - WPC:7EEE107E468E422E9ECCB6733441D660 -->
    <div class="carousel slide" id="slide_show_007B3D0AE28845CD803D26AE8BEE8804">
     <div class="carousel-inner" id="carousel_slide">
      <div class="item active" style="background-image:url(images/SiliconeTool.jpg);">
       <div class="carousel-caption">
        <a class="btn" href="pc_combined_results.asp">
         Shop Now
        </a>
       </div>
      </div>
      <div class="item " style="background-image:url(images/BBQPhoto.jpg);">
       <div class="carousel-caption">
        <a class="btn" href="pc_combined_results.asp">
         Shop Now
        </a>
       </div>
      </div>
     </div>
     <a class="carousel-control left" data-slide="prev" href="#slide_show_007B3D0AE28845CD803D26AE8BEE8804">
      ‹
     </a>
     <a class="carousel-control right" data-slide="next" href="#slide_show_007B3D0AE28845CD803D26AE8BEE8804">
      ›
     </a>
     <ol class="carousel-indicators">
      <li class="active" data-slide-to="0" data-target="#slide_show_007B3D0AE28845CD803D26AE8BEE8804">
      </li>
      <li class="" data-slide-to="1" data-target="#slide_show_007B3D0AE28845CD803D26AE8BEE8804">
      </li>
     </ol>
    </div>
    <script>
     $(function(){
 					$('#slide_show_007B3D0AE28845CD803D26AE8BEE8804').carousel({interval:3000});
 				});
    </script>
    <div class="home-page__marketing-tiles">
     <!-- marketing-tiles__row1 -->
     <div class="grid-row marketing-tiles__row row1">
      <div class="container-fluid">
       <div class="grid-col grid-1of3 marketing-tile">
        <div class="tile tile1">
         <!-- WPC:A1F41902CCF845829884CC534AA5A8E6 ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=D586D72FE8854430B169803115B46D82">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile1-wrap">
          <a href="pc_combined_results.asp?pc_id=D586D72FE8854430B169803115B46D82">
           <h3>
            Barbecue
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile1-text">
        </div>
       </div>
       <div class="grid-col grid-2of3 marketing-tile">
        <div class="tile tile2">
         <!-- WPC:0738FD500AC943C0BD15BBE63C3C65C4 ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=E86C4AAD81C8475292A6D266CD1F0677">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile2-wrap">
          <a href="pc_combined_results.asp?pc_id=E86C4AAD81C8475292A6D266CD1F0677">
           <h3>
            Kitchen Tools
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile2-text">
        </div>
       </div>
      </div>
     </div>
     <!-- marketing-tiles__row2 -->
     <div class="grid-row marketing-tiles__row row2">
      <div class="container-fluid">
       <div class="grid-col grid-2of3 marketing-tile">
        <div class="tile tile3">
         <!-- WPC:3098C51ED6294DBF8DEE46E9031D28B8 ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=27471CAB21D44838BF81936511662898">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile3-wrap">
          <a href="pc_combined_results.asp?pc_id=27471CAB21D44838BF81936511662898">
           <h3>
            Cutlery
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile3-text">
        </div>
       </div>
       <div class="grid-col grid-1of3 marketing-tile">
        <div class="tile tile4">
         <!-- WPC:87A4797AD5E743AFB01607F1621ABBB8 ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=CD940FC1EED24D77A08C3029E187379A">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile4-wrap">
          <a href="pc_combined_results.asp?pc_id=CD940FC1EED24D77A08C3029E187379A">
           <h3>
            Bar
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile4-text">
        </div>
       </div>
      </div>
     </div>
     <!-- marketing-tiles__row3 -->
     <div class="grid-row marketing-tiles__row row3">
      <div class="container-fluid">
       <div class="grid-col grid-1of2 marketing-tile">
        <div class="tile tile5">
         <!-- WPC:990596BF5A5D428581C8848E5C96A225 ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=D1D79CB332DE4073866AA172E44450ED">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile5-wrap">
          <a href="pc_combined_results.asp?pc_id=D1D79CB332DE4073866AA172E44450ED">
           <h3>
            Hydration
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile5-text">
        </div>
       </div>
       <div class="grid-col grid-1of2 marketing-tile">
        <div class="tile tile6">
         <!-- WPC:723D8FDD7C6440458789C136AA065ADB ret top -->
         <div>
          <a href="pc_combined_results.asp?pc_id=4F0EE1847DB2449D81AFA822B61C4AA0">
           <span>
            Only Edit HREF
           </span>
          </a>
         </div>
         <div class="tile6-wrap">
          <a href="pc_combined_results.asp?pc_id=4F0EE1847DB2449D81AFA822B61C4AA0">
           <h3>
            Food Prep
           </h3>
           Shop Now
          </a>
         </div>
        </div>
        <div class="tile-text" id="tile6-text">
        </div>
       </div>
      </div>
     </div>
    </div>
    <!-- Home Page Featured Products Header - WPC:?? -->
    <h3 class="home-page__featured-products-header">
     Featured Products
    </h3>
    <div id="wpc_featured_products">
     <div class="thumbnails row-fluid owl-carousel owl-theme">
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=5B22A068D841412F9FFB0480757FE467">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/40022_t.jpg" title="16 piece Water Bottle PDQ, 30oz."/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=5B22A068D841412F9FFB0480757FE467">
           16 piece Water Bottle PDQ, 30oz.
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=3726E29AF8784AE68545F01DD26CB317">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/21992_t.jpg" title="Barbecue Pizza Peel"/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=3726E29AF8784AE68545F01DD26CB317">
           Barbecue Pizza Peel
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=948F0F288ED64E90A1AE4AD3B461D58D">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/21983_t.jpg" title="Extendable Marshmallow Roasting Stick or Fork"/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=948F0F288ED64E90A1AE4AD3B461D58D">
           Extendable Marshmallow Roasting Stick or Fork
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=550BFBD2D010423FB7572A8FF189A6FA">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/70828_t.jpg" title="Grill Items Half Pallet"/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=550BFBD2D010423FB7572A8FF189A6FA">
           Grill Items Half Pallet
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=F7D70AF6717346A5AB17D753CE2C028F">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/21982_t.jpg" title="Medium Blue Grill Cleaning Stone"/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=F7D70AF6717346A5AB17D753CE2C028F">
           Medium Blue Grill Cleaning Stone
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=250D0F023420421A8B8E01D03787BA2F">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/40028_t.jpg" title="Stainless Steel Vacuum Insulated Beverage Can with Straw, 16 oz."/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=250D0F023420421A8B8E01D03787BA2F">
           Stainless Steel Vacuum Insulated Beverage Can with Straw, 16 oz.
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=2FEC345DF8A94597926133D2CD4F9E7F">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/21988_t.jpg" title="Tri-Horizontal Grill Brush"/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=2FEC345DF8A94597926133D2CD4F9E7F">
           Tri-Horizontal Grill Brush
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
      <div class="specials_item ">
       <div class="specials_item_inner ">
        <!-- Product Picture -->
        <div class="specials_img">
         <a href="https://www.chefcraft.com/pc_product_detail.asp?key=1FD1CA8150B0495C89C620FCF5B06911">
          <img alt="" class="" onerror="utils.handleImageError(this)" src="images/40025_t.jpg" title="Tritan Water Bottle, 27oz."/>
         </a>
        </div>
        <div class="specials_info caption">
         <!-- Product Name -->
         <div class="specials_nm">
          <a class="" href="https://www.chefcraft.com/pc_product_detail.asp?key=1FD1CA8150B0495C89C620FCF5B06911">
           Tritan Water Bottle, 27oz.
          </a>
         </div>
         <!-- Product SKU -->
         <!-- Product Rating -->
         <!-- Product Description -->
         <!-- Product Price -->
         <!-- Search Fields -->
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="container-fluid">
     <script>
      var utils = {};
 
 		utils.isMainProduct = function (product) {
 			return product && viewModel.mainProduct === product;
 		};
 
 		utils.formatProductLink = function(data){
 			console.log(data);
 		};
 
 		utils.setCookie = function (name, value) {
 			//need to also set expiry date?
 			document.cookie = name + '=' + value + ';path=/;';
 		};
 
 		// www.the-art-of-web.com/javascript/getcookie/
 		utils.getCookie = function (name) {
 			var re = new RegExp('\\b' + name + '=([^;]+)');
 			var value = re.exec(document.cookie);
 			return value ? unescape(value[1]) : undefined;
 		};
 
 		utils.isActiveQuote = (utils.getCookie('activequote') && utils.getCookie('activequote').length == 32);
 
 		//http://stackoverflow.com/questions/5999118/add-or-update-query-string-parameter
 		utils.setParameter = function (key, value, uriArg) {
 			var uri = uriArg || window.location.toString();
 			var re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i');
 			var separator = uri.indexOf('?') !== -1 ? '&' : '?';
 			if (uri.match(re)) {
 				return uri.replace(re, '$1' + key + '=' + value + '$2');
 			} else {
 				return uri + separator + key + '=' + value;
 			}
 		};
 
 		utils.getParameter = function (param) {
 			var value;
 			var parameters = window.location.search.replace('?', '');
 
 			if (parameters) {
 				var pattern = new RegExp('\\b' + param + '=([^;&]+)', 'gi');
 				value = parameters.split(pattern)[1];
 			}
 
 			return value || '';
 		};
 
 		utils.handleImageError = function (img) {
 			if ($(img).attr('src') !== 'images/no-image.png') {
 				$(img).attr('src', 'images/no-image.png');
 			}
 		};
 
 		utils.removeHTML = function(text){
 			return $(text).text();
 		}
 
 		utils.pageUrl = location.href.replace(/.+\//, '');
 		utils.loginUrl = 'security_logon.asp?autopage=' + encodeURIComponent(utils.pageUrl);
 
 		utils.formatMoney = (function (positiveExample, negativeExample) {
 			/*
 			This takes an example of a formatted currency and returns a function
 			to format numbers in that same format. The first argument is the
 			number 1111.2222 formatted with the desired default number of
 			decimals. The second argument is the additive inverse of the first.
 			For example:
 			$1,111.22
 			¥ 1,111.22
 			€1.111,22
 			1 111,22F
 			*/
 			'use strict';
 			function buildFormatter(example) {
 				var thousandsSeperator = getGroup(/1([^1]?)1/);
 				var decimalSymbol = getGroup(/1([^12]?)2/);
 				var decimalPlaces = (example.match(/2/g) || []).length;
 				var thousandsRegex = /(\d)(?=(?:\d{3})+$)/g;
 
 				var escapedDecimalSymbol = _.escapeRegExp(decimalSymbol);
 				var symbolRegex = new RegExp('^([^1' + escapedDecimalSymbol + ']*).+?([^12' + escapedDecimalSymbol + ']*)$');
 				var symbolMatch = symbolRegex.exec(example);
 				var prefix = symbolMatch ? symbolMatch[1] || '' : '';
 				var suffix = symbolMatch ? symbolMatch[2] || '' : '';
 
 				function getGroup(pattern) {
 					var match = pattern.exec(example)
 					return match ? match[1] : '';
 				}
 
 				function decimalToString(decimal, places) {
 					if (!places) {
 						return '';
 					} else {
 						var result = getZeroString(places);
 						
 						if (decimal) {
 							// Converting to an integer and rounding helps with
 							// floating point errors.
 							var int = Math.round(decimal * Math.pow(10, places));
 							// Because leading zeroes will be dropped after
 							// converting to integer, the string needs to be
 							// padded with zeroes after being converted to a
 							// string.
 							result = (result + int.toString()).slice(-places);
 						}
 
 						return decimalSymbol + result;
 					}
 				}
 
 				function getZeroString(length) {
 					var pow = Math.pow(10, length);
 					return pow.toString().slice(1);
 				}
 
 				function addThousandsSeperator(integer) {
 					return integer.toString().replace(thousandsRegex, '$1' + thousandsSeperator);
 				}
 
 				return function (value, places) {
 					places = typeof places === 'undefined' ? decimalPlaces : parseInt(places);
 
 					// Truncate the value to get the integer portion.
 					var integer = value | 0;
 					var decimal = value % 1;
 					var number = addThousandsSeperator(integer) + decimalToString(decimal, places);
 					return prefix + number + suffix;
 				}
 			}
 
 			var formatPositive = buildFormatter(positiveExample);
 			var formatNegative = buildFormatter(negativeExample);
 
 			return function (value, places) {
 				value = parseFloat(ko.unwrap(value));
 				if (isNaN(value)) return value.toString();
 				return (value < 0 ? formatNegative : formatPositive)(Math.abs(value), places);
 			}
 		}('$1,111.22', '($1,111.22)'));
 		
 		utils.formatPrice = _.partialRight(utils.formatMoney, parseInt(2));
 
 		utils.scrollTo = function (elementArg) {
 			var element = $(elementArg).first();
 			if (!element.length) return;
 
 			// If the element is in an inactive tab, make the tab active.
 			utils.activateTab(element);
 
 			$('html, body').animate({
 					scrollTop: $(element[0]).offset().top - 120 //offset to account for header bar
 			}, 500);
 
 		};
 
 		utils.activateTab = function (element) {
 			var tab = element.hasClass('.tab-pane') ? element : element.closest('.tab-pane');
 			if (!tab.length || tab.hasClass('active')) return;
 			var id = tab.attr('id');
 			tab
 				.closest('.tabbable')
 				.find('.nav-tabs > li > a')
 				.filter('[href="#' + id + '"], [data-target="#' + id + '"]')
 				.tab('show');
 		}
 
 		utils.plural = function (singularForm, quantifier, includeQuantity) {
 			var quantifierValue = ko.unwrap(quantifier);
 			var quantity = _.isArray(quantifierValue) ? quantifierValue.length : quantifier;
 			return (includeQuantity ? quantity + ' ' : '') + attache.plural(singularForm, quantity);
 		};
 
 		utils.atcListButtonText = function() {
 			if(utils.isActiveQuote) {
 				return 'Add to Active ' + oConfig.labels.savedCarts;
 			} else {
 				return oConfig.labels.addToCartList || 'Add to Cart';
 			}
 		};
 
 		utils.resetATCForm = function() {
 			document.getElementById("atc_form").reset();
 		}
 
 		utils.addToCart = function (details, cart) {
 
 			function getQueryStringParameters() {
 				var params = {
 					type : 'v200add',
 					sc_id : oConfig.sessionData.sc_id,
 					s_key : oConfig.sessionData.sessionKey,
 					s_url : oConfig.sessionData.storefrontUrl,
 					o_url : oConfig.sessionData.orderfrontUrl,
 					createsessioncookie : '1',
 					noredirect : '1',
 					l_ws_key : '',
 					mobile : 'no',
 					action : 'postlogic'
 				};
 
 				// Only one order detail can be edited at a time, so if there
 				// are more than one, choose an arbitrary one to edit.
 				var editedOrderDetail = _.find(details, 'configuratorEditData');
 				if (editedOrderDetail) params.odeditkey = editedOrderDetail.configuratorEditData.od_id;
 
 				if (cart) {
 					_.assign(params, {
 						type: 'add-to-saved-cart',
 						o_id: cart.key,
 						nickname: cart.nickname
 					});
 				}
 
 				return params;
 			}
 			
 			function getPostData() {
 				var data = {};
 				var productKeys = [];
 
 				_.forEach(details, function (item) {
 					var product = item.selectedProduct();
 					var productKey = product.key();
 					var minQty = product.minQty() || 1;
 					var uom = ko.toJS(product.selectedUom());
 
 					data['qty_' + productKey] = product.selectedQty() || minQty;
 					data['uom_' + productKey] = uom.description;
 					if(uom.hasOwnProperty("UomId")) data['uom_id_' + productKey] = uom.UomId;
 					data['pw_id_' + productKey] = product.selectedWarehouse().key || oConfig.defaultWarehouse;
 					_.assign(data, buildConfiguratorPostData(productKey));
 					if (minQty != 1) data['min_order_qty_' + productKey] = minQty;
 
 					if(product.configuratorEditData && product.configuratorEditData.minQty) {
 						data['minqty_' + productKey] = product.configuratorEditData.minQty;
 					}
 
 					if(product.configuratorEditData && product.configuratorEditData.maxQty) {
 						data['maxqty_' + productKey] = product.configuratorEditData.maxQty;
 					}
 
 					if(product.configuratorEditData && product.configuratorEditData.qtyIncrement) {
 						data['qty_increment_' + productKey] = product.configuratorEditData.qtyIncrement;
 					}
 
 					if(product.configuratorEditData && product.configuratorEditData.removeType) {
 						data['remove_type_' + productKey] = product.configuratorEditData.removeType;
 					}
 
 					if(product.configuratorEditData && product.configuratorEditData.priceCalcType) {
 						data['price_calc_type_' + productKey] = product.configuratorEditData.priceCalcType;
 						if(product.configuratorEditData.priceCalcType == 'fixed') {
 							data['price_' + productKey] = product.configuratorEditData.price;
 						}
 					}
 
 					runHook('getPostDataBeforeReturn', { self: self, data: data, product: product });
 
 					productKeys.push(productKey);
 				});
 
 				data.keys = productKeys.join(',');
 
 				return data;
 			}
 
 			function getAjaxConfig() {
 				return {
 					url: 'i_i_add_to_cart.asp?' + $.param(getQueryStringParameters()),
 					type: 'POST',
 					data: $.param(getPostData()),
 					headers: {
 						'X-Requested-With': 'XMLHttpRequest',
 						'Accept': 'application/json, text/plain, * / *',
 						'Content-Type': 'application/x-www-form-urlencoded'
 					}
 				};
 			}
 
 			function logSummary() {
 				var cartName = cart ? ' "' + cart.nickname + '"' : '';
 				console.log('Items added to cart' + cartName + ':\n' + _.map(details, function (product) {
 					return '\tQty: ' + product.selectedQty() + ' - ' + product.name();
 				}).join('\n'));	
 			}
 
 			function successHandler(responseData, status, request) {	
 				if(oConfig.isModal) {
 					parent.modal.done();
 					return;
 				}
 				if(viewModel.mainProduct && viewModel.mainProduct.configuratorEditData) {
 					window.location = 'showcart.asp';
 					return;
 				}
 				if(!cart) {
 					fncReloadCartWindow();
 					utils.toastrATC(details, cart);
 				} else {
 					utils.modalATC(cart, data, details);
 				}
 				if(oConfig.pageName == 'pc_combined_results.asp' && isActiveLayout('list')) {
 					utils.resetATCForm();
 				}
 
 				logSummary();
 
 				toggleLoadingWidget(false);
 
 				//render promo messaging template and display if applicable.
 				element = utils.renderTemplateToContainer('catalog.promo_bar', data);
 
 				runHook('addToCartSuccessHandler', { self: self, responseData: responseData, details: details });
 			}
 
 			function errorHandler(responseData, status, request) {
 				logSummary();
 
 				var errorToastrConfig = {
 					'closeButton': true, 
 					'newestOnTop': true, 
 					'positionClass': 'toast-top-right', 
 					'preventDuplicates': false, 
 					'showDuration': 200, 
 					'hideDuration': 1000, 
 					'tapToDismiss': true, 
 					'timeout': 3000, 
 					'extendedTimeOut': 1000
 				}
 
 				toggleLoadingWidget(false);
 
 				console.log(responseData);
 
 				toastr.error(
 					'Unable to add item to cart',
 					'There was an error', 
 					errorToastrConfig
 				);
 
 			}
 			var bPass = true;				
 
 			// TODO: add UoM support (qty_display, etc). Fields aren't available on the UoM Price objects yet.
 			if (!_.isArray(details)) {
 				details = [ details ];
 			}
 			var data = {
 				details: details,
 				cart: cart
 			};
 
 			if(details.length > 0 && details[0].useConfigurator()){
 				if(!eval('formValidation' + oConfig.formValidationKey).check()){
 					bPass = false;
 				}
 			}else if(details.length <= 0) {
 				bPass = false;
 			}
 
 			if(bPass){
 				toggleLoadingWidget(true);
 				cart = ko.toJS(cart);
 
 				var promise = $.ajax(getAjaxConfig())
 					.error(errorHandler)
 					.done(successHandler);
 			
 				return promise;
 
 			}else{
 				return false;
 			}
 		};
 
 		utils.popToastr = function(title, subtext, config) {
 			
 			var confirmToastrConfig = config ? config : {
 				'closeButton': true, 
 				'newestOnTop': true, 
 				'positionClass': 'toast-top-right', 
 				'preventDuplicates': false, 
 				'showDuration': 200, 
 				'hideDuration': 1000, 
 				'tapToDismiss': false, 
 				'timeout': 3000, 
 				'extendedTimeOut': 1000
 			};
 
 			toastr.success(
 				subtext,
 				title, 
 				confirmToastrConfig
 			);
 		};
 
 		utils.toastrATC = function(details, cart) {
 			var sPage = "showcart.asp";
 
 			if(utils.isActiveQuote){
 				sPage = "payment.asp"
 			}
 			var confirmToastrConfig = {
 				'closeButton': true, 
 				'newestOnTop': true, 
 				'onclick': function() {
 					window.location = oConfig.sessionData.orderfrontUrl + '/' + sPage;
 				}, 
 				'positionClass': 'toast-top-right', 
 				'preventDuplicates': false, 
 				'showDuration': 200, 
 				'hideDuration': 1000, 
 				'tapToDismiss': false, 
 				'timeout': 3000, 
 				'extendedTimeOut': 1000
 			}
 
 			if(cart) {
 				var confirmTextConfig =  {title: utils.plural(oConfig.labels.savedCartsLabels.itemText, details, true) + ' ' + oConfig.labels.savedCartsLabels.modalConfirmationHeader }
 			}else{
 				if(utils.isActiveQuote){
 					var confirmTextConfig = { title: utils.plural(' item', details, true) + ' added to ' + oConfig.labels.savedCarts }
 				}else{
 					var confirmTextConfig = { title: utils.plural(' item', details, true) + ' added to Cart'}
 				}
 			};
 
 			utils.popToastr(
 				confirmTextConfig.title, 
 				'Click or tap to view',
 				confirmToastrConfig
 			);
 		}
 
 		utils.modalATC = function(cart, data, details) {
 			var modalConfig = cart ?
 			{
 				body: 'catalog.saved_cart_confirmation_body',
 				size: '',
 				title: utils.plural(oConfig.labels.savedCartsLabels.itemText, details, true) + ' ' + oConfig.labels.savedCartsLabels.modalConfirmationHeader
 			} :
 			{
 				body: 'catalog.atc_body',
 				footer: 'catalog.atc_popup_buttons',
 				size: getATCModalSize(),
 				title: utils.plural(' Item', details, true) + ' Added to Cart'
 			};
 
 			runHook('modalATCAfterConfiguration', { self: self, cart: cart, modalConfig: modalConfig, details: details });
 
 			utils.openModal(modalConfig, data);				
 		}
 
 		utils.renderTemplateToContainer = function (template, data) {
 			var surrogate = document.createElement('div');
 			var $container = $('<div>').append(surrogate);
 
 			ko.renderTemplate(
 				template,
 				data,
 				null,
 				surrogate,
 				'replaceNode'
 			);
 
 			return $container;
 		};
 
 		utils.getSavedCart = function (carts, callback) {
 			var selectedCart = ko.observable();
 			selectedCart.subscribe(callback);
 
 			var data = { savedCarts: carts, selectedCart: selectedCart };
 			utils.openModal({
 				body: oConfig.savedCartPopupTemplate, 
 				size: 'small', 
 				title: oConfig.labels.savedCartsLabels.modalHeader, 
 				backdrop: 'static'
 			}, data);
 		};
 
 		utils.createGuid = function () {
 			// https://stackoverflow.com/a/8809472
 			var d = new Date().getTime();
 			if(window.performance && typeof window.performance.now === "function"){
 				d += performance.now(); //use high-precision timer if available
 			}
 			var guid = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
 				var r = (d + Math.random()*16)%16 | 0;
 				d = Math.floor(d/16);
 				return (c=='x' ? r : (r&0x3|0x8)).toString(16);
 			});
 			return guid.toUpperCase();
 		};
 
 		// Generates a unique ID and returns it twice in a row. Intended for use with the `for`
 		// attribute on `label` elements.
 		(function () {
 			var previousId;
 
 			utils.labelId = function () {
 				var id = previousId || utils.createGuid();
 				previousId = previousId ? null : id;
 				return id;
 			};
 		}());
 
 		utils.openModal = function (options, data) {
 			_.forEach(['header', 'body', 'footer'], function (prop) {
 				if (options[prop]) {
 					options[prop] = utils.renderTemplateToContainer(options[prop], data);
 				}
 			});
 			modal.open(options);
 		};
 
 		var productModel = function (product) {
 			var self = this;
 
 			var productCollectionMapping = {
 				create: function (options) {
 					return new productModel(options.data);
 				}
 			}
 
 			ko.mapping.fromJS(product, {
 				copy: [
 					'tab2_html',
 					'opt1',
 					'opt2',
 					'opt3',
 					'opt4',
 					'opt5',
 					'opt6',
 					'opt7',
 					'opt8',
 					'opt9',
 					'accountHistory',
 					'reviews',
 					'tabs',
 					'type',
 					'promoDescriptions',
 					'configuratorEditData',
 					'calc_inv_message',
 					'use_cart_options'
 				],
 				related: productCollectionMapping,
 				secondRelated: productCollectionMapping,
 				children: productCollectionMapping,
 				alsoBought: productCollectionMapping
 			}, self);
 
 			self.atcButtonText = ko.observable(function() {
 				if(self.configuratorEditData) {
 					return oConfig.labels.updateCartItem || 'Update';
 				} else if (utils.isActiveQuote) {
 					return 'Add Active ' + oConfig.labels.savedCarts;
 				} else {
 					return oConfig.labels.addToCart || 'Add';
 				}
 			}());
 
 			self.requireInfoForAtc = ko.computed(function () {
 				return !!(self.childDisplayType() || self.useConfigurator());
 			});
 
 			self.priceDisplay = ko.observable(function () {
 				var template = 'catalog.details_link';
 
 				if (self.requireInfoForAtc() && self.childStartingPrice) {
 					template = 'catalog.price_start_at'
 				} else if (!self.requireInfoForAtc()) {
 					template = 'catalog.selected_product_price_display';
 				}
 
 				return template;
 			}());
 
 			self.selectedQty = ko.observable(function() {
 				if(self.configuratorEditData) {
 					return self.configuratorEditData.qty;
 				} else {
 					return undefined;
 				}
 			}());
 
 			//self.selectedQty = ko.observable();
 			
 			self.isQtyValid = ko.observable(true); 
 
 			self.selectedWarehouse = ko.observable(_.find(self.inventory.warehouses(), function(wh){ return wh.isDefault() } ) || [] );
 
 			if(self.configuratorEditData && self.configuratorEditData.pw_id) {
 				self.selectedWarehouse(_.find(self.inventory.warehouses(), function(wh){ return wh.key() == self.configuratorEditData.pw_id } ) || [] );
 			}
 
 			self.selectedUom = ko.observable(_.find(self.uomPrice(), function (price) { 
 				if(price.hasOwnProperty("isDefault")){
 					return price.isDefault(); //set from SSJS
 				}
 				else{
 					if(typeof price.IsDefault() === "undefined"){
 						return price.ConversionRate() === 1; //fallback
 					}
 					else{
 						return price.IsDefault() || price.ConversionRate() === 1 || price.ConversionRate() === 12; //returned from COM 
 					}
 				}
 			}));
 
 			_.each(self.uomPrice(),function(uom){
 				var bHasBreaks = false;
 				if(uom.breaks){
 					if(uom.breaks().indexOf("<BreakDisplay>") > 0){
 						bHasBreaks = true;
 					}
 				}
 				uom.hasBreaks(bHasBreaks);
 			});
 
 			
 			self.configPrice = buildConfiguratorPriceObservable(self.key());
 
 			self.unitPrice = ko.computed(function () {
 				if(self.configuratorEditData && self.configuratorEditData.priceCalcType == 'fixed') {
 					return self.configuratorEditData.price;
 				}
 				return self.selectedUom().price() + self.configPrice();
 			});
 
 			self.priceTrace = ko.computed(function() {
 				var bPriceErrorMessage = '';
 				if(utils.getParameter('action') == 'showpricetrace') {
 					bPriceErrorMessage = 'Price trace is not available when using WSP Search Service';
 				}
 				return self.selectedUom().priceTrace
 					? self.selectedUom().priceTrace()
 					: bPriceErrorMessage;
 			});
 
 
 			self.youSavePercent = ko.computed(function () {
 				return (((self.selectedUom().suggestedPrice() - self.selectedUom().price()) / self.selectedUom().suggestedPrice()) * 100).toFixed(2) + '%';
 			});
 
 			self.suggestedPrice = ko.computed(function () {
 				return self.selectedUom().suggestedPrice();
 			});
 
 			self.showYouSave = ko.computed(function () {
 				return self.selectedUom().suggestedPrice() > self.selectedUom().price() && self.selectedUom().suggestedPrice() > 0 && oConfig.showProdYouSave == 1;
 			});
 
 			self.childView = function () {
 				// return (self.childDisplayType() || 'stand-alone') + '-layout';
 				return 'stand-alone-layout';
 			}();
 
 			self.showAtc = function () {
 				return self.inventory.showAtc() && oConfig.searchConfig.showAtc && self.mapPriceType() !== 'show_message' &&
 					(oConfig.isLoggedIn || self.mapPriceType() !== 'require_login_for_atc') &&
 					(oConfig.isLoggedIn || self.mapPriceType() !== 'require_login_for_price_and_atc') && (
 						(self.mapPriceType() === 'require_atc' || (self.mapPriceType() === 'require_login_or_atc' && !oConfig.isLoggedIn)) ||
 						(self.mapPriceType() !== 'hide' && (self.showProdAtc() != 0))
 					);
 			}();
 
 			self.showQuickAtc = ko.computed(function () {
 
 				var showQuickAtc = self.showAtc && !self.requireInfoForAtc(); //initial setting
 				if(oConfig.showChildrenSelection && self.type === "child" ){
 					if(self.unitPrice() > 0 && self.showAtc){
 						showQuickAtc = true;
 					}
 					else{
 						showQuickAtc = false;
 					}
 				}
 
 				return showQuickAtc; //(self.showAtc && !self.requireInfoForAtc())
 			});
 
 			self.showPrice = function () {
 				return self.type !== 'parent' && (
 						(self.mapPriceType() !== 'show_message') &&
 						!((self.mapPriceType() === 'require_login_for_price_and_atc') && !oConfig.isLoggedIn) &&
 						!(self.mapPriceType() === 'require_atc' || (self.mapPriceType() === 'require_login_or_atc' && !oConfig.isLoggedIn))
 					) &&
 					(self.mapPriceType() !== 'hide') && (self.showProdPrice() != 0);
 			}();
 
 			self.mapPriceMessage = function () {
 				if (self.mapPriceType() === 'show_message') {
 					return oConfig.mapBehaviorMessages.showMessage;
 				} else if (self.mapPriceType() === 'require_login_for_price_and_atc' && !oConfig.isLoggedIn) {
 					return oConfig.mapBehaviorMessages.requireLoginMessage;
 				} else if (self.mapPriceType() === 'require_login_for_atc' && !oConfig.isLoggedIn) {
 					return oConfig.mapBehaviorMessages.requireLoginAtcMessage;
 				} else if (self.mapPriceType() === 'require_atc' || (self.mapPriceType() === 'require_login_or_atc' && !oConfig.isLoggedIn)) {
 					return oConfig.mapBehaviorMessages.requireAtcMessage;
 				} else if (self.mapPriceType() !== 'hide') {
 					return '';
 				}
 			}();
 
 			self.warehouseTemplate = function () {
 				if (oConfig.showWarehouses && self.inventory.warehouses().length > 0 && self.inventory.inventoryStatus() === 'in') {
 					if ((oConfig.allowWarehouseSelection && oConfig.searchConfig.hideAtcShowInv) || (oConfig.allowWarehouseSelection && self.showQuickAtc())) {
 						return 'warehouse_droplist';
 					} else if (oConfig.useWarehousesTable) { 
 						return 'warehouse_table';
 					} else {
 						return 'warehouse_info';
 					}
 				} else {
 					return 'warehouse_off';
 				}
 			}();
 
 			self.uomTemplate = ko.computed(function() {
 				if (self.selectedProduct().uomPrice().length > 1) {
 					return 'catalog.uom_select';
 				} else {
 					return 'catalog.uom_input';
 				}
 			});
 
 			self.documentsTemplate = function () {
 				return 'catalog.documents';
 			}();
 
 			self.resultsQtyTemplate = ko.observable(function () {
 				if (self.showQuickAtc()) {
 					return 'catalog.atc_qty_input';
 				} else {
 					return 'catalog.details_link';
 				}
 			}());
 
 			self.qtyInputClick = function (key) {
 				jQuery('#qty_'+key).focus();
 				jQuery('#qty_'+key).select();
 			};
 
 			self.validateQtyInput = function (data) {
 				if (utils.getCookie('productLayout') === 'list') {
 					return '';
 				} else {
 					return '1';
 				}
 			};
 
 			self.hideOnListView = function () {
 				if ((isActiveLayout('list') && !oConfig.detailConfig.productKey ) || (self.type === 'child' && oConfig.detailConfig.productKey)) {
 					return 'hide';
 				}
 			};
 
 			self.isChild = function () {
 				if (self.type === 'child'){
 					return true;
 				}else{
 					return false;
 				}
 			}
 
 			self.minQty = ko.computed(function () {
 				if (self.configuratorEditData && self.configuratorEditData.minQty) {
 					self.selectedProduct().selectedUom().minQty(self.configuratorEditData.minQty);
 				}
 				if (oConfig.useQtyRestrictions) {
 					return self.selectedProduct().selectedUom().minQty();
 				} else {
 					return 0;
 				}
 			});
 
 			self.stepQty = ko.computed(function () {
 				if (self.configuratorEditData && self.configuratorEditData.qtyIncrement) {
 					self.selectedProduct().selectedUom().step(self.configuratorEditData.qtyIncrement);
 				}
 				if (oConfig.useQtyRestrictions) {
 					return self.selectedProduct().selectedUom().step();
 				} else {
 					return 1;
 				}
 			});
 
 			self.maxQty = ko.computed(function () {
 				if (self.configuratorEditData && self.configuratorEditData.maxQty) {
 					self.selectedProduct().selectedUom().maxQty(self.configuratorEditData.maxQty);
 				}
 				if (oConfig.useQtyRestrictions && self.selectedProduct().selectedUom().maxQty() > 0) {
 					return self.selectedProduct().selectedUom().maxQty();
 				} else {
 					return '';
 				}
 			});
 
 			self.hasQuantityRestrictions = ko.computed(function () {
 				return !!(self.minQty() || self.stepQty() !== 1 || self.maxQty());
 			});
 
 			self.quantityRestrictionsHtml = ko.computed(function () {
 				var lines = [];
 
 				if (self.minQty())
 					lines.push(oConfig.labels.minQtyPopover.replace(/<min_qty>/,self.minQty()));
 
 				if (self.stepQty() !== 1)
 					lines.push('Qty Increment: ' + self.stepQty());
 
 				if (self.maxQty())
 					lines.push('Maximum Qty: ' + self.maxQty());
 
 				return lines.join('<br>');
 			});
 
 
 			self.addToSavedCart = function () {
 				utils.getSavedCart(viewModel.savedCarts(), function (cart) {
 					if (cart) {
 						if (!_.includes(viewModel.savedCarts(), cart)) {
 							// Insert the new cart in sorted order, notifying exactly once.
 							var index = _.sortedIndex(viewModel.savedCarts(), cart, 'nickname');
 							viewModel.savedCarts.splice(index, 0, cart);
 						}
 
 						utils.addToCart(self, cart);
 					}
 				});
 			};
 
 			self.addToCart = function () {
 				return utils.addToCart(self);
 			};
 
 			self.atcPopupSuccess = function () {
 
 			};
 
 			self.atcPopupFail = function () {
 
 			};
 
 			self.selectFirstTab = function () {
 				$('#tab1 > a').click();
 			};
 
 			self.getWebPage = function (webPageId) {
 				return 'page.asp?p_key=' + webPageId + ' .wpc_page_content';
 			};
 
 			self.useTabs = function () {
 				return oConfig.detailConfig.useAdvancedTabs && self.tabs && self.tabs.length && self.showTabs;
 			}
 			
 			self.getSmartListLinkOrderStats = function(parent){
 				if(!parent){
 					return 'product_history_detail.asp'
 				}
 				if(!oConfig.detailConfig.useAliases){
 					return 'product_history_detail.asp?search2=searchexact~p.sku~' + parent.sku() + '&s=' + parent.sku()
 				}else{
 					return 'product_history_detail.asp?search2=searchexact~pa.sku_alias~' + parent.sku() + '&s=' + parent.sku()
 				}
 			};
 
 			self.getSmartListLinkInvoiceStats = function(parent){
 				if(!parent){
 					return 'products_invoiced_detail.asp'
 				}
 				if(!oConfig.detailConfig.useAliases){
 					return 'products_invoiced_detail.asp?search2=searchexact~p.sku~' + parent.sku() + '&s=' + parent.sku()
 				}else{
 					return 'products_invoiced_detail.asp?search2=searchexact~pa.sku_alias~' + parent.sku() + '&s=' + parent.sku()
 				}
 			};
 
 			self.tableColumns = function () {
 				var columns = Array.prototype.concat(
 					[
 						{
 							if: oConfig.showImgCol,
 							label: oConfig.labels.imgCol,
 							field: 'thumb',
 							template: 'catalog.input_qty_thumb_display'
 						},
 						{
 							label: 'SKU',
 							field: 'sku',
 							template: 'catalog.input_qty_sku_display'
 						},
 						{
 							if: oConfig.showNameCol,
 							label: oConfig.labels.nameCol,
 							field: 'nm',
 							template: 'catalog.input_qty_nm_display'	
 						}
 
 					],
 					self.childSelectors || [],
 					[
 						{
 							label: 'Price',
 							field: 'unitPrice',
 							format: utils.formatPrice,
 							template: 'catalog.selected_product_price_display'
 						},
 						{
 							label: 'Quantity',
 							template: 'catalog.atc_qty_input'
 						},
 						{
 							if: oConfig.usePromos,
 							label: 'Promo',
 							template: 'catalog.input_qty_promo_display'
 						},
 						{
 							if: oConfig.useIdp,
 							label: 'Status',
 							template: _.property('warehouseTemplate')
 						}
 					]
 				);
 
 				// diagram_number needs to be added to the child products using the pos field on the mapping table
 				if (self.childDisplayType() == 'exploded-view') {
 					columns.unshift({
 						label: 'ID',
 						field: 'diagramNumber'
 					});
 				}
 
 				return _.filter(columns, function (column) {
 					return !('if' in column) || ko.unwrap(column.if);
 				});
 			}
 
 			self.reviews = new PagedArray(self.reviews, 3);
 
 			if (self.children) {
 
 				_.each(self.children(), function(child){
 					child.promoDescriptions = [];
 					_.each(self.promoDescriptions, function(promo){
 						if(promo.targetKeys.indexOf(child.key()) > -1){
 							child.promoDescriptions.push(promo);
 						}
 					})
 				});
 
 				self.childSelectors = function () {
 					var selectors = [];
 
 					_.forEach(self, function (value, key) {
 						var keyString = String(key);
 						var matched = keyString.match(/^opt(\d)$/);
 
 						if (matched && value) { 
 							var selector = {};
 							selector.field = matched[0];
 							selector.label = value;
 							// _.sortByAll has been absorbed into _.sortBy in lodash 4.0.0+
 							var lodashSortBy = typeof(_.sortByAll) == 'function' ? _.sortByAll : _.sortBy; 
 
 							selector.options = lodashSortBy( 
 								_.uniq(
 									_.map(self.children(), function (child) {
 
 										return {
 											option: child[matched[0]],
 											sort: (typeof(child[matched[0] + '_sort']) == 'function' ? child[matched[0] + '_sort']() : child[matched[0] + '_sort']) || 0
 										};
 									}),
 									'option'
 								),
 								[ 'sort', 'option' ]
 							);
 							selector.selectedOption = ko.observable();
 							if (oConfig.detailConfig.selectChildProductOnLoad) {
 								selector.selectedOption(selector.options[0]);
 							}
 							//Preselect the child sku if it's passed in the QS
 							if (utils.getParameter('child_sku')){
 								var oChild = {};
 								_.each(self.children(),function(child){
 									if(utils.getParameter('child_sku') == child.sku()){
 										oChild = child;
 										return false;
 									}
 								});
 								_.each(selector.options,function(option){
 									if(option.option == oChild[selector.field]){
 										selector.selectedOption(option);
 									}
 								})
 							}
 							selectors.push(selector);
 						}
 					});
 
 					return selectors;
 				}();
 
 				self.selectedOptions = ko.computed(function () {
 					return _.map(self.childSelectors, function (item) {
 						var selection = { option: '', sort: '' };
 						if (item.selectedOption()) {
 							selection = item.selectedOption().option;
 						}
 						return { field: item.field, option: selection };
 					});
 				});
 
 				self.selectedProduct = ko.computed(function () {
 					var filter = {};
 					_.forEach(self.selectedOptions(), function (option) {
 						filter[option.field] = option.option;
 					});
 					var filteredChildren = _.filter(self.children(), filter);
 					if (filteredChildren && filteredChildren.length === 1 && self.childDisplayType() !== 'input-qty') {
 						return filteredChildren[0];
 					} else {
 						return self;
 					}
 				});
 			} else {
 				self.selectedProduct = ko.computed(function () { return self });
 			}
 
 			runHook('productModelBottom', { self: self, product: product });
 		};
 
 		var productMapping = {
 			create: function (options) {
 				return new productModel(options.data);
 			}
 		};
 
 		var searchResultsPropertiesModel = function (properties) {
 			var self = this;
 
 			self.selectedSort = ko.observable(utils.getParameter('sortby') || oConfig.searchConfig.defaultSort);
 			self.selectedRpp = ko.observable(utils.getParameter('rpp') || oConfig.searchConfig.rpp);
 			self.startCount = ko.observable((oConfig.searchConfig.page - 1) * oConfig.searchConfig.rpp + 1);
 
 			self.endCount = ko.observable(function () {
 				var rpp = (oConfig.searchConfig.rpp === 0) ? oConfig.searchConfig.total : oConfig.searchConfig.rpp;
 				return Math.min(((oConfig.searchConfig.page - 1) * rpp) + rpp, oConfig.searchConfig.total);
 			}());
 
 			self.maxPage = ko.observable(
 				Math.ceil(oConfig.searchConfig.total / oConfig.searchConfig.rpp)
 			);
 
 			self.selectedLayout = ko.observable(
 				utils.getCookie('productLayout')
 			);
 
 			self.changeSort = function (value) {
 				window.location = utils.setParameter('sortby', value );
 			};
 
 			self.changeRpp = function (value) {
 				var sUrl = utils.setParameter('rpp', value);
 				sUrl = sUrl + '&page=1';
 				window.location =  sUrl;
 			};
 
 			self.layoutTemplate = ko.computed(function () {
 				utils.setCookie('productLayout', self.selectedLayout());	
 				window.location.reload();
 				return 'catalog.' + self.selectedLayout() + '_view'
 			});
 
 			runHook('searchResultsPropertiesModelBottom', { self: self, properties: properties });
 		};
 
 		function PagedArray(array, pageSize) {
 			var self = this;
 			self.all = ko.observableArray(array || []);
 			self.pageSize = ko.observable(pageSize || 10);
 			self.page = ko.observable(1).extend({ counter: 1 });
 			self.numPages = ko.computed(function () {
 				return Math.ceil(self.size() / self.pageSize());
 			});
 			self.size = ko.computed(function () {
 				return self.all().length;
 			});
 			self.items = ko.computed(function () {
 				var pageSize = self.pageSize();
 				var start = (self.page() - 1) * pageSize;
 				return self.all.slice(start, start + pageSize);
 			});
 		}
     </script>
     <script id="catalog.breadcrumbs" type="text/html">
      <ul id="detail_breadcrumbs" class="breadcrumb" itemprop="breadcrumb">
 				<!-- ko foreach: $data -->
 					<li data-bind="css: { active: !link }">
 						<!-- ko if: link -->
 							<a data-bind="attr: { href: link }"><!-- text: name --></a> 
 							<span class="divider">/</span>
 						<!-- /ko -->
 						<!-- ko text: link ? '' : name --><!-- /ko -->
 					</li>
 				<!-- /ko -->
 			</ul>
     </script>
     <script id="catalog.detail" type="text/html">
      <!-- ko if: mainProduct.selectedProduct -->
 				<div id="detail_page_product">
 					<span data-bind="template: { name: 'catalog.breadcrumbs', data: breadcrumbs }"></span>
 					<span data-bind="template: { name: mainProduct.childDisplayType() === 'input-qty' ? 'catalog.input_qty_layout' : 'catalog.product_view', data: mainProduct }"></span>
 					<span data-bind="template: { name: 'catalog.additional_sections', data: mainProduct }"></span>
 				</div>
 			<!-- /ko -->
 			<!-- ko ifnot: viewModel.mainProduct.selectedProduct -->
 				<div id="detail_page_product">
 					<div class="alert alert-warning" data-bind="html: oConfig.labels.productNotFound"></div>
 				</div>
 			<!-- /ko -->
     </script>
     <script id="catalog.results" type="text/html">
      <!-- ko ifnot: oConfig.searchConfig.pageType == 'category' && !$data.category -->
 				<div id="list_wrap">
 					<div id="list_wrap_pad">
 						<div id="list_head" data-bind="
 							template: $data.category ?
 							{ name: 'catalog.category_header', data: category } :
 							'catalog.page_title'
 						"></div>
 						<div id="products_header" class="list-toolbar well well-small" data-bind="template: 'catalog.header'"></div>
 						<span data-bind="attr : { 'data-layout' : getActiveLayout() }, template: getLayoutTemplate($data)"></span>
 						<div id="products_footer" class="list-toolbar" data-bind="template: { name : 'catalog.footer' } "></div>
 					</div>
 				</div>
 			<!-- /ko -->
 			<!-- ko if: oConfig.searchConfig.pageType == 'category' && !$data.category -->
 				<div id="list_wrap">
 					<div id="list_wrap_pad">
 						<div class="alert alert-warning" data-bind="html: oConfig.labels.categoryNotFound"></div>
 					</div>
 				</div>
 			<!-- /ko -->
     </script>
     <script id="catalog.category_header" type="text/html">
      <!-- template: { name: 'catalog.breadcrumbs', data: breadcrumbs } -->
 		<div class="head_thumb" data-bind="if: pic">
 			<img data-bind="attr: { src: buildImagePath(pic) }"/>
 		</div>
 		<h1 class="head_title" data-bind="text: name"></h1>
 		<div class="head_desc" data-bind="html: description"></div>
 		<!-- template: { name: 'catalog.category_list', data: children, if: children } -->
     </script>
     <script id="catalog.category_list" type="text/html">
      <div class="subcats_wrap_table" data-bind="foreach: $data">
 			<div class="subcats_wrap_table_item">
 				<div class="subcat_item_pad">
 					<div class="subcat_thumb" data-bind="if: pic2">
 						<a data-bind="attr: { href: link, title: name }">
 							<img data-bind="attr: { src: buildImagePath(pic2) }"/>
 						</a>
 					</div>
 					<div class="subcat_nm">
 						<a data-bind="attr: { href: link, title: name }, text: name"></a>
 					</div>
 				</div>
 			</div>
 		</div>
     </script>
     <script id="catalog.page_title" type="text/html">
      <!-- ko if: oConfig.searchConfig.pageType != 'category' && oConfig.searchConfig.pageType != 'favlist' -->
 			<h1 data-bind="text: oConfig.searchConfig.labels.searchResultsHeader"></h1>
 		<!-- /ko -->
     </script>
     <script id="catalog.header" type="text/html">
      <div id="sort_control" class="list-toolbar-control" data-bind="template: 'catalog.order_by'"></div>
 		<div id="rpp_control" class="list-toolbar-control" data-bind="template: 'catalog.rpp'"></div>
 		<div id="layout_control" class="list-toolbar-control" data-bind="template: 'catalog.layout'"></div>
     </script>
     <script id="catalog.order_by" type="text/html">
      <label class="input-prepend" data-bind="if: oConfig.searchConfig.showSort">
 			<span class="add-on" data-bind="html: oConfig.searchConfig.labels.sort"></span>
 			<select
 				id="page_sort"
 				data-bind="
 					foreach: oConfig.searchConfig.productSortOptions,
 					value: getSelectedSort(),
 					event: { change: changeSort }
 			">
 				<option data-bind="text: display, attr: { value: field ? field + '~' + direction : '' }"></option>
 			</select>
 		</label>
     </script>
     <script id="catalog.rpp" type="text/html">
      <label class="input-append" data-bind="if: oConfig.searchConfig.showRpp" >
 			<select
 				id="rpp"
 				data-bind="
 					options: oConfig.searchConfig.rppOptions,
 					value: getSelectedRpp(),
 					event: { change: changeRpp }
 				">
 				</select>
 			<span class="add-on" data-bind="html: oConfig.searchConfig.labels.rpp" ></span>
 		</label>
     </script>
     <script id="catalog.page_count" type="text/html">
      <div data-bind="text: 'Showing ' + getStartCount() + ' - ' + getEndCount() + ' of ' + oConfig.searchConfig.total + ' results'"></div>
     </script>
     <script id="catalog.layout" type="text/html">
      <div data-bind="if: oConfig.searchConfig.showLayout">
 			<span data-bind="html: oConfig.searchConfig.labels.layout"></span>
 			<div class="btn-group btn-group-small">
 				<button
 					type="button"
 					id="gallery_layout_toggle"
 					data-bind="
 						click: function () { setLayout('gallery') },
 						css: { active: isActiveLayout('gallery') },
 						html: oConfig.searchConfig.labels.galleryView
 					"
 					class="btn"
 				></button>
 				<button
 					type="button"
 					id="list_layout_toggle"
 					data-bind="
 						click: function () { setLayout('list') },
 						css: { active: isActiveLayout('list') },
 						html: oConfig.searchConfig.labels.listView
 					"
 					class="btn"
 				></button>
 			</div>
 			<div class="results-download" data-bind="template: { if: oConfig.searchConfig.showDownload && oConfig.isLoggedIn}">
 				<a href='javascript: window.location = utils.pageUrl + (utils.pageUrl.indexOf("?")>0?"&":"?") + "downloadasfile=1";' class='cust_download' title='Download'> 
 					<img src="common_images/ddt_download.png" border="0" align="absmiddle">
 					Download
 				</a>
 			</div>
 		</div>
     </script>
     <script id="catalog.no_product_found" type="text/html">
      <div class="alert alert-warning">Product Not Found.</div>
     </script>
     <script id="catalog.no_results" type="text/html">
      <!-- ko if: oConfig.searchConfig.pageType == 'favlist' -->
 			<p class="alert alert-info">Sorry! There are no products available in this list.</p>
 		<!-- /ko -->
 		<!-- ko if: oConfig.searchConfig.pageType != 'category' && oConfig.searchConfig.pageType != 'favlist' -->
 			<!-- ko  if : oConfig.labels.noResults -->
 				<span data-bind=" html : oConfig.labels.noResults "></span>
 			<!-- /ko -->
 			<!-- ko ifnot : oConfig.labels.noResults -->
 				<p class="alert alert-info">Sorry! We do not have any products listed in the website that match your search.</p>
 				<h5>Search Tips:</h5>
 				<ul>
 					<li>You may want to broaden your search. This can be accomplished by shortening or generalizing the words you using in your search.</li>
 					<li>If you are entering a part number, do not include any hyphens or other punctuation marks. You may even try using a portion of the number if it is a long one.</li>
 					<li>Spelling does makes a difference. Be sure to check for spelling errors as this will affect your results.</li>
 					<li>Mutations of a word also make a difference. For example, the word 'accessory' will return different results than 'accessories'.</li>
 					<li>Plural makes a difference too. Adding an 's' may impact results. Often it is better to search for the singular.</li>
 					<li>The search is not case sensitive, so you can type in all lower case, all caps, or any mixture.</li>
 					<li>Contact customer service for assistance if you still cannot find what you are looking for.</li>
 				</ul>
 			<!-- /ko -->
 		<!-- /ko -->
     </script>
     <script id="catalog.paging" type="text/html">
      <div
 			class="pagination"
 			data-bind="if: oConfig.searchConfig.rpp > 0 && oConfig.searchConfig.total > oConfig.searchConfig.rpp"
 		>
 			<ul data-bind="foreach: pagingNodes()">
 				<li data-bind="css: { active: page == oConfig.searchConfig.page, disabled: !page }">
 					<!-- ko if: page && page !== oConfig.searchConfig.page -->
 						<a data-bind="attr: { 'href': utils.setParameter('page', page) }">
 							<span data-bind="html: text"></span>
 						</a>
 					<!-- /ko -->
 					<!-- ko ifnot: page && page !== oConfig.searchConfig.page -->
 						<span data-bind="html: text"></span>
 					<!-- /ko -->
 				</li>
 			</ul>
 		</div>
     </script>
     <script id="catalog.footer" type="text/html">
      <div id="results_text" class="list-toolbar-control" data-bind="template: 'catalog.page_count'"></div>
 		<div id="results_paging" class="list-toolbar-control" data-bind="template: 'catalog.paging'"></div>
     </script>
     <script id="catalog.gallery_view" type="text/html">
      <div
 			id="prod_listings" 
 			class="prod-listings" 
 			data-bind="fastForEach: results"
 		>
 			<!-- ko template: 'catalog.product_card' -->
 			<!-- /ko -->
 		</div>
     </script>
     <script id="catalog.gallery_actions" type="text/html">
      <span data-bind="template: 'catalog.atc_full'"></span>
     </script>
     <script id="catalog.list_view" type="text/html">
      <form
 			name="atc_form" 
 			id="atc_form" 
 			class="frmAddToCart" 
 			method="POST" 
 			data-bind="attr: { action: oConfig.formAction, submit: submitForm($data) }"
 		>
 			<div
 				id="prod_listings" 
 				class="prod-listings" 
 				data-bind="fastForEach: results"
 			>
 				<!-- ko template: { name: 'catalog.product_card' } -->
 				<!-- /ko -->
 			</div>
 			<div data-bind="template: 'catalog.list_view_atc'"></div>
 		</form>
     </script>
     <script id="catalog.list_view_atc" type="text/html">
      <div data-bind="if: oConfig.searchConfig.showAtc && showAddAllToCart()">
 			<span id="btn_multi_add_to_cart_anchor"></span>
 			<div id="btn_multi_add_to_cart" class="container-fluid" data-bind="sticky: 'btn_multi_add_to_cart_anchor'">
 				<div class="row-fluid">
 					<div class="span9 offset3">
 						<div class="form-actions">
 							<button type="button" 
 								class="btn btn-block btn-primary btn-large"
 								data-bind="
 									html: utils.atcListButtonText(),
 									click: function(data,event) {addToCartWithValidation(results(), event);}">
 							</button>
 						</div>
 					</div>
 				</div>
 			</div>
 		</div>
     </script>
     <script id="catalog.product_card" type="text/html">
      <div class="prod-card">
 		<!-- ko if: oConfig.showChildrenSelection && $data.children -->
 			<!-- template: 'catalog.product_card_with_children' -->
 		<!-- /ko -->
 		<!-- ko if: !(oConfig.showChildrenSelection && $data.children) -->
 			<!-- template: 'catalog.product_card_no_children' -->
 		<!-- /ko -->
 
 	</div>
     </script>
     <script id="catalog.product_card_no_children" type="text/html">
      <div class="prod-thumb">
 		<span class="prod-thumb-img" data-bind="template: 'catalog.image_link'"></span>
 		<span class="prod-thumb-flags" data-bind="template: 'catalog.flags'"></span>
 	</div>
 
 	<div class="prod-info">
 		<div class="prod-desc">
 			<div class="prod-nm">
 				<span data-bind="template: 'catalog.name_link'"></span>
 			</div>
 			<!-- template: { name: 'catalog.detail_info' } -->
 			<!-- template: 'catalog.rating_score' -->
 			<!-- ko if: utils.getParameter('favorites') && oConfig.pageName == 'pc_combined_results.asp' && getActiveLayout() == 'list' -->
 				<!-- template: 'catalog.remove_fav_button' -->
 			<!-- /ko -->
 		</div>
 		</div>
 		<div class="prod-pricing" data-bind="template: 'catalog.selected_product_price_display'"></div>
 		<div class="prod-idp" data-bind="template: 'catalog.inventory'"></div>
 
 		<div class="prod-actions" 
 			 data-bind="template: 'catalog.product_actions'">
 		</div>
 	</div>
     </script>
     <script id="catalog.product_card_with_children" type="text/html">
      <div class="prod-thumb">
 		<span class="prod-thumb-img" data-bind="template: 'catalog.image_link'"></span>
 		<span class="prod-thumb-flags" data-bind="template: 'catalog.flags'"></span>
 	</div>
 
 	<div class="prod-info">
 		<div class="prod-desc">
 			<div class="prod-nm">
 				test <span data-bind="template: 'catalog.name_link'"></span>
 			</div>
 			<!-- template: { name: 'catalog.detail_info' } -->
 			<!-- template: 'catalog.rating_score' -->
 			<!-- ko if: utils.getParameter('favorites') && oConfig.pageName == 'pc_combined_results.asp' && getActiveLayout() == 'list' -->
 				<!-- template: 'catalog.remove_fav_button' -->
 			<!-- /ko -->
 		</div>
 		<div class="prod-children" data-bind= "template:{
 			name: 'catalog.children_selection',
 			if: oConfig.showChildrenSelection && $data.children && children().length
 		}"></div>
 
 		</div>
 		<div class="prod-pricing" data-bind="template: 'catalog.selected_product_price_display'"></div>
 		<div class="prod-idp" data-bind="template: 'catalog.inventory'"></div>
 
 		<div class="prod-actions" 
 			 data-bind="template: 'catalog.product_actions'">
 		</div>
 	</div>
     </script>
     <script id="catalog.input_qty_layout" type="text/html">
      <!-- template: 'catalog.product_title' -->
 	<div id="product_view" class="row-fluid">
 		<div class="span6">
 			<div id="product_images" data-bind="template: { name: 'catalog.image_gallery', data: selectedProduct }"></div>
 		</div>
 		<div class="span6">
 			<div data-bind="template: 'catalog.share_code'"></div>
 			<span data-bind="template: 'catalog.detail_info'" ></span>
 			<span data-bind="template: 'catalog.rating_detail'"></span>
 			<div data-bind="
 				template: {
 					name: 'promotions.descriptions',
 					if: promoDescriptions.length,
 					data: {
 						title: 'Item on Promotion',
 						descriptions: promoDescriptions,
 						selectedProduct: selectedProduct
 					}
 				}
 			">
 			</div>
 			<div class="detail-docs" data-bind="template: { if: oConfig.detailConfig.showDocuments, name: 'catalog.documents', data: documents() }"></div>
 			<a href="#input-qty" class="btn btn-large btn-primary scroll-to" data-bind=" html : oConfig.detailConfig.labels.inputQtyATCLabel "></a>
 		</div>
 	</div>
 	<!-- template: 'catalog.additional_info' -->
 	<h2 id="input-qty" data-bind="html : oConfig.detailConfig.labels.inputQty"></h2>
 	<div id="atcform" data-bind="template: 'catalog.input_qty_form'"></div>
     </script>
     <script id="catalog.input_qty_form" type="text/html">
      <form id="atc_form">
 		<!-- template: 'catalog.input_qty_table' -->
 		<div class="form-actions" data-bind="if: showAtc">
 			<button
 				name="btnAddToCart"
 				type="submit"
 				class="btn btn-large btn-block btn-primary"
 				data-bind="
 					click: function (data, event) {
 						var isSelected = _.flow(_.property('selectedQty'), ko.unwrap);
 						var products = _.filter(children(), isSelected);
 						addToCartWithValidation(products, event);
 					},
 					html : utils.atcListButtonText()
 				"
 			></button>
 		</div>
 	</form>
     </script>
     <script id="catalog.input_qty_table" type="text/html">
      <table class="qty-input-table" data-bind="tablesaw">
 		<thead>
 			<tr data-bind="fastForEach: tableColumns()">
 				<th data-bind="text: label"></th>
 			</tr>
 		</thead>
 		<tbody data-bind="fastForEach: children">
 			<tr data-bind="fastForEach: $parent.tableColumns()">
 			<!-- ko if: $data.template -->
 				<td data-bind="template: {name: template, data: $parent }"></td>
 			<!-- /ko -->
 			
 			<!-- ko if: !$data.template -->
 				<td data-bind="text: ($data.format || _.identity)($parent[field])"></td>
 			<!-- /ko -->
 			</tr>
 		</tbody>
 	</table>
     </script>
     <script id="catalog.product_title" type="text/html">
      <div class="page-header detail-title">
 		<h1 data-bind="text: selectedProduct().name() || name()"></h1>
 		<!-- template: 'catalog.product_links' -->
 	</div>
     </script>
     <script id="catalog.product_view" type="text/html">
      <!-- template: 'catalog.product_title' -->
 	<div id="product_view" class="row-fluid">
 		<div class="span6">
 			<div id="product_images" data-bind="template: { name: 'catalog.image_gallery', data: selectedProduct() }"></div>
 		</div>
 		<div class="span6">
 			<div class="detail-product-info">
 				<div data-bind="template: 'catalog.share_code'"></div>
 				<span data-bind="template: 'catalog.detail_info'"></span>
 				<div class="detail-docs" data-bind="template: { if: oConfig.detailConfig.showDocuments,  name: 'catalog.documents', data: selectedProduct().documents() }"></div>
 				<div data-bind="
 					template: {
 						name: 'promotions.descriptions',
 						if: promoDescriptions.length,
 						data: {
 							title: 'Item on Promotion',
 							descriptions: promoDescriptions,
 							selectedProduct: selectedProduct
 						}
 					}
 				">
 				</div>
 				<div class="detail-child-selector">
 					<span data-bind="template: { name: 'catalog.child_selectors', if: $data.childSelectors, data: $data.childSelectors }"></span>
 				</div>
 				<span data-bind="template: 'catalog.rating_detail'"></span>
 				<div id="atcform">
 					<div data-bind="template: { name: 'catalog.atc_full', data: selectedProduct }"></div>
 				</div>
 			</div>
 		</div>
 	</div>
 	<!-- template: 'catalog.additional_info' -->
     </script>
     <script id="catalog.child_selectors" type="text/html">
      <!-- ko foreach: $data -->
 		<span data-bind="template: 'catalog.child_droplist_select'"></span>
 	<!-- /ko -->
     </script>
     <script id="catalog.child_droplist_select" type="text/html">
      <label data-bind="text: label, attr: { for: field }">
 	</label>
 	<select data-bind="
 		attr: { id: field, name: field },
 		options: options,
 		optionsText: 'option',
 		value: selectedOption,
 		optionsCaption: '-- Select One --',
 		optionsAfterRender: function (option, item) { setChildOptionDisable(field, option, item) }
 	">
 	</select>
     </script>
     <script id="catalog.product_description" type="text/html">
      <div data-bind="if: description">
 		<h2 data-bind="html : oConfig.labels.description"></h2>
 		<span data-bind="html: description"></span>
 	</div>
     </script>
     <script id="catalog.additional_info" type="text/html">
      <span data-bind="if: selectedProduct().useTabs(), attr: { 'data-layout' : oConfig.detailConfig.tabLayoutMode }" >
 		<!-- template: 'catalog.advanced_tabs' -->
 	</span>
     </script>
     <script id="catalog.additional_sections" type="text/html">
      <span data-bind="ifnot: selectedProduct().useTabs(), attr: { 'data-layout' : oConfig.detailConfig.pageLayoutMode }" >
 		<span data-bind="template: { name: 'catalog.product_description', data: selectedProduct }"></span>
 		<span data-bind="template: { name: 'catalog.related_products', data: related }"></span>
 		<span data-bind="template: { name: 'catalog.second_related_products', data: secondRelated }"></span>
 		<span data-bind="template: 'catalog.reviews'"></span>
 		<span data-bind="template: { name: 'catalog.smart_lists', data: selectedProduct() }"></span>
 	</span>
 
 	<span data-bind="template: { name: 'catalog.also_bought', data: alsoBought }"></span>
 	<span data-bind="template: { name: 'catalog.recently_viewed', data: $parent.recentlyViewed }"></span>
     </script>
     <script id="catalog.advanced_tabs" type="text/html">
      <div id="tabs" class="detail_desc">
 		<div class="tabbable tabbable-detail" >
 			<span data-bind="template: 'catalog.tab_header'"></span>
 			<span data-bind="template: 'catalog.tab_content'"></span>
 		</div>
 	</div>
     </script>
     <script id="catalog.tab_header" type="text/html">
      <ul id="nav-tabs" class="nav nav-tabs" data-bind="foreach: selectedProduct().tabs">
 		<li data-bind="attr: { 'data-tabtype': dynamicSource, id: 'tab' + ($index()+1) }">
 			<a data-toggle="tab" data-bind="attr: { href: '#tab_section_' + ($index() + 1) }">
 				<span data-bind="html: label || _.startCase(dynamicSource)"></span>
 			</a>
 		</li>
 	</ul>
     </script>
     <script id="catalog.tab_content" type="text/html">
      <div class="tab-content" data-bind="foreach: { data: selectedProduct().tabs, afterUpdate: selectFirstTab }">
 		<div class="tab-pane" data-bind="attr: { id: 'tab_section_' + ($index() + 1) }">
 			<p data-bind="html: staticPos === 'above' ? staticContent : ''"></p>
 			<span data-bind="
 				template: {
 					name: 'catalog.tab_' + dynamicSource,
 					data: {
 						tab: $data,
 						mainProduct: $parent
 					}
 			}">
 			</span>
 			<p data-bind="html: staticPos === 'below' ? staticContent : ''"></p>
 		</div>
 	</div>
     </script>
     <script id="catalog.tab_description" type="text/html">
      <span data-bind="html: mainProduct.selectedProduct().description"></span>
     </script>
     <script id="catalog.tab_web_page" type="text/html">
      <span data-bind="template: 'catalog.web_page_get'"></span>
     </script>
     <script id="catalog.web_page_get" type="text/html">
      <span data-bind="
 		load: {
 			url: mainProduct.selectedProduct().getWebPage(tab.webPageId),
 			cache: true
 		}
 	">
 	</span>
     </script>
     <script id="catalog.tab_related_products" type="text/html">
      <span data-bind="template: { name: 'catalog.related_products', data: mainProduct.related }"></span>
     </script>
     <script id="catalog.tab_second_related_products" type="text/html">
      <span data-bind="template: { name: 'catalog.second_related_products', data: mainProduct.secondRelated }"></span>
     </script>
     <script id="catalog.tab_reviews" type="text/html">
      <!-- template: { name: 'catalog.reviews', data: mainProduct } -->
     </script>
     <script id="catalog.tab_smart_list" type="text/html">
      <span data-bind="template: { name: 'catalog.smart_lists', data: mainProduct.selectedProduct() }"></span>
     </script>
     <script id="catalog.tab_rys" type="text/html">
      <!-- template: { name: 'catalog.product_facets_table', data: mainProduct.selectedProduct() } -->
     </script>
     <script id="catalog.product_facets_table" type="text/html">
      <!-- ko if: facets -->
 		<table class="table table-striped">
 			<tbody>
 				<tr data-bind="foreach: facets">
 					<th data-bind="text: search_group"></th>
 					<td data-bind="text: search_term"></td>
 				</tr>
 			</tbody>
 		</table>
 	<!-- /ko -->
     </script>
     <script id="catalog.tab_hook" type="text/html">
      <span data-bind="template: { name: 'tab_hook_' + tab.hook, data: viewModel }"></span>
     </script>
     <script id="catalog.tab_none" type="text/html">
     </script>
     <script id="catalog.reviews" type="text/html">
      <!-- ko if: oConfig.useReviews -->
 			<h2 data-bind="html : oConfig.labels.reviews"></h2>
 			<div
 				id="reviews"
 				itemprop="aggregateRating"
 				itemscope
 				itemtype="http://schema.org/AggregateRating"
 			>
 				<!-- ko if: reviews.size() -->
 					<div class="well reviews-header">
 						<h4 class="text-info" data-bind=" html : oConfig.labels.averageRating"></h4>
 						<p>
 							<div class="raty" data-bind="raty: averageRating"></div>
 							<small class="muted">
 								<span itemprop="ratingValue" data-bind="text: averageRating().toFixed(1)"></span>
 								out of
 								<span itemprop="bestRating">5.0</span> stars 
 							</small>
 						</p>
 						<div class="btn-group">
 							<!-- ko if: !oConfig.allowAddReviews -->
 								<a class="btn btn-small" data-bind="attr: { href: utils.loginUrl }, html: oConfig.labels.reviewSignInText"></a>
 							<!-- /ko -->
 							<!-- ko if: oConfig.allowAddReviews -->
 								<a
 									class="global-modal btn btn-primary"
 									data-size="large" 
 									data-backdrop="static" 
 									data-bind="
 										attr: { href: 'ae_sf_review_comment.asp?contentkey=' + key() },
 										html: oConfig.labels.reviewsAddText "
 								></a>
 							<!-- /ko -->
 						</div>
 					</div>
 				<!-- /ko -->
 				<!-- template: { name: 'catalog.reviews_list', data: reviews } -->
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.reviews_list" type="text/html">
      <div class="media-list reviews-list">
 			<!-- template: { name: 'catalog.review', if: size, foreach: items } -->
 		</div>
 		<!-- ko ifnot: size -->
 			<p class="alert alert-info">This product has not been reviewed.</p>
 			<!-- ko ifnot: oConfig.allowAddReviews -->
 				<a class="btn" data-bind="attr: { href: utils.loginUrl }, html: oConfig.labels.reviewSignInText"></a>
 			<!-- /ko -->
 			<!-- ko if: oConfig.allowAddReviews -->
 				<a
 					class="global-modal btn btn-primary"
 					data-bind="
 						attr: { href: 'ae_sf_review_comment.asp?contentkey=' + $parent.key() },
 						html: oConfig.labels.reviewsAddText "
 					data-size="large"
 				></a>
 			<!-- /ko -->
 		<!-- /ko -->
 		<div class="btn-group reviews-paging" data-bind="if: numPages() > 1">
 			<button class="btn" data-bind="click: page.decrement, enable: page() > 1">
 				Prev
 			</button>
 			<button class="btn" data-bind="click: page.increment, enable: page() < numPages()">
 				Next
 			</button>
 		</div>
     </script>
     <script id="catalog.review" type="text/html">
      <div class="media">
 			<div class="media-body">
 				<div class="media-heading">
 					<div data-bind="raty: rating"></div>
 					<small class="muted">By <span data-bind="text: name || 'Anonymous User'"></span> on <span data-bind="text: new Date(create_date).toDateString()"></span></small>
 				</div>
 				<div class="text-small" data-bind="text: comments"></div>
 			</div>
 			<!-- template: { name: 'catalog.review', if: children, foreach: children } -->
 		</div>
     </script>
     <script id="catalog.rating_detail" type="text/html">
      <div data-bind="if: oConfig.useReviews" class="average-rating-header">
 			<div class="detail_rating detail_info">
 				<!-- template: 'catalog.rating_score' -->
 				<span data-bind="template: { name: 'catalog.read_reviews', if: ratingsCount }"></span>
 			</div>
 		</div>
     </script>
     <script id="catalog.rating_score" type="text/html">
      <!-- ko if: oConfig.useReviews -->
 			<div class="raty" data-bind="raty: averageRating"></div>
 			<span class="muted text-xsmall" data-bind="text: ratingsCount() ? '(' + ratingsCount() + ')' : 'No reviews'"></span>
 		<!-- /ko -->
     </script>
     <script id="catalog.read_reviews" type="text/html">
      <a
 			href="#"
 			class="btn btn-small btn-link"
 			data-bind="
 				text: oConfig.detailConfig.labels.readReviews,
 				click: _.partial(utils.scrollTo, '#reviews')
 			"
 		></a>
     </script>
     <script id="catalog.product_actions" type="text/html">
      <div class="input-prepend input-append" data-bind="if: selectedProduct().showQuickAtc">
 			<!-- ko if: hasQuantityRestrictions -->
 				<a href="#0"
 					class="add-on"
 					data-bind="popover, attr: { 'data-content': quantityRestrictionsHtml, 'data-key' : key }"
 					data-trigger="hover"
 					data-html="true"
 					data-placement="top"
 				>
 					<i class="icon-question-sign"></i>
 				</a>
 			<!-- /ko -->
 			<input
 				data-bind="
 					value: selectedProduct().selectedQty,
 					init: function () { if (setSelectedQty()) selectedQty(minQty() || 1); },
 					attr: { 
 						'min' : minQty()  || 1, 
 						'step': stepQty() || 1,
 						'max' : maxQty()
 					}, 
 					visible: !isChild() || oConfig.allowChildATC,
 					validateQty
 				"
 				onClick="this.select();"
 				type="number"
 				pattern="\d*"
 				class="qty-input" 
 				placeholder="Qty"
 			>
 			<!-- template: 'catalog.product_actions_add' -->
 		</div>
 
 		<!-- ko ifnot: selectedProduct().showQuickAtc -->
 			<a class="btn btn-link btn-view-details" data-bind="
 				attr: { href: link }, 
 				visible: (!isChild() || oConfig.allowChildATC) && showAtc && !(oConfig.showChildrenSelection && selectedProduct().isChild()),
 				html: oConfig.labels.selectOptionsLabel "></a>
 		<!-- /ko -->
 
 		<!-- ko if: utils.getParameter('favorites') && oConfig.pageName == 'pc_combined_results.asp' && getActiveLayout() !== 'list' -->
 			<!-- template: 'catalog.remove_fav_button' -->
 		<!-- /ko -->
     </script>
     <script id="catalog.product_actions_add" type="text/html">
      <div class="btn-group">
 			<button type="button" 
 				class="btn btn-cart-add"
 				data-bind="
 					html: atcButtonText(),
 					click: addToCart, 
 					visible: (!isChild() || oConfig.allowChildATC) && (getActiveLayout() !== 'list' || oConfig.showListViewATC),
 					enable: isQtyValid()
 				">
 			</button>
 			<!-- ko if: oConfig.showFavLink || oConfig.useSavedCarts  -->
 				<button class="btn dropdown-toggle" data-toggle="dropdown">
 					<!-- <b class="caret"></b> -->
 					<i class="icon-angle-down"></i>
 				</button>
 				<ul class="dropdown-menu pull-right">
 					<!-- ko if: oConfig.showFavLink -->
 						<li data-bind="template: 'catalog.fav_link'"></li>
 					<!-- /ko -->
 					<!-- ko if: oConfig.useSavedCarts  -->
 						<li>
 							<a href="#0" data-bind="click: addToSavedCart">
 								<span data-bind="html: oConfig.labels.savedCartsLabels.addToSavedCart"></span>
 							</a>
 						</li>
 					<!-- /ko -->
 				</ul>
 			<!-- /ko -->
 		</div>
     </script>
     <script id="catalog.atc_full" type="text/html">
      <div class="prod-pricing" data-bind="template: 'catalog.selected_product_price_display'"></div>
 		<span data-bind="ifnot: $data.children && children().length">
 			<div data-bind="if: oConfig.useIdp">
 				<span data-bind="template: 'catalog.inventory'"></span>
 			</div>
 			<span data-bind="template: 'catalog.configurator'"></span>
 			<!-- ko if: oConfig.UseTaxExempt -->
 				<span data-bind="template: 'catalog.tax_exempt'"></span>
 			<!-- /ko -->
 			<!-- ko if: utils.isMainProduct($data) ? showAtc : selectedProduct().showQuickAtc -->
 				<span data-bind="template: { name: 'catalog.atc_form_submit', data: selectedProduct }"></span>
 			<!-- /ko -->
 		</span>
 		<div data-bind="if: $data.isDangerous">
 			<span data-bind="template: 'catalog.hazmat'"></span>
 		</div>
     </script>
     <script id="catalog.product_quantity" type="text/html">
      <div>
 			<div class="input-prepend">
 				<label class="add-on" data-bind="for: 'next'">QTY:</label>
 				<input
 					data-bind="
 						value: selectedQty,
 						init: function () { if (setSelectedQty()) selectedQty(minQty() || 1); },
 						attr: { 
 							'min':  minQty()  || stepQty() || 1, 
 							'step': stepQty() || 1,
 							'max' : maxQty()  || ''
 						},
 						validateQty
 					"
 					onclick="this.focus();this.select();"
 					type="number"
 					pattern="\d*"
 					class="qty-input"
 				>
 			</div>
 			<div data-bind="template: { name: 'catalog.qty_restrictions', if: oConfig.useQtyRestrictions }"></div>
 		</div>
     </script>
     <script id="catalog.atc_form_submit" type="text/html">
      <div class="media atc-large">
 			<div class="pull-left" data-bind="template: 'catalog.product_quantity'"></div>
 			<div class="media-body">
 				<div class="btn-group">
 					<button
 						type="button"
 						class="btn btn-primary btn-large"
 						data-bind="
 							click: addToCart,
 							html: atcButtonText()"
 					></button>
 				</div>
 				<div data-bind="template: { name: 'catalog.saved_cart_form_submit', if: oConfig.useSavedCarts }"></div>
 			</div>
 		</div>
     </script>
     <script id="catalog.atc_qty_input" type="text/html">
      <div class="prod-actions" data-bind="template: 'catalog.product_actions'"></div>
     </script>
     <script id="catalog.atc_popup" type="text/html">
      <div id="atc_msg_product">
 			<div style="margin: 5px auto;text-align: center;">
 				<span data-bind="text: details.length"></span> <span data-bind="plural: details">item</span> added to cart.
 				<span data-bind="if: details.length === 1">
 					<h3 data-bind="text: details[0].name"></h3>
 					<img
 						data-bind="
 							if: details[0].pic(),
 							attr: {
 								src: buildImagePath(details[0].pic() || 'no-image.png'),
 								alt: details[0].name
 							}
 						"
 						onerror="utils.handleImageError(this)"
 					/>
 				</span>
 			</div>
 		</div>
     </script>
     <script id="catalog.atc_popup_buttons" type="text/html">
      <div style="margin: 5px auto;text-align: center;">
 			<a id="atc_msg_btn_close" class="btn btn-default" href="#" data-dismiss="modal" data-bind="text: oConfig.labels.continueShoppingLink"></a>
 			<a id="atc_msg_btn_cart" class="btn btn-primary"  href="showcart.asp" data-bind="text: oConfig.labels.showCartLink"></a>
 		</div>
     </script>
     <script id="catalog.atc_splash" type="text/html">
      <div class="sk-wave">
 			<div class="sk-rect sk-rect1"></div>
 			<div class="sk-rect sk-rect2"></div>
 			<div class="sk-rect sk-rect3"></div>
 			<div class="sk-rect sk-rect4"></div>
 			<div class="sk-rect sk-rect5"></div>
 		</div>
     </script>
     <script id="catalog.atc_body" type="text/html">
      <!-- template: 'catalog.atc_popup' -->
 		<!-- ko ifnot: cart -->
 			<!-- promoMessages: details -->
 		<!-- /ko -->
     </script>
     <script id="catalog.promo_bar" type="text/html">
      <div data-bind="promoMessages: details"></div>
     </script>
     <script id="catalog.atc_invalid_qty" type="text/html">
      <div class="invalid-qty" data-bind="text: oConfig.labels.invalidQtyText"></div>
     </script>
     <script id="catalog.saved_cart_select_popup" type="text/html">
      <!-- ko if: oConfig.isLoggedIn -->
 			<h5><span data-bind="text: oConfig.labels.savedCartsLabels.modalCreateNew"></span></h5>
 			<div class="input-append">
 				<input type="text" id="nickname" data-bind="attr: { placeholder: oConfig.labels.savedCartsLabels.modalCreateNewInputPlaceholder }">
 				<button
 					id="saved_cart_add"
 					class="btn btn-primary input-append"
 					data-bind="
 						init: function () {
 							$data.errorMessage = ko.observable();
 						},
 						click: function () {
 							var input = $('#nickname');
 							var nickname = input.val().trim();
 
 							if (!nickname) {
 								input.val('');
 								errorMessage('Please enter a nickname');
 							} else if (_.includes(_.pluck(ko.toJS(savedCarts), 'nickname'), nickname)) {
 								errorMessage('That nickname is already in use');
 							} else {
 								selectedCart({ key: utils.createGuid(), nickname: nickname });
 							}
 						},
 						text: oConfig.labels.savedCartsLabels.modalCreateNewSaveButton"
 				>
 					<i class="icon-save"></i>
 					</button>
 			</div>
 			<!-- ko if: errorMessage -->
 				<div class="alert alert-error" data-bind="text: errorMessage"></div>
 			<!-- /ko -->
 			<h5 data-bind="html: oConfig.labels.savedCartsLabels.modalExisting"></h5>
 			<!-- template: 'catalog.saved_carts_table'-->
 		<!-- /ko -->
 		<!-- ko ifnot: oConfig.isLoggedIn -->
 			<div class="text-center">
 				<p class="alert alert-info without-close">You must be signed in to take this action.</p>
 				<a data-bind="attr: { href: utils.loginUrl }" class="btn btn-primary btn-block">Sign In Now</a>
 				<button type="button" class="btn btn-block" data-dismiss="modal">Cancel</button>
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.saved_carts_table" type="text/html">
      <!-- ko if: savedCarts.length -->
 			<table class="table" data-bind="if: savedCarts.length > 0">
 				<tbody data-bind="foreach: { data: savedCarts, as: 'cart' }">
 					<tr><td>
 						<a
 							class="btn btn-block btn-link text-left"
 							href="#"
 							data-bind="
 								click: function () {
 									$parent.selectedCart(cart);
 								},
 								spacedtext: cart.nickname || cart.refId
 							"
 						></a>
 					</td></tr>
 				</tbody>
 			</table>
 		<!-- /ko -->
 		<!-- ko ifnot: savedCarts.length -->
 			<div>
 				<h6>None Found</h6>
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.saved_cart_form_submit" type="text/html">
      <span data-bind="if: showQuickAtc">
 			<button class="btn btn-small btn-secondary" data-bind="click: addToSavedCart, text: oConfig.labels.savedCartsLabels.addToSavedCart"></button>
 		</span>
     </script>
     <script id="catalog.saved_cart_confirmation_body" type="text/html">
      <div class="text-center" style="display: block;">
 			<h4 class="text-success">
 				<span data-bind="plural: details, text: oConfig.labels.savedCartsLabels.itemText"></span>
 				<span data-bind="text: oConfig.labels.savedCartsLabels.modalConfirmationSubHeader"></span>
 			</h4>
 			<div class="cart-sc-nm" data-bind="text: cart.nickname"></div>
 			<div class="well well-small">
 				<a
 					class="btn btn-block"
 					data-bind="attr: {
 						href : oConfig.sessionData.orderfrontUrl + '/payment.asp?o_key=' + cart.key
 					}"
 				>
 					<span data-bind="text: oConfig.labels.savedCartsLabels.modalConfirmationViewButton"></span>
 				</a>
 				<a href="my_saved_carts.asp" class="btn btn-block"><span data-bind="text: oConfig.labels.savedCartsLabels.modalConfirmationManageButton"></span></a>
 				<a href="#" class="btn btn-block" data-dismiss="modal"><span data-bind="text: oConfig.labels.savedCartsLabels.modalConfirmationCloseButton"></span></a>
 			</div>
 		</div>
     </script>
     <script id="catalog.qty_restrictions" type="text/html">
      <div class="text-small muted" data-bind="attr: { 'data-key' : key() } ">
 			<div id="qty_controls_msg" >
 				<span data-bind="if: selectedUom().minQty() > 0">
 					<span data-bind="text: oConfig.labels.minQty"></span>: <span data-bind="text: selectedUom().minQty()"></span><br> 
 					<input type="hidden" data-bind="attr: { name: 'minQty_'+ key() }, value: selectedUom().minQty()" />
 				</span> 
 
 				<span data-bind="if: selectedUom().maxQty() > 0">
 					<span data-bind="text: oConfig.labels.maxQty"></span>: <span data-bind="text: selectedUom().maxQty()"></span><br> 
 					<input type="hidden" data-bind="attr: { name: 'maxQty_'+ key() }, value: selectedUom().maxQty()" />
 				</span>
 
 				<span data-bind="if: selectedUom().step() && selectedUom().step() !== 1">
 					<span data-bind="text: oConfig.labels.step"></span>: <span data-bind="text: selectedUom().step()"></span><br> 
 					<input type="hidden" data-bind="attr: { name: 'qty_increment_'+ key() }, value: selectedUom().step()" />
 				</span>
 			</div>
 		</div>
     </script>
     <script id="catalog.inventory" type="text/html">
      <span data-bind="if: inventory.isInventoryItem && oConfig.useIdp">
 			<span data-bind="template: warehouseTemplate"></span>
 		</span>
     </script>
     <script id="catalog.selected_product_price_display" type="text/html">
      <span data-bind="if: unitPrice() === 0 && oConfig.showZeroPriceMessage">
 			<ul class="unstyled">
 				<li class="retail">					
 					<span data-bind="text: oConfig.zeroPriceMessage"></span> 
 					<span class="prod-uom" data-bind="template: 'catalog.uom'"></span>
 				</li>
 				<li class="text-small" data-bind="template: { name: 'catalog.qty_breaks', if: oConfig.useBreaks }"></li>
 			</ul>
 		</span>
 		<span data-bind="if: !(unitPrice() === 0 && oConfig.showZeroPriceMessage) && showPrice && uomPrice()">
 			<ul class="unstyled">
 				<!-- ko if: priceTrace -->
 				<li class="text-small">
 					<div class="alert alert-info" data-bind="html: priceTrace().replace(/\n/gi,'<br>') "></div>
 				</li>
 				<!-- /ko -->
 				<li class="retail">					
 					<b data-bind="text: utils.formatPrice(unitPrice())"></b> 
 					<span class="prod-uom" data-bind="template: 'catalog.uom'"></span>
 				</li>
 				<!-- ko if: showYouSave -->
 					<li class="sretail">
 						<del data-bind="text: utils.formatPrice(suggestedPrice())"></del> 
 						<span class="yousave" data-bind="spacedtext: oConfig.labels.youSaveLabel + ' ' + youSavePercent()"></span>
 					</li>
 				<!-- /ko -->
 				<li class="text-small" data-bind="template: { name: 'catalog.qty_breaks', if: oConfig.useBreaks }"></li>
 			</ul>
 		</span>
 		<span data-bind="if: !showPrice || !showAtc">
 			<span class="label label-info" data-bind="html: $data.mapPriceMessage"></span>
 		</span>
     </script>
     <script id="catalog.input_qty_sku_display" type="text/html">
      <!-- ko if : oConfig.detailConfig.inputQtyLinkToChild -->
 			<a data-bind="html: sku, attr: { 'href' : link}"></a>
 		<!-- /ko -->
 		<!-- ko if : !oConfig.detailConfig.inputQtyLinkToChild -->
 			<span data-bind="html: sku"></span>
 		<!-- /ko -->
     </script>
     <script id="catalog.input_qty_nm_display" type="text/html">
      <!-- ko if : oConfig.detailConfig.inputQtyLinkToChild -->
 			<a data-bind="html: name, attr: { 'href' : link}"></a>
 		<!-- /ko -->
 		<!-- ko if : !oConfig.detailConfig.inputQtyLinkToChild -->
 			<span data-bind="html: name"></span>
 		<!-- /ko -->
     </script>
     <script id="catalog.input_qty_thumb_display" type="text/html">
      <!-- ko if : oConfig.detailConfig.inputQtyLinkToChild -->
 			<a data-bind="attr: { 'href' : link}">
 				<img data-bind=" attr: { src: buildImagePath(thumb()), alt: name }" />
 			</a>
 		<!-- /ko -->
 		<!-- ko if : !oConfig.detailConfig.inputQtyLinkToChild -->
 			<img data-bind=" attr: { src: buildImagePath(thumb()), alt: name }" />
 		<!-- /ko -->
     </script>
     <script id="catalog.input_qty_promo_display" type="text/html">
      <!-- ko if : promoDescriptions.length -->
 			<div class="promo-icon" data-bind="attr: { title: setPromoDescriptionTitleText(promoDescriptions) }">P</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.price_start_at" type="text/html">
      <!-- ko if: childStartingPrice -->
 			<span data-bind="text: oConfig.searchConfig.labels.pricesStartingAt + utils.formatPrice(childStartingPrice())"></span>
 		<!-- /ko -->
     </script>
     <script id="catalog.qty_breaks" type="text/html">
      <span data-bind="if: showPrice && selectedUom().hasBreaks()">
 			<a data-bind="attr: { href: 'pricebreakpopup.asp?p_key=' + key() }, text: oConfig.labels.breaks" class="global-modal" data-size="small"></a><br>
 		</span>
     </script>
     <script id="catalog.related_products" type="text/html">
      <div id="related_products" class="clearfix detail_related" data-bind="if: oConfig.detailConfig.useRelatedProducts">
 			<span data-bind="if: $data.length > 0">
 				<h2 data-bind="html: oConfig.detailConfig.labels.relatedProducts"></h2>
 				<span data-bind="template: 'catalog.simple_product_gallery'"></span>
 			</span>
 		</div>
     </script>
     <script id="catalog.second_related_products" type="text/html">
      <div id="second_related_products" class="clearfix detail_related" data-bind="if: oConfig.detailConfig.useSecondRelatedProducts">
 			<span data-bind="if: $data.length > 0">
 				<h2 data-bind="html: oConfig.detailConfig.labels.secondRelatedProducts"></h2>
 				<span data-bind="template: 'catalog.simple_product_gallery'"></span>
 			</span>
 		</div>
     </script>
     <script id="catalog.also_bought" type="text/html">
      <div id="also_bought" class="clearfix detail_related" data-bind="if: oConfig.detailConfig.useAlsoBoughtProducts">
 			<span data-bind="if: $data.length > 0">
 				<h2 data-bind="html: oConfig.detailConfig.labels.alsoBoughtProducts"></h2>
 				<span data-bind="template: 'catalog.simple_product_gallery'"></span>	
 			</span>
 		</div>
     </script>
     <script id="catalog.recently_viewed" type="text/html">
      <div id="recently_viewed_products" class="clearfix detail_related" data-bind="if: oConfig.detailConfig.useRecentlyViewedProducts && $data.length > 0">
 			<span data-bind="if: $data.length > 0">
 				<h2 data-bind="html: oConfig.detailConfig.labels.recentlyViewedProducts"></h2>
 				<span data-bind="template: 'catalog.simple_product_gallery'"></span>
 			</span>
 		</div>
     </script>
     <script id="catalog.simple_product_gallery" type="text/html">
      <div class="prod-listings" data-bind=" fastForEach: { data: $data }">
 			<!-- template: 'catalog.product_card' -->
 		</div>
     </script>
     <script id="catalog.flags" type="text/html">
      <!-- ko foreach: flags -->
 			<div data-bind="if: $data, attr: { 'id': 'flag' + ($index() + 1) }" class="product_flags">
 				<!-- ko if: oConfig.flags[$index()].link && oConfig.flags[$index()].link != "\"\""-->
 					<a data-bind="
 						attr: {
 							href: oConfig.flags[$index()].link,
 							title: oConfig.flags[$index()].title
 						}"
 						class="global-modal"
 					>
 						<img data-bind="attr: { src: buildImagePath(oConfig.flags[$index()].pic) }" />
 					</a>
 				<!-- /ko -->
 				<!-- ko ifnot: oConfig.flags[$index()].link && oConfig.flags[$index()].link  != "\"\""-->
 					<img data-bind="attr: { src: buildImagePath(oConfig.flags[$index()].pic) }" />
 				<!-- /ko -->
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.flags_thumb" type="text/html">
      <!-- ko foreach: flags -->
 			<div data-bind="if: $data, attr: { 'id': 'flag' + ($index() + 1) }" class="product_flags">
 					<a data-bind="
 						attr: {
 							href: oConfig.flags[$index()].link,
 							title: oConfig.flags[$index()].title
 						}"
 						class="global-modal"
 					>
 						<img data-bind="attr: { src: buildImagePath(oConfig.flags[$index()].thumb) }" />
 					</a>
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.uom" type="text/html">
      <!-- ko if: selectedProduct().showQuickAtc -->
 			<span data-bind="template: selectedProduct().uomTemplate"></span>
 		<!-- /ko -->
     </script>
     <script id="catalog.uom_select" type="text/html">
      <!-- ko if: oConfig.useUom -->
 			/
 			<select data-bind="
 				options: selectedProduct().uomPrice,
 				optionsText: 'description',
 				value: selectedProduct().selectedUom
 				"
 			>
 			</select>
 		<!-- /ko -->
     </script>
     <script id="catalog.uom_input" type="text/html">
      <!-- ko if: oConfig.useUom -->
 			<input type="hidden" data-bind="attr: { name: 'uom_'+ key() }, value: uomPrice()[0].description">
 			<small>/ <span data-bind="html: uomPrice()[0].description()"></span></small>
 		<!-- /ko -->
     </script>
     <script id="warehouse_off" type="text/html">
      <!-- ko if: inventory.stock() > 0 || !$.isNumeric(inventory.stock()) -->
 			<span data-bind="html: inventory.stock"></span>
 		<!-- /ko -->
 		<!-- ko if: inventory.showMessage -->
 			<span data-bind="html: inventory.stockMessage"></span>
 		<!-- /ko -->
 		<!-- ko if: inventory.inventoryStatus() === 'out' && oConfig.showInventoryWatch && show_inv_watch-->
 			<div class="prod-inv-watch">
 				<a 
 					data-bind="
 						text: oConfig.labels.inventoryWatch, 
 						attr: { 
 							href: 'prod_inv_watch_add.asp?p_id=' + key() + '&p_nm=' + name() + '&p_sku=' + sku(), 
 							title: oConfig.labels.inventoryWatch 
 						}"
 					class="global-modal" 
 					data-size="small"
 				>
 				</a>
 			</div>
 		<!-- /ko -->
     </script>
     <script id="warehouse_droplist" type="text/html">
      <label data-bind="
 			attr : { 'for' : 'pw_id_' + key() },
 			html: oConfig.labels.warehouses
 		"></label>
 		<select class="wh-droplist" data-bind="
 			options: inventory.warehouses,
 			optionsText: function(item){
 				var quantity = item.stock();
 				var message = '';
 				
 				if($data.inventory.inventoryStatus() == 'in'){
 					if(quantity >= 0 || !$.isNumeric(quantity)){
 						message = quantity + ' ';
 					}else{
 						message = '0 ';
 					}
 				} 
 			
 				if($data.inventory.showMessage){
 					message = message + utils.removeHTML($data.inventory.stockMessage());
 				}
 
 				if(message !== ''){
 					message = '(' + message + ')';
 				}
 				return item.name() + ' ' + message; 
 			},
 			optionsValue: $data,
 			value: selectedWarehouse,
 			attr: {
 				'id': 'pw_id_' + key(),
 				'name': 'pw_id_' + key()
 			}
 		">
 		</select>
     </script>
     <script id="warehouse_table" type="text/html">
      <table class="table table-bordered">
 			<tr><th data-bind=" html : oConfig.labels.warehouses"></th>
 			<th data-bind=" html : oConfig.labels.inventoryStatus"></th></tr>
 			<tbody data-bind=" foreach: inventory.warehouses">
 				<tr data-bind=" css : { default_warehouse : isDefault }">
 					<td data-bind=" html: name"></td>
 					<td data-bind=" html: stock() + ' ' + stockMessage()"></td>
 				</tr>
 			</tbody>
 		</table>
 		<input type="hidden" data-bind=" 
 			attr : {
 				'id' : selectedWarehouse().key,
 				'name' : selectedWarehouse().key,
 				'value' : selectedWarehouse().key
 			}
 		">
     </script>
     <script id="warehouse_info" type="text/html">
      <div class="idp-warehouse clearfix" data-bind="if: selectedWarehouse().key">
 			<div class="wh-selected">
 				<div class="wh-selected-nm" data-bind="
 					attr : { 'id' : 'selected_warehouse_' + selectedWarehouse.key },
 					html : selectedWarehouse().name()
 				"></div>
 				<span data-bind="
 					attr : { 'id' : 'stock_message_' + key() },
 					html : selectedWarehouse().stock() + ' ' + selectedWarehouse().stockMessage()
 				"></span> 
 			</div>
 			<input type="hidden" data-bind=" 
 				attr : {
 					'id' : selectedWarehouse().key,
 					'name' : selectedWarehouse().key,
 					'value' : selectedWarehouse().key
 				}
 			">
 		</div>
     </script>
     <script id="catalog.image_gallery" type="text/html">
      <div class="detail-img-gallery">
 			<div class="detail-img">
 				<div class="detail-img-container">
 					<div data-bind="template: 'catalog.flags'"></div>
 					<a
 						id="detail_large"
 						data-bind="
 							attr: {
 								href: buildImagePath(largePic() || $parent.largePic()),
 								title: (name() || $parent.name())
 							}, 
 							venobox
 						"
 						data-gall="detailmultipic"
 						class="detail-img-main"
 					>
 					<img
 						data-bind="
 							attr: {
 								src: buildImagePath(pic() || $parent.pic()),
 								alt: name() || $parent.name()
 							}
 						"
 						id="prodpicthumb"
 						name="prodpic"
 						itemprop="image"
 						onerror="utils.handleImageError(this)"
 					>
 					</a> 
 				</div>
 				<div class="detail-img-enlarge" data-bind="if: largePic() || $parent.largePic()" >
 					<a href="#" class="btn btn-small btn-link" onclick="$('#detail_large').click(); return false;">
 						<i class="icon-zoom-in icon-fixed-width"></i>View Larger
 					</a>
 				</div>
 			</div>
 			<!-- ko if: multiPic().length > 0 || $parent.multiPic().length > 0 -->
 				<div class="detail-img-multi" data-bind="foreach: { data: multiPic().length ? multiPic(): $parent.multiPic() }">
 					<a class="detail-img-multi-item venobox vbox-item" 
 						 data-bind="attr: { href: buildImagePath(link()), title: name }, venobox" 
 						 data-gall="detailmultipic">
 						<img data-bind="attr: { src: buildImagePath(image()) }">
 					</a>
 				</div>
 			<!-- /ko -->
 		</div>
     </script>
     <script id="catalog.name_link" type="text/html">
      <a data-bind="attr: { href: link, title: name }, text: name"></a>
     </script>
     <script id="catalog.image_link" type="text/html">
      <a data-bind="attr: { href: link, title: name }">
 			<img 
 				data-bind="
 					attr: { 
 						src: buildImagePath(thumb()), 
 						alt: name 
 					}" 
 				onerror="utils.handleImageError(this)">
 		</a>
     </script>
     <script id="catalog.details_link" type="text/html">
      <a data-bind="
 			attr: {
 				href: link,
 				title: name
 			},
 			text: 'Details'
 		">
 		</a>
     </script>
     <script id="catalog.product_links" type="text/html">
      <div class="detail-links button-group">
 			<!-- ko if: oConfig.showEmailFriend -->
 				<!-- template: 'catalog.email_friend' -->
 			<!-- /ko -->
 			<!-- ko if: oConfig.showFavLink -->
 				<!-- template: 'catalog.fav_button' -->
 			<!-- /ko -->
 			<!-- ko if: oConfig.showRFQLink -->
 				<!-- template: 'catalog.rfq_button' -->
 			<!-- /ko -->
 		</div>
     </script>
     <script id="catalog.children_selection" type="text/html">
      <!-- ko foreach: $data.childSelectors -->
 			<label data-bind="text: label, attr: { for: field }">
 			</label>
 			<select data-bind="
 				attr: { id: field, name: field },
 				options: options,
 				optionsText: 'option',
 				value: selectedOption,
 				optionsCaption: '-- Select One --'
 				"
 			></select>
 	<!-- /ko -->
     </script>
     <script id="catalog.email_friend" type="text/html">
      <a class="btn btn-link global-modal" 
 			 data-bind="attr: { href: 'email_friend_request.asp?p_id=' + key() + '&type=product' }" 
 			 data-icon="envelope"
 		>
 			<i class="icon-envelope"></i>
 			<span data-bind="html: oConfig.labels.emailFriend"></span>
 		</a>
     </script>
     <script id="catalog.fav_link" type="text/html">
      <a class="global-modal" 
 			 data-bind="attr: { href: 'add_product_to_favorites.asp?p_id=' + key() }" 
 			 data-icon="heart"
 			 data-size="small"
 		>
 			<span data-bind="html: oConfig.labels.favLink"></span>
 		</a>
     </script>
     <script id="catalog.fav_button" type="text/html">
      <a class="btn btn-link global-modal" 
 			 data-bind="attr: { href: 'add_product_to_favorites.asp?p_id=' + key() }" 
 			 data-icon="heart"
 		>
 			<i class="icon-heart"></i>
 			<span data-bind="html: oConfig.labels.favLink"></span>
 		</a>
     </script>
     <script id="catalog.remove_fav_button" type="text/html">
      <div>
 			<a 
 			   data-bind="
 				   click: function() { fncRemoveItem(key(), selectedProduct()); },
 				   attr: { title: oConfig.labels.removeFavLink, 
 				   href: 'javascript:void(0);' 
 				   }">
 			   <i class="icon-remove"></i> 
 			   <span data-bind="html: oConfig.labels.removeFavLink"></span>
 			</a>
 		</div>
     </script>
     <script id="catalog.rfq_button" type="text/html">
      <a class="btn btn-link global-modal" 
 			 data-bind="attr: { href: 'rfq_ae.asp?lightbox=1&p_id=' + key() }" 
 			 data-icon="usd"
 		>
 			<i class="icon-usd"></i>
 			<span data-bind="html: oConfig.labels.rfqLinkLabel"></span>
 		</a>
     </script>
     <script id="catalog.share_code" type="text/html">
     </script>
     <script id="catalog.hazmat" type="text/html">
      <span data-bind="text: oConfig.labels.hazmat"></span><br>
 		<!-- ko if: dangerousRatio() !== 1 -->
 			<span data-bind="html: oConfig.labels.hazmatBoxRatio + dangerousRatio()"></span><br>
 		<!-- /ko -->
 		<!-- ko if: oConfig.hazmatLink-->
 			<a class="global-modal" data-bind="text: oConfig.labels.hazmatHelpText, attr: { href: oConfig.hazmatLink }"></a> <br>
 		<!-- /ko -->
     </script>
     <script id="catalog.documents" type="text/html">
      <ul class="doc_downloads unstyled">
 			<!-- ko if: $data.length > 0 -->
 				<li data-bind="html: oConfig.labels.downloads"></li>
 				<!-- ko foreach: $data -->
 					<li>
 						<a data-bind="attr: { href: buildImagePath(link()) }, text: name" target="_blank" ></a>
 					</li>
 				<!-- /ko -->
 			<!-- /ko -->
 		</ul>
     </script>
     <script id="catalog.product_account_history_short" type="text/html">
     </script>
     <script id="catalog.smart_lists" type="text/html">
      <!-- ko if: oConfig.showProductHistory && oConfig.isLoggedIn-->
 			<h2 data-bind="html: oConfig.labels.productHistory"></h2>
 			<div class="smart-lists-container">
 				<div class="smart-list">
 					<!-- ko ifnot: accountHistory -->
 						<p class="alert alert-warning">No additional information available.</p>
 					<!-- /ko -->
 					<!-- ko if: accountHistory -->
 						<p data-bind="if: accountHistory.accountName">
 							<strong>Account:</strong>
 							<!-- text: accountHistory.accountName -->
 						</p>
 						<p data-bind="if: accountHistory.lastUpdate">
 							<strong>Last Updated:</strong>
 							<!-- text: accountHistory.lastUpdate -->
 						</p>
 						<!-- template: { name: 'catalog.smart_lists_table', data: accountHistory, if: accountHistory } -->
 					<!-- /ko -->
 				</div>
 			</div>
 		<!-- /ko -->
     </script>
     <script id="catalog.smart_lists_table" type="text/html">
      <table class="table table-bordered">
 			<tr class="header-row order-stats">
 				<th colspan="2">
 					Order Stats
 					<!-- ko if: isOrdered -->
 						-
 						<a data-bind="
 							attr: {
 								href: $parent.getSmartListLinkOrderStats($parent)
 							}
 						">
 							View Details
 						</a>
 					<!-- /ko -->
 				</th>
 			</tr>
 			<!-- ko if: isOrdered -->
 				<tr class="total-qty-ordered">
 					<td>Total Qty Ordered</td>
 					<td data-bind="text: sumQty"></td>
 				</tr>
 				<tr class="total-times-ordered">
 					<td>Total Times Ordered</td>
 					<td data-bind="text: orderCount"></td>
 				</tr>
 				<tr class="most-recent-order-date">
 					<td>Most Recent Order Date</td>
 					<td data-bind="text: mostRecentOrderDate"></td>
 				</tr>
 				<tr class="oldest-order-date">
 					<td>Oldest Order Date</td>
 					<td data-bind="text: oldestOrderDate"></td>
 				</tr>
 			<!-- /ko -->
 			<!-- ko ifnot: isOrdered -->
 				<tr class="previously-ordered">
 					<td>Previously Ordered</td>
 					<td>No</td>
 				</tr>
 			<!-- /ko -->
 			
 			<tr class="header-row invoice-stats">
 				<th colspan="2">
 					Invoice Stats
 					<!-- ko if: isInvoiced -->
 						-
 						<a data-bind="
 							attr: {
 								href: $parent.getSmartListLinkInvoiceStats($parent)
 							}
 						">
 							View Details
 						</a>
 					<!-- /ko -->
 				</th>
 			</tr>
 			<!-- ko if: isInvoiced -->
 				<tr class="total qty invoiced">
 					<td>Total Qty Invoiced</td>
 					<td data-bind="text: sumInvoiceQty"></td>
 				</tr>
 
 				<tr class="total-times-invoiced">
 					<td>Total Times Invoiced</td>
 					<td data-bind="text: invoiceCount"></td>
 				</tr>
 
 				<tr class="most-recent-invoice-date">
 					<td>Most Recent Invoice Date</td>
 					<td data-bind="text: mostRecentInvoiceDate"></td>
 				</tr>
 
 				<tr class="oldest-invoice-date">
 					<td>Oldest Invoice Date</td>
 					<td data-bind="text: oldestInvoiceDate"></td>
 				</tr>
 
 				<tr class="amount-invoiced-mtd">
 					<td>Amount Invoiced MTD</td>
 					<td data-bind="text: utils.formatMoney(sumInvoicedMtd)"></td>
 				</tr>
 
 				<tr class="amount-invoiced-last-month">
 					<td>Amount Invoiced Last Month</td>
 					<td data-bind="text: utils.formatMoney(sumInvoicedLastMonth)"></td>
 				</tr>
 
 				<tr class="amount-invoiced-ytd">
 					<td>Amount Invoiced YTD</td>
 					<td data-bind="text: utils.formatMoney(sumInvoicedYtd)"></td>
 				</tr>
 
 				<tr class="amount-invoiced-last-year">
 					<td>Amount Invoiced Last Year</td>
 					<td data-bind="text: utils.formatMoney(sumInvoicedLastYear)"></td>
 				</tr>
 
 				<tr class="total-amount-invoiced">
 					<td>Total Amount Invoiced</td>
 					<td data-bind="text: utils.formatMoney(sumInvoiced)"></td>
 				</tr>
 			<!-- /ko -->
 			<!-- ko ifnot: isInvoiced -->
 				<tr class="previously-invoiced">
 					<td>Previously Invoiced</td>
 					<td>No</td>
 				</tr>
 			<!-- /ko -->
 			
 			<tr class="header-row other-stats">
 				<th colspan="2">Other Stats</th>
 			</tr>
 			<!-- ko if: isOnFavList -->
 				<tr class="on-favorites-list">
 					<td>On Favorites List</td>
 					<td>Yes</td>
 				</tr>
 			<!-- /ko -->
 			<!-- ko if: viewedCount -->
 				<tr class="times-viewed">
 					<td>Times Viewed</td>
 					<td data-bind="text: viewedCount"></td>
 				</tr>
 				<tr class="most-recent-view-date">
 					<td>Most Recent View Date</td>
 					<td data-bind="text: mostRecentViewDate"></td>
 				</tr>
 			<!-- /ko -->
 			<!-- ko if: isOnInventoryWatch -->
 				<tr class="on-inventory-watch">
 					<td>On Inventory Watch</td>
 					<td>Yes</td>
 				</tr>
 			<!-- /ko -->
 			<tr class="in-abandoned-cart">
 				<td>In Abandoned Cart</td>
 				<td data-bind="text: isInAbandondedCart ? 'Yes' : 'No'"></td>
 			</tr>
 		</table>
     </script>
     <script id="catalog.detail_info" type="text/html">
      <div class="detail-info">
 			<table id="detail_info_sf" class="table" data-tablesaw-mode="stack">
 				<!-- template: { name: 'catalog.detail_info_items', data: selectedProduct } -->
 			</table>
 		</div>
     </script>
     <script id="catalog.detail_info_items" type="text/html">
      <tr id="detail_info_sku" data-bind="template: 'catalog.sku_label'"></tr>
 			<!-- template: { name: 'catalog.searchfields', foreach: _.values(searchfields) } -->
     </script>
     <script id="catalog.sku_label" type="text/html">
      <th data-bind="html: oConfig.labels.sku"></th>
 		<td itemprop="sku" data-bind="text: selectedProduct().sku"></td>
     </script>
     <script id="catalog.searchfields" type="text/html">
      <!-- ko if: show -->
 			<tr data-bind="attr: { id: 'detail_searchfield' }">
 				<th data-bind="html: label"></th>
 				<td data-bind="html: value"></td>
 			</tr>
 		<!-- /ko -->
     </script>
     <script id="promotions.descriptions" type="text/html">
      <div class="promo-panel-container">
 			<h4 class="promo-panel-heading" data-bind="text: title"></h4>
 			<ul class="promo-panel-content" data-bind="foreach: descriptions">
 				<li
 					class="promo-panel"
 					data-bind="
 						text: description,
 						css: {
 							faded: $parent.selectedProduct().type !== 'parent' && !_.contains(targetKeys, $parent.selectedProduct().key())
 						}
 				">
 				</li>
 			</ul>
 		</div>
     </script>
     <script id="catalog.configurator" type="text/html">
      <form id="frmAddToCart">
 			<div id="configurator" data-bind="configurator: $data"></div>
 		</form>
     </script>
     <script type="text/javascript">
      // The configurator markup cannot be placed directly in a template
 		// because it can contain scripts and scripts cannot be nested. Instead,
 		// a surrogate is used to allow the scripts to run and then its contents
 		// are moved when the template is called. This means that each surrogate
 		// can only be used once, and thus, only one product per page can
 		// display a configurator form. However, this isn't a new limitation to
 		// configurator since configurator uses generic IDs for all the elements
 		// it creates.
 		ko.bindingHandlers.configurator = {
 			init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
 				var product = ko.unwrap(valueAccessor());
 				var data = product.configuratorEditData
 				var $surrogate = $('#configurator_surrogate').detach();
 				var $element = $(element);
 				// Remove the scripts to prevent jQuery from running them again upon insertion.
 				// Form builder does not allow disabling the use of form actions.
 				$surrogate.find('script, .form-actions').remove();
 				// In order to preserve bindings and jQuery data, the elements
 				// are moved from the surrogate rather than copied. This won't
 				// cause a reflow because the surrogate has `display: none`.
 				$element.html($surrogate);
 				$surrogate.children(':first-child').unwrap();
 
 				if (data) {
 					_.each(data.choices, function (choice) {
 						var $inputs = $element.find('[name="' + choice.name + '"]');
 
 						if ($inputs.is(':checkbox, :radio')) {
 							$inputs.filter('[value="' + choice.answer + '"]').prop('checked', true);
 						} else {
 							$inputs.val(choice.answer);
 						}
 
 						// Update display activators.
 						$inputs.change();
 					})
 
 					product.selectedQty(data.qty);
 				}
 			}
 		};
 
 		ko.bindingHandlers.validateQty = {
 			init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
 
 				$(element).on("click blur", function (event) {
 					var min        = parseFloat($(element).attr('min'));
 					var max        = parseFloat($(element).attr('max')) || 0;
 					var step       = parseFloat($(element).attr('step'));
 					var currentQty = parseFloat($(element).val());
 					var newQty     = currentQty;
 					var lowerBound;
 					var minFound = false;
 					var maxFound = false;
 					var accessor = valueAccessor() || [];
 					
 					viewModel.updateQty = function(args){
 						if(viewModel.orderDetailKey){
 							viewModel.qty(args);
 						}else{
 							viewModel.selectedQty(args);
 						}
 					};
 
 					if($(element).val() == ''){
 						if((isActiveLayout('gallery') && event.type == 'blur') || event.type == 'click' ) {
 							$(element).select();
 							viewModel.updateQty(min);
 							return;
 						}
 					}
 
 					if(currentQty < min){
 						newQty = min;
 						viewModel.updateQty(newQty);
 						invalidQtyNotification(bindingContext.$data)
 						return;
 					}
 
 					if(currentQty > max && max > 0){
 						newQty = max;
 						viewModel.updateQty(newQty);
 						invalidQtyNotification(bindingContext.$data)
 						return;
 					}
 
 					var stepMod = parseFloat((currentQty - min) % step);
 					if(stepMod != 0 && (!maxFound && !minFound)){
 						newQty = Math.ceil((currentQty - min) / step) * step + min;
 
 						viewModel.updateQty(newQty);
 						invalidQtyNotification(bindingContext.$data)
 						return;
 					}
 
 				});
 			}
 		};
 
 		ko.bindingHandlers.validateQtyControlInput = {
 			init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
 
 				$(element).on("click blur", function (event) {
 					var min        = parseFloat($(element).attr('min'));
 					var max        = parseFloat($(element).attr('max')) || 0;
 					var step       = parseFloat($(element).attr('step'));
 					var currentQty = parseFloat($(element).val());
 					var newQty     = currentQty;
 					var lowerBound;
 					var minFound = false;
 					var maxFound = false;
 					var accessor = valueAccessor() || allBindings().value;
 
 					if(currentQty !== 0 && currentQty < min){
 						newQty = min;
 						accessor(newQty);
 						return;
 					}
 
 					if(currentQty > max && max > 0){
 						newQty = max;
 						accessor(newQty);
 						return;
 					}
 
 					var stepMod = parseFloat((currentQty - min) % step);
 					if(stepMod != 0 && (!maxFound && !minFound)){
 						if(ko.unwrap(valueAccessor())) {
 							newQty = Math.ceil((currentQty - min) / step) * step + min;
 						} else {
 							newQty = Math.floor((currentQty - min) / step) * step + min;
 						}
 						accessor(newQty);
 						return;
 					}
 
 				});
 			}
 		};
 
 		(function () {
 			function getInputs(productKey) {
 				var keyAttribute = 'data-configurator-product-key';
 				// The container will vary based on whether this function is called
 				// before or after the `catalog.configurator` template is used.
 				var $container = $('#configurator_surrogate');
 				if (!$container.length) $container = $('#configurator');
 				var $dataElement = $container.find('[' + keyAttribute + ']');
 				return $dataElement.attr(keyAttribute) === productKey ? $container.find(':input') : null;
 			}
 			
 			function getPrice($inputs) {
 				var price = 0;
 				$inputs
 					.find('select :selected')
 					.add($inputs.filter(':checked'))
 					.filter(':visible:not(:disabled)')
 					.each(function () {
 						price += $(this).data('price') || 0;
 					});
 
 				return price;
 			}
 
 			window.buildConfiguratorPriceObservable = function (productKey) {
 				var priceObservable = ko.observable(0);
 				var $inputs = getInputs(productKey);
 
 				if ($inputs) {
 					priceObservable(getPrice($inputs));
 
 					$inputs.change(function () {
 						var newPrice = getPrice($inputs);
 						if (priceObservable() !== newPrice) priceObservable(newPrice);
 					});
 				}
 
 				return priceObservable;
 			};
 
 			window.buildConfiguratorPostData = function (productKey) {
 				var $inputs = getInputs(productKey);
 				var postData = {};
 
 				if ($inputs) {
 					var ary = $inputs.filter(':not(:disabled)').serializeArray(); // can't exclude non-visible items; configurator uses them a lot!
 					_.each(ary, function (datum) {
 						if (datum.value) postData[datum.name] = datum.value;
 					});
 					postData['use_config_questions_' + productKey] = true;
 				}
 
 				return postData;
 			};
 		}());
     </script>
     <div id="configurator_surrogate" style="display: none">
     </div>
     <script>
      function invalidQtyNotification(data) {
 		// change where key is derived from (different on payment page than catalog)
 		var elementSelector = data.key ? '*[data-key="'+ data.key() + '"]' : '*[data-key="'+ data.orderDetailKey() + '"]';
 		element = $(elementSelector);
 		if ($(element).length){
 			if(oConfig.preventATCInvalidQty) data.isQtyValid(false);
 			$(element).popover('show').addClass('text-error') ;
 			setTimeout(function () { 
 				$(element).popover('toggle').removeClass('text-error');
 
 				// check to see if prop exists (doesn't on payment page)
 				if(data.isQtyValid) {
 					data.isQtyValid(true);
 				}
 			}, 3000 );
 		}
 	}
 
 	function changeSort(data, event) {
 		window.location = utils.setParameter('sortby', event.target.value );		
 	}
 
 	function getSelectedSort() {
 		return utils.getParameter('sortby') || oConfig.searchConfig.defaultSort;
 	}
 
 	function changeRpp(data, event) {
 		var sUrl = utils.setParameter('rpp', event.target.value);
 		sUrl = utils.setParameter('page', 1, sUrl);
 		window.location = sUrl;
 	}
 
 	function getSelectedRpp() {
 		return utils.getParameter('rpp') || oConfig.searchConfig.rpp;
 	}
 
 	function isActiveLayout(layout) {
 		return getActiveLayout() === layout;
 	}
 
 	function getActiveLayout() {
 		return oConfig.pageName === 'pc_combined_results.asp' ? oConfig.searchConfig.showLayout ? utils.getCookie('productLayout') || oConfig.searchConfig.layout : oConfig.searchConfig.layout : null;
 	}
 	
 	function getStartCount() {
 		var startCount = (oConfig.searchConfig.page - 1) * oConfig.searchConfig.rpp + 1;
 		return startCount;
 	}
 
 	function getEndCount() {
 		var rpp = oConfig.searchConfig.rpp || oConfig.searchConfig.total;
 		var endCount = Math.min(((oConfig.searchConfig.page - 1) * rpp) + rpp, oConfig.searchConfig.total);
 		return endCount;
 	}
 
 	function maxPage() {
 		return Math.ceil(oConfig.searchConfig.total / oConfig.searchConfig.rpp);
 	}
 
 	function setLayout(layout) {
 		utils.setCookie('productLayout', layout);	
 		window.location.reload();
 	}
 
 	function getLayoutTemplate(data) {
 		if(data.results().length == 0 && !data.category){			
 			hideSidebar();
 		}
 
 		if(data.results().length == 0){
 			hideSearchTools();
 			return 'catalog.no_results'
 		} else {
 			return 'catalog.' + (utils.getCookie('productLayout') || oConfig.searchConfig.layout) + '_view';
 		}
 	}
 
 	function hideSidebar(){
 		$('#catalogSidebar').hide();
 		$('.main-content').removeClass('span9');
 	}
 
 	function hideSearchTools(){
 		$('#products_header, #products_footer, .hidesearchtools').hide()
 	}
 
 	function getQtyTemplate(data) {
 		if (data.requireInfoForAtc()) {
 			return 'catalog.details_link';
 		} else if (showQuickAtc(data)) { 
 			return 'catalog.atc_qty_input';
 		}
 	}
 
 	function pagingNodes() {
 		var page = oConfig.searchConfig.page;
 		var labels = oConfig.searchConfig.labels;
 		var maxPage = window.maxPage();
 
 		nodes = [
 			{
 				if: page > 1 && labels.prevPage,
 				page: page - 1,
 				text: labels.prevPage
 			},
 			{
 				if: page > 2,
 				page: 1,
 				text: labels.firstPage || 1
 			},
 			{
 				if: page > 3,
 				text: '&hellip;'
 			},
 			{
 				if: page > 1,
 				page: page - 1
 			},
 			{
 				if: true,
 				text: page,
 				page: page
 			},
 			{
 				if: page < maxPage,
 				page: page + 1
 			},
 			{
 				if: page < maxPage - 2,
 				text: '&hellip;'
 			},
 			{
 				if: page < maxPage - 1,
 				page: maxPage,
 				text: labels.maxPage || maxPage
 			},
 			{
 				if: page < maxPage && labels.nextPage,
 				page: page + 1,
 				text: labels.nextPage
 			},
 		];
 
 		return _.compact(_.map(nodes, function (node) {
 			return node.if ?
 				{
 					page: node.page,
 					text: node.text || node.page
 				} : null;
 		}));
 	}
 
 	function getATCModalSize(){
 		if(oConfig.usePromos){
 			return '';
 		}else{
 			return 'small';
 		}
 	}
 
 	function isTextSelected(input) {
 			if (typeof input.selectionStart == "number") {
 					return input.selectionStart == 0 && input.selectionEnd == input.value.length;
 			} else if (typeof document.selection != "undefined") {
 					input.focus();
 					return document.selection.createRange().text == input.value;
 			}
 	}
 
 	function setChildOptionDisable(field, optionElement, item) {
 		function isInvalidChildOption(children, options, field, item) {
 			return ko.computed(function () {
 				var match = {};
 				_.forEach(options, function (option) {
 					// Don't unwrap unnecessary observables.
 					if (option.field === field) return;
 					var selected = option.selectedOption();
 					if (selected) match[option.field] = selected.option;
 				});
 				match[field] = item.option;
 				return !_.find(children, match);
 			});
 		}
 
 		if (item) {
 			var obs = isInvalidChildOption(
 				viewModel.mainProduct.children(),
 				viewModel.mainProduct.childSelectors,
 				field,
 				item
 			);
 			ko.applyBindingsToNode(optionElement, {disable: obs}, item);
 		}
 	}
 
 	function buildImagePath(image){
 		if(!image){
 			return undefined;
 		}
 		else if(image.indexOf("http") > -1){
 			return image;
 		}else{
 			return 'images/' + image;
 		}
 	}
 
 	function addToCartWithValidation(products, event) {
 		var invalidQtyIndex = _.findIndex(products, function(product) {return !product.isQtyValid()});
 
 		//If the total quantity selected on the page is <=0 then display an error message
 		var iTotalQtyToAtc = _.filter(products,function(product) {return product.selectedProduct().selectedQty() > 0; }).length;
 		if (iTotalQtyToAtc <= 0) {
 			var data = { products: products, event: event };
 			utils.openModal({
 				body	: oConfig.atcInvalidQtyTemplate,
 				size	: getATCModalSize(),
 				title	: oConfig.labels.invalidQtyTitle
 			}, data);
 			return;
 		}
 
 		if(oConfig.preventATCInvalidQty && invalidQtyIndex != -1) {
 			utils.scrollTo('[data-key="' + products[invalidQtyIndex].key() + '"');
 		} else {
 			utils.addToCart(
 				_.filter(products, function (product) {
 					return product.selectedProduct().selectedQty() > 0;
 			}));
 		}
 	
 	}
 
 	function replaceSavedCartKeywordWithGlobal(sLabel) {
 		return sLabel.replace('<cart>', "Saved Cart");
 	}
 
 	$(function () {
 		ko.bindingHandlers.raty = {
 			init: function () {
 				return { controlsDescendantBindings: true };
 			},
 			update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
 				var value = ko.unwrap(valueAccessor());
 				var isRated = value != null;
 				var $element = $(element);
 				// This is no longer necessary since we are displaying ratings all the time, 
 				// plus it was setting inline style of 'block' when element needed 'inline-block' - jonr 2016-10-25
 				// $element.toggle(isRated); 
 
 				if (isRated) {
 					var options = typeof value === 'object' ? value : { score: value };
 					_.defaults(options, {
 						path: 'templates/gfx/',
 						space: false,
 						readOnly: true,
 						width: 90,
 						hints: oConfig.ratingNames
 					});
 					$(element).html($('<div>').raty(options));
 				}
 			}
 		};
 
 		ko.applyBindings();
 
 		runHook('afterApplyBindings', { });
 	});
 
 	function setPromoDescriptionTitleText(promoDescription) {
 		var productPromotions = "";
 
 		_.forEach(promoDescription, function (descriptions) {
 			productPromotions += descriptions.description + '\n';
 		});
 		return productPromotions;
 	}
 
 	function setSelectedQty() {
 		if (oConfig.pageName === "pc_combined_results.asp") {
 			return getActiveLayout() !== 'list';
 		}
 		else if(oConfig.pageName === "pc_product_detail.asp") {
 			return viewModel.mainProduct.childDisplayType() !== 'input-qty' && !viewModel.mainProduct.configuratorEditData;
 		}
 	}
 
 	//AJAX Call to remove item from favorites list.
 	function fncRemoveItem (sProdKey , product) {
 		jQuery.ajax({
 			url: sPageName,
 			data: 'ajax=removefavitems&p_key=' + sProdKey + '&fl_key=' + utils.getParameter('fl_key'),
 			type: 'GET',
 			dataType: 'text',
 			success: function () { 
 				//remove from viewmodel
 				viewModel.results.remove(product);
 			}
 		});
 	}
 
 	//If no products can be added to cart in list view then do not display the ATC button at the bottom of the page.
 	function showAddAllToCart() {
 		var productsShowingAtc = _.filter(viewModel.results(), function(result) { return result.showQuickAtc(); }).length;
 		return productsShowingAtc > 0;
 	}
 
 	var oConfig = {
 		pageName: "Default.asp", 
 		isModal: false,
 		atcSplashTemplate: 'catalog.atc_splash', 
 		atcInvalidQtyTemplate : 'catalog.atc_invalid_qty',
 		savedCartPopupTemplate: 'catalog.saved_cart_select_popup', 
 		ratingNames: ['Bad', 'Poor', 'Good', 'Very Good', 'Excellent'],
 		formValidationKey: "",
 
 		sessionData : {
 			sc_id : "B578117D99DB403DAD3F9386B70D4103",
 			sessionKey : "D207B0BC8F2B4DFDA1329C5D48CAEAC6",
 			storefrontUrl : "https://www.chefcraft.com",
 			orderfrontUrl : "https://www.chefcraft.com",
 		},
 
 		detailConfig : {
 			productKey                 : '',
 			useAdvancedTabs            : true,
 			useRelatedProducts         : true,
 			useSecondRelatedProducts   : false,
 			useAlsoBoughtProducts      : false,
 			useRecentlyViewedProducts  : true,
 			useAliases                 : false,
 			selectChildProductOnLoad   : true,
 			tabLayoutMode              : "list",
 			pageLayoutMode             : "gallery",
 			showDocuments              : true,
 			inputQtyLinkToChild        : false,
 
 			labels : {
 				relatedProducts        : "Related Products",
 				secondRelatedProducts  : "Additional Products",
 				alsoBoughtProducts     : "Customers Who Bought This Also Bought...",
 				readReviews            : "Read Reviews",
 				inputQty               : "Options",
 				inputQtyATCLabel       : "Add to Cart Below <i class=\"icon-chevron-down\"></i>",
 				recentlyViewedProducts : "Recently Viewed",
 				pricesStartingAt       : "Starting At:"
 			}
 		},
 
 		searchConfig : {
 			pageType           : '',
 			page               : 0,
 			total              : 0,
 			showAtc            : true,
 			hideAtcShowInv     : false,
 			showLayout         : true,
 			layout             : "gallery" || 'gallery',
 			showRpp            : true,
 			rppOptions         : [25,50,100],
 			showSort           : true,
 			productSort        : {
 		"field"     : "p.sku",
 		"direction" : "asc",
 		"display"   : "SKU (a-z)"
 	},
 			productSortOptions : [{
 		"field"     : "p.sku",
 		"direction" : "asc",
 		"display"   : "SKU (a-z)"
 	},{
 		"field"     : "p.sku",
 		"direction" : "desc",
 		"display"   : "SKU (z-a)"
 	},{
 		"field"     : "p.nm",
 		"direction" : "asc",
 		"display"   : "Name (a-z)"
 	},{
 		"field"     : "p.nm",
 		"direction" : "desc",
 		"display"   : "Name (z-a)"
 	}],
 			showDownload       : false,
 			
 			labels : {
 				layout                    : "",
 				sort                      : "Sort by",
 				rpp                       : "per page",
 				firstPage                 : "",
 				maxPage                   : "",
 				prevPage                  : "&lt; Prev",
 				nextPage                  : "Next &gt;",
 				favListRemoveColumnHeader : "",
 				searchResultsHeader       : "Search Results",
 				pricesStartingAt          : "Starting At:",
 				galleryView               : "<i class=\"icon-th\"></i> Gallery",
 				listView                  : "<i class=\"icon-list-ul\"></i> List"
 			}
 		},
 
 		formAction : "https://www.chefcraft.com/i_i_add_to_cart.asp",
 		isLoggedIn : false,
 		showChildrenSelection: false,
 
 		usePromos                : false,
 		useIdp                   : false,
 		useUom                   : false,
 		useQtyRestrictions       : true,
 		useReviews               : false,
 		allowAddAnonymousReviews : false,
 		get allowAddReviews()
 			{
 				return this.isLoggedIn || this.allowAddAnonymousReviews;
 			},
 		useBreaks                : true,
 		useSavedCarts            : false,
 		useTaxExempt             : false,
 		showInventoryWatch       : false,
 		showEmailFriend          : true,
 		showFavLink              : true,
 		showRFQLink              : false,
 		showProductHistory		 : false,
 		showWarehouses           : false,
 		showProdYouSave          : true,
 		allowWarehouseSelection  : false,
 		useWarehousesTable       : false,
 		defaultWarehouse         : "",
 		hazmatLink               : "",
 		allowChildATC            : true,
 		showListViewATC          : true,
 		showNameCol              : false,
 		showImgCol 				 : false,
 		preventATCInvalidQty 	 : false,
 		showZeroPriceMessage	 : false,
 		zeroPriceMessage		 : "Pricing is not currently available on this product. If purchased you will be contacted with pricing and updated order totals before processing your order.",
 
 		labels : {
 			pic                              : "Pic",
 			price                            : "Price",
 			sku                              : "SKU:",
 			uom                              : "Unit:",
 			description                      : "Description",
 			reviews                          : "Reviews",
 			productHistory                   : "Product History",
 			qty                              : "QTY",
 			breaks                           : "Qty Pricing",
 			inventoryWatch                   : "Add to Watch List",
 			warehouses                       : "Warehouses",
 			inventoryStatus                  : "Status",
 			downloads                        : "Downloads:",
 			suggestedPrice                   : "List Price",
 			nameCol                          : "Name",
 			imgCol                          : "Image",
 			emailFriend                      : "Email a Friend",
 			favLink                          : "Add to Favorites",
 			step                             : "Increment",
 			minQty                           : "Inner Pack Qty",
 			minQtyPopover 					 : "Inner Pack Qty: <min_qty>",
 			maxQty                           : "Max Qty",
 			showCartLink                     : "Proceed to Cart",
 			continueShoppingLink             : "Continue Shopping",
 			hazmat                           : "Hazardous Material",
 			hazmatBoxRatio                   : "Box Ratio",
 			hazmatHelpText                   : "What's This?",
 			invalidQtyText                   : "Please enter a valid quantity greater than 1",
 			invalidQtyTitle                  : "Invalid Quantity",
 			youSaveLabel                     : "MSRP",
 			removeFavLink                    : "Remove From Favorites", 	
 			rfqLinkLabel                     : "Request a Custom Quote", 				
 
 			savedCarts			: "Saved Cart",
 			savedCartsLabels 	: {
 				addToSavedCart                   : replaceSavedCartKeywordWithGlobal("Add to <cart>"),
 				itemText	                     : replaceSavedCartKeywordWithGlobal("Item"),
 				modalHeader                      : replaceSavedCartKeywordWithGlobal("Add Item to <cart>"),
 				modalCreateNew                   : replaceSavedCartKeywordWithGlobal("Create a new <cart>"),
 				modalCreateNewSaveButton         : replaceSavedCartKeywordWithGlobal("Save"),
 				modalCreateNewInputPlaceholder   : replaceSavedCartKeywordWithGlobal("<cart> Name"),
 				modalExisting                    : replaceSavedCartKeywordWithGlobal("Add to Existing <cart>"),
 				modalConfirmationHeader          : replaceSavedCartKeywordWithGlobal("Added to <cart>"),
 				modalConfirmationSubHeader       : replaceSavedCartKeywordWithGlobal("Added to <cart>"),
 				modalConfirmationViewButton      : replaceSavedCartKeywordWithGlobal("View <cart>"),
 				modalConfirmationManageButton    : replaceSavedCartKeywordWithGlobal("Manage <cart>s"),
 				modalConfirmationCloseButton     : replaceSavedCartKeywordWithGlobal("Close")
 			},
 
 			addToCart     : "<i class=\"icon-shopping-cart\"></i> Add",
 			addToCartList : "<i class=\"icon-shopping-cart\"></i> Add to Cart",
 			updateCartItem: "Update",
 			taxExempt     : "Tax Exempt?",
 
 			selectOptionsLabel : "Select options<i class=\"icon-angle-right icon-fixed-width\"></i>",
 
 			noResults : "",
 
 			productNotFound : "Product Not Found.",
 			categoryNotFound : "Category Not Found.",
 
 			averageRating    : "Average Rating",
 			reviewSignInText : "Sign in to add add a review",
 			reviewsAddText   : "Add a Review"
 		},
 
 		mapBehaviorMessages : {
 			showMessage            : "Please Call for Price.",
 			requireLoginMessage    : "Log in to see pricing & add to cart.",
 			requireAtcMessage      : "Add To Cart to See Price!",
 			requireLoginAtcMessage : ""
 		},
 
 		flags : [
 			{
 				link  : "content/page-1.asp",
 				title : "Page 1",
 				pic   : "test_flag1_n.jpg",
 				thumb : "flag1_t.png"
 			},
 			{
 				link  : "",
 				title : "",
 				pic   : "flag2_n.png",
 				thumb : "flag2_t.png"
 			},
 			{
 				link  : "",
 				title : "",
 				pic   : "flag3_n.png",
 				thumb : "flag3_t.png"
 			},
 			{
 				link  : "",
 				title : "",
 				pic   : "flag4_n.png",
 				thumb : "flag4_t.png"
 			}
 		]
 	};
     </script>
     <!-- include files here -->
     <script id="catalog.selected_product_price_display_custom" type="text/html">
      <span data-bind="if: unitPrice() === 0 && oConfig.showZeroPriceMessage">
 			<ul class="unstyled">
 				<li class="retail">					
 					<span data-bind="text: oConfig.zeroPriceMessage"></span> 
 					<span class="prod-uom" data-bind="template: 'catalog.uom'"></span>
 				</li>
 				
 				<li data-bind="if: getOriginalPageName() == 'pc_product_detail.asp'"><div id="price_breaks_container" data-bind='template: { afterRender: updatePriceBreaksElement }'></div></li>
 			</ul>
 		</span>
 		<span data-bind="if: !(unitPrice() === 0 && oConfig.showZeroPriceMessage) && showPrice && uomPrice()">
 			<ul class="unstyled">
 				<!-- ko if: priceTrace -->
 				<li class="text-small">
 					<div class="alert alert-info" data-bind="html: priceTrace().replace(/\n/gi,'<br>') "></div>
 				</li>
 				<!-- /ko -->
 				<li class="retail">					
 					<b data-bind="text: utils.formatPrice(unitPrice())"></b> 
 					<span class="prod-uom" data-bind="template: 'catalog.uom'"></span>
 				</li>
 				<!-- ko if: showYouSave -->
 					<li class="sretail">
 						<span class="yousave" data-bind="spacedtext: utils.formatPrice(suggestedPrice()) + ' ' + oConfig.labels.youSaveLabel"></span>
 					</li>
 				<!-- /ko -->
 				
 				<li data-bind="if: getOriginalPageName() == 'pc_product_detail.asp'"><div id="price_breaks_container" data-bind='template: { afterRender: updatePriceBreaksElement }'></div></li>
 			</ul>
 		</span>
 		<span data-bind="if: !showPrice || !showAtc">
 			<span class="label label-info" data-bind="html: $data.mapPriceMessage"></span>
 		</span>
     </script>
     <script id="tab_hook_specifications" type="text/html">
      <div>
         <strong>Case Specifications</strong>
         <ul data-bind="foreach: renderList(mainProduct, 'opt5')">
             <li data-bind="text: $data"></li>
         </ul>
         <strong>Inner Pack Specifications</strong>
         <ul data-bind="foreach: renderList(mainProduct, 'opt6')">
             <li data-bind="text: $data"></li>
         </ul>
         <strong>Packaged Product Specifications</strong>
         <ul data-bind="foreach: renderList(mainProduct, 'opt7')">
             <li data-bind="text: $data"></li>
         </ul>
         <strong>Pallet Specifications</strong>
         <ul data-bind="foreach: renderList(mainProduct, 'opt8')">
             <li data-bind="text: $data"></li>
         </ul>
     </div>
     </script>
     <script id="catalog.child_selectors_custom" type="text/html">
      <!-- ko foreach: $data -->
 		<span data-bind='template: { name: "catalog.child_droplist_select" }'"></span>
 	<!-- /ko -->
     </script>
     <script id="catalog.child_droplist_select_custom" type="text/html">
      <label data-bind="text: label, attr: { for: field }"></label>
 	<select data-bind="
 		attr: { id: field, name: field },
 		options: options,
 		optionsText: 'option',
 		value: selectedOption,
 		optionsCaption: '-- Select One --',
 		optionsAfterRender: function (option, item) { setChildOptionDisable(field, option, item); },
 		event:{ change: updatePriceBreaksElement }
 	">
 	</select>
 	<div data-bind="if: $data.loading">
 		<div class="sk-three-bounce" style="float: left;">
 			<div class="sk-child sk-bounce1"></div>
 			<div class="sk-child sk-bounce2"></div>
 			<div class="sk-child sk-bounce3"></div>
 		</div>
 	</div>
     </script>
     <script id="catalog.qty_restrictions_custom" type="text/html">
      <div class="text-small muted" data-bind="attr: { 'data-key' : key() } ">
 		<div id="qty_controls_msg" >
 			<span data-bind="if: selectedUom().minQty() > 0">
 				<span data-bind="text: oConfig.labels.minQty"></span>: <span data-bind="text: selectedUom().minQty()"></span><br>
 				<input type="hidden" data-bind="attr: { name: 'minQty_'+ key() }, value: selectedUom().minQty()" />
 			</span>
 
 			<span data-bind="if: selectedUom().maxQty() > 0">
 				<span data-bind="text: oConfig.labels.maxQty"></span>: <span data-bind="text: selectedUom().maxQty()"></span><br>
 				<input type="hidden" data-bind="attr: { name: 'maxQty_'+ key() }, value: selectedUom().maxQty()" />
 			</span>
 
 			<span data-bind="if: opt12() !== '' ">
 				<span>Case Pack Qty</span>: <span data-bind="text: opt12()"></span><br>
 			</span>
 		</div>
 	</div>
     </script>
     <script type="text/javascript">
      function updatePriceBreaksElement(field, option, item){
 		if(getOriginalPageName() !== 'pc_product_detail.asp') {
 			return;
 		}
 
 		$.ajax({
 			url:'https://www.chefcraft.com/i_i_pricebreakpopup.asp?p_key='+viewModel.mainProduct.selectedProduct().key()+'&modal=1',
 			success: function(data){
 				$('#price_breaks_container').html(data);
 			},
 			error: function(data){
 				console.warn(data);
 			}
 		});
 	}
 
 	// renderList() - aflair - 2/12/2018 - #142526
 	// This function assumes data.field is in the format "item1~value1;item2~value2..."
 	// It returns the list in this format ["item1: value1","item2: value2"...]
 	function renderList(data, field){
 
 		var dataArray, arrayLength;
 
 		// This product data has no children (could be child or stand-alone)
 		if(data.children == null){
 
 			// Split string on delimiter ; and put into dataArray
 			switch(field){
 				case 'opt5':
 				dataArray = data.opt5.split(";");
 				break;
 				case 'opt6':
 				dataArray = data.opt6.split(";");
 				break;
 				case 'opt7':
 				dataArray = data.opt7.split(";");
 				break;
 				case 'opt8':
 				dataArray = data.opt8.split(";");
 				break;
 				default:
 				console.log("Incorrect data");
 				dataArray = ["incorrect~data"];
 			}
 
 			arrayLength = dataArray.length;
 
 			// Replace every '~' with ": "
 			for(var i = 0; i < arrayLength; i++){
 				dataArray[i] = dataArray[i].replace(/~/g, ": ");
 			}
 			return dataArray;
 		}
 		// This is a parent product
 		else{
 			var selectedSku = data.selectedProduct().sku();
 			var numChildren = data.children().length;
 
 			//Find child that is selected
 			for(var i = 0; i < numChildren; i++){
 				// Found child -> recall function with child's data
 				if(data.children()[i].sku() == selectedSku){
 					return renderList(data.children()[i], field);
 				}
 			}
 
 		}
 		
 	}
     </script>
     <!-- include file="../../order front/i_recently_viewed_products_window.asp"-->
    </div>
    <!-- .container-fluid -->
   </div>
   <!-- .page-main -->
   <footer class="page-foot print-hide" id="pageFooter">
    <div class="container-fluid">
     <div class="row-fluid">
      <div class="span8 pull-right text-right">
       <ul class="linkset horizontal print-hide" id="linkset_retail_foot">
        <li>
         <a href="https://www.chefcraft.com/">
          Home
         </a>
        </li>
        <li>
         <a href="page.asp?p_key=A8703E6430EE4F52AAEC5FC46E3D4DB2">
          Catalogs
         </a>
        </li>
        <li>
         <a href="contact_us.asp">
          Contact
         </a>
        </li>
       </ul>
       <ul class="inline social-icons">
        <li>
         <a href="#0" title="Facebook">
          <i class="icon-facebook icon-2x">
          </i>
         </a>
        </li>
        <li>
         <a href="#0" title="Twitter">
          <i class="icon-twitter icon-2x">
          </i>
         </a>
        </li>
        <li>
         <a href="#0" title="YouTube">
          <i class="icon-youtube icon-2x">
          </i>
         </a>
        </li>
       </ul>
      </div>
      <div class="span4 pull-left">
       <address>
        <strong>
         Chef Craft
        </strong>
        <br/>
        P.O. Box 370
        <br/>
        Pewaukee, WI 53072
        <br/>
        Phone: 1-800-628-3794
        <br/>
        Fax: 1-262-347-0087
       </address>
      </div>
     </div>
    </div>
    <div class="colophon">
     <div class="container-fluid">
      <div class="row-fluid">
       <div class="span6">
        ©2018 Chef Craft
       </div>
       <div class="span6 text-right">
        <a href="http://www.websitepipeline.com" rel="nofollow" target="_blank">
         Ecommerce &amp; ERP Integration
        </a>
        by CIMCloud
       </div>
      </div>
     </div>
    </div>
   </footer>
   <article class="modal modal-small fade hide" data-backdrop="static" id="modal_shipest">
    <header class="modal-header">
     <button class="close" data-dismiss="modal" type="button">
      ×
     </button>
     <h3>
      <i class="icon-truck">
      </i>
      Estimate Shipping
     </h3>
    </header>
    <section class="modal-body">
    </section>
    <footer class="modal-footer">
     <button class="btn" data-dismiss="modal" type="button">
      Close
     </button>
    </footer>
   </article>
   <!-- ////////////////////////////////////////////////////////////////////////////// -->
   <script>
    var bValidIp = false;
 
   // $(function(){
   //   iViewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
   //   hideSearchWindowFacets(iViewportWidth);
   // });
 
   function hideSearchWindowFacets(iViewportWidth){
     if(iViewportWidth < 768){
       $('#facet-window').removeClass('in'); 
       $('#category-window').removeClass('in'); 
     }
   }
   </script>
   <script src="templates/js/vendor/bootstrap-2.3.2.min.js">
   </script>
   <script src="templates/js/vendor/tablesaw.js">
   </script>
   <script src="templates/js/plugins.js">
   </script>
   <script src="templates/js/chart.js">
   </script>
   <script src="templates/js/shared.js">
   </script>
   <script src="i_global_modal_js.asp">
   </script>
   <script src="CustomFunctions/js_custom_functions.asp">
   </script>
   <script src="templates/js/ko-addons.js">
   </script>
   <script src="templates/js/retail.js">
   </script>
   <!-- START Tracking/Analytics Code -->
   <!-- END Tracking/Analytics Code -->
   <noscript class="noscript">
    WARNING: You will not be able to place an order or use most features of this site with JavaScript disabled
   </noscript>
  </body>
 </html>

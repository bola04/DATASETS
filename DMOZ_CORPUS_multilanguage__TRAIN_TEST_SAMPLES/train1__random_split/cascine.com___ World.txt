<!--
 	NOTES:
 	1. All tokens are represented by '$' sign in the template.
 	2. You can write your code only wherever mentioned.
 	3. All occurrences of existing tokens will be replaced by their appropriate values.
 -->
 <!DOCTYPE html>
 <html>
  <head>
   <meta charset="utf-8"/>
   <title>
    cascine
   </title>
   <!-- write your code here -->
   <script src="https://code.createjs.com/createjs-2015.11.26.min.js">
   </script>
   <script src="dominio.js">
   </script>
   <script type="text/javascript">
    var clickTag = "mailto:info@fabiocarria.com";
   </script>
   <script>
    var canvas, stage, exportRoot;
 function init() {
 	// --- write your JS code here ---
 	window.addEventListener('resize', resize, false);
 	
 	// --- write your JS code here ---
 	
 	canvas = document.getElementById("canvas");
 	images = images||{};
 
 	var loader = new createjs.LoadQueue(false);
 	loader.addEventListener("fileload", handleFileLoad);
 	loader.addEventListener("complete", handleComplete);
 	loader.loadManifest(lib.properties.manifest);
 }
 
 function handleFileLoad(evt) {
 	if (evt.item.type == "image") { images[evt.item.id] = evt.result; }
 }
 
 function handleComplete(evt) {
 	exportRoot = new lib.dominio();
 
 	stage = new createjs.Stage(canvas);
 	stage.addChild(exportRoot);
 	stage.update();
 
 	createjs.Ticker.setFPS(lib.properties.fps);
 	createjs.Ticker.addEventListener("tick", stage);
 	resize();
 }
 function resize() {
 
 			// Resize the canvas element
 		  	canvas.style.maxWidth = window.innerWidth+"px";
 		  canvas.style.maxHeight = window.innerHeight+"px";	
 		  var cs     = getComputedStyle(canvas);
 			var width  = parseInt( cs.getPropertyValue('width'), 10);
 			var height = parseInt( cs.getPropertyValue('height'), 10);
 			var marginString="0 "+((window.innerWidth-width)/2)+"px";
 			console.log (marginString);
 			canvas.style.margin =marginString;
 	   
 	      
 	    }
   </script>
   <!-- EB CLASS -->
   <!-- EB CLASS -->
   <!-- EB INIT -->
   <!-- EB INIT -->
   <style type="text/css">
    body {
 	margin-left: 0px;
 	margin-top: 0px;
 	margin-right: 0px;
 	margin-bottom: 0px;
 }
   </style>
   <!-- write your code here -->
  </head>
  <body onload="init();" style="background-color:#CCBFB1;margin:0px;width:100%;height:100%;overflow:hidden;">
   <a href="mailto:info@fabiocarria.com">
    <canvas height="760" id="canvas" style="background-color:#CCBFB1" width="1600">
    </canvas>
   </a>
  </body>
 </html>

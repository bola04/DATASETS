<!DOCTYPE html>
 <html lang="en">
  <head>
   <meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" name="viewport"/>
   <meta content="yes" name="apple-mobile-web-app-capable"/>
   <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
   <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet"/>
   <link href="styles_gdpr.css" rel="stylesheet"/>
   <script src="animatedScrollTo.js">
   </script>
   <title>
    GDPR page
   </title>
   <script>
    function GDPRAccept(){
 
 		var date = new Date();
 		var days=365*10;
 		date.setTime(date.getTime()+(days*24*60*60*1000));
 		var expires = "; expires="+date.toGMTString();
 
 		//write cookie
 		document.cookie = "mntcookies=1"+expires+"; path=/";
 
 
 		var url=document.getElementById("lastURL").value;
 		window.location.replace(url);
 
 	}
 
 
 	function GDPRReject(){
 
 		// alert("reject");
 		window.location.href="http://healthline-anon.flywheelsites.com/";
 
 	}
 
 	window.onload = function (){
 
         // objectHeight .modal-body + .modal-footer - .modal-content
         var modalBody = document.querySelectorAll(".modal-body");
         var modalFooter = document.querySelectorAll(".modal-footer");
 
 	        // console.log('modalBody:'+modalBody[0].scrollHeight);
 	        // console.log('modalFooter:'+modalFooter[0].scrollHeight);
 
     	var contentHeight = modalBody[0].offsetHeight + modalFooter[0].offsetHeight;
 	    	// console.log('contentHeight:'+contentHeight);
 
     	var windowHeight = window.innerHeight;
     		// console.log('windowHeight:'+windowHeight);
 
     	// the scroll more btn block
         var scrollBtn = document.querySelectorAll(".scroll_more");
 
 		if(contentHeight == windowHeight) {
 			// content smaller than the window height, scrollbtn-block display d-none
 			scrollBtn[0].classList.add("d-none");
 			// console.log('equal the window height! no scroll btn');
 		}
 	}
 
 	function modalScroll()
     {
         // define variables
         
         var element = document.querySelectorAll(".modal-content");
 
         // scrollTop
         var scrollHeight = element[0].scrollTop;
         	// console.log('scrollHeight:'+scrollHeight);
 
         var modalBody = document.querySelectorAll(".modal-body");
         var modalFooter = document.querySelectorAll(".modal-footer");
         var modalContent = document.querySelectorAll(".modal-content");
 
 	        // console.log('modalBody:'+modalBody[0].scrollHeight);
 	        // console.log('modalFooter:'+modalFooter[0].scrollHeight);
 	        // console.log('modalContent:'+modalContent[0].offsetHeight);
 
         var objectHeight = modalBody[0].scrollHeight + modalFooter[0].scrollHeight - modalContent[0].offsetHeight;
         	// console.log('objectHeight:'+objectHeight);
 
         // the scroll more btn block
         var scrollBtn = document.querySelectorAll(".scroll_more");
 
         // statement if scrollTop >= objectHeight
         if(scrollHeight >= objectHeight){
         		// console.log('scrollHeight:'+scrollHeight);
         		// console.log('objectHeight:'+objectHeight);
         		// console.log('equal!');
         	scrollBtn[0].classList.add("d-none");
         }
         else {
         		// console.log('fail!');
         	scrollBtn[0].classList.remove("d-none");
         }
     }
     function scrollAccept(){
     		// console.log('scrollAccept');
     	var element = document.querySelectorAll(".modal-content");
     	// element[0].scrollTop = element[0].scrollHeight;
     		// console.log('element.scrollHeight:'+element.scrollHeight);
     		// console.log('element.scrollTop:'+element[0].scrollTop);
         scrollTo(element[0], element[0].scrollHeight, 1250);   
     }
   </script>
  </head>
  <body>
   <div aria-hidden="true" class="modal fade show site_modal modal_gdpr" id="cookieModal" role="dialog" style="display: block;" tabindex="-1">
    <div class="modal-dialog" role="document">
     <div class="modal-content" onscroll="modalScroll()">
      <div class="modal-header">
       <button class="close" data-dismiss="modal" type="button">
       </button>
       <input id="lastURL" type="hidden" value="http://www.medilexicon.com/"/>
      </div>
      <div class="modal-body">
       <div class="fullscreen_outer">
        <div class="fullscreen_inner">
         <h5>
          Welcome to Medilexicon
         </h5>
         <p>
          Healthline Media, Inc. would like to process and share personal data (e.g., mobile ad id) and data about your use of our site (e.g., content interests) with our third party partners (see a
          <a href="http://www.medilexicon.com/privacy-policy" target="_blank">
           current list
          </a>
          ) using cookies and similar automatic collection tools in order to a) personalize content and/or offers on our site or other sites, b) communicate with you upon request, and/or c) for additional reasons upon notice and, when applicable, with your consent.
         </p>
         <p>
          Healthline Media, Inc. is based in and operates this site from the United States. Any data you provide will be primarily stored and processed in the United States, pursuant to the laws of the United States, which may provide lesser privacy protections than European Economic Area countries.
         </p>
         <p>
          By clicking “accept” below, you acknowledge and grant your consent for these activities unless and until you withdraw your consent using our
          <a href="https://www.healthline.com/rights-request" target="_blank">
           rights request form
          </a>
          . Learn more in our
          <a href="http://www.medilexicon.com/privacy-policy" target="_blank">
           Privacy Policy
          </a>
          .
         </p>
        </div>
       </div>
      </div>
      <div class="modal-footer">
       <div>
        <button class="primary" data-dismiss="modal" onclick="GDPRAccept()">
         Accept
        </button>
        <button onclick="GDPRReject()">
         No
        </button>
       </div>
      </div>
      <div class="scroll_more">
       <button class="primary" data-dismiss="modal" onclick="scrollAccept()">
        Scroll to Accept
       </button>
      </div>
     </div>
    </div>
   </div>
   <div class="modal-backdrop fade show modal-stack" style="z-index: 1039;">
   </div>
  </body>
 </html>

<!DOCTYPE html>
 <html lang="de">
  <head>
   <script>
    if (window.parent !== window) {
       if (typeof btoa !== "function") {
         window.btoa = function (input) {
           var str = String(input);
           for (var block, charCode, idx = 0, map = chars, output = ''; str.charAt(idx | 0) || (map = '=', idx % 1); output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {
             charCode = str.charCodeAt(idx += 3/4)
             block = block << 8 | charCode
           }
           return output
         }
       }
       var re = /^(?:https?:)?(?:\/\/)?([^\/\?]+)/i
       var res = re.exec(document.referrer)
       var domain = res[1]
       var forbidden = ["aGVsbG8ubGFuZA==","Y3Vpc2luZS5sYW5k","cmVjZXR0ZS5sYW5k","cmVjZXR0ZXMubGFuZA==",]
       if (forbidden.indexOf(btoa(domain)) > -1) {
         document.location = document.location.origin + "/system/noframed"
       }
     }
   </script>
   <link href="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/css/ob-style.css?v2.27.0.0" rel="stylesheet"/>
   <link href="//assets.over-blog-kiwi.com/b/blog/build/soundplayer.2940b52.css" rel="stylesheet"/>
   <!-- Basic theme id 62 [Timeline] - last modified : 2018-02-13T16:18:10+01:00 -->
   <!-- shortcut:[Meta] -->
   <!-- title -->
   <!-- Title -->
   <title>
    SAPManDoo - SAP Resource - Der vorliegende Blog enthält von mir im Laufe meiner beruflichen Tätigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO.
   </title>
   <!-- metas description, keyword, robots -->
   <!-- Metas -->
   <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
   <meta charset="utf-8"/>
   <meta content="width=device-width" name="viewport"/>
   <meta content="sapmandoo" name="author"/>
   <meta content="SAPManDoo - SAP Resource" property="og:site_name"/>
   <meta content="SAPManDoo - SAP Resource" property="og:title"/>
   <meta content="SAPManDoo - SAP Resource" name="twitter:title"/>
   <meta content="Der vorliegende Blog enth&amp;auml;lt von mir im Laufe meiner beruflichen T&amp;auml;tigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO." name="description"/>
   <meta content="Der vorliegende Blog enth&amp;auml;lt von mir im Laufe meiner beruflichen T&amp;auml;tigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO." property="og:description"/>
   <meta content="Der vorliegende Blog enth&amp;auml;lt von mir im Laufe meiner beruflichen T&amp;auml;tigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO." name="twitter:description"/>
   <meta content="de_DE" property="og:locale"/>
   <meta content="http://img.over-blog-kiwi.com/1/47/36/37/20170207/ob_adae32_profilbild.png" property="og:image"/>
   <meta content="http://img.over-blog-kiwi.com/1/47/36/37/20170207/ob_adae32_profilbild.png" name="twitter:image:src"/>
   <meta content="blog" property="og:type"/>
   <meta content="summary" name="twitter:card"/>
   <meta content="@overblog" name="twitter:site"/>
   <meta content="284865384904712" property="fb:app_id"/>
   <!-- Robots -->
   <meta content="index,follow" name="robots"/>
   <!-- RSS -->
   <link href="/rss" rel="alternate" title="RSS" type="application/rss+xml"/>
   <!-- Analytics -->
   <!-- shortcut:[Options] -->
   <!-- options -->
   <meta default="Arial" group="graphical" items="Abril Fatface, Amaranth, Arial, Arvo, Georgia, Helvetica, Maven Pro, Patrick Hand SC, Radley, Righteous, Roboto Slab, Sacramento, Trebuchet MS" name="fontlist:font_title:label.titlesFont"/>
   <!-- shortcut:[Includes] -->
   <!-- favicon -->
   <!-- Metas -->
   <link href="http://img.over-blog-kiwi.com/1/47/36/37/20170207/ob_adae32_profilbild.png" rel="icon" type="image/png"/>
   <!-- Fonts -->
   <!-- Fancybox style -->
   <link href="//assets.over-blog.com/t/catalog/jquery/fancybox/2.5/source/jquery.fancybox.css" media="screen" rel="stylesheet" type="text/css"/>
   <!--[if lte IE 8]>
             <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
             <script src="//assets.over-blog.com/t/catalog/js/excanvas/excanvas.compiled.js"></script>
         <![endif]-->
   <!-- shortcut:[Styles] -->
   <style type="text/css">
    /*----- Reset -----*/
             body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,p,textarea,blockquote,th,td{ margin:0; padding:0;}
             table{ border-collapse:collapse; border-spacing:0;}
             fieldset,img{ border:0;}
             address,caption,cite,code,dfn,var{ font-style:normal; font-weight:normal;}
             ol,ul{ list-style:none;}
             caption,th{ text-align:left;}
             h1,h2,h3,h4,h5,h6, .blog-title { font-size:100%; font-weight:normal;}
             q:before,q:after{ content:'';}
             abbr,acronym{ border:0;}
 
             /*----- Intro -----*/
             body {
                                                 color: #000;
                 font-family: Arial, Helvetica, sans-serif;
                 font-size: 13px;
                 line-height: 1.3;
                 min-width: 1024px;
             }
 
             textarea{ resize:none;}
             a:link, a:visited, a:hover, a:active { outline:none }
             a{cursor:pointer;outline:none;position:relative;text-decoration:none;font-weight:bold;}
             ::-moz-focus-inner{ border:0; }
 
             .wrap {margin: 0 auto; position: relative; width: 980px;}
             .cl,.cr,.cb{ display:block !important; float:none !important; height:0 !important; width:0 !important;}
             .cl{ clear:left;}
             .cr{ clear:right;}
             .cb{ clear:both;}
             .bold {font-weight:bold;}
             .blue {color: #4c7999;}
             ::selection {color: white;  background: #00a2ff;}
             ::-moz-selection {color: white;  background: #00a2ff;}
             ::-webkit-selection {color: white;  background: #00a2ff;}
             @font-face {
                 font-family: 'Conv_Gotham-Black_0';
                 src: url('//assets.over-blog.com/t/timeline/fonts/Gotham-Black_0.eot');
                 src: local('?'), url('//assets.over-blog.com/t/timeline/fonts/Gotham-Black_0.woff') format('woff'),
                                  url('//assets.over-blog.com/t/timeline/fonts/Gotham-Black_0.ttf') format('truetype'),
                                  url('//assets.over-blog.com/t/timeline/fonts/Gotham-Black_0.svg') format('svg');
                 font-weight: normal;a
                 font-style: normal;
             }
 
             
             .clear{
                 clear: both;
             }
 
             /* clearfix */
             .clearfix:before, .clearfix:after{
                 content: "";
                 display: table;
             }
             .clearfix:after{
                 clear: both;
             }
 
             /*----- HEADER  -----*/
             .top {background: url("//assets.over-blog.com/t/timeline/images/header.png") repeat; height: 60px; line-height: 60px;}
             .top .logo {float: left; width: 630px; height: 60px; overflow: hidden;}
             .top .logo a {color: #FFF;}
             .top a,
             .top a:visited {color: #FFF; float: left; font-family: 'Conv_Gotham-Black_0', Arial, sans-serif; font-size: 16px; color: #fff; margin-right: 5px; text-shadow: 0px 1px 1px #000;}
             .top p {float: left; font-size: 13px; font-style: italic; color: #a3a3a3; letter-spacing: -0.5px; text-shadow: 0px 1px 0px #000;}
 
             /*----- NAV DATE -----*/
             .menu {height: 41px; line-height: 38px;}
             .menu a {display: block; font-weight: bold;}
             .menu ul {margin: 0 auto; width: 940px; text-align: center;}
             .menu li {color: #969696; display: inline-block; margin: 0 13px;}
             .menu li.last {margin-right: 0;}
             .menu .active a {border-bottom: 2px solid #4b9fd3;}
             .menu li a:hover{border-bottom: 2px solid #e2eaef;}
 
             .menu li{display: inline-block; position: relative;}
 
             .menu .children{
                 background: #f9fbf8;
 
                                     border: 1px solid #e2e9ef;
                 ;
 
                 border-radius: 8px;
                 left: 50%;
                 margin-left: -75px;
                 opacity: 0;
                 padding: 0 10px;
                 position: absolute;
                 text-align: center;
                 -webkit-transition: all 0.3s ease 0s;
                         transition: all 0.3s ease 0s;
                 top: 42px;
                 visibility: hidden;
                 width: 130px;
                 z-index: 1000;
             }
             .menu .children li{
                 border-bottom: 1px solid #BBB;
                 display: block;
                 line-height: 1.5em;
                 margin: 2px 0;
                 padding: 10px 0;
             }
             .menu .active .children a,
             .menu .children li a:hover{
                 border: none;
             }
             .menu .children li:last-child {
                 border: none;
             }
             .menu .children li a {
                 color: #555;
                 display: block;
                 -webkit-hyphens: auto;
                 -moz-hyphens: auto;
                 -ms-hyphens: auto;
                 -o-hyphens: auto;
                 hyphens: auto;
                 word-wrap: break-word;
             }
             .menu .children li a:hover{
                 color: #000;
             }
             .menu li:hover .children{
                 opacity: 1;
                 visibility: visible;
             }
 
             /*----- CONTENT -----*/
             .header, .container {margin: 0 auto; width: 980px;}
             .container {padding-bottom: 20px;}
             .avatar,
             .informations .title{
                 display: inline-block;
                 vertical-align: middle;
             }
                             .informations .title{
                     max-width: 820px;
                 }
                         .avatar{
                 margin-right:15px;
             }
             .informations {padding: 20px;}
             .informations .blog-title {font-size: 36px;}
             .informations h2 {
                 font-size: 24px;
                 margin-top:15px;
             }
             .informations p {font-size: 18px;}
             .informations a {
                                     color: #000;
                                 font-weight: bold;
             }
             .informations a:hover {
                 opacity: .8;
             }
             .headblock{
                 margin: 20px;
             }
             .social {
                 float: left;
                 overflow: hidden;
             }
             .social li{
                 float: left;
                 margin-right: 10px;
             }
             .search {
                 float: right;
                 width: 350px;
             }
             .search input[type="text"] {
                 background: url("//assets.over-blog.com/t/timeline/images/search_layout.png") no-repeat;
                 height: 24px;
                 border: none;
                 width: 328px;
                 color: #FFF;
                 outline: none;
                 padding: 5px 10px;
             }
             .search input[type="text"]:focus {
                 background-position: 0 -35px;
                 color: #000;
             }
 
             
             .back {text-align: center;}
 
             .items.left {float:left;}
             .items.right {float:right;}
 
             .items .ob-section-html iframe,
             .items .ob-section-html object,
             .items .ob-section-html embed {max-height: 310px; max-width: 100%;}
 
             /* Item */
             .item {width: 428px;margin:20px 20px 0;background-color:#ffffff;border:solid 1px #cfdce3;border-radius: 4px;word-wrap:break-word;padding: 20px;box-shadow: inset 0px -2px 1px #f2f2f2; position: relative;}
             .item .title{border-bottom: 1px solid #e7edf1; padding-bottom: 10px; margin-bottom: 20px; min-height: 30px;}
 
             .left .item{
                 margin-left: 0;
                 width: 428px;
             }
 
             .right .item{
                 margin-right: 0;
                 width: 428px;
             }
 
             .item .title .post-title,
             .item .title .post-title a,
             .item .comments h2,
             .special h3 {color: #000; font-weight: bold; font-size: 22px; margin-bottom: 10px;}
             .special .ob-terms{margin-bottom: 20px;}
 
             .item .title .post-title a:hover {color: #4e4e4e;}
             .item .title p.infos {color: #606060; font-size: 12px;}
             .item .comments {margin-top: 20px;}
             .item .comments h6 {font-size: 15px; font-weight: bold; margin-bottom: 15px;}
 
             /* Social Icon */
             .item .title .icon{
                 background: url('//assets.over-blog.com/t/catalog/images/social/social-34.png') no-repeat top left;
                 display:block;
                 float: right;
                 height: 34px;
                 width: 34px;
             }
             .item.OB  .title .icon{
                 background-position: 0 0;
             }
             .item.FB .title .icon,
             .item.FP .title .icon{
                 background-position: 0 -68px;
             }
             .item.TW .title .icon{
                 background-position: 0 -136px;
             }
             .item.FS .title .icon{
                 background-position: 0 -204px;
             }
             .item.IG .title .icon{
                 background-position: 0 -272px;
             }
             .item.YT .title .icon{
                 background-position: 0 -340px;
             }
             .item.FL .title .icon{
                 background-position: 0 -408px;
             }
             .item.TR .title .icon{
                 background-position: 0 -476px;
             }
             .item.RS .title .icon{
                 background-position: 0 -544px;
             }
             .item.PT .title .icon{
                 background-position: 0 -612px;
             }
             .item.GP .title .icon{
                 background-position: 0 -680px;
             }
             .item.LI .title .icon{
                 background-position: 0 -748px;
             }
 
             .item .read-more {color: #000; background: url("//assets.over-blog.com/t/timeline/images/picto-originalpost.png") 0 0 no-repeat; padding-left: 15px; position: absolute; right: 20px;}
             .item .read-more:hover {color: #4e4e4e;}
 
             /* Social Share */
             .item .footer { margin-top: 25px; position: relative;}
 
             .item .share .button {background: #FFF url("//data.over-blog-kiwi.com/0/19/10/50/201212/ob_affac08056020ba0f8958205b031c5ca_share-buttons.png") no-repeat; border: 1px solid #CCC; border-radius: 4px; color: #333; display: inline-block; line-height: 18px; margin: 0 8px; font-size: 11px; padding: 2px 6px 2px 25px;}
             .item .share a.googleplus-one {background-position: 5px 4px;}
             .item .share a.twitter-share {background-position: 5px -23px;}
             .item .share a.facebook-like {background-position: 5px -50px;}
             .item .share .overblog-repost {background-position: 5px -76px}
 
             .share div.googleplus-one,
             .share div.twitter-share,
             .share div.facebook-like,
             .share .ob-repost-btn {display: inline-block; line-height: 15px; vertical-align: middle;height: 20px;}
             .share div.googleplus-one {margin: 0 8px 0 0; width: 70px;}
             .share div.twitter-share {margin-right: 18px; width: 85px;}
             .share div.facebook-like {margin-right: 8px; width: 85px;}
             .single div.facebook-like {vertical-align: middle;}
             .single .ob-repost-btn {display: inline-block; margin-left: 10px;}
 
 
             /* Enhance images */
             .yui3-slideshow {height: 460px;}
             .item .ob-section-text img {margin-bottom: 20px;}
             .item .ob-row-1-col img {width: 100%;}
             .item .ob-row-2-col img {width: 50%;}
             .item .ob-row-3-col img {width: 33.33%;}
             .item .ob-video iframe {max-width: 650px;}
             .item .ob-video embed,
             .item .ob-video object{max-width: 100%;}
 
             .item ol li {list-style:decimal; list-style-position: outside; margin-left: 30px;}
             .item ul li {list-style:disc; list-style-position: outside; margin-left: 30px;}
             .item pre {border-left: 3px solid #e7edf1; margin: 10px auto 15px; padding-left: 4px;}
 
             .item .post {overflow: hidden; color: #000;}
             .item .ob-section p {margin-bottom: 10px;}
             .item .post.link p {margin-bottom: 10px;}
             .item .post.link a{font-size: 18px; background: url("//assets.over-blog.com/t/timeline/images/picto-originalpost.png") 0 4px no-repeat; padding-left: 15px; margin-left: 20px;}
 
             .ob-repost {border: 1px solid #DDD; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; font-weight: bold; padding: 0.5em 0.8em; text-align: center;}
             .ob-repost p {margin: 0;}
             .ob-repost .ob-link {text-decoration: underline;}
 
             /* Sections */
             .ob-section-text {margin-top: 10px; margin-bottom: 10px;}
             .ob-section-text h3,
             .ob-section-html h3,
             .ob-section-text h4,
             .ob-section-html h4,
             .ob-section-text h5,
             .ob-section-html h5 {margin: 15px 0 5px;}
             .ob-section-text h3,
             .ob-section-html h3 {font-size: 18px;}
             .ob-section-text h4,
             .ob-section-html h4 {font-size: 16px;}
             .ob-section-text h5,
             .ob-section-html h5 {font-size: 14px; font-weight: bold;}
             .ob-section-text ul,
             .ob-section-html ul {margin-bottom: 10px;}
             .ob-section-text li:last-child,
             .ob-section-html li:last-child {margin-bottom: 15px;}
             .ob-section-text li p,
             .ob-section-html li p {margin-bottom: 5px !important;}
             .ob-section-images img {max-width: 640px;}
             .ob-section-map .ob-map{width: 600px;height: 400px;}
             .ob-section-map .ob-desc {width: 100%;}
 
             /* hack for slideshow */
             .wrapper-timeline .ob-layout900,
             .wrapper-timeline .ob-layout900 .ob-slider-directionNav {width: 408px!important; height: 306px!important;}
 
             .wrapper-timeline{
                 background-position: center 0;
                 background-repeat: repeat-y;
             }
 
             .wrapper-timeline .item .post img.ob-img {width: 408px;}
             .wrapper-timeline .item .post .ob-tweet img.ob-img {width: 32px;}
             .wrapper-timeline .item .post.video {height: 233px; margin: 0 auto; width: 400px;}
             .wrapper-timeline .item .post.photo {margin: 0 auto; width: 400px;}
             .wrapper-timeline .item .post.photo  img{margin: 0 auto; width: 400px;}
             .wrapper-timeline .ob-section-images img {width: 408px;float:none;}
             .wrapper-timeline .ob-section-video,
             .wrapper-timeline .ob-section-video iframe{max-width: 408px;}
             .wrapper-timeline .ob-section-images .ob-desc,
             .wrapper-timeline .ob-section object {width: 408px;}
             .wrapper-timeline .ob-section-video iframe {border: 0;}
             .wrapper-timeline .ob-section object  {width: 408px; height:306px;}
             .wrapper-timeline .ob-section-map .ob-map{width: 408px; height: 200px;}
             .wrapper-timeline {position: relative; padding-bottom: 50px;}
 
             /* hack for single post */
             .single .item {width: 640px; margin-left: auto; margin-right: auto; float: none;}
             .single .item .footer {width: 616px;}
             .single .item .ob-slideshow,
             .single .item .ob-slideshow .ob-img {width: 640px;}
             .single .ob-section {width: 100%; margin-left: 0;}
             .single .ob-section {clear: both;}
             .single .ob-section-map .ob-map{width: 650px;height: 400px;}
 
             /* Nav */
             .item .nav-post {overflow: hidden; margin: 20px 0; width: 100%;}
             .item .nav-post a {display: block; max-width: 44%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}
             .item .nav-post .prev {float: left;}
             .item .nav-post .prev:before {content: "‹"; font-weight: bold; margin-right: 5px;}
             .item .nav-post .next {float: right;}
             .item .nav-post span {color: #4B9FD3; float: right; font-weight: bold; margin-left: 5px;}
             .item .nav-post:hover span {color: #6594B5;}
 
             /* Date */
             .corner{
                 height: 18px;
                 position: absolute;
                 width: 30px;
             }
             .right .corner{
                 left: -30px;
             }
             .left .corner{
                 right: -30px;
             }
 
             /* twitter box */
             .ob-section .twitter-tweet-rendered {max-width: 100% !important;}
             .ob-section .twt-border {max-width: 100% !important;}
 
             /* Contact page */
             .ob-form {margin: 0 0 100px 80px;}
             .ob-label {width: 20%;}
             .ob-captcha .ob-input-text{
                 margin-left: 20%;
             }
             .ob-input-text,.ob-input-email,.ob-input-textarea {background-color: #DDD;border: 1px solid #BBB;-moz-border-radius: 4px;-ms-border-radius: 4px;-o-border-radius: 4px;border-radius: 4px;outline: none;padding: 7px 5px; }
             .ob-input-text:focus,.ob-input-email:focus,.ob-input-textarea:focus {background-color: #F8F8F8;}
             .ob-input-submit, .ob-error {margin-left: 20%;}
             .ob-input-submit {background: #232323;border-radius: 4px;border: 1px solid #BBB;color: #FFF;cursor: pointer;font-size: 12px;padding: 8px 17px;}
             .ob-input-submit:active {background: #CCC;}
             .ob-form + a {display: block;font-size: 13px;font-weight: normal;text-align: center;}
 
             /* Ads */
             .ads-728x90{
                 height: 90px;
                 width: 728px;
             }
             .ads-468x60{
                 height: 60px;
                 width: 468px;
             }
             .ads-160x600{
                 height: 600px;
                 width: 160px;
             }
             .ads img{
                 margin: 0 auto;
             }
             .ads-ctn{
                 background-color: #ffffff;
                 border: solid 1px #cfdce3;
                 border-radius: 4px;
                 box-shadow: inset 0px -2px 1px #f2f2f2;
                 margin: 20px auto 0;
                 padding: 10px;
             }
             .single .ads-ctn{
                 margin: 20px 20px 0;
             }
             .items .ads-468x60{
                 margin: 20px 0 0 20px;
             }
             .ads-600x250{
                 height: 250px;
                 margin-top: 20px;
             }
             .ads-300x250{
                 height: 250px;
                 width: 300px;
             }
             .ads-600x250 .ads-300x250{
                 float: left;
             }
             .ads-600x250 .ads-300x250+.ads-300x250{
                 margin-left: 40px;
             }
 
                             /* add this only if skyscraper is displayed */
                 .single .item{
                     float: left;
                 }
                 .single .ads-160x600{
                     float: right;
                 }
             
             /* Top articles */
             .ob-top-posts h2{
                 font-size: 24px;
                 font-weight: bold;
                 margin-bottom: 20px;
             }
             .ob-top-posts .ob-top-article{
                 list-style: none;
                 margin-left: 0;
             }
             .ob-top-article{
                 margin-bottom: 20px;
             }
             .ob-top-article h3 a{
                 color: #000;
             }
 
             /* Hack IE */
             .ob-section-link .ob-url {height:16px\9;overflow:hidden\9;}
 
                             /* Défaut : dark blue */
                                     body{
                         background: #1f1c1e url("//assets.over-blog.com/t/timeline/images/bg-black.png");
                     }
                                 .wrapper-timeline{
                     background-image: url("//assets.over-blog.com/t/timeline/images/line-black.png");
                 }
                 .menu{
                     background-image: url("//assets.over-blog.com/t/timeline/images/date-black.png");
                 }
                 a{
                     color: #4b9fd3;
                 }
                 .header,
                 .informations a,
                 .menu a,
                 .menu .active a{
                     color: #fff;
                 }
                 .item{
                     border:solid 1px #1d1d1d;
                 }
             
             /* temporary fix, to be removed after OB.restart restarts maps */
             .ob-section-map .ob-map{
                 cursor: auto;
             }
 
             .ob-Outbrain, .ob-Related { margin: 20px 0; }
             .ob-Outbrain h3, .ob-Related h3 { margin-bottom: 10px; }
 
             /* Pagination */
             .ob-pagination {
                 text-align: center;
                 margin-bottom: 20px;
             }
 
                 .ob-page {
                     display: inline-block;
                     padding: 0 10px;
                     font-family: sans-serif;
                     font-size: 13px;
                     height: 25px;
                     line-height: 25px;
                     margin: 0 2.5px;
                     text-decoration: none;
                     transition: none;
                     background: #e7edf1;
                     border: 1px solid #e7edf1;
                     color: #000;
                     margin-bottom: 5px;
                     font-weight: normal;
                 }
 
                 .ob-page-current {
                     background: #4b9fd3;
                     border-color: #4b9fd3;
                     color: #000;
                 }
 
                 .ob-page-link:hover {
                     text-decoration: none;
                     background: #1f1c1e;
                     border-color: #4b9fd3;
                     color: #e7edf1;
                 }
   </style>
   <script src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/js/ads.js?v2.27.0.0">
   </script>
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
   ga('create', 'UA-5354236-47', {
     cookieDomain: 'sapmandoo.over-blog.de',
     cookieExpires: 31536000,
     name: 'ob',
     allowLinker: true
   });
 
   ga('ob.require', 'displayfeatures');
   ga('ob.require', 'linkid', 'linkid.js');
   ga('ob.set', 'anonymizeIp', true);
   ga('ob.set', 'dimension1', '__ads_loaded__' in window ? '1' : '0');
   ga('ob.set', 'dimension2', 'de');
   ga('ob.set', 'dimension3', 'BS');
   ga('ob.set', 'dimension4', 'Undefined');
   ga('ob.set', 'dimension5', '0');
   ga('ob.set', 'dimension6', '0');
   ga('ob.set', 'dimension7', '1');
   ga('ob.set', 'dimension10', '1473637');
   ga('ob.set', 'dimension11', '1');
   ga('ob.set', 'dimension12', '1');
   ga('ob.set', 'dimension13', '1');
 
   ga('ob.send', 'pageview');
   </script>
   <script>
    var obconnected = 0
   var obconnectedblog = 0
   var obtimestamp = 0
 
   function isConnected(connected, connected_owner, timestamp) {
     obconnected     =  connected
     obconnectedblog =  connected_owner
     obtimestamp     =  timestamp
 
     if (obconnected) {
       document.querySelector('html').className += ' ob-connected'
     }
 
     if (obconnectedblog) {
       document.querySelector('html').className += ' ob-connected-blog'
     }
   }
   </script>
   <script src="//connect.over-blog.com/ping/1473637/isConnected">
   </script>
   <script src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/js/h.js?v2.27.0.0">
   </script>
   <script src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/js/repost.js?v2.27.0.0">
   </script>
   <script src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/js/slideshow.js?v2.27.0.0">
   </script>
   <script src="//assets.over-blog-kiwi.com/b/blog/build/soundplayer.2940b52.js">
   </script>
   <script src="//assets.over-blog-kiwi.com/blog/js/index.js?v2.27.0.0">
   </script>
   <script src="https://assets.over-blog-kiwi.com/ads/js/appconsent.bundle.min.js">
   </script>
   <!-- DFP -->
   <script>
    var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
 
   (function() {
     var useSSL = 'https:' == document.location.protocol;
     var gads = document.createElement('script');
     var node = document.getElementsByTagName('script')[0];
     gads.async = true;
     gads.type = 'text/javascript';
     gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
     node.parentNode.insertBefore(gads, node);
   })();
   </script>
   <!-- DFP -->
   <script>
    googletag.cmd.push(function() {
       googletag.defineSlot('/6783/OverBlogKiwi/de/1473637_sapmandoo.over-blog.de', [728,90], '_732c0a3')
                 .set('adsense_background_color','#f9f9f9')
                         .set('adsense_border_color','#FFFFFF')
                         .set('adsense_text_color','#9d928b')
                         .set('adsense_link_color','#000')
                         .set('adsense_url_color','#9d928b')
                 .addService(googletag.pubads());
     });
     
     googletag.cmd.push(function() {
       googletag.defineSlot('/6783/OverBlogKiwi/de/1473637_sapmandoo.over-blog.de', [468,60], '_4ecaf12')
                 .set('adsense_background_color','#f9f9f9')
                         .set('adsense_border_color','#FFFFFF')
                         .set('adsense_text_color','#9d928b')
                         .set('adsense_link_color','#000')
                         .set('adsense_url_color','#9d928b')
                 .addService(googletag.pubads());
     });
   </script>
   <script async="" src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogpdafront/prebid.js?v2.27.0.0">
   </script>
   <script>
    googletag.cmd.push(function() {
     googletag.pubads().disableInitialLoad();
   });
 
   function sendAdserverRequest() {
     if (pbjs.adserverRequestSent) return;
     pbjs.adserverRequestSent = true;
     googletag.cmd.push(function() {
       pbjs.que.push(function() {
         pbjs.setTargetingForGPTAsync();
         googletag.pubads().refresh();
       });
     });
   }
 
   var PREBID_TIMEOUT = 2000;
   var pbjs = pbjs || {};
   pbjs.que = pbjs.que || [];
 
   pbjs.que.push(function() {
     pbjs.enableAnalytics({
       provider: 'ga',
       options: {
         global: 'ga',
         enableDistribution: false,
         sampling: 0.01
       }
     });
     pbjs.setConfig({
       userSync: {
         enabledBidders: ['rubicon'],
         iframeEnabled: false
       } ,
       consentManagement: {
         cmpApi: 'iab',
         timeout: 2500,
         allowAuctionWithoutConsent: true
       }
     });
     pbjs.bidderSettings = {
       standard: {
         adserverTargeting: [{
           key: "hb_bidder",
           val: function(bidResponse) {
             return bidResponse.bidderCode;
           }
         }, {
           key: "hb_adid",
           val: function(bidResponse) {
             return bidResponse.adId;
           }
         }, {
           key: "custom_bid_price",
           val: function(bidResponse) {
             var cpm = bidResponse.cpm;
             if (cpm < 1.00) {
               return (Math.floor(cpm * 20) / 20).toFixed(2);
             } else if (cpm < 5.00) {
               return (Math.floor(cpm * 10) / 10).toFixed(2);
             } else if (cpm < 10.00) {
               return (Math.floor(cpm * 5) / 5).toFixed(2);
             } else if (cpm < 20.00) {
               return (Math.floor(cpm * 2) / 2).toFixed(2);
             } else if (cpm < 50.00) {
               return (Math.floor(cpm * 1) / 1).toFixed(2);
             } else if (cpm < 100.00) {
               return (Math.floor(cpm * 0.2) / 0.2).toFixed(2);
             } else if (cpm < 300.00) {
               return (Math.floor(cpm * 0.04) / 0.04).toFixed(2);
             } else {
               return '300.00';
             }
           }
         }]
       }
     };
   });
 
   setTimeout(sendAdserverRequest, PREBID_TIMEOUT);
   </script>
   <script>
    pbjs.que.push(function() {
     var adUnits = [];
 
           adUnits.push({
         code: '_732c0a3',
         sizes: [[728,90]],
         bids: [
           {
             bidder: 'appnexusAst',
             params: {
               placementId: 6542403,
             },
           },
           {
             bidder: 'rubicon',
             params: {
               accountId: 16072,
               siteId: 119536,
               zoneId: 775434,
             },
           },
         ]
       })
     
       adUnits.push({
         code: '_4ecaf12',
         sizes: [[468,60]],
         bids: [
           {
             bidder: 'appnexusAst',
             params: {
               placementId: 6531816,
             },
           },
           {
             bidder: 'rubicon',
             params: {
               accountId: 16072,
               siteId: 119536,
               zoneId: 775488,
             },
           },
         ]
       })
     
 
     pbjs.addAdUnits(adUnits);
     pbjs.requestBids({
       bidsBackHandler: function(bidResponses) {
         sendAdserverRequest();
       }
     });
   });
   </script>
   <script>
    try {
 	googletag.cmd.push(function() {
 		// DFP Global Targeting
 		googletag.pubads().setTargeting('Rating', 'BS');
 		googletag.pubads().setTargeting('Disused', 'No');
 		googletag.pubads().setTargeting('Adult', 'No');
 						googletag.pubads().setTargeting('Theme', '62');
 		
 		googletag.pubads().enableSingleRequest();
 		googletag.pubads().collapseEmptyDivs();
 		googletag.enableServices();
 	});
 }
 catch(e) {}
   </script>
   <!-- DFP -->
   <script>
    var _eStat_Whap_loaded=0;
   </script>
   <script src="//w.estat.com/js/whap.js">
   </script>
   <script>
    if(_eStat_Whap_loaded) {
       eStatWhap.serial("800000207013");
       eStatWhap.send();
     }
   </script>
   <script async="" src="https://cdn.tradelab.fr/tag/208269514b.js">
   </script>
  </head>
  <body>
   <div class="ob-ShareBar ob-ShareBar--dark js-ob-ShareBar">
    <div class="ob-ShareBar-container ob-ShareBar-container--left">
     <a class="ob-ShareBar-branding" href="https://www.over-blog.com">
      <img alt="Overblog" class="ob-ShareBar-brandingImg" src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/shareicon-branding-ob--dark.png?v2.27.0.0"/>
     </a>
    </div>
    <div class="ob-ShareBar-container ob-ShareBar-container--right">
     <a class="ob-ShareBar-share ob-ShareBar-share--facebook" data-href="https://www.facebook.com/sharer/sharer.php?u={referer}" href="#" title=" facebook">
     </a>
     <a class="ob-ShareBar-share ob-ShareBar-share--twitter" data-href="https://twitter.com/intent/tweet?url={referer}&amp;text={title}" href="#" title=" twitter">
     </a>
     <a class="ob-ShareBar-share ob-ShareBar-share--pinterest js-ob-ShareBar-share--pinterest" data-href="#" href="#" title=" pinterest">
     </a>
     <form accept-charset="utf-8" action="/search" class="ob-ShareBar-search" method="post">
      <input class="ob-ShareBar-input" name="q" placeholder="Rechercher" type="text" value=""/>
      <button class="ob-ShareBar-submit">
      </button>
     </form>
     <a class="js-ob-ShareBar-follow ob-ShareBar--connected ob-ShareBar-follow" href="https://admin.over-blog.com/_follow/1473637" rel="nofollow" target="_blank">
      Folge diesem Blog
     </a>
     <a class="ob-ShareBar-admin ob-ShareBar--connected" href="https://admin.over-blog.com/">
      <img class="ob-ShareBar-lock" src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/lock-alt-dark.svg?v2.27.0.0"/>
      <span>
       Administration
      </span>
     </a>
     <a class="ob-ShareBar-login ob-ShareBar--notconnected" href="https://connect.over-blog.com/de/login">
      <img class="ob-ShareBar-lock" src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/lock-alt-dark.svg?v2.27.0.0"/>
      <span>
       Login
      </span>
     </a>
     <a class="ob-ShareBar-create ob-ShareBar--notconnected" href="https://connect.over-blog.com/de/signup">
      <span class="ob-ShareBar-plus">
       +
      </span>
      <span>
       Create my blog
      </span>
     </a>
     <span class="ob-ShareBar-toggle ob-ShareBar-toggle--hide js-ob-ShareBar-toggle">
     </span>
    </div>
   </div>
   <div class="ob-ShareBar ob-ShareBar--minified js-ob-ShareBar--minified">
    <div class="ob-ShareBar-container">
     <span class="ob-ShareBar-toggle ob-ShareBar-toggle--show js-ob-ShareBar-toggle">
     </span>
    </div>
   </div>
   <script src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/js/sharebar.js?v2.27.0.0">
   </script>
   <script>
    var postTitle = "SAPManDoo - SAP Resource"
         socialShare(document.querySelector('.ob-ShareBar-share--facebook'), postTitle)
         socialShare(document.querySelector('.ob-ShareBar-share--twitter'), postTitle)
   </script>
   <div id="fb-root">
   </div>
   <div class="ads ads-728x90 ads-ctn">
    <div id="_732c0a3">
     <script>
      try {
           if (!window.__732c0a3) {
             window.__732c0a3 = true;
             googletag.cmd.push(function() { googletag.display('_732c0a3'); });
           }
         } catch(e) {}
     </script>
    </div>
   </div>
   <header class="header">
    <div class="informations">
     <div class="avatar">
      <a href="http://sapmandoo.over-blog.de">
       <img alt="SAPManDoo - SAP Resource" height="100" src="http://img.over-blog-kiwi.com/100x100-ct/1/47/36/37/20170207/ob_adae32_profilbild.png" width="100"/>
      </a>
     </div>
     <div class="title">
      <h1 class="blog-title">
       <a href="http://sapmandoo.over-blog.de" title="Der vorliegende Blog enthält von mir im Laufe meiner beruflichen Tätigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO.">
        SAPManDoo - SAP Resource
       </a>
      </h1>
     </div>
     <p>
      Der vorliegende Blog enthält von mir im Laufe meiner beruflichen Tätigkeit als SAP-Berater zusammengetragene Informationen / Beispiel-Codings zum Themenkreis SAP, speziell FI/CO.
     </p>
    </div>
   </header>
   <nav class="menu">
    <div class="wrap">
     <ul>
      <li class=" active">
       <a href="http://sapmandoo.over-blog.de">
        Home
       </a>
      </li>
      <li>
       <a href="#">
        Seiten
       </a>
       <ul class="children">
        <li>
         <a href="http://sapmandoo.over-blog.de/links.html">
          Links
         </a>
        </li>
        <li>
         <a href="http://sapmandoo.over-blog.de/pages/Uber_mich-4647365.html">
          Über mich...
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#">
        Kategorien
       </a>
       <ul class="children">
        <li>
         <a href="/tag/fi/">
          FI
         </a>
        </li>
        <li>
         <a href="/tag/basis-entwicklung%20allg./">
          Basis-Entwicklung allg.
         </a>
        </li>
        <li>
         <a href="/tag/co/">
          CO
         </a>
        </li>
        <li>
         <a href="/tag/sap%20reports/">
          SAP Reports
         </a>
        </li>
        <li>
         <a href="/tag/mm/">
          MM
         </a>
        </li>
        <li>
         <a href="/tag/aa/">
          AA
         </a>
        </li>
        <li>
         <a href="/tag/sd/">
          SD
         </a>
        </li>
        <li>
         <a href="/tag/ec-cs/">
          EC-CS
         </a>
        </li>
       </ul>
      </li>
      <!-- Archives -->
      <li>
       <a href="#">
        Archive
       </a>
       <ul class="children">
        <li>
         <a href="/archive/2018-07/">
          July 2018
         </a>
        </li>
        <li>
         <a href="/archive/2018-06/">
          June 2018
         </a>
        </li>
        <li>
         <a href="/archive/2018-04/">
          April 2018
         </a>
        </li>
        <li>
         <a href="/archive/2017-12/">
          December 2017
         </a>
        </li>
        <li>
         <a href="/archive/2017-08/">
          August 2017
         </a>
        </li>
        <li>
         <a href="/archive/2017-07/">
          July 2017
         </a>
        </li>
        <li>
         <a href="/archive/2017-02/">
          February 2017
         </a>
        </li>
        <li>
         <a href="/archive/2017-01/">
          January 2017
         </a>
        </li>
        <li>
         <a href="/archive/2016-10/">
          October 2016
         </a>
        </li>
        <li>
         <a href="/archive/2016-03/">
          March 2016
         </a>
        </li>
        <li>
         <a href="/archive/2016-01/">
          January 2016
         </a>
        </li>
        <li>
         <a href="/archive/2015-05/">
          May 2015
         </a>
        </li>
        <li>
         <a href="/archive/2015-04/">
          April 2015
         </a>
        </li>
        <li>
         <a href="/archive/2015-03/">
          March 2015
         </a>
        </li>
        <li>
         <a href="/archive/2015-02/">
          February 2015
         </a>
        </li>
        <li>
         <a href="/archive/2014-08/">
          August 2014
         </a>
        </li>
        <li>
         <a href="/archive/2014-03/">
          March 2014
         </a>
        </li>
        <li>
         <a href="/archive/2014-02/">
          February 2014
         </a>
        </li>
        <li>
         <a href="/archive/2013-10/">
          October 2013
         </a>
        </li>
        <li>
         <a href="/archive/2013-09/">
          September 2013
         </a>
        </li>
        <li>
         <a href="/archive/2013-02/">
          February 2013
         </a>
        </li>
        <li>
         <a href="/archive/2012-12/">
          December 2012
         </a>
        </li>
        <li>
         <a href="/archive/2012-02/">
          February 2012
         </a>
        </li>
        <li>
         <a href="/archive/2011-12/">
          December 2011
         </a>
        </li>
        <li>
         <a href="/archive/2011-09/">
          September 2011
         </a>
        </li>
        <li>
         <a href="/archive/2011-06/">
          June 2011
         </a>
        </li>
        <li>
         <a href="/archive/2011-03/">
          March 2011
         </a>
        </li>
        <li>
         <a href="/archive/2011-02/">
          February 2011
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="http://sapmandoo.over-blog.de/mail/form">
        Newsletter
       </a>
      </li>
      <li class="last">
       <a href="http://sapmandoo.over-blog.de/contact">
        Kontaktiere mich
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <div class="container clearfix">
    <div class="headblock clearfix">
     <ul class="social">
      <li>
       <a href="/rss" target="_blank">
        <img alt="RSS" src="//assets.over-blog.com/t/timeline/images/icon-rss.png"/>
       </a>
      </li>
      <li>
       <a href="http://sapmandoo.over-blog.de/mail/form">
        <img alt="Newsletter" src="//assets.over-blog.com/t/timeline/images/icon-subscribe.png"/>
       </a>
      </li>
      <li>
       <a href="http://sapmandoo.over-blog.de/contact">
        <img alt="Kontaktiere uns" src="//assets.over-blog.com/t/timeline/images/icon-contact.png"/>
       </a>
      </li>
     </ul>
     <div class="search">
      <form action="/search" class="search" method="post">
       <input name="q" placeholder="Suche..." type="text" value=""/>
      </form>
     </div>
    </div>
    <div class="wrapper-timeline">
     <!-- List items -->
     <div class="items-wrapper">
      <div class="items left">
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_1" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2018/07/integration-von-zahlungsmitteldienstleistern-in-die-sap-finanzbuchhaltung.html" title='In den Workshops zur Bankbuchhaltung kommt bei den meisten Kunden (zumindest im Handels-Sektor) irgendwann die Frage nach der Integration von Zahlungsmitteldienstleistern ("Payment Service Provider", kurz PSP) wie PayPal oder Amazon Payments auf. Mit...'>
           Integration von Zahlungsmitteldienstleistern in die SAP Finanzbuchhaltung
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 3. Juli 2018
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
          ,
          <a href="/tag/fi/" title="FI">
           FI
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            In den Workshops zur Bankbuchhaltung kommt bei den meisten Kunden (zumindest im Handels-Sektor) irgendwann die Frage nach der Integration von Zahlungsmitteldienstleistern ("Payment Service Provider", kurz PSP) wie
            <em>
             PayPal
            </em>
            oder
            <em>
             Amazon Payments
            </em>
            auf.
           </p>
           <p>
            Mit "Integration" ist dabei üblicherweise das Einlesen und Verbuchen der Avise der verschiedenen PSPs gemeint. Die Antwort darauf lautete bis dato meist: Individualentwicklung.
           </p>
           <p>
            Mit der Komponente
            <em>
             Web Channel Experience Management
            </em>
            hat SAP nun ein entsprechendes Framework zur Verfügung gestellt, um neben vielen anderen Funktionen auch diese lästige, aber oft nachgefragte Aufgabe zu bewerkstelligen.
           </p>
           <p>
            Wer nun aber denkt, dass die Integration wenigstens der gängigsten PSPs per Customizing eingestellt werden kann, wird ähnlich enttäuscht sein, wie über das Abschneiden der deutschen Elf bei der WM 2018.
           </p>
           <p>
            Es handelt sich dabei um einen Lösungsansatz, der die Funktionen des elektronischen Kontoauszugs (ELKO) verwendet. Im Kern wird so getan, als ob die jeweiligen PSPs (Haus-)Banken sind, die Kontoauszüge anliefern. Der Ablauf des Verfahrens ist dabei wie folgt:
           </p>
           <ol>
            <li>
             Einlesen der Avis-Datei des PSPs
            </li>
            <li>
             Mapping der eingelesenen Daten auf eine an den ELKO angelehnte SAP Zwischenstruktur
            </li>
            <li>
             Abspeichern der Zwischenstrukturen als elektronische Kontoauszüge
            </li>
            <li>
             Aufruf der Buchungsfunktion des ELKO
            </li>
           </ol>
           <p>
            Die oben beschriebenen Punkte werden durch die Transaktion
            <strong>
             FEBPS
            </strong>
            (Report RFEBKAPSP) initiiert. Hört sich alles im Grunde nicht schlecht an, bis man merkt, dass die (natürlich aufwändigsten) Punkte 1. und 2. komplett selber in Form einer BADI-Implementierung zu entwickeln sind, zu der es auch keinerlei Standard-Implementierung gibt...
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Aber nun ja - hilft ja nix, also zunächst sind folgende
            <strong>
             Business Functions
            </strong>
            zu aktivieren:
           </p>
           <ul>
            <li>
             <span style="font-size: 11px;">
              <span style="font-family: Courier New,Courier,monospace;">
               LOG_SD_SIMP_02 Vereinfachte Verkaufsprozesse im Vertrieb 2
              </span>
             </span>
            </li>
            <li>
             <span style="font-size: 11px;">
              <span style="font-family: Courier New,Courier,monospace;">
               LOG_SD_CI_02 Sales &amp; Distribution 2
              </span>
             </span>
            </li>
            <li>
             <span style="font-size: 11px;">
              <span style="font-family: Courier New,Courier,monospace;">
               ERP_WEB_CHANNEL_1 SAP Web Channel Experience Management für SAP ERP
              </span>
             </span>
            </li>
            <li>
             <span style="font-size: 11px;">
              <span style="font-family: Courier New,Courier,monospace;">
               ERP_WEB_CHANNEL_2 SAP Web Channel Experience Management 2.0
              </span>
             </span>
            </li>
            <li>
             <span style="font-size: 11px;">
              <span style="font-family: Courier New,Courier,monospace;">
               ERP_WEB_CHANNEL_3 SAP Web Channel Experience Management 3.0
              </span>
             </span>
            </li>
           </ul>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Ich habe keinerlei unerwünschte Seiteneffekte der o.g. BF feststellen können, die Aktivierung kann also m.E. bedenkenlos durchgeführt werden.
           </p>
           <h3>
            Customizing
           </h3>
           <p>
            U.a. wird dadurch der folgende Customizing-Pfad eingeblendet:
            <em>
             IMG - Vertrieb - SAP Web Channel Experience Management...
            </em>
           </p>
           <p>
            Im Abschnitt
            <em>
             Zahlungsdienstleister
            </em>
            können nun die benötigten PSPs dem System bekannt gemacht werden. Unter
            <em>
             Business Add-Ins (BAdIs) - BAdI: Import der Abrechnungsdatei pro Zahlungsdienstleister
            </em>
            erfolgt die Implementierung der weiter oben genannten Teilfunktionen 1. &amp; 2. (Mustercoding s.u.).
           </p>
           <p>
            Alles weitere Customizing ist das kleine Einmaleins des elektronischen Kontoauszugs. Im Customizing des ELKO werden nun für jeden PSP ein Vorgangstyp, die entsprechenden externen Vorgangscodes (Details siehe Abschnitt "Mapping") nebst Zuweisung der Buchungsregeln und abschließend die Zuordnung der Pseudobank des PSP zum entsprechenden Vorgangstyp hinterlegt. Diese Pseudobank muss auch als Hausbank mit Zuordnung zum entsprechenden Verrechnungskonto angelegt werden.
           </p>
           <p>
            Ich habe zur Definition der Pseudobank einfach den Namen des PSP als Bankschlüssel und die Vertragsnummer als Kontonummer verwendet.
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <h3>
            Buchungslogik
           </h3>
           <p>
            Für die Ausgestaltung des Customizings des elektr. Kontoauszugs ist natürlich die gewünschte Buchungslogik maßgeblich. Eine mögliche Ausprägung
            <u>
             könnte
            </u>
            wie folgt aussehen:
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_52b0e4_psp-upload.jpg">
             <img alt='Überblick Buchungslogik im Prozess "Direktverkauf mit Bezahlung per Zahlkarte"' class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_52b0e4_psp-upload.jpg"/>
            </a>
           </div>
           <p class="ob-desc">
            Überblick Buchungslogik im Prozess "Direktverkauf mit Bezahlung per Zahlkarte"
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Im obenstehenden Beispiel wird ein Filialverkauf mit direkter Bezahlung bei Mitnahme des Artikels per Kreditkarte dargestellt.
           </p>
           <p>
            Aus der Filiale wird der Verkauf mit Angabe des verwendeten Zahlungsmittels an die Finanzbuchhaltung gemeldet.
           </p>
           <p>
            In regelmäßigen Abständen sendet der Zahlungsmittelprovider Avise über abgerechnete Zahlungen an den Händler üblicherweise unter Angabe sämtlicher Transaktionsdaten. Diese Avise werden über die FEBPS eingelesen und verbucht. Für diese Verbuchung sind die entsprechenden Buchungsregeln auszuprägen und ggf. Suchmuster oder Userexits zu verwenden, um bspw. der Gebührenposition das passende Steuerkennzeichen und ggf. eine Kostenstelle zuzuführen.
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <h3>
            Mapping
           </h3>
           <p>
            Elementarer Bestandteil des Prozesses ist natürlich, das Mapping der externen Daten des PSP auf die internen Kontoauszugsstrukturen herzustellen. Die internen Strukturen haben den Typ
           </p>
           <p>
            FPS_HEADER - Auszugskopf
           </p>
           <p>
            FPS_ITEM - Umsätze
           </p>
           <p>
            Für das Mapping habe ich mir eine Excel-Tabelle angelegt, in der in einfacher Form Quelle, Ziel und Verarbeitungshinweise aufgeführt sind.
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_72a44c_psp1.PNG">
             <img alt="Mapping Auszugskopf" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_72a44c_psp1.PNG"/>
            </a>
           </div>
           <p class="ob-desc">
            Mapping Auszugskopf
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_9e53b0_psp2.PNG">
             <img alt="Mapping Umsatzdaten" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_9e53b0_psp2.PNG"/>
            </a>
           </div>
           <p class="ob-desc">
            Mapping Umsatzdaten
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Nach dem Mapping kann dann die BadI-Implementierung erfolgen. Eine mögliche Ausprägung des Codings könnte so aussehen:
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
            </style>
            <span>
             <span class="L0S31">
              **************************************************************************
             </span>
             <br/>
             <span class="L0S31">
              *   Upload und Mapping der Datei vom PSP in SAP-Strukturen
             </span>
             <br/>
             <span class="L0S31">
              **************************************************************************
             </span>
             <br/>
             <span class="L0S31">
              *   Bsp: PAYPAL
             </span>
             <br/>
             <span class="L0S31">
              **************************************************************************
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             lt_paypal
             <span class="L0S52">
              TYPE
             </span>
             ltt_paypal
             <span class="L0S55">
              ,
             </span>
             <br/>
             ls_paypal
             <span class="L0S52">
              TYPE
             </span>
             lty_paypal
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             lt_buf
             <span class="L0S52">
              TYPE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             string
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CHECK
             </span>
             i_flt_vl
             <span class="L0S55">
              =
             </span>
             con_paypal
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CHECK
             </span>
             i_pfname
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              NOT
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             lt_buf
             <span class="L0S55">
              =
             </span>
             upload_data
             <span class="L0S55">
              (
             </span>
             i_pfname
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              BREAK-POINT
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             structurize_data
             <span class="L0S55">
              (
             </span>
             <span class="L0S52">
              EXPORTING
             </span>
             it_buf
             <span class="L0S55">
              =
             </span>
             lt_buf
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             et_paypal
             <span class="L0S55">
              =
             </span>
             lt_paypal
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             map_data
             <span class="L0S55">
              (
             </span>
             <span class="L0S52">
              EXPORTING
             </span>
             i_bank
             <span class="L0S55">
              =
             </span>
             i_bank
             <br/>
             i_account
             <span class="L0S55">
              =
             </span>
             i_account
             <br/>
             it_paypal
             <span class="L0S55">
              =
             </span>
             lt_paypal
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             et_header
             <span class="L0S55">
              =
             </span>
             et_header
             <br/>
             et_items
             <span class="L0S55">
              =
             </span>
             et_items
             <br/>
             <span class="L0S52">
              CHANGING
             </span>
             ct_return
             <span class="L0S55">
              =
             </span>
             et_return
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
            <br/>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Im ersten Schritt wird die Datei vom Zahlungsdienstleister in eine Puffer-Tabelle geladen (in diesem Fall CSV-Format) und anschließend strukturiert in eine interne Arbeitstabelle (vom Typ lty_paypal, Satzbett PayPal-Umsätze) abgelegt (Methode STRUCTURIZE_DATA). Dieser Abschnitt ist natürlich wesentlich vom Format und Inhalt der PSP-Datei abhängig.
           </p>
           <p>
            Die entscheidende Verarbeitung erfolgt jedoch in der Methode MAP_DATA, in der die zuvor strukturiert abgelegte Datei des PSP in die internen SAP Tabellen ET_HEADER und ET_ITEMS überführt werden.
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S52">
              METHOD
             </span>
             map_data
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S31">
              *   PayPal-Daten in SAP Kontoauszugsdaten mappen
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             ls_paypal
             <span class="L0S52">
              TYPE
             </span>
             lty_paypal
             <span class="L0S55">
              ,
             </span>
             <br/>
             ls_header
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S52">
              OF
             </span>
             et_header
             <span class="L0S55">
              ,
             </span>
             <br/>
             ls_item
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S52">
              OF
             </span>
             et_items
             <span class="L0S55">
              ,
             </span>
             <br/>
             ls_return
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S52">
              OF
             </span>
             ct_return
             <span class="L0S55">
              ,
             </span>
             <br/>
             ls_t028b
             <span class="L0S52">
              TYPE
             </span>
             t028b
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S31">
              *   HEADER
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             ls_header
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   Bankdaten
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             i_bank
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              NOT
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             bank
             <span class="L0S55">
              =
             </span>
             i_bank
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             i_account
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              NOT
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S55">
              =
             </span>
             i_account
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             bank
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S52">
              OR
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
           <p>
            <span>
             <span class="L0S55">
              "Pseuobank/Konto des PSP ermitteln
             </span>
             <br/>
             <span class="L0S52">
              SELECT
             </span>
             *
             <span class="L0S52">
              FROM
             </span>
             t028b
             <span class="L0S52">
              UP
             </span>
             <span class="L0S52">
              TO
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S52">
              ROWS
             </span>
             <span class="L0S52">
              INTO
             </span>
             ls_t028b
             <span class="L0S52">
              WHERE
             </span>
             vgtyp
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'PAYPAL'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDSELECT
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             bank
             <span class="L0S55">
              =
             </span>
             ls_t028b
             <span class="L0S70">
              -
             </span>
             bankl
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S55">
              =
             </span>
             ls_t028b
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ELSE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              type
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'E'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              id
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'ZFI03'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              number
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '013'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_return
             <span class="L0S70">
              -
             </span>
             message_v1
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'PAYPAL'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             ls_return
             <span class="L0S52">
              TO
             </span>
             ct_return
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   Auszugsnummer
             </span>
             <br/>
             <span class="L0S52">
              SELECT
             </span>
             aznum
             <span class="L0S52">
              FROM
             </span>
             febko
             <span class="L0S52">
              INTO
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             aznum
             <span class="L0S52">
              UP
             </span>
             <span class="L0S52">
              TO
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S52">
              ROWS
             </span>
             <br/>
             <span class="L0S52">
              WHERE
             </span>
             absnd
             <span class="L0S55">
              =
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             bank
             <br/>
             <span class="L0S52">
              ORDER
             </span>
             <span class="L0S52">
              BY
             </span>
             aznum
             <span class="L0S52">
              DESCENDING
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDSELECT
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ADD
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S52">
              TO
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             aznum
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ELSE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             aznum
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   Auszugsdatum
             </span>
             <br/>
             <span class="L0S52">
              READ
             </span>
             <span class="L0S52">
              TABLE
             </span>
             it_paypal
             <span class="L0S52">
              INTO
             </span>
             ls_paypal
             <br/>
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              KEY
             </span>
             satzart
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'RH'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             azdat
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              4
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionscode
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              4
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             azdat+4
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionscode+5
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             azdat+6
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionscode+8
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ELSE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             azdat
             <span class="L0S55">
              =
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             datum
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   Auszugs-Währung
             </span>
             <br/>
             ls_header
             <span class="L0S70">
              -
             </span>
             waers
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'EUR'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   Start-Saldo
             </span>
             <br/>
             <span class="L0S31">
              "n/a
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   End-Saldo
             </span>
             <br/>
             <span class="L0S31">
              "n/a
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S31">
              *   ITEMS
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             it_paypal
             <span class="L0S52">
              INTO
             </span>
             ls_paypal
             <br/>
             <span class="L0S52">
              WHERE
             </span>
             satzart
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'SB'
             </span>
             <span class="L0S55">
              .    "Die Einzelpos. tragen Satzart SB
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *     Bankdaten
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             bank
             <span class="L0S55">
              =
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             bank
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S55">
              =
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             ktonr
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             aznum
             <span class="L0S55">
              =
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             aznum
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *     Valutadatum &amp; Zeit
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             valut
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              4
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              4
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             valut+4
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum+5
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             valut+6
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum+8
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             uzeit
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum+11
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             uzeit+2
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum+14
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             uzeit+4
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsabschlussdatum+17
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             bvdat
             <span class="L0S55">
              =
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             valut
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *     Beträge
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             waers
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             waehrung_transaktion
             <span class="L0S55">
              .
             </span>
             <br/>
             _convert
             <span class="L0S55">
              (
             </span>
             <span class="L0S52">
              EXPORTING
             </span>
             <span class="L0S52">
              in
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             bruttotransaktionsbetrag
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             out
             <span class="L0S55">
              =
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             wrbtr
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              DIVIDE
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             wrbtr
             <span class="L0S52">
              BY
             </span>
             <span class="L0S32">
              100
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             _convert
             <span class="L0S55">
              (
             </span>
             <span class="L0S52">
              EXPORTING
             </span>
             <span class="L0S52">
              in
             </span>
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             gebuehrenbetrag
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             out
             <span class="L0S55">
              =
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             spesk
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              DIVIDE
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             spesk
             <span class="L0S52">
              BY
             </span>
             <span class="L0S32">
              100
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *     Verwendungszweck &amp; Buchungstexte
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             vwz01
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             rechnungsnummer
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             butxt
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsereigniscode
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             zinf1
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             paypal_referenznummer_typ
             <span class="L0S55">
              .
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             vwz02
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             paypal_referenznummer
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CONCATENATE
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             zahlungsverfolgungs_id
             <br/>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             kundenummer
             <br/>
             <span class="L0S52">
              INTO
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             vwz03
             <span class="L0S52">
              SEPARATED
             </span>
             <span class="L0S52">
              BY
             </span>
             space
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *     GVC extern
             </span>
             <br/>
             ls_item
             <span class="L0S70">
              -
             </span>
             gcode
             <span class="L0S55">
              =
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktionsereigniscode
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              TRANSLATE
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             gcode
             <span class="L0S52">
              TO
             </span>
             <span class="L0S52">
              UPPER
             </span>
             <span class="L0S52">
              CASE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *     Header-Infos aktualisieren
             </span>
             <br/>
             <span class="L0S52">
              ADD
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S52">
              TO
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             anzum
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              IF
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktion
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'CR'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ADD
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             wrbtr
             <span class="L0S52">
              TO
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             sumso
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             ls_paypal
             <span class="L0S70">
              -
             </span>
             transaktion
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'DR'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ADD
             </span>
             ls_item
             <span class="L0S70">
              -
             </span>
             wrbtr
             <span class="L0S52">
              TO
             </span>
             ls_header
             <span class="L0S70">
              -
             </span>
             sumha
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             ls_item
             <span class="L0S52">
              TO
             </span>
             et_items
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             ls_header
             <span class="L0S52">
              TO
             </span>
             et_header
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDMETHOD
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Zunächst werden im Auszugskopf Bank und Kontonummer mit der Pseudobank des PSP gefüllt, sowie Auszugsnummer, -Datum und Währung gesetzt.
           </p>
           <p>
            Bei den Umsätzen werden Betrag und Gebühr gefüllt sowie das Valutadatum und Verwendungszweckinformationen eingesetzt. Als
            <em>
             externen GVC
            </em>
            setze ich hier das in der PSP-Datei enthaltene Transaktionskürzel, in diesem Fall 'CR' (Zahlung) bzw. 'DR' (Rückerstattung). Im Customizing des ELKO muss dann zu diesen GVCs eine Buchungsregel hinterlegt werden.
           </p>
           <p>
            Nach Durchlauf des BadI erzeugt der Standardreport RFEBKAPSP aus den so gemappten Tabellen einen Kontoauszug (Tab. FEBKO, FEBEP, FEBRE) und übergibt diesen an die Standard-Kontoauszugsverarbeitung (RFEBBU01).
           </p>
          </div>
         </div>
        </div>
        <a amazon="" auf.="" class="read-more" href="http://sapmandoo.over-blog.de/2018/07/integration-von-zahlungsmitteldienstleistern-in-die-sap-finanzbuchhaltung.html#comments" kurz="" mit...="" oder="" payment="" payments="" paypal="" provider="" psp="" service="" title="In den Workshops zur Bankbuchhaltung kommt bei den meisten Kunden (zumindest im Handels-Sektor) irgendwann die Frage nach der Integration von Zahlungsmitteldienstleistern (" wie="">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2018/07/integration-von-zahlungsmitteldienstleistern-in-die-sap-finanzbuchhaltung.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="Basis-Entwicklung allg.,FI" data-lang="en" data-text="Integration von Zahlungsmitteldienstleistern in die SAP Finanzbuchhaltung" data-url="http://sapmandoo.over-blog.de/2018/07/integration-von-zahlungsmitteldienstleistern-in-die-sap-finanzbuchhaltung.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="Integration von Zahlungsmitteldienstleistern in die SAP Finanzbuchhaltung" data-pin-media="https://img.over-blog-kiwi.com/1/47/36/37/20180703/ob_72a44c_psp1.PNG" data-pin-url="http://sapmandoo.over-blog.de/2018/07/integration-von-zahlungsmitteldienstleistern-in-die-sap-finanzbuchhaltung.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-547827307" href="https://admin.over-blog.com/_repost/93543670" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-547827307"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_2" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2018/06/anlagen-migration-unter-s/4-hana-mithilfe-des-bapis.html" title="Gerade erfolgreich unter S/4 1709 on premise getestet, deshalb hier druckfrisch meine gewonnen Erkenntnisse... Es soll eine Excel-Datei mit Altanlagen und -werten in SAP-Anlagen migriert werden. Die Übernahme erfolgt zum Jahresende, d.h., es findet keine...">
           Anlagen-Migration unter S/4 HANA mithilfe des BAPIs
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 26. Juni 2018
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/aa/" title="AA">
           AA
          </a>
          ,
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Gerade erfolgreich unter S/4 1709 on premise getestet, deshalb hier druckfrisch meine gewonnen Erkenntnisse...
           </p>
           <p>
            Es soll eine Excel-Datei mit Altanlagen und -werten in SAP-Anlagen migriert werden. Die Übernahme erfolgt zum Jahresende, d.h., es findet keine Übernahme von unterjährigen Bewegungen statt. Es werden zwei Bewertungsbereiche (HGB &amp; IFRS) berücksichtigt.
           </p>
           <p>
            Die Migrationsdatei hat folgenden Aufbau:
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_24d11e_p1.PNG">
             <img alt="Excel-Datei mit den zu migrierenden Anlagen" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_24d11e_p1.PNG"/>
            </a>
           </div>
           <p class="ob-desc">
            Excel-Datei mit den zu migrierenden Anlagen
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Die Excel-Datei kann unkonvertiert verwendet werden, d.h. ein vorheriges Abspeichern im TXT-Format oder ähnliches ist
            <u>
             nicht
            </u>
            erforderlich. Die Nummer der
            <u>
             Altanlage
            </u>
            ist in der Spalte "Inventarnummer" hinterlegt. Die
            <u>
             SAP-Anlagennummern
            </u>
            werden in diesem Fall neu
            <strong>
             intern
            </strong>
            vergeben.
           </p>
           <p>
            Die Übernahme erfolgt mit eigenem Programm unter Zuhilfenahme des BAPIs BAPI_FIXEDASSET_OVRTAKE_CREATE. Der genannte BAPI erzeugt in einem Arbeitsgang sowohl den Stammsatz als auch die unter S/4 zwingend erforderliche Übernahmebuchung (ABLDT). Der gute alte Button "Übernahmewerte" in der AS91 und die anschließende Einbuchung der Salden (OASV) ist ja passé...
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <h3>
            Vorbereitungen
           </h3>
           <p>
            Im Grunde sind die Einstellungen zur Anlagenmigration weitestgehend identisch mit denen unter ECC/ERP. Hinzu kommt die Angabe der Belegart (für die Übernahmebuchung) und in der Fixkontentabelle muss noch ein Übernahmekonto für die Anlagenmigration hinterlegt werden, gegen dass die jeweiligen AHKs und die kumulierte Abschreibung gebucht werden. Hier hat's mich im Q-System zerlegt, weil es ein Problem mit dem Transportanschluss für eben diese Kontenfindung gibt/gab. Hinweise 2376485 und 2289443 schaffen Abhilfe...
           </p>
           <p>
            Zuvor muss zudem die neue Anlagenbuchhaltung aktiviert werden (
            <em>
             IMG: Finanzwesen - Anlagenbuchhaltung - Produktionsvorbereitung - Produktivstart - neue Anlagenbuchhaltung aktivieren (Neukunden)
            </em>
            ).
           </p>
           <p>
            Die Übernahmeparameter haben keinen Transportanschluß, d.h. sie müssen ggf. in jedem System/Mandanten eingetragen werden.
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_a1b8c5_2.PNG">
             <img alt='IMG-Pfad "Datenübernahme Anlagen"' class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_a1b8c5_2.PNG"/>
            </a>
           </div>
           <p class="ob-desc">
            IMG-Pfad "Datenübernahme Anlagen"
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_b3455d_p3.PNG">
             <img alt="Eingabe von Übernahmestatus, -belegart und -datum pro Buchungskreis" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_b3455d_p3.PNG"/>
            </a>
           </div>
           <p class="ob-desc">
            Eingabe von Übernahmestatus, -belegart und -datum pro Buchungskreis
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Die obenstehende Excel-Datei kann mit dem untenstehenden Programm eingelesen und verarbeitet werden. Das meiste Coding ging dabei für die Protokollausgabe drauf. Inhaltlich Interessant ist eigentlich nur die Routine "MAP_DATA".
           </p>
           <p>
            Im ersten Versuch hatte ich die kum. Abschreibungen mit positivem Vorzeichen (also so wie sie in der Excel-Tabelle stehen) an das BAPI übergeben - sah nicht gut aus... Einmal mit -1 multiplizieren reduziert die blutroten Meldungen drastisch...
           </p>
           <p>
            Zudem hatte ich zuerst den klassischen Anfängerfehler gemacht und das COMMIT nach dem BAPI-Aufruf vergessen.
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Report ZFI_MIG_ANLAGEN
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Anlagenstamm-Migration (Stammdaten &amp; Werte)
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              REPORT
             </span>
             zfi_mig_anlagen
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              ***********************************************************************
             </span>
             <br/>
             <span class="L0S31">
              ******************** GLOBAL DATA **************************************
             </span>
             <br/>
             <span class="L0S31">
              ***********************************************************************
             </span>
             <br/>
             <span class="L0S52">
              TABLES
             </span>
             <span class="L0S55">
              :
             </span>
             t001
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              SET
             </span>
             <span class="L0S52">
              EXTENDED
             </span>
             <span class="L0S52">
              CHECK
             </span>
             OFF
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              INCLUDE
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             sbal_constants
             <span class="L0S55">
              ,
             </span>
             <br/>
             &lt;icon&gt;
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              SET
             </span>
             <span class="L0S52">
              EXTENDED
             </span>
             <span class="L0S52">
              CHECK
             </span>
             <span class="L0S52">
              ON
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             g_s_log
             <span class="L0S52">
              TYPE
             </span>
             bal_s_log
             <span class="L0S55">
              ,
             </span>
             <br/>
             g_log_handle
             <span class="L0S52">
              TYPE
             </span>
             balloghndl
             <span class="L0S55">
              ,
             </span>
             <br/>
             g_t_log_handle
             <span class="L0S52">
              TYPE
             </span>
             bal_t_logh
             <span class="L0S55">
              ,
             </span>
             <br/>
             g_s_display_profile
             <span class="L0S52">
              TYPE
             </span>
             bal_s_prof
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              TYPES
             </span>
             <span class="L0S55">
              :
             </span>
             <span class="L0S52">
              BEGIN
             </span>
             <span class="L0S52">
              OF
             </span>
             ty_mig
             <span class="L0S55">
              ,  "Spaltenstruktur Excel Datei
             </span>
             <br/>
             bukr
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             bukrs
             <span class="L0S55">
              ,
             </span>
             <br/>
             anlagenklasse
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             anlkl
             <span class="L0S55">
              ,
             </span>
             <br/>
             anlage
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             anln1
             <span class="L0S55">
              ,
             </span>
             <br/>
             anlagenbezeichnung1
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             txt50
             <span class="L0S55">
              ,
             </span>
             <br/>
             anlagenbezeichnung2
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             txa50
             <span class="L0S55">
              ,
             </span>
             <br/>
             inventarnummer
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             invnr
             <span class="L0S55">
              ,
             </span>
             <br/>
             aktivdatum
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              10
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             kostenst
             <span class="L0S52">
              LIKE
             </span>
             anlz
             <span class="L0S70">
              -
             </span>
             kostl
             <span class="L0S55">
              ,
             </span>
             <br/>
             standort
             <span class="L0S52">
              LIKE
             </span>
             anlz
             <span class="L0S70">
              -
             </span>
             stort
             <span class="L0S55">
              ,
             </span>
             <br/>
             seriennummer
             <span class="L0S52">
              LIKE
             </span>
             anla
             <span class="L0S70">
              -
             </span>
             sernr
             <span class="L0S55">
              ,
             </span>
             <br/>
             filiale
             <span class="L0S52">
              LIKE
             </span>
             anlz
             <span class="L0S70">
              -
             </span>
             werks
             <span class="L0S55">
              ,
             </span>
             <br/>
             innenauftrag_kost2
             <span class="L0S52">
              LIKE
             </span>
             anlz
             <span class="L0S70">
              -
             </span>
             caufn
             <span class="L0S55">
              ,
             </span>
             <br/>
             hgb_afaschl
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              20
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             hgb_ntz
             <span class="L0S52">
              LIKE
             </span>
             anlb
             <span class="L0S70">
              -
             </span>
             ndjar
             <span class="L0S55">
              ,
             </span>
             <br/>
             hgb_per
             <span class="L0S52">
              LIKE
             </span>
             anlb
             <span class="L0S70">
              -
             </span>
             ndper
             <span class="L0S55">
              ,
             </span>
             <br/>
             hgb_nafabeg
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              10
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             hbg_kumanschwert
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              15
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             hgb_kumnormalafa
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              15
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_afaschl
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              20
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_ntz
             <span class="L0S52">
              LIKE
             </span>
             anlb
             <span class="L0S70">
              -
             </span>
             ndjar
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_per
             <span class="L0S52">
              LIKE
             </span>
             anlb
             <span class="L0S70">
              -
             </span>
             ndper
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_nafabeg
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              10
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_kumanschwert
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              15
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             ifrs_kumnormalafa
             <span class="L0S55">
              (
             </span>
             <span class="L0S32">
              15
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             <span class="L0S52">
              END
             </span>
             <span class="L0S52">
              OF
             </span>
             ty_mig
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             it_mig
             <span class="L0S52">
              TYPE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             ty_mig
             <span class="L0S55">
              ,
             </span>
             <br/>
             wa_mig
             <span class="L0S52">
              TYPE
             </span>
             ty_mig
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <span class="L0S52">
              key
             </span>
             <span class="L0S52">
              TYPE
             </span>
             bapi1022_key
             <span class="L0S55">
              ,
             </span>
             <br/>
             <span class="L0S52">
              reference
             </span>
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_reference
             <span class="L0S55">
              ,
             </span>
             <br/>
             createsubnumber
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_misc
             <span class="L0S70">
              -
             </span>
             xsubno
             <span class="L0S55">
              ,
             </span>
             <br/>
             creategroupasset
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_misc
             <span class="L0S70">
              -
             </span>
             xanlgr
             <span class="L0S55">
              ,
             </span>
             <br/>
             testrun
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_misc
             <span class="L0S70">
              -
             </span>
             testrun
             <span class="L0S55">
              ,
             </span>
             <br/>
             generaldata
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg001
             <span class="L0S55">
              ,
             </span>
             <br/>
             generaldatax
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg001x
             <span class="L0S55">
              ,
             </span>
             <br/>
             inventory
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg011
             <span class="L0S55">
              ,
             </span>
             <br/>
             inventoryx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg011x
             <span class="L0S55">
              ,
             </span>
             <br/>
             postinginformation
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg002
             <span class="L0S55">
              ,
             </span>
             <br/>
             postinginformationx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg002x
             <span class="L0S55">
              ,
             </span>
             <br/>
             timedependentdata
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg003
             <span class="L0S55">
              ,
             </span>
             <br/>
             timedependentdatax
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg003x
             <span class="L0S55">
              ,
             </span>
             <br/>
             allocations
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg004
             <span class="L0S55">
              ,
             </span>
             <br/>
             allocationsx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg004x
             <span class="L0S55">
              ,
             </span>
             <br/>
             origin
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg009
             <span class="L0S55">
              ,
             </span>
             <br/>
             originx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg009x
             <span class="L0S55">
              ,
             </span>
             <br/>
             investacctassignmnt
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg010
             <span class="L0S55">
              ,
             </span>
             <br/>
             investacctassignmntx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg010x
             <span class="L0S55">
              ,
             </span>
             <br/>
             networthvaluation
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg006
             <span class="L0S55">
              ,
             </span>
             <br/>
             networthvaluationx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg006x
             <span class="L0S55">
              ,
             </span>
             <br/>
             realestate
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg007
             <span class="L0S55">
              ,
             </span>
             <br/>
             realestatex
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg007x
             <span class="L0S55">
              ,
             </span>
             <br/>
             insurance
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg008
             <span class="L0S55">
              ,
             </span>
             <br/>
             insurancex
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg008x
             <span class="L0S55">
              ,
             </span>
             <br/>
             leasing
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg005
             <span class="L0S55">
              ,
             </span>
             <br/>
             leasingx
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_feglg005x
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             companycode
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_1
             <span class="L0S70">
              -
             </span>
             comp_code
             <span class="L0S55">
              ,
             </span>
             <br/>
             asset
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_1
             <span class="L0S70">
              -
             </span>
             assetmaino
             <span class="L0S55">
              ,
             </span>
             <br/>
             subnumber
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_1
             <span class="L0S70">
              -
             </span>
             assetsubno
             <span class="L0S55">
              ,
             </span>
             <br/>
             assetcreated
             <span class="L0S52">
              LIKE
             </span>
             bapi1022_reference
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             depreciationareas
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_dep_areas
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             depreciationareasx
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_dep_areasx
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             investment_support
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_inv_support
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             extensionin
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapiparex
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_cumval
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             postedvalues
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_postval
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             transactions
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_trtype
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             proportionalvalues
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_propval
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             <span class="L0S52">
              return
             </span>
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapiret2
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             postingheaders
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             bapi1022_postingheader
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S52">
              HEADER
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             data_tab
             <span class="L0S52">
              TYPE
             </span>
             <span class="L0S52">
              TABLE
             </span>
             <span class="L0S52">
              OF
             </span>
             string
             <span class="L0S55">
              .
             </span>
            </span>
            <br/>
            <br/>
            <br/>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; SELECTION-SCREEN
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              PARAMETERS
             </span>
             <span class="L0S55">
              :
             </span>
             pa_test
             <span class="L0S52">
              AS
             </span>
             <span class="L0S52">
              CHECKBOX
             </span>
             <span class="L0S52">
              DEFAULT
             </span>
             <span class="L0S33">
              'X'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PARAMETERS
             </span>
             <span class="L0S55">
              :
             </span>
             pa_fnam
             <span class="L0S52">
              LIKE
             </span>
             rlgrap
             <span class="L0S70">
              -
             </span>
             filename OBLIGATORY
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              AT
             </span>
             <span class="L0S52">
              SELECTION-SCREEN
             </span>
             <span class="L0S52">
              ON
             </span>
             <span class="L0S52">
              VALUE-REQUEST
             </span>
             <span class="L0S52">
              FOR
             </span>
             pa_fnam
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             f4_filename
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              START-OF-SELECTION
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             upload_data
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             it_mig[]
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              NOT
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             init_protocol
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             it_mig
             <span class="L0S52">
              INTO
             </span>
             wa_mig
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             map_data
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             bapi_call
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             protocol
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ELSE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              MESSAGE
             </span>
             i600
             <span class="L0S55">
              (
             </span>
             fr
             <span class="L0S55">
              )
             </span>
             <span class="L0S52">
              WITH
             </span>
             <span class="L0S33">
              'Datei enthält keine'
             </span>
             <span class="L0S33">
              'verarbeitbaren'
             </span>
             <span class="L0S33">
              'Datensätze'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form BAPI_CALL
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Anlagen-Migrations-BAPI rufen, Meldungen speichern und f...ing COMMIT
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             bapi_call
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             l_error
             <span class="L0S52">
              TYPE
             </span>
             abap_bool
             <span class="L0S52">
              VALUE
             </span>
             abap_false
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAPI_FIXEDASSET_OVRTAKE_CREATE'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             <span class="L0S52">
              key
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S52">
              key
             </span>
             <br/>
             <span class="L0S31">
              *     REFERENCE           =
             </span>
             <br/>
             <span class="L0S31">
              *     CREATESUBNUMBER     =
             </span>
             <br/>
             <span class="L0S31">
              *     CREATEGROUPASSET    =
             </span>
             <br/>
             testrun
             <span class="L0S55">
              =
             </span>
             pa_test
             <br/>
             generaldata
             <span class="L0S55">
              =
             </span>
             generaldata
             <br/>
             generaldatax
             <span class="L0S55">
              =
             </span>
             generaldatax
             <br/>
             inventory
             <span class="L0S55">
              =
             </span>
             inventory
             <br/>
             inventoryx
             <span class="L0S55">
              =
             </span>
             inventoryx
             <br/>
             postinginformation
             <span class="L0S55">
              =
             </span>
             postinginformation
             <br/>
             postinginformationx
             <span class="L0S55">
              =
             </span>
             postinginformationx
             <br/>
             timedependentdata
             <span class="L0S55">
              =
             </span>
             timedependentdata
             <br/>
             timedependentdatax
             <span class="L0S55">
              =
             </span>
             timedependentdatax
             <br/>
             allocations
             <span class="L0S55">
              =
             </span>
             allocations
             <br/>
             allocationsx
             <span class="L0S55">
              =
             </span>
             allocationsx
             <br/>
             origin
             <span class="L0S55">
              =
             </span>
             origin
             <br/>
             originx
             <span class="L0S55">
              =
             </span>
             originx
             <br/>
             <span class="L0S31">
              *     INVESTACCTASSIGNMNT =
             </span>
             <br/>
             <span class="L0S31">
              *     INVESTACCTASSIGNMNTX       =
             </span>
             <br/>
             <span class="L0S31">
              *     NETWORTHVALUATION   =
             </span>
             <br/>
             <span class="L0S31">
              *     NETWORTHVALUATIONX  =
             </span>
             <br/>
             <span class="L0S31">
              *     REALESTATE          =
             </span>
             <br/>
             <span class="L0S31">
              *     REALESTATEX         =
             </span>
             <br/>
             <span class="L0S31">
              *     INSURANCE           =
             </span>
             <br/>
             <span class="L0S31">
              *     INSURANCEX          =
             </span>
             <br/>
             <span class="L0S31">
              *     LEASING             =
             </span>
             <br/>
             <span class="L0S31">
              *     LEASINGX            =
             </span>
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             <br/>
             companycode
             <span class="L0S55">
              =
             </span>
             companycode
             <br/>
             asset
             <span class="L0S55">
              =
             </span>
             asset
             <br/>
             subnumber
             <span class="L0S55">
              =
             </span>
             subnumber
             <br/>
             assetcreated
             <span class="L0S55">
              =
             </span>
             assetcreated
             <br/>
             <span class="L0S52">
              TABLES
             </span>
             <br/>
             depreciationareas
             <span class="L0S55">
              =
             </span>
             depreciationareas
             <br/>
             depreciationareasx
             <span class="L0S55">
              =
             </span>
             depreciationareasx
             <br/>
             <span class="L0S31">
              *     INVESTMENT_SUPPORT  =
             </span>
             <br/>
             <span class="L0S31">
              *     EXTENSIONIN         =
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S55">
              =
             </span>
             cumulatedvalues
             <br/>
             <span class="L0S31">
              *     POSTEDVALUES        =
             </span>
             <br/>
             <span class="L0S31">
              *     TRANSACTIONS        =
             </span>
             <br/>
             <span class="L0S31">
              *     PROPORTIONALVALUES  =
             </span>
             <br/>
             <span class="L0S52">
              return
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S52">
              return
             </span>
             <br/>
             postingheaders
             <span class="L0S55">
              =
             </span>
             postingheaders
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             <span class="L0S52">
              return
             </span>
             <span class="L0S52">
              WHERE
             </span>
             <span class="L0S52">
              type
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'A'
             </span>
             <span class="L0S52">
              OR
             </span>
             <span class="L0S52">
              type
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'E'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_error
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              IF
             </span>
             l_error
             <span class="L0S55">
              =
             </span>
             abap_false
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAPI_TRANSACTION_COMMIT'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ELSE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAPI_TRANSACTION_ROLLBACK'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             add_msg_to_prot
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form UPLOAD_DATA
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Anlagendatei uploaden
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             upload_data
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             l_buf
             <span class="L0S52">
              TYPE
             </span>
             string
             <span class="L0S55">
              ,
             </span>
             <br/>
             l_tabix
             <span class="L0S52">
              TYPE
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             tabix
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             data_tab[]
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'FAA_FILE_UPLOAD_EXCEL'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             i_filename
             <span class="L0S55">
              =
             </span>
             pa_fnam
             <br/>
             i_delimiter
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '~'
             </span>
             <br/>
             <span class="L0S52">
              TABLES
             </span>
             <br/>
             et_filecontent
             <span class="L0S55">
              =
             </span>
             data_tab
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             error_accessing_file
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WRITE
             </span>
             <span class="L0S55">
              :
             </span>
             /
             <span class="L0S33">
              'Fehler'
             </span>
             <span class="L0S55">
              ,
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              ,
             </span>
             <span class="L0S33">
              'beim Upload der Datei'
             </span>
             <span class="L0S55">
              ,
             </span>
             pa_fnam
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             data_tab
             <span class="L0S52">
              INTO
             </span>
             l_buf
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              SPLIT
             </span>
             l_buf
             <span class="L0S52">
              AT
             </span>
             <span class="L0S33">
              '~'
             </span>
             <span class="L0S52">
              INTO
             </span>
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             bukr
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenklasse
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlage
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenbezeichnung1
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenbezeichnung2
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             inventarnummer
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             aktivdatum
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             kostenst
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             standort
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             seriennummer
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             filiale
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             innenauftrag_kost2
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_afaschl
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_ntz
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_per
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_nafabeg
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hbg_kumanschwert
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_kumnormalafa
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_afaschl
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_ntz
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_per
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_nafabeg
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_kumanschwert
             <br/>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_kumnormalafa
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             wa_mig
             <span class="L0S52">
              TO
             </span>
             it_mig
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * Irrelevante Zeilen (Überschriften etc.) ausfiltern
             </span>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             it_mig
             <span class="L0S52">
              INTO
             </span>
             wa_mig
             <span class="L0S55">
              .
             </span>
             <br/>
             l_tabix
             <span class="L0S55">
              =
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             tabix
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              "ist die erste Spalte ein gültiger Buchungskreis?
             </span>
             <br/>
             <span class="L0S31">
              "dann gehen wir davon aus, dass es sich um eine Anlagenzeile handelt
             </span>
             <br/>
             <span class="L0S52">
              SELECT
             </span>
             <span class="L0S52">
              SINGLE
             </span>
             <span class="L0S52">
              COUNT
             </span>
             <span class="L0S55">
              (
             </span>
             *
             <span class="L0S55">
              )
             </span>
             <span class="L0S52">
              FROM
             </span>
             t001
             <span class="L0S52">
              WHERE
             </span>
             bukrs
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             bukr
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S52">
              NE
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              DELETE
             </span>
             it_mig
             <span class="L0S52">
              INDEX
             </span>
             l_tabix
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form MAP_DATA
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Upload daten in SAP BAPI-Strukturen überführen
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             map_data
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             init
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              "Buchungskreisdaten lesen
             </span>
             <br/>
             <span class="L0S52">
              SELECT
             </span>
             <span class="L0S52">
              SINGLE
             </span>
             *
             <span class="L0S52">
              FROM
             </span>
             t001
             <span class="L0S52">
              WHERE
             </span>
             bukrs
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             bukr
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Schlüssel (mit Altanlagennummer füllen)
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              key
             </span>
             <span class="L0S70">
              -
             </span>
             companycode
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             bukr
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              key
             </span>
             <span class="L0S70">
              -
             </span>
             asset
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             inventarnummer
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              key
             </span>
             <span class="L0S70">
              -
             </span>
             subnumber
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Allg. Daten
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenklasse generaldata
             <span class="L0S70">
              -
             </span>
             assetclass
             <span class="L0S33">
              'ANLKL'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldata
             <span class="L0S70">
              -
             </span>
             descript
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenbezeichnung1
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldata
             <span class="L0S70">
              -
             </span>
             descript2
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             anlagenbezeichnung2
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldata
             <span class="L0S70">
              -
             </span>
             serial_no
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             seriennummer
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldata
             <span class="L0S70">
              -
             </span>
             invent_no
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             inventarnummer
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldatax
             <span class="L0S70">
              -
             </span>
             assetclass
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldatax
             <span class="L0S70">
              -
             </span>
             descript
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldatax
             <span class="L0S70">
              -
             </span>
             descript2
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldatax
             <span class="L0S70">
              -
             </span>
             serial_no
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             generaldatax
             <span class="L0S70">
              -
             </span>
             invent_no
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Buchungsinfos
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             aktivdatum postinginformation
             <span class="L0S70">
              -
             </span>
             cap_date
             <span class="L0S33">
              'AKTIVD'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             postinginformationx
             <span class="L0S70">
              -
             </span>
             cap_date
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Zeitabhängige Daten
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             timedependentdata
             <span class="L0S70">
              -
             </span>
             location
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             standort
             <span class="L0S55">
              .
             </span>
             <br/>
             timedependentdatax
             <span class="L0S70">
              -
             </span>
             location
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             kostenst timedependentdata
             <span class="L0S70">
              -
             </span>
             costcenter
             <span class="L0S33">
              'KOSTL'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             timedependentdatax
             <span class="L0S70">
              -
             </span>
             costcenter
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              "INTERN_ORD
             </span>
             <br/>
             <span class="L0S31">
              "PLANT
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Bewertungsbereichsdaten
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * 01 HGB / local GAAP
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             generaldata
             <span class="L0S70">
              -
             </span>
             assetclass &lt;&gt;
             <span class="L0S33">
              '00013000'
             </span>
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "IFRS Leasingobjekte
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '01'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              TRANSLATE
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_afaschl
             <span class="L0S52">
              TO
             </span>
             <span class="L0S52">
              UPPER
             </span>
             <span class="L0S52">
              CASE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CASE
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_afaschl
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'LINEAR'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'LINI'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'KEINE'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '0000'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'MANUELL'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'MANU'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDCASE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             ulife_yrs
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_ntz
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             ulife_prds
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_per
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_nafabeg depreciationareas
             <span class="L0S70">
              -
             </span>
             odep_start_date
             <span class="L0S33">
              'BF_AFABG'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             depreciationareas
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             ulife_yrs
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             ulife_prds
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             odep_start_date
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             depreciationareasx
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * 02 IFRS
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '30'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              TRANSLATE
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_afaschl
             <span class="L0S52">
              TO
             </span>
             <span class="L0S52">
              UPPER
             </span>
             <span class="L0S52">
              CASE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CASE
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_afaschl
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'LINEAR'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'LINI'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'KEINE'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '0000'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WHEN
             </span>
             <span class="L0S33">
              'MANUELL'
             </span>
             <span class="L0S55">
              .
             </span>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'MANU'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDCASE
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             ulife_yrs
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_ntz
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareas
             <span class="L0S70">
              -
             </span>
             ulife_prds
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_per
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_nafabeg depreciationareas
             <span class="L0S70">
              -
             </span>
             odep_start_date
             <span class="L0S33">
              'BF_AFABG'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             depreciationareas
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             dep_key
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             ulife_yrs
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             ulife_prds
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             depreciationareasx
             <span class="L0S70">
              -
             </span>
             odep_start_date
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             depreciationareasx
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * Kumulierte Anlagenwerte
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              * 01 HGB
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             generaldata
             <span class="L0S70">
              -
             </span>
             assetclass &lt;&gt;
             <span class="L0S33">
              '00013000'
             </span>
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "IFRS Leasingobjekte
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             fisc_year
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '2018'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '01'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hbg_kumanschwert cumulatedvalues
             <span class="L0S70">
              -
             </span>
             acq_value
             <span class="L0S33">
              'BF_KANSW'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             hgb_kumnormalafa cumulatedvalues
             <span class="L0S70">
              -
             </span>
             ord_dep
             <span class="L0S33">
              'BF_KNAFA'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *   Achtung: kum.AfA muss negativ vorgegeben werden
             </span>
             <br/>
             <span class="L0S52">
              MULTIPLY
             </span>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             ord_dep
             <span class="L0S52">
              BY
             </span>
             <span class="L0S70">
              -
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              currency
             </span>
             <span class="L0S55">
              =
             </span>
             t001
             <span class="L0S70">
              -
             </span>
             waers
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             cumulatedvalues
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * 02 IFRS
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             fisc_year
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '2018'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             area
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              '30'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_kumanschwert cumulatedvalues
             <span class="L0S70">
              -
             </span>
             acq_value
             <span class="L0S33">
              'BF_KANSW'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             ifrs_kumnormalafa cumulatedvalues
             <span class="L0S70">
              -
             </span>
             ord_dep
             <span class="L0S33">
              'BF_KNAFA'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              * Achtung: kum.AfA muss negativ vorgegeben werden
             </span>
             <br/>
             <span class="L0S52">
              MULTIPLY
             </span>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             ord_dep
             <span class="L0S52">
              BY
             </span>
             <span class="L0S70">
              -
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              currency
             </span>
             <span class="L0S55">
              =
             </span>
             t001
             <span class="L0S70">
              -
             </span>
             waers
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             cumulatedvalues
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form PROTOCOL
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Return-Tabelle ausgeben
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             protocol
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * define how message should be displayed
             </span>
             <br/>
             <span class="L0S52">
              PERFORM
             </span>
             create_display_profile
             <br/>
             <span class="L0S52">
              CHANGING
             </span>
             <br/>
             g_s_display_profile
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * display log
             </span>
             <br/>
             <span class="L0S52">
              INSERT
             </span>
             g_log_handle
             <span class="L0S52">
              INTO
             </span>
             <span class="L0S52">
              TABLE
             </span>
             g_t_log_handle
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAL_DSP_LOG_DISPLAY'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             i_s_display_profile
             <span class="L0S55">
              =
             </span>
             g_s_display_profile
             <br/>
             i_t_log_handle
             <span class="L0S55">
              =
             </span>
             g_t_log_handle
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              MESSAGE
             </span>
             <span class="L0S52">
              ID
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgid
             <span class="L0S52">
              TYPE
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgty
             <span class="L0S52">
              NUMBER
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgno
             <br/>
             <span class="L0S52">
              WITH
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgv1 sy
             <span class="L0S70">
              -
             </span>
             msgv2 sy
             <span class="L0S70">
              -
             </span>
             msgv3 sy
             <span class="L0S70">
              -
             </span>
             msgv4
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form F4_FILENAME
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; F4 Hilfe Excel-Datei
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             f4_filename
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'FAA_FILE_F4'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             i_default_extension
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'XLS'
             </span>
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             <br/>
             e_filename
             <span class="L0S55">
              =
             </span>
             pa_fnam
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             interface_error
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              MESSAGE
             </span>
             <span class="L0S52">
              ID
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgid
             <span class="L0S52">
              TYPE
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgty
             <span class="L0S52">
              NUMBER
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgno
             <br/>
             <span class="L0S52">
              WITH
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgv1 sy
             <span class="L0S70">
              -
             </span>
             msgv2 sy
             <span class="L0S70">
              -
             </span>
             msgv3 sy
             <span class="L0S70">
              -
             </span>
             msgv4
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form INIT
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; BAPI-Strukturen und -tabellen initialisieren
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             init
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             <span class="L0S55">
              :
             </span>
             <span class="L0S52">
              key
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             <span class="L0S52">
              reference
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             createsubnumber
             <span class="L0S55">
              ,
             </span>
             <br/>
             creategroupasset
             <span class="L0S55">
              ,
             </span>
             <br/>
             testrun
             <span class="L0S55">
              ,
             </span>
             <br/>
             generaldata
             <span class="L0S55">
              ,
             </span>
             <br/>
             generaldatax
             <span class="L0S55">
              ,
             </span>
             <br/>
             inventory
             <span class="L0S55">
              ,
             </span>
             <br/>
             inventoryx
             <span class="L0S55">
              ,
             </span>
             <br/>
             postinginformation
             <span class="L0S55">
              ,
             </span>
             <br/>
             postinginformationx
             <span class="L0S55">
              ,
             </span>
             <br/>
             timedependentdata
             <span class="L0S55">
              ,
             </span>
             <br/>
             timedependentdatax
             <span class="L0S55">
              ,
             </span>
             <br/>
             allocations
             <span class="L0S55">
              ,
             </span>
             <br/>
             allocationsx
             <span class="L0S55">
              ,
             </span>
             <br/>
             origin
             <span class="L0S55">
              ,
             </span>
             <br/>
             originx
             <span class="L0S55">
              ,
             </span>
             <br/>
             investacctassignmnt
             <span class="L0S55">
              ,
             </span>
             <br/>
             investacctassignmntx
             <span class="L0S55">
              ,
             </span>
             <br/>
             networthvaluation
             <span class="L0S55">
              ,
             </span>
             <br/>
             networthvaluationx
             <span class="L0S55">
              ,
             </span>
             <br/>
             realestate
             <span class="L0S55">
              ,
             </span>
             <br/>
             realestatex
             <span class="L0S55">
              ,
             </span>
             <br/>
             insurance
             <span class="L0S55">
              ,
             </span>
             <br/>
             insurancex
             <span class="L0S55">
              ,
             </span>
             <br/>
             leasing
             <span class="L0S55">
              ,
             </span>
             <br/>
             leasingx
             <span class="L0S55">
              ,
             </span>
             <br/>
             companycode
             <span class="L0S55">
              ,
             </span>
             <br/>
             asset
             <span class="L0S55">
              ,
             </span>
             <br/>
             subnumber
             <span class="L0S55">
              ,
             </span>
             <br/>
             assetcreated
             <span class="L0S55">
              ,
             </span>
             <br/>
             depreciationareas[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             depreciationareasx[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             investment_support[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             extensionin[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             cumulatedvalues[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             postedvalues[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             transactions[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             proportionalvalues[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             return[]
             <span class="L0S55">
              ,
             </span>
             <br/>
             postingheaders[]
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             <span class="L0S55">
              :
             </span>
             depreciationareas
             <span class="L0S55">
              ,
             </span>
             <br/>
             depreciationareasx
             <span class="L0S55">
              ,
             </span>
             <br/>
             investment_support
             <span class="L0S55">
              ,
             </span>
             <br/>
             extensionin
             <span class="L0S55">
              ,
             </span>
             <br/>
             cumulatedvalues
             <span class="L0S55">
              ,
             </span>
             <br/>
             postedvalues
             <span class="L0S55">
              ,
             </span>
             <br/>
             transactions
             <span class="L0S55">
              ,
             </span>
             <br/>
             proportionalvalues
             <span class="L0S55">
              ,
             </span>
             <br/>
             <span class="L0S52">
              return
             </span>
             <span class="L0S55">
              ,
             </span>
             <br/>
             postingheaders
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form _CONVERT
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Daten ins SAP-Format konvertieren
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp;      --&gt; in/out Ein/Ausgabe
             </span>
             <br/>
             <span class="L0S31">
              *&amp;      --&gt; Dtel   Datenelement
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             _convert
             <span class="L0S52">
              USING
             </span>
             <span class="L0S52">
              in
             </span>
             out
             <span class="L0S52">
              VALUE
             </span>
             <span class="L0S55">
              (
             </span>
             dtel
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'RS_CONV_EX_2_IN_DTEL'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             input_external
             <span class="L0S55">
              =
             </span>
             <span class="L0S52">
              in
             </span>
             <br/>
             dtel
             <span class="L0S55">
              =
             </span>
             dtel
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             <br/>
             output_internal
             <span class="L0S55">
              =
             </span>
             out
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              WRITE
             </span>
             <span class="L0S55">
              :
             </span>
             /
             <span class="L0S33">
              'Fehler'
             </span>
             <span class="L0S55">
              ,
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              ,
             </span>
             <span class="L0S33">
              'bei der Konvertierung von'
             </span>
             <span class="L0S55">
              ,
             </span>
             <span class="L0S52">
              in
             </span>
             <span class="L0S55">
              ,
             </span>
             <span class="L0S33">
              'Datenelement'
             </span>
             <span class="L0S55">
              ,
             </span>
             dtel
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form INIT_PROTOCOL
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Anwendungsprotokoll aufbauen
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             init_protocol
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             l_s_message_defaults
             <span class="L0S52">
              TYPE
             </span>
             bal_s_mdef
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * create a log
             </span>
             <br/>
             g_s_log
             <span class="L0S70">
              -
             </span>
             extnumber
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'Anlagenmigration'
             </span>
             <span class="L0S55">
              (
             </span>
             ext
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAL_LOG_CREATE'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             i_s_log
             <span class="L0S55">
              =
             </span>
             g_s_log
             <br/>
             <span class="L0S52">
              IMPORTING
             </span>
             <br/>
             e_log_handle
             <span class="L0S55">
              =
             </span>
             g_log_handle
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              MESSAGE
             </span>
             <span class="L0S52">
              ID
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgid
             <span class="L0S52">
              TYPE
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgty
             <span class="L0S52">
              NUMBER
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgno
             <br/>
             <span class="L0S52">
              WITH
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgv1 sy
             <span class="L0S70">
              -
             </span>
             msgv2 sy
             <span class="L0S70">
              -
             </span>
             msgv3 sy
             <span class="L0S70">
              -
             </span>
             msgv4
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * set default log for all following messages
             </span>
             <br/>
             l_s_message_defaults
             <span class="L0S70">
              -
             </span>
             log_handle
             <span class="L0S55">
              =
             </span>
             g_log_handle
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAL_GLB_MSG_DEFAULTS_SET'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             i_s_msg_defaults
             <span class="L0S55">
              =
             </span>
             l_s_message_defaults
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Form CREATE_DISPLAY_PROFILE
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp; Protokollausgabe individualisieren
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S31">
              *&amp;      &lt;-- C_S_DISPLAY_PROFILE
             </span>
             <br/>
             <span class="L0S31">
              *&amp;---------------------------------------------------------------------*
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             create_display_profile
             <br/>
             <span class="L0S52">
              CHANGING
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S52">
              TYPE
             </span>
             bal_s_prof
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             l_s_fcat
             <span class="L0S52">
              TYPE
             </span>
             bal_s_fcat
             <span class="L0S55">
              ,
             </span>
             <br/>
             l_s_sort
             <span class="L0S52">
              TYPE
             </span>
             bal_s_sort
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * set title of dynpro
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              title
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'Migrationsprotokoll Anlagen'
             </span>
             <span class="L0S55">
              (
             </span>
             <span class="L0S52">
              set
             </span>
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              * set header of tree
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             head_text
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'Alte AnlagenNr'
             </span>
             <span class="L0S55">
              (
             </span>
             raf
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             head_size
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              35
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              * set size of tree
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             tree_size
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              22
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * set report for display variants
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             disvariant
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              report
             </span>
             <span class="L0S55">
              =
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             repid
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              * when you use also other ALV lists in your report,
             </span>
             <br/>
             <span class="L0S31">
              * please specify a handle to distinguish between the display
             </span>
             <br/>
             <span class="L0S31">
              * variants of these different lists, e.g:
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             disvariant
             <span class="L0S70">
              -
             </span>
             handle
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'LOG'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * all messages should be displayed immediately
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             show_all
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'X'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              ************* define structure of message table
             </span>
             <br/>
             <span class="L0S31">
              * message text
             </span>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             l_s_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_table
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_SHOW'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_field
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'T_MSG'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             outputlen
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              50
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             col_pos
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             l_s_fcat
             <span class="L0S52">
              TO
             </span>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             mess_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              * alte Anlagen Nummer
             </span>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             l_s_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_table
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_EX03'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_field
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'INVOICE'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             coltext
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'ALTANLAGE'
             </span>
             <span class="L0S55">
              (
             </span>
             c01
             <span class="L0S55">
              )
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             col_pos
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              2
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             l_s_fcat
             <span class="L0S52">
              TO
             </span>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             mess_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <br/>
             <span class="L0S31">
              ************* define structure of level 1 in tree
             </span>
             <br/>
             <span class="L0S31">
              * external number
             </span>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             l_s_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_table
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_SHOW'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_field
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'EXTNUMBER'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             outputlen
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              40
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             l_s_fcat
             <span class="L0S52">
              TO
             </span>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             lev1_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              ************* define structure of level 2 in tree
             </span>
             <br/>
             <span class="L0S52">
              CLEAR
             </span>
             l_s_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_table
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_EX04'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             ref_field
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'TXT_CARRID'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             is_extern
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'X'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_fcat
             <span class="L0S70">
              -
             </span>
             col_pos
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              APPEND
             </span>
             l_s_fcat
             <span class="L0S52">
              TO
             </span>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             lev2_fcat
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * define callback routine which derives the external fields
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             clbk_read
             <span class="L0S70">
              -
             </span>
             userexitt
             <span class="L0S55">
              =
             </span>
             const_callback_form
             <span class="L0S55">
              .
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             clbk_read
             <span class="L0S70">
              -
             </span>
             userexitp
             <span class="L0S55">
              =
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             repid
             <span class="L0S55">
              .
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             clbk_read
             <span class="L0S70">
              -
             </span>
             userexitf
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'CALLBACK_READ'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * define if grid is to be used for display
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             use_grid
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * define up to which level the tree should be expanded
             </span>
             <br/>
             c_s_display_profile
             <span class="L0S70">
              -
             </span>
             exp_level
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S33 {
 color: #4DA619;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S31">
              * FORM callback_read
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             callback_read
             <span class="L0S31">
              "#EC CALLED
             </span>
             <br/>
             <span class="L0S52">
              USING
             </span>
             <span class="L0S31">
              "#EC CALLED
             </span>
             <br/>
             i_s_info
             <span class="L0S52">
              TYPE
             </span>
             bal_s_cbrd
             <span class="L0S31">
              "#EC CALLED #EC NEEDED
             </span>
             <br/>
             <span class="L0S52">
              CHANGING
             </span>
             <span class="L0S31">
              "#EC CALLED
             </span>
             <br/>
             c_display_data
             <span class="L0S52">
              TYPE
             </span>
             bal_s_show
             <span class="L0S31">
              "#EC NEEDED
             </span>
             <br/>
             c_context_header
             <span class="L0S52">
              TYPE
             </span>
             bal_s_cont
             <span class="L0S31">
              "#EC NEEDED
             </span>
             <br/>
             c_context_message
             <span class="L0S52">
              TYPE
             </span>
             bal_s_cont
             <span class="L0S31">
              "#EC NEEDED
             </span>
             <br/>
             c_field
             <span class="L0S52">
              TYPE
             </span>
             <span class="L0S52">
              any
             </span>
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "#EC NEEDED
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              STATICS
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             l_s_context
             <span class="L0S52">
              TYPE
             </span>
             bal_s_ex03
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              IF
             </span>
             i_s_info
             <span class="L0S70">
              -
             </span>
             ref_table
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_EX04'
             </span>
             <span class="L0S52">
              AND
             </span>
             <br/>
             i_s_info
             <span class="L0S70">
              -
             </span>
             ref_field
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'TXT_CARRID'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S31">
              *   give back DATEV-Anlagennummer
             </span>
             <br/>
             l_s_context
             <span class="L0S55">
              =
             </span>
             c_context_message
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              value
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             c_field
             <span class="L0S55">
              =
             </span>
             l_s_context
             <span class="L0S70">
              -
             </span>
             invoice
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S31">
              * FORM ADD_MSG_TO_PROT
             </span>
             <br/>
             <span class="L0S31">
              *--------------------------------------------------------------------
             </span>
             <br/>
             <span class="L0S52">
              FORM
             </span>
             add_msg_to_prot
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             l_s_msg
             <span class="L0S52">
              TYPE
             </span>
             bal_s_msg
             <span class="L0S55">
              ,
             </span>
             <br/>
             l_s_context
             <span class="L0S52">
              TYPE
             </span>
             bal_s_ex03
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             <br/>
             l_s_return
             <span class="L0S52">
              LIKE
             </span>
             <span class="L0S52">
              LINE
             </span>
             <span class="L0S52">
              OF
             </span>
             <span class="L0S52">
              return
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              LOOP
             </span>
             <span class="L0S52">
              AT
             </span>
             <span class="L0S52">
              return
             </span>
             <span class="L0S52">
              INTO
             </span>
             l_s_return
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              *   define data of message for Application Log
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgty
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              type
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgid
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              id
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgno
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              number
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgv1
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             message_v1
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgv2
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             message_v2
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgv3
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             message_v3
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             msgv4
             <span class="L0S55">
              =
             </span>
             l_s_return
             <span class="L0S70">
              -
             </span>
             message_v4
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_context
             <span class="L0S70">
              -
             </span>
             invoice
             <span class="L0S55">
              =
             </span>
             wa_mig
             <span class="L0S70">
              -
             </span>
             inventarnummer
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "DATEV-Nummer
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             context
             <span class="L0S70">
              -
             </span>
             tabname
             <span class="L0S55">
              =
             </span>
             <span class="L0S33">
              'BAL_S_EX03'
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             l_s_msg
             <span class="L0S70">
              -
             </span>
             context
             <span class="L0S70">
              -
             </span>
             <span class="L0S52">
              value
             </span>
             <span class="L0S55">
              =
             </span>
             l_s_context
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S31">
              * add this message to log file
             </span>
             <br/>
             <span class="L0S31">
              * we do not specify I_LOG_HANDLE since we want to add this message
             </span>
             <br/>
             <span class="L0S31">
              * to the default log. If it does not exist we do not care
             </span>
             <br/>
             <span class="L0S31">
              * (EXCEPTIONS log_not_found = 0).
             </span>
             <br/>
             <span class="L0S52">
              CALL
             </span>
             <span class="L0S52">
              FUNCTION
             </span>
             <span class="L0S33">
              'BAL_LOG_MSG_ADD'
             </span>
             <br/>
             <span class="L0S52">
              EXPORTING
             </span>
             <br/>
             <span class="L0S31">
              *       I_LOG_HANDLE  =
             </span>
             <br/>
             i_s_msg
             <span class="L0S55">
              =
             </span>
             l_s_msg
             <br/>
             <span class="L0S52">
              EXCEPTIONS
             </span>
             <br/>
             log_not_found
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <br/>
             <span class="L0S52">
              OTHERS
             </span>
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              1
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              IF
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc &lt;&gt;
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              MESSAGE
             </span>
             <span class="L0S52">
              ID
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgid
             <span class="L0S52">
              TYPE
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgty
             <span class="L0S52">
              NUMBER
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgno
             <br/>
             <span class="L0S52">
              WITH
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             msgv1 sy
             <span class="L0S70">
              -
             </span>
             msgv2 sy
             <span class="L0S70">
              -
             </span>
             msgv3 sy
             <span class="L0S70">
              -
             </span>
             msgv4
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDIF
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              ENDLOOP
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDFORM
             </span>
             <span class="L0S55">
              .
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Die Ergebnisse werden in einem Anwendungsprotokoll ausgegeben, wobei zur leichteren Fehlersuche die Meldungen unter der Nummer der Altanlage referenziert werden.
           </p>
           <p>
            Über den Selektionsparameter "Testlauf" kann die Migration zunächst getestet werden, um vor der Übernahme etwaige Fehler zu eliminieren.
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20180627/ob_f2aea0_p5.png">
             <img alt="Migrationsprotokoll" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20180627/ob_f2aea0_p5.png"/>
            </a>
           </div>
           <p class="ob-desc">
            Migrationsprotokoll
           </p>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2018/06/anlagen-migration-unter-s/4-hana-mithilfe-des-bapis.html#comments" title="Gerade erfolgreich unter S/4 1709 on premise getestet, deshalb hier druckfrisch meine gewonnen Erkenntnisse... Es soll eine Excel-Datei mit Altanlagen und -werten in SAP-Anlagen migriert werden. Die Übernahme erfolgt zum Jahresende, d.h., es findet keine...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2018/06/anlagen-migration-unter-s/4-hana-mithilfe-des-bapis.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="AA,Basis-Entwicklung allg." data-lang="en" data-text="Anlagen-Migration unter S/4 HANA mithilfe des BAPIs" data-url="http://sapmandoo.over-blog.de/2018/06/anlagen-migration-unter-s/4-hana-mithilfe-des-bapis.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="Anlagen-Migration unter S/4 HANA mithilfe des BAPIs" data-pin-media="https://img.over-blog-kiwi.com/1/47/36/37/20180626/ob_24d11e_p1.PNG" data-pin-url="http://sapmandoo.over-blog.de/2018/06/anlagen-migration-unter-s/4-hana-mithilfe-des-bapis.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-1997124431" href="https://admin.over-blog.com/_repost/93365225" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-1997124431"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_3" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2018/04/zusammenfassende-infos-zum-mailversand-von-fi-korrespondenzen-avisen-mahnungen.html" title="Eine heutzutage praktisch bei jedem Projekt aufkommende Anforderung ist, die aus FI entstehenden Schriftstücke wie Zahlungsavise, Mahnungen, Saldenbestätigungen und sonstige Korrespondenzen per Mail versenden zu können. Anders als bei der MM- bzw. SD-Nachrichtenfindung...">
           Zusammenfassende Infos zum Mailversand von FI-Korrespondenzen, Avisen &amp; Mahnungen
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 27. April 2018
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/fi/" title="FI">
           FI
          </a>
          ,
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Eine heutzutage praktisch bei jedem Projekt aufkommende Anforderung ist, die aus FI entstehenden Schriftstücke wie Zahlungsavise, Mahnungen, Saldenbestätigungen und sonstige Korrespondenzen per Mail versenden zu können.
           </p>
           <p>
            Anders als bei der MM- bzw. SD-Nachrichtenfindung ist diese Funktionalität im FI leider nicht nativ vorhanden, d.h. es muss immer etwas zusätzliches Coding in Form von sog.
            <a href="https://blogs.sap.com/2013/01/07/btes-business-transaction-events/">
             Business Transaction Events
            </a>
            (BTE) verbaut werden.
           </p>
           <p>
            Somit ist etwas Konzeption und ein wenig ABAP Programmierung notwendig. Die Konzeption besteht im wesentlichen daraus, festzulegen, unter welchen Voraussetzungen ein Geschäftspartner ein Dokument per Mail erhält und woher ggf. die eMail-Adresse gezogen werden soll. Das kann u.U. dann knifflig werden, wenn der GP auch andere Nachrichten per Mail erhält wie bspw. Bestellungen oder Rechnungen und diese Nachrichten an unterschiedliche Mail-Adressen versendet werden sollen.
           </p>
           <p>
            Üblicherweise wird für FI-Korrespondenzen das Feld "Internet Sachbearbeiter" aus der Buchungskreissicht des Debitors bzw. Kreditors herangezogen (KNB1- bzw. LFB1-INTAD).
           </p>
           <p>
            Nachfolgend sind die wichtigsten Korrespondenzen und die jeweiligen für den Mailversand zuständigen BTEs aufgeführt:
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <table border="1" cellpadding="1" cellspacing="1" style="width: 600px;">
            <caption>
             <span style="color: rgb(0, 0, 205);">
              <strong>
               FI Korrespondenzen und BTEs
              </strong>
             </span>
            </caption>
            <thead>
             <tr>
              <th scope="col" style="text-align: left;">
               Korrespondenz
              </th>
              <th scope="col">
               BTE
              </th>
              <th scope="col">
               Weitere Informationen
              </th>
             </tr>
            </thead>
            <tbody>
             <tr>
              <td>
               Zahlungsavis
              </td>
              <td>
               2040 Prozess-Schnittstelle
              </td>
              <td>
               s. Artikel
               <a href="http://sapmandoo.over-blog.de/article-ausgabe-von-mahnungen-und-zahlungsaivsen-per-email-o-fax-119976912.html">
                hier
               </a>
              </td>
             </tr>
             <tr>
              <td>
               Mahnungen
              </td>
              <td>
               1040 Prozess-Schnittstelle
              </td>
              <td>
               s. Artikel
               <a href="http://sapmandoo.over-blog.de/article-ausgabe-von-mahnungen-und-zahlungsaivsen-per-email-o-fax-119976912.html">
                hier
               </a>
              </td>
             </tr>
             <tr>
              <td>
               Saldenbestätigungen
              </td>
              <td>
               2410 Prozess-Schnittstelle
              </td>
              <td>
               s. Hinweis
               <span class="sapUxAPObjectPageHeaderTitleTextWrappable" id="__xmlview11--idObjectPageHeader-innerTitle">
                563112
               </span>
              </td>
             </tr>
             <tr>
              <td>
               Sonstige Korrespondenzen
              </td>
              <td>
               2310 Prozess-Schnittstelle
              </td>
              <td>
               s. Hinweis
               <span class="sapUxAPObjectPageHeaderTitleTextWrappable" id="__xmlview11--idObjectPageHeader-innerTitle">
                549119, Pkt 5.
               </span>
              </td>
             </tr>
            </tbody>
           </table>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            In den nachfolgend aufgeführten Hinweisen wird behandelt, wie erweiterte Mailoptionen gesetzt werden können, z.B. einen einleitenden Text in der Mail, CC/BCC-Empfänger, Priorität und so weiter...
           </p>
           <table border="1" cellpadding="1" cellspacing="1" style="width: 500px;">
            <caption>
             <span style="color: rgb(0, 0, 205);">
              <strong>
               Erweiterte Mail-Optionen
              </strong>
             </span>
            </caption>
            <thead>
             <tr>
              <th scope="col" style="text-align: left;">
               Korrespondenz
              </th>
              <th scope="col" style="text-align: left;">
               Informationen zu erweiterten Mail-Optionen
              </th>
             </tr>
            </thead>
            <tbody>
             <tr>
              <td>
               Zahlungsavis
              </td>
              <td>
               s. Hinweis 1033893
              </td>
             </tr>
             <tr>
              <td>
               Mahnungen
              </td>
              <td>
               s. Hinweis
               <span class="sapUxAPObjectPageHeaderTitleTextWrappable" id="__xmlview2--idObjectPageHeader-innerTitle">
                1042992
               </span>
              </td>
             </tr>
             <tr>
              <td>
               Saldenbestätigungen
              </td>
              <td>
               s. Hinweis 1377820
              </td>
             </tr>
             <tr>
              <td>
               Sonstige Korrespondenzen
              </td>
              <td>
               s. Hinweis 1360070
              </td>
             </tr>
            </tbody>
           </table>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Bei vielen FI-Korrespondenzarten wird mittlerweile die Verwendung von PDF-Formularen unterstützt. Nachfolgend einige Hinweise zum Thema PDF-Formulare &amp; Mail-Versand:
           </p>
           <ul>
            <li>
             <span class="sapUxAPObjectPageHeaderTitleTextWrappable" id="__xmlview2--idObjectPageHeader-innerTitle">
              1251408 - Avis mit Adobe: Keine optische Archivierung bei Mail / Fax
             </span>
            </li>
            <li>
             1460038 - Mahnbriefe im PDF-Format per Mail oder FAX verschicken
            </li>
            <li>
             1345695 - Faxen von Avisen mit Adobe / PDF
            </li>
            <li>
             tbc
            </li>
           </ul>
           <p>
            Solltet Ihr in diesem Kontext noch über Hinweise oder Erkenntnisse stolpern, bitte seid so nett und lasst es mich in den Kommentaren wissen...
           </p>
           <table style="border: rgb(0, 0, 0); border-image: none;">
            <tbody>
             <tr>
              <td style="background: white; padding: 0.75pt; border: rgb(0, 0, 0); border-image: none;" valign="top">
              </td>
              <td style="background: white; padding: 0.75pt; border: rgb(0, 0, 0); border-image: none;" valign="top">
              </td>
              <td style="background: white; padding: 0.75pt; border: rgb(0, 0, 0); border-image: none;">
               <p>
               </p>
               <p>
               </p>
              </td>
             </tr>
            </tbody>
           </table>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2018/04/zusammenfassende-infos-zum-mailversand-von-fi-korrespondenzen-avisen-mahnungen.html#comments" title="Eine heutzutage praktisch bei jedem Projekt aufkommende Anforderung ist, die aus FI entstehenden Schriftstücke wie Zahlungsavise, Mahnungen, Saldenbestätigungen und sonstige Korrespondenzen per Mail versenden zu können. Anders als bei der MM- bzw. SD-Nachrichtenfindung...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2018/04/zusammenfassende-infos-zum-mailversand-von-fi-korrespondenzen-avisen-mahnungen.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="FI,Basis-Entwicklung allg." data-lang="en" data-text="Zusammenfassende Infos zum Mailversand von FI-Korrespondenzen, Avisen &amp;amp; Mahnungen" data-url="http://sapmandoo.over-blog.de/2018/04/zusammenfassende-infos-zum-mailversand-von-fi-korrespondenzen-avisen-mahnungen.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-808593289" href="https://admin.over-blog.com/_repost/91497661" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-808593289"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_4" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/12/kostenartentexte-und-sachkontentexte-in-andere-sprache-kopieren.html" title="Das hat vermutlich jeder schon mal erlebt: man meldet sich in einer Sprache &lt;&gt; DE im System an und bei der Anzeige von Sachkonten und/oder Kostenarten fehlen die Texte, weil bei der Anlage von neuen Konten das Übersetzen vergessen bzw. unterlassen wurde....">
           Kostenartentexte und Sachkontentexte in andere Sprache kopieren
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 4. Dezember 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/sap%20reports/" title="SAP Reports">
           SAP Reports
          </a>
          ,
          <a href="/tag/fi/" title="FI">
           FI
          </a>
          ,
          <a href="/tag/co/" title="CO">
           CO
          </a>
          ,
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Das hat vermutlich jeder schon mal erlebt: man meldet sich in einer Sprache &lt;&gt; DE im System an und bei der Anzeige von Sachkonten und/oder Kostenarten fehlen die Texte, weil bei der Anlage von neuen Konten das Übersetzen vergessen bzw. unterlassen wurde.
           </p>
           <p>
            Anbei zwei Reports, die Kostenarten- und Sachkontentexte von einer Quellsprache in eine Zielsprache kopieren. Ein Anwendungsfall könnte bspw. sein, dass die englischen Texte in andere (Fremd-) Sprachen kopiert werden sollen, damit die ausländischen Kollegen in ihren Reports wenigstens die englischen Kontenbezeichnungen sehen...
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <span style="font-size:14px;">
             <strong>
              Kopieren von Sachkontentexten
             </strong>
            </span>
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <pre>REPORT z_copy_sako_texts
        NO STANDARD PAGE HEADING LINE-SIZE 255.
 
 *******************************************************************
 * Rohde 01/2010
 *******************************************************************
 * Kopieren(!) von Sachkonten-Texten (Kurz und Langtext) von einer
 * Sprache in eine andere. So lassen sich z.B. die englischen
 * Sachkontenbezeichnungen auch in andere Sprachen kopieren, damit
 * man bspw. bei Anmeldung in Spanisch keine leeren Sachkontentexte
 * vorfindet. Die Betonung liegt auf KOPIEREN, nicht übersetzen,
 * so schlau ist das Programm leider noch nicht!!!!
 * Die Änderungen werden per Batch-Input durchgeführt. Bestehende
 * Texte in der Zielsprache werden NICHT überschrieben.
 *******************************************************************
 TABLES: skat, ska1, t001.
 
 INCLUDE bdcrecx1.
 
 SELECTION-SCREEN ULINE.
 SELECT-OPTIONS: so_saknr FOR skat-saknr.          "Sachkonten
 * Achtung: die Angabe Buchungskreis wird nur zur Ermitlung des
 * Kontenplans benötigt. Das Programm muss nicht pro Buchungskreis
 * laufen, da die Texte buchungskreisunabhängig sind!!!!
 PARAMETERS: pa_bukrs LIKE t001-bukrs OBLIGATORY.  "Buchungskreis
 PARAMETERS: pa_qlang LIKE sy-langu OBLIGATORY.    "Quell-Sprache
 PARAMETERS: pa_zlang LIKE sy-langu OBLIGATORY.    "Ziel-Sprache
 PARAMETERS: pa_test AS CHECKBOX DEFAULT 'X'.      "Testlauf
 
 DATA: i_skat TYPE TABLE OF skat.
 DATA: wa_skat TYPE skat.
 
 START-OF-SELECTION.
 
   IF pa_test IS INITIAL.
     PERFORM open_group.
   ENDIF.
 * Buchungskreisdaten inkl. Kontenplan holen
   SELECT SINGLE * FROM t001 WHERE bukrs = pa_bukrs.
   CHECK sy-subrc = 0.
   SELECT * FROM  skat   INTO TABLE i_skat
          WHERE  spras  = pa_qlang
          AND    ktopl  = t001-ktopl
          AND    saknr IN so_saknr.
   LOOP AT i_skat INTO wa_skat.
     SELECT SINGLE COUNT(*) FROM  skat
            WHERE  spras  = pa_zlang
            AND    ktopl  = wa_skat-ktopl
            AND    saknr  = wa_skat-saknr.
     IF sy-subrc = 0.
       WRITE: / 'Konto', wa_skat-saknr,
                'Text in Sprache', pa_zlang, 'schon vorhanden'.
     ELSE.
       PERFORM protokoll.
       IF pa_test IS INITIAL.
         PERFORM fs00.
       ENDIF.
     ENDIF.
   ENDLOOP.
   IF pa_test IS INITIAL.
     PERFORM close_group.
   ENDIF.
 
 *&amp;---------------------------------------------------------------------*
 *&amp;      Form  fs00
 *&amp;---------------------------------------------------------------------*
 *       text
 *----------------------------------------------------------------------*
 FORM fs00.
 
   PERFORM bdc_dynpro      USING 'SAPLGL_ACCOUNT_MASTER_MAINTAIN' '2001'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=TAB04'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'GLACCOUNT_SCREEN_KEY-SAKNR'.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_KEY-SAKNR'
                                 wa_skat-saknr.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_KEY-BUKRS'
                                 pa_bukrs.
   PERFORM bdc_dynpro      USING 'SAPLGL_ACCOUNT_MASTER_MAINTAIN' '2001'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=ACC_MOD'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'GLACCOUNT_SCREEN_KEY-SAKNR'.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_KEY-SAKNR'
                                 wa_skat-saknr.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_KEY-BUKRS'
                                 pa_bukrs.
   PERFORM bdc_dynpro      USING 'SAPLGL_ACCOUNT_MASTER_MAINTAIN' '2001'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=2105_P++'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'GLACCOUNT_SCREEN_COA-LANGU_KW(01)'.
   PERFORM bdc_dynpro      USING 'SAPLGL_ACCOUNT_MASTER_MAINTAIN' '2001'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=SAVE'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'GLACCOUNT_SCREEN_COA-TXT50_TX(01)'.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_COA-LANGU_TX(01)'
                                 pa_zlang.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_COA-TXT20_TX(01)'
                                 wa_skat-txt20.
   PERFORM bdc_field       USING 'GLACCOUNT_SCREEN_COA-TXT50_TX(01)'
                                 wa_skat-txt50.
   PERFORM bdc_transaction USING 'FS00'.
 
 ENDFORM.                    "fs00
 *&amp;---------------------------------------------------------------------*
 *&amp;      Form  PROTOKOLL
 *&amp;---------------------------------------------------------------------*
 *       text
 *----------------------------------------------------------------------*
 FORM protokoll .
   WRITE: / wa_skat-saknr,
            pa_zlang,
            wa_skat-txt20,
            wa_skat-txt50.
 
 ENDFORM.                    " PROTOKOLL
 </pre>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <span style="font-size:14px;">
             <strong>
              Kopieren von Kostenartentexten
             </strong>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <pre>REPORT  z_copy_kstar_texts.
 
 *******************************************************************
 * Rohde 01/2010
 *******************************************************************
 * Kopieren(!) von Kostenarten-Texten (Kurz und Langtext) von einer
 * Sprache in eine andere. So lassen sich z.B. die englischen
 * Kostenartenbezeichnungen auch in andere Sprachen kopieren, damit
 * man bspw. bei Anmeldung in Spanisch keine leeren Kostenartentexte
 * vorfindet. Die Betonung liegt auf KOPIEREN, nicht übersetzen,
 * so schlau ist das Programm leider noch nicht!!!!
 * Die Änderungen werden per BAPI durchgeführt. Bestehende
 * Texte in der Zielsprache werden NICHT überschrieben.
 *******************************************************************
 
 TABLES: csku, tka01.
 
 DATA: git_csku TYPE TABLE OF csku,
       gs_csku  TYPE csku.
 DATA: git_textmdco  TYPE TABLE OF textmdco,
       gs_textmdco    TYPE textmdco.
 
 *******************************************************************
 PARAMETERS: pa_kokrs LIKE tka01-kokrs OBLIGATORY.  "Kostenrech.kreis
 SELECT-OPTIONS: so_kstar FOR csku-kstar.           "Kostenart
 PARAMETERS: pa_qlang LIKE csku-spras OBLIGATORY,   "Quell-Sprache
             pa_zlang LIKE csku-spras OBLIGATORY.   "Ziel-Sprache
 PARAMETERS: pa_test AS CHECKBOX DEFAULT 'X'.       "Testlauf
 *******************************************************************
 
 *******************************************************************
 START-OF-SELECTION.
 *******************************************************************
 
   SELECT SINGLE * FROM tka01 WHERE kokrs = pa_kokrs.
   IF sy-subrc NE 0.
     MESSAGE e600(fr) WITH 'Kostenrechungskreis' pa_kokrs
                           'ungültig'.
   ENDIF.
 
   SELECT * FROM  csku INTO TABLE git_csku
          WHERE  spras  = pa_qlang
          AND    ktopl  = tka01-ktopl
          AND    kstar IN so_kstar.
 
   LOOP AT git_csku INTO gs_csku.
     SELECT SINGLE * FROM  csku
            WHERE  spras  = pa_zlang
            AND    ktopl  = gs_csku-ktopl
            AND    kstar  = gs_csku-kstar.
     IF sy-subrc = 0.
       SUMMARY.
       WRITE: / 'Text zu Kostenart',
              gs_csku-kstar,
              'in Sprache', pa_zlang,
              'schon vorhanden'.
     ELSE.
       REFRESH git_textmdco.
       CLEAR   gs_textmdco.
       gs_textmdco-spras = pa_zlang.
       gs_textmdco-ktext = gs_csku-ktext.
       gs_textmdco-ltext = gs_csku-ltext.
       APPEND gs_textmdco TO git_textmdco.
       IF pa_test = space.
         PERFORM update_kstar_texts.
       ELSE.
         DETAIL.
         WRITE: / gs_csku-ktopl,
                  gs_csku-kstar,
                  gs_textmdco-spras,
                  gs_textmdco-ktext,
                  gs_textmdco-ltext.
       ENDIF.
     ENDIF.
   ENDLOOP.
 
 
 *&amp;---------------------------------------------------------------------*
 *&amp;      Form  update_kstar_texts
 *&amp;---------------------------------------------------------------------*
 *       BAPI-Aufruf Ändern Kostenartentext
 *----------------------------------------------------------------------*
 FORM update_kstar_texts.
 
   CALL FUNCTION 'K_COSTELEMENT_CHANGE_TEXT'
     EXPORTING
       ktopl        = gs_csku-ktopl
       kstar        = gs_csku-kstar
     TABLES
       texttable    = git_textmdco
     EXCEPTIONS
       not_found    = 1
       foreign_lock = 2
       OTHERS       = 3.
   IF sy-subrc &lt;&gt; 0.
     SUMMARY.
     WRITE: 'Fehler', sy-subrc, 'beim Update Kostenart', gs_csku-kstar.
   ELSE.
     DETAIL.
     WRITE: 'Kostenart', gs_csku-kstar, 'aktualisiert'.
   ENDIF.
 
 ENDFORM.                    "update_kstar_texts
 </pre>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/12/kostenartentexte-und-sachkontentexte-in-andere-sprache-kopieren.html#comments" title="Das hat vermutlich jeder schon mal erlebt: man meldet sich in einer Sprache &lt;&gt; DE im System an und bei der Anzeige von Sachkonten und/oder Kostenarten fehlen die Texte, weil bei der Anlage von neuen Konten das Übersetzen vergessen bzw. unterlassen wurde....">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/12/kostenartentexte-und-sachkontentexte-in-andere-sprache-kopieren.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="SAP Reports,FI,CO,Basis-Entwicklung allg." data-lang="en" data-text="Kostenartentexte und Sachkontentexte in andere Sprache kopieren" data-url="http://sapmandoo.over-blog.de/2017/12/kostenartentexte-und-sachkontentexte-in-andere-sprache-kopieren.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-897170163" href="https://admin.over-blog.com/_repost/89328101" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-897170163"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_5" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/12/standardtexte-in-andere-sprachen-kopieren.html" title="Anbei ein kleines Hilfstool, mit dem Standardtexte (SO10) in anderen Sprachen angelegt werden können. Es versteht sich wohl von selbst, dass die Texte nur kopiert und nicht übersetzt werden. Das Verfahren eignet sich z.B. für die Vervielfältigung von...">
           Standardtexte in andere Sprachen kopieren
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 4. Dezember 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
          ,
          <a href="/tag/sap%20reports/" title="SAP Reports">
           SAP Reports
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Anbei ein kleines Hilfstool, mit dem Standardtexte (SO10) in anderen Sprachen angelegt werden können. Es versteht sich wohl von selbst, dass die Texte nur
            <u>
             kopiert
            </u>
            und
            <u>
             nicht übersetzt
            </u>
            werden. Das Verfahren eignet sich z.B. für die Vervielfältigung von Adress-Textbausteinen in andere Sprachen...
           </p>
           <p>
            Beispiel: "Kopiere alle Texte ZADR*, Text-ID ADRS von DE nach IT"
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <pre>* Standardtexte (SO10) von einer Sprache in eine
 * andere kopieren (nur kopieren[!] nicht übersetzen[!])
 * Wer möchte, kann natürlich gerne einen Übersetzungsroboter
 * dazubauen!!!
 
 REPORT yytxcopy
        NO STANDARD PAGE HEADING LINE-SIZE 255.
 TABLES: rssce, stxh.
 INCLUDE bdcrecx1.
 SELECTION-SCREEN ULINE.
 SELECT-OPTIONS: so_txnam FOR rssce-tdname OBLIGATORY.  "Text-name
 PARAMETERS:     pa_tdid LIKE rssce-tdid OBLIGATORY, "Text-ID
                 pa_slang LIKE sy-langu OBLIGATORY   "Source language
                          DEFAULT sy-langu,
                 p_tlang  LIKE sy-langu OBLIGATORY.  "Target language
 
 
 START-OF-SELECTION.
 
   PERFORM open_group.
 
   SELECT        * FROM  stxh
          WHERE  tdobject  = 'TEXT'
          AND    tdname   IN so_txnam
          AND    tdid      = pa_tdid
          AND    tdspras   = pa_slang.
     PERFORM so10.
   ENDSELECT.
   PERFORM close_group.
 
 *&amp;---------------------------------------------------------------------*
 *&amp;      Form  so10
 *&amp;---------------------------------------------------------------------*
 *       text
 *----------------------------------------------------------------------*
 FORM so10.
   PERFORM bdc_dynpro      USING 'SAPMSSCE' '1100'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSSCE-TDSPRAS'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=EDIT'.
   PERFORM bdc_field       USING 'RSSCE-TDNAME'
                                 stxh-tdname.
   PERFORM bdc_field       USING 'RSSCE-TDID'
                                 stxh-tdid.
   PERFORM bdc_field       USING 'RSSCE-TDSPRAS'
                                 stxh-tdspras.
   PERFORM bdc_dynpro      USING 'SAPLSTXX' '1100'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSTXT-TXLINE(02)'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=TXNA'.
   PERFORM bdc_dynpro      USING 'SAPLSTXX' '1111'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSTXT-TDSPRAS'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=PPUP'.
   PERFORM bdc_field       USING 'RSTXT-TDNAME'
                                 stxh-tdname.
   PERFORM bdc_field       USING 'RSTXT-TDID'
                                 stxh-tdid.
   PERFORM bdc_field       USING 'RSTXT-TDSPRAS'
                                 p_tlang.
   PERFORM bdc_dynpro      USING 'SAPLSTXX' '1100'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSTXT-TXLINE(02)'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=TXBA'.
   PERFORM bdc_dynpro      USING 'SAPMSSCE' '1100'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSSCE-TDNAME'.
   PERFORM bdc_dynpro      USING 'SAPMSSCE' '1100'.
   PERFORM bdc_field       USING 'BDC_CURSOR'
                                 'RSSCE-TDSPRAS'.
   PERFORM bdc_field       USING 'BDC_OKCODE'
                                 '=TXBA'.
   PERFORM bdc_field       USING 'RSSCE-TDNAME'
                                 stxh-tdname.
   PERFORM bdc_field       USING 'RSSCE-TDID'
                                 stxh-tdid.
   PERFORM bdc_field       USING 'RSSCE-TDSPRAS'
                                 stxh-tdspras.
   PERFORM bdc_transaction USING 'SO10'.
   REFRESH bdcdata.
 ENDFORM.                                                    "so10
 </pre>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/12/standardtexte-in-andere-sprachen-kopieren.html#comments" title="Anbei ein kleines Hilfstool, mit dem Standardtexte (SO10) in anderen Sprachen angelegt werden können. Es versteht sich wohl von selbst, dass die Texte nur kopiert und nicht übersetzt werden. Das Verfahren eignet sich z.B. für die Vervielfältigung von...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/12/standardtexte-in-andere-sprachen-kopieren.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="Basis-Entwicklung allg.,SAP Reports" data-lang="en" data-text="Standardtexte in andere Sprachen kopieren" data-url="http://sapmandoo.over-blog.de/2017/12/standardtexte-in-andere-sprachen-kopieren.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-802629902" href="https://admin.over-blog.com/_repost/89328005" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-802629902"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_6" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/12/entwicklung-des-gleitenden-durchschnittspreises-gld-eines-materials/artikels.html" title="Nachfolgend ein Link von der Tricktresor-Seite, welcher zwei Reports vorstellt, die die Entwicklung des GLDs darstellen. Als MMler steht man oft vor der Frage, wie sich der GLD eines Materials bzw. Artikels im SAP Retail so (falsch) entwickeln konnte....">
           Entwicklung des gleitenden Durchschnittspreises (GLD) eines Materials / Artikels
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 4. Dezember 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/mm/" title="MM">
           MM
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Nachfolgend ein Link von der Tricktresor-Seite, welcher zwei Reports vorstellt, die die Entwicklung des GLDs darstellen. Als MMler steht man oft vor der Frage, wie sich der GLD eines Materials bzw. Artikels im SAP Retail so (falsch) entwickeln konnte. Den "Übeltäter-Vorgang" zu entlarven ist nicht immer einfach - die beiden im Artikel genannten Reports können helfen, dem Spuk auf die Schliche zu kommen...
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-link">
           <div class="ob-ctn ob-ctn--withImage">
            <a class="ob-link ob-pull-left ob-media-left" href="http://www.tricktresor.de/blog/gld-entwicklung/" target="_blank">
             <img alt="GLD Entwicklung" class="ob-media ob-img" src="http://resize.over-blog.com/170x170-ct.jpg?http://www.tricktresor.de/wp-content/uploads/2014/12/gld.jpg"/>
            </a>
            <p class="ob-title">
             <a class="ob-link" href="http://www.tricktresor.de/blog/gld-entwicklung/" target="_blank">
              GLD Entwicklung
             </a>
            </p>
            <p class="ob-snippet">
             Oftmals die Gretchenfrage als MMler. Wie ist es dazu gekommen, dass der gleitende Durchschnittspreis (GLD) eines Materials sich verändert hat? Welcher Materialbeleg ist schuld daran? ...
            </p>
            <p class="ob-url">
             <a class="ob-link" href="http://www.tricktresor.de/blog/gld-entwicklung/" target="_blank">
              http://www.tricktresor.de/blog/gld-entwicklung/
             </a>
            </p>
           </div>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/12/entwicklung-des-gleitenden-durchschnittspreises-gld-eines-materials/artikels.html#comments" title="Nachfolgend ein Link von der Tricktresor-Seite, welcher zwei Reports vorstellt, die die Entwicklung des GLDs darstellen. Als MMler steht man oft vor der Frage, wie sich der GLD eines Materials bzw. Artikels im SAP Retail so (falsch) entwickeln konnte....">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/12/entwicklung-des-gleitenden-durchschnittspreises-gld-eines-materials/artikels.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="MM" data-lang="en" data-text="Entwicklung des gleitenden Durchschnittspreises (GLD) eines Materials / Artikels " data-url="http://sapmandoo.over-blog.de/2017/12/entwicklung-des-gleitenden-durchschnittspreises-gld-eines-materials/artikels.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="Entwicklung des gleitenden Durchschnittspreises (GLD) eines Materials / Artikels " data-pin-media="http://www.tricktresor.de/wp-content/uploads/2014/12/gld.jpg" data-pin-url="http://sapmandoo.over-blog.de/2017/12/entwicklung-des-gleitenden-durchschnittspreises-gld-eines-materials/artikels.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-208920204" href="https://admin.over-blog.com/_repost/89327152" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-208920204"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_7" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/08/idoc-monitor-wlf_idoc-um-eigene-funktionen-erganzen.html" title="Der neue (na ja - so neu ist er auch nicht mehr) IDoc-Monitor bietet gegenüber der guten alten WE02 bzw. WE09 doch einige Vorteile, insbesondere in punkto Übersichtlichkeit und Folgebeleg-Absprünge. Was mich jedoch nervt ist, dass es z.B. keinen Absprung...">
           IDoc-Monitor WLF_IDOC um eigene Funktionen ergänzen
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 30. August 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Der neue (na ja - so neu ist er auch nicht mehr) IDoc-Monitor bietet gegenüber der guten alten WE02 bzw. WE09 doch einige Vorteile, insbesondere in punkto Übersichtlichkeit und Folgebeleg-Absprünge. Was mich jedoch nervt ist, dass es z.B. keinen Absprung in den POS-Monitor (WPER) für POS-Nachrichtentypen gibt. Ok - ist sicherlich auch eine etwas extravagante Anforderung, aber gut dass es da BAdIs gibt (Details s. Hinweis 1897880 - BAdIs für WLF_IDOC).
           </p>
           <p>
            Mithilfe des BAdIs
            <strong>
             WLF_REPORT_PROCESS_DB
            </strong>
            können eigene OK-Codes hinzugefügt und ausgewertet werden. Das BAdI beherbergt die Methoden...
           </p>
           <p>
            <em>
             <strong>
              ADJUST_STATUS
             </strong>
            </em>
           </p>
           <p>
            Hier kann ein eigener Oberflächenstatus gesetzt werden. Hierzu habe ich mithilfe der SE41 den Status
            <em>
             STANDARD
            </em>
            des Reports
            <em>
             RWLFIDOC_NEW
            </em>
            in einen (leeren) Z-Report kopiert und eine Drucktaste/Funktionscode (ZWPER) hinzugefügt.
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170830/ob_2f5e24_se41.png">
             <img alt="SE41 - Oberflächenstatus erweitern" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170830/ob_2f5e24_se41.png"/>
            </a>
           </div>
           <p class="ob-desc">
            SE41 - Oberflächenstatus erweitern
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            In der BAdI-Implementierung setze ich lediglich über den CHANGING-Parameter CV_PROGRAM mein leeres Z-Programm, so dass der namensgleiche Status mit dem neuen FCODE gezogen wird.
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <pre><span style="color:#0000cd;">method IF_WLF_REPORT_PROCESS_BD~ADJUST_STATUS.
 
      cv_program = 'ZWLF_IDOC'.
 
 endmethod.</span></pre>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <em>
             <strong>
              HANDLE_FCODE
             </strong>
            </em>
           </p>
           <p>
            Hier wird dann auf die (eigenen) Funktionscodes reagiert und (in diesem Fall) in die WPER abgesprungen. In der Struktur IS_DOC_LIST_OUT stehen die Daten des  aktuell selektierten bzw. markierten IDocs zur Verfügung.  Über den CHANGING-Parameter
            <em>
             CV_FCODE_PROCESSED
            </em>
            wird dem System mitgeteilt, dass der (eigene) Funktionscode prozessiert wurde.
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <pre><span style="color:#0000cd;">METHOD if_wlf_report_process_bd~handle_fcode.
 
     CASE iv_okcode.
       WHEN 'ZWPER'.
         cv_fcode_processed = abap_true.
         CHECK is_idoc_list_out-docnum IS NOT INITIAL.
         CHECK is_idoc_list_out-mestyp(3) = 'WPU'. "nur für WPUxxx-IDocs
         SUBMIT sapmwper AND RETURN
                WITH p_dat_b = is_idoc_list_out-credat
                WITH p_dat_v = is_idoc_list_out-credat
                WITH s_docnum = is_idoc_list_out-docnum.        
     ENDCASE.
 
 ENDMETHOD.</span></pre>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Dies ist natürlich nur ein Beispiel für eine sinnvolle Funktionserweiterung in Retail-Systemen. Euch fällt sicherlich auch noch was besseres ein...
           </p>
           <p>
            Der o.g. BAdI ist übrigens nur ein Teil des
            <em>
             Erweiterungsframeworks
            </em>
            , welches in diesem Kontext zur Verfügung steht. Der
            <em>
             Erweiterungsspot
            </em>
            WLF_IDOC_PROCESSING umfasst weitere BAdIs, z.B. WLF_ENH_IDOC_DATA_BADI, mit dem der IDoc-Liste zusätzliche Felder hinzugefügt werden können.
           </p>
           <p>
           </p>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/08/idoc-monitor-wlf_idoc-um-eigene-funktionen-erganzen.html#comments" title="Der neue (na ja - so neu ist er auch nicht mehr) IDoc-Monitor bietet gegenüber der guten alten WE02 bzw. WE09 doch einige Vorteile, insbesondere in punkto Übersichtlichkeit und Folgebeleg-Absprünge. Was mich jedoch nervt ist, dass es z.B. keinen Absprung...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/08/idoc-monitor-wlf_idoc-um-eigene-funktionen-erganzen.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="Basis-Entwicklung allg." data-lang="en" data-text="IDoc-Monitor WLF_IDOC um eigene Funktionen ergänzen" data-url="http://sapmandoo.over-blog.de/2017/08/idoc-monitor-wlf_idoc-um-eigene-funktionen-erganzen.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="IDoc-Monitor WLF_IDOC um eigene Funktionen ergänzen" data-pin-media="https://img.over-blog-kiwi.com/1/47/36/37/20170830/ob_2f5e24_se41.png" data-pin-url="http://sapmandoo.over-blog.de/2017/08/idoc-monitor-wlf_idoc-um-eigene-funktionen-erganzen.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-1893859361" href="https://admin.over-blog.com/_repost/87589456" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-1893859361"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_8" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/08/mahnliste-rfmahn21-erweitern.html" title="Im Hinweis 590421 ist eine Möglichkeit beschrieben, die Mahnliste RFMAHN21 um eigene Felder zu erweitern. Bei der im Hinweis genannten Lösung handelt es sich jedoch um eine Modifikation, die vermutlich nicht in jedem System verbaut werden kann/soll. Alternativ...">
           Mahnliste RFMAHN21 erweitern
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 26. August 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/fi/" title="FI">
           FI
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            I
            <span style="font-size:14px;">
             m Hinweis
             <span style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, sans-serif; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 253, 255); float: none; display: inline !important;">
              590421 ist eine Möglichkeit beschrieben, die Mahnliste RFMAHN21 um eigene Felder zu erweitern. Bei der im Hinweis genannten Lösung handelt es sich jedoch um eine Modifikation, die vermutlich nicht in jedem System verbaut werden kann/soll. Alternativ lässt sich das Ganze auch mit einem
              <em>
               impliziten Enhancement
              </em>
              bewerkstelligen, was dann im technischen Sinne eben keine Modifikation mehr darstellt...
             </span>
            </span>
           </p>
           <p>
            <span style="font-size:14px;">
             <span style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, sans-serif; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 253, 255); float: none; display: inline !important;">
              Hierzu wird einfach an das Ende der Routine APPEND_MHND_EXT2 im RFMAHN21 ein implizites Enhancement eingefügt, welches dann den Beispielcode aus dem o.g. Hinweis beherbergt (in leicht abgewandelter Form).
             </span>
            </span>
           </p>
           <p>
            <span style="font-size:14px;">
             Siehe auch
             <a href="http://fico-forum.de/fico_forum/thread.php?board=2&amp;thread=2234">
              hier
             </a>
            </span>
           </p>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/08/mahnliste-rfmahn21-erweitern.html#comments" title="Im Hinweis 590421 ist eine Möglichkeit beschrieben, die Mahnliste RFMAHN21 um eigene Felder zu erweitern. Bei der im Hinweis genannten Lösung handelt es sich jedoch um eine Modifikation, die vermutlich nicht in jedem System verbaut werden kann/soll. Alternativ...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/08/mahnliste-rfmahn21-erweitern.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="FI" data-lang="en" data-text="Mahnliste RFMAHN21 erweitern" data-url="http://sapmandoo.over-blog.de/2017/08/mahnliste-rfmahn21-erweitern.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-1553024082" href="https://admin.over-blog.com/_repost/87534668" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-1553024082"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_9" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/07/bestelldatenvorschlag-bei-bestellbezogener-rechnungsprufung.html" title="Bei bestellbezogener Rechnungsprüfung ist das Standardverhalten im Rahmen der logistischen Rechnungsprüfung im Dialog (Transaktionen MIRO bzw. MIR7) so, dass bei Eingabe der Bestellinformationen die Positionen zwar vorgeblendet werden, jedoch die Eingabefelder...">
           Bestelldatenvorschlag bei bestellbezogener Rechnungsprüfung
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 17. Juli 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/mm/" title="MM">
           MM
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Bei bestellbezogener Rechnungsprüfung ist das Standardverhalten im Rahmen der logistischen Rechnungsprüfung im Dialog (Transaktionen MIRO bzw. MIR7) so, dass bei Eingabe der Bestellinformationen die Positionen zwar vorgeblendet werden, jedoch die Eingabefelder Menge und Wert leer bleiben.
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170717/ob_ecd851_miro-bestellbezogene-reprue.jpg">
             <img alt="MIRO - bestellbezogene Rechnungsprüfung im Standard" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170717/ob_ecd851_miro-bestellbezogene-reprue.jpg"/>
            </a>
           </div>
           <p class="ob-desc">
            MIRO - bestellbezogene Rechnungsprüfung im Standard
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            D.h. ohne weiteres Zutun müssten die Werte und Mengen aus der Rechnung manuell in die Felder der Tabelle eingetragen werden. Vielfach sind jedoch zwischen Rechnung und Bestellung nur wenig Abweichungen, so dass es wünschenswert wäre, die Daten aus der Bestellung wenigstens als Vorschlagswerte einzufüllen, um so die Rechnungserfassung zu erleichtern.
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Über den Erweiterungsspot
            <span style="font-family:Courier New,Courier,monospace;">
             <em>
              MRM_PROPOSAL_DETERMINE
             </em>
            </span>
            kann auf das Systemverhalten Einfluss genommen werden.
           </p>
           <p>
            Hierzu kann eine geeignete Implementierung zur Methode
            <span style="font-family:Courier New,Courier,monospace;">
             AMNT_QUANT_PROPOSAL_DETERMINE
            </span>
            angelegt werden, die bspw. im Fall von bestellbezogener Rechnungsprüfung die Mengen und Werte aus den Bestellpositionen nachliest und als
            <strong>
             Vorschlagswerte
            </strong>
            ins Tableau einfüllt.
           </p>
           <p>
            <u>
             Beispielcoding:
            </u>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <!--StartFragment -->
            <style type="text/css">
             SPAN {
 font-family: "Courier New";
 font-size: 10pt;
 color: #000000;
 background: #FFFFFF;
 }
 .L0S31 {
 font-style: italic;
 color: #808080;
 }
 .L0S32 {
 color: #3399FF;
 }
 .L0S52 {
 color: #0000FF;
 }
 .L0S55 {
 color: #800080;
 }
 .L0S70 {
 color: #808080;
 }
            </style>
            <span>
             <span class="L0S52">
              METHOD
             </span>
             if_ex_mrm_proposal_determine
             <span class="L0S70">
              ~
             </span>
             amnt_quant_proposal_determine
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              DATA
             </span>
             <span class="L0S55">
              :
             </span>
             l_amount
             <span class="L0S52">
              TYPE
             </span>
             ekpo
             <span class="L0S70">
              -
             </span>
             netwr
             <span class="L0S55">
              ,
             </span>
             <br/>
             l_quantity
             <span class="L0S52">
              type
             </span>
             ekpo
             <span class="L0S70">
              -
             </span>
             menge
             <span class="L0S55">
              ,
             </span>
             <br/>
             l_webre
             <span class="L0S52">
              type
             </span>
             ekpo
             <span class="L0S70">
              -
             </span>
             webre
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              SELECT
             </span>
             <span class="L0S52">
              SINGLE
             </span>
             netwr menge webre
             <span class="L0S52">
              FROM
             </span>
             ekpo
             <br/>
             <span class="L0S52">
              INTO
             </span>
             <span class="L0S55">
              (
             </span>
             l_amount
             <span class="L0S55">
              ,
             </span>
             l_quantity
             <span class="L0S55">
              ,
             </span>
             l_webre
             <span class="L0S55">
              )
             </span>
             <br/>
             <span class="L0S52">
              WHERE
             </span>
             ebeln
             <span class="L0S55">
              =
             </span>
             i_drseg
             <span class="L0S70">
              -
             </span>
             ebeln
             <br/>
             <span class="L0S52">
              AND
             </span>
             ebelp
             <span class="L0S55">
              =
             </span>
             i_drseg
             <span class="L0S70">
              -
             </span>
             ebelp
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CHECK
             </span>
             sy
             <span class="L0S70">
              -
             </span>
             subrc
             <span class="L0S55">
              =
             </span>
             <span class="L0S32">
              0
             </span>
             <span class="L0S55">
              .
             </span>
             <br/>
             <span class="L0S52">
              CHECK
             </span>
             l_webre
             <span class="L0S52">
              IS
             </span>
             <span class="L0S52">
              INITIAL
             </span>
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "nur bei bestellbezogener RePrü !!!!
             </span>
             <br/>
             <br/>
             e_propose_item
             <span class="L0S70">
              -
             </span>
             amount
             <span class="L0S55">
              =
             </span>
             l_amount
             <span class="L0S55">
              .
             </span>
             <br/>
             e_propose_item
             <span class="L0S70">
              -
             </span>
             quantity
             <span class="L0S55">
              =
             </span>
             l_quantity
             <span class="L0S55">
              .
             </span>
             <br/>
             e_xchange
             <span class="L0S55">
              =
             </span>
             abap_true
             <span class="L0S55">
              .
             </span>
             <br/>
             <br/>
             <span class="L0S52">
              ENDMETHOD
             </span>
             <span class="L0S55">
              .
             </span>
             <span class="L0S31">
              "IF_EX_MRM_PROPOSAL_DETERMINE~AMNT_QUANT_PROPOSAL_DETERMINE
             </span>
            </span>
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170717/ob_b08b1d_miro-bestellbezogene-reprue-mit-akti.jpg">
             <img alt="MIRO bestellbezogene Rechnungsprüfung mit obenstehender Implementierung" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170717/ob_b08b1d_miro-bestellbezogene-reprue-mit-akti.jpg"/>
            </a>
           </div>
           <p class="ob-desc">
            MIRO bestellbezogene Rechnungsprüfung mit obenstehender Implementierung
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            Im Ergebnis werden im Rahmen der Rechnungserfassung die Informationen aus der Bestellposition als Vorschlagswerte eingefüllt. Dies erfolgt genau dann einmal, wenn die Bestellpositionen vom Anwender zugeordnet werden. Die Vorschlagswerte sind natürlich vom Rechnungsprüfer überschreibbar. Das BadI wird nur dann erneut durchlaufen, wenn eine neue Bestellzuordnung getroffen wurde.
           </p>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/07/bestelldatenvorschlag-bei-bestellbezogener-rechnungsprufung.html#comments" title="Bei bestellbezogener Rechnungsprüfung ist das Standardverhalten im Rahmen der logistischen Rechnungsprüfung im Dialog (Transaktionen MIRO bzw. MIR7) so, dass bei Eingabe der Bestellinformationen die Positionen zwar vorgeblendet werden, jedoch die Eingabefelder...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/07/bestelldatenvorschlag-bei-bestellbezogener-rechnungsprufung.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="MM" data-lang="en" data-text="Bestelldatenvorschlag bei bestellbezogener Rechnungsprüfung" data-url="http://sapmandoo.over-blog.de/2017/07/bestelldatenvorschlag-bei-bestellbezogener-rechnungsprufung.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="Bestelldatenvorschlag bei bestellbezogener Rechnungsprüfung" data-pin-media="https://img.over-blog-kiwi.com/1/47/36/37/20170717/ob_ecd851_miro-bestellbezogene-reprue.jpg" data-pin-url="http://sapmandoo.over-blog.de/2017/07/bestelldatenvorschlag-bei-bestellbezogener-rechnungsprufung.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-1230042209" href="https://admin.over-blog.com/_repost/86930640" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-1230042209"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
       <div class="item OB">
        <!--<span class="corner"></span>-->
        <canvas class="corner" height="18" id="corner_10" width="30">
        </canvas>
        <header class="title">
         <span class="icon">
         </span>
         <h2 class="post-title">
          <a href="http://sapmandoo.over-blog.de/2017/02/idoc-acc_document-beispiele.html" title="Will man FI-Belege aus externen Quellen ins System buchen, bietet sich die Verwendung von IDocs des Typs ACC_DOCUMENT an. In den nachfolgenden Abschnitten wird die ordnungsgemäße Befüllung des IDoc-Inhalts beschrieben.
 Eigenschaften der IDocs des Typ...">
           IDoc ACC_DOCUMENT - Beispiele
          </a>
         </h2>
         <p class="infos">
          Veröffentlicht am 20. Februar 2017
                                                                                             von sapmandoo
          <span>
           in
          </span>
          <a href="/tag/fi/" title="FI">
           FI
          </a>
          ,
          <a href="/tag/basis-entwicklung%20allg./" title="Basis-Entwicklung allg.">
           Basis-Entwicklung allg.
          </a>
         </p>
        </header>
        <div class="post">
         <div class="ob-sections">
          <div class="ob-section ob-section-html">
           <p>
            Will man FI-Belege aus externen Quellen ins System buchen, bietet sich die Verwendung von IDocs des Typs ACC_DOCUMENT an. In den nachfolgenden Abschnitten wird die ordnungsgemäße Befüllung des IDoc-Inhalts beschrieben.
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p class="Documenttitle">
            <span style="color:#0000cd;">
             <strong>
              <span style="font-size:18px;">
               Eigenschaften der IDocs des Typ ACC_DOCUMENT
              </span>
             </strong>
            </span>
           </p>
           <p>
            Nachrichtentyp: ACC_DOCUMENT
           </p>
           <p>
            Basistyp: ACC_DOCUMENT04
           </p>
           <p>
           </p>
           <p>
            <span style="font-size:16px;">
             <strong>
              Struktur
             </strong>
            </span>
           </p>
           <p>
            Die
            <u>
             relevanten
            </u>
            Segmente des IDocs sind:
           </p>
           <p>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACHE09 : Kopfzeile
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:35.4pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 1
              </span>
             </span>
            </span>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACGL09 : Sachkontenzeile
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:36.0pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 999999999
              </span>
             </span>
            </span>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACAR09 : Debitorzeile
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:36.0pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 999999999
              </span>
             </span>
            </span>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACAP09 : Kreditorzeile
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:36.0pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 999999999
              </span>
             </span>
            </span>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACTX09 : Steuerzeile
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:36.0pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 999999999
              </span>
             </span>
            </span>
           </p>
           <ul>
            <li>
             <span style="line-height:normal">
              <span style="tab-stops:list 36.0pt">
               <b>
                <span style="font-size:12.0pt">
                 <span style='font-family:"Times New Roman","serif"'>
                  E1BPACCR09 : Währungspositionen
                 </span>
                </span>
               </b>
              </span>
             </span>
            </li>
           </ul>
           <p style="margin-left:36.0pt">
            <span style="line-height:normal">
             <span style="font-size:12.0pt">
              <span style='font-family:"Times New Roman","serif"'>
               Status : Optional , min. Anzahl : 1 , max. Anzahl : 999999999
              </span>
             </span>
            </span>
           </p>
           <p>
           </p>
           <p>
            Der generelle Aufbau ist wie folgt: Ein valides IDoc besteht aus genau einem Kopfsegment E1BPACHE09 und mindestens 2 Positionen. Die Positionen setzen sich jeweils aus einem Segment der Typen E1BPACGL09, E1BPACAP09 oder E1BPACAR09 mit jeweils einem korrespondierenden Betragssegment E1BPACCR09 zusammen. Die Verknüpfung zwischen den Belegpositionen und den Betragssegmenten erfolgt über das Feld ITEMNO_ACC (Positionsnummer).
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <u>
             Minimal-Beleg:
            </u>
           </p>
           <table class="MsoTableGrid" style="border-collapse:collapse; border:solid windowtext 1.0pt">
            <tbody>
             <tr>
              <td style="width:97.55pt; border:solid windowtext 1.0pt" width="163">
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Belegkopf
                <b>
                 E1BPACHE09
                </b>
               </p>
              </td>
             </tr>
             <tr>
              <td style="width:391.3pt; border-top:none; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:solid windowtext 1.0pt" width="652">
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Position 000001
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Sachkontenzeile
                <b>
                 E1BPACGL09
                </b>
                oder
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Kreditorenzeile
                <b>
                 E1BPACAP09
                </b>
                oder
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Debitorenzeile
                <b>
                 E1BPACAR09
                </b>
               </p>
              </td>
             </tr>
             <tr>
              <td style="width:391.3pt; border-top:none; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:solid windowtext 1.0pt" width="652">
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Position 000002
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Sachkontenzeile
                <b>
                 E1BPACGL09
                </b>
                oder
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Kreditorenzeile
                <b>
                 E1BPACAP09
                </b>
                oder
               </p>
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Debitorenzeile
                <b>
                 E1BPACAR09
                </b>
               </p>
              </td>
             </tr>
             <tr>
              <td style="width:391.3pt; border-top:none; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:solid windowtext 1.0pt" width="652">
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Position 000001 Betragssegment
                <b>
                 E1BPACCR09
                </b>
               </p>
              </td>
             </tr>
             <tr>
              <td style="width:391.3pt; border-top:none; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:solid windowtext 1.0pt" width="652">
               <p style="padding:0cm 5.4pt 0cm 5.4pt">
                Position 000002 Betragssegment
                <b>
                 E1BPACCR09
                </b>
               </p>
              </td>
             </tr>
            </tbody>
           </table>
           <p>
           </p>
           <p>
            Die Positionsnummern können im Prinzip beliebig vergeben werden, es empfiehlt sich jedoch, eine aufsteigende nummerische Positionsnummernvergabe vorzusehen.
           </p>
           <p>
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <p>
            <span style="font-size:18px;">
             <span style="color:#0000cd;">
              <strong>
               Befüllung
              </strong>
             </span>
            </span>
           </p>
           <p>
            Der oben beschriebene Minimalbeleg benötigt mindestens folgende Feldversorgungen:
           </p>
           <p>
            <b>
             E1BPACHE09
            </b>
           </p>
           <p>
            BUS_ACT             RFBU (Vorgang fix)
           </p>
           <p>
            USERNAME        USERXYZ
           </p>
           <p>
            HEADER_TXT      KOPFTEXT (Belegkopftext, optional, sofern Belegart keine Eingabe erfordert)
           </p>
           <p>
            COMP_CODE     1000 (Buchungskreis)
           </p>
           <p>
            DOC_DATE         20150227 (Belegdatum)
           </p>
           <p>
            PSTNG_DATE     20150227 (Buchungsdatum)
           </p>
           <p>
            DOC_TYPE          SA (Belegart)
           </p>
           <p>
            REF_DOC_NO    REFERENZ-NR (Referenznummer, optional, sofern Belegart keine Eingabe erfordert)
           </p>
           <p>
           </p>
           <p>
            <b>
             E1BPACGL09
            </b>
            (1. Position, Sachkontenposition)
           </p>
           <p>
            ITEMNO_ACC    000010  (Positionsnummer)
           </p>
           <p>
            GL_ACCOUNT    0000160000 (Sachkonto)
           </p>
           <p>
            ITEM_TEXT         BUCHUNGSTEXT (optional)
           </p>
           <p>
            ALLOC_NMBR   ZUORDNUNG (optional, ansonsten wird Zuordnung systemseitig gemäß Einstellung im Sachkontenstamm befüllt)
           </p>
           <p style="margin-left:70.8pt">
           </p>
           <p>
            <b>
             E1BPACGL09
            </b>
            (2. Position, Sachkontenposition)
           </p>
           <p>
            ITEMNO_ACC    000020  (Positionsnummer)
           </p>
           <p>
            GL_ACCOUNT    0000151000 (Sachkonto)
           </p>
           <p>
            ITEM_TEXT         BUCHUNGSTEXT (optional)
           </p>
           <p>
            ALLOC_NMBR   ZUORDNUNG (optional, ansonsten wird Zuordnung systemseitig gemäß Einstellung im Sachkontenstamm befüllt)
           </p>
           <p style="margin-left:70.8pt">
           </p>
           <p>
            <b>
             E1BPACCR09 (zu Position 1)
            </b>
           </p>
           <p>
            ITEMNO_ACC    000010
           </p>
           <p>
            CURRENCY         EUR (Belegwährung)
           </p>
           <p>
            AMT_DOCCUR  10.00  (Betrag in Belegwährung)
           </p>
           <p style="margin-left:70.8pt">
           </p>
           <p>
            <b>
             E1BPACCR09 (zu Position 2)
            </b>
           </p>
           <p>
            ITEMNO_ACC    000020
           </p>
           <p>
            CURRENCY         EUR
           </p>
           <p>
            AMT_DOCCUR   10.00-
           </p>
           <p>
            <b>
             <span style="color:#cc0023">
              (Achtung: Soll und Haben wird durch positiven bzw. negatives Vorzeichen
             </span>
            </b>
            <b>
             <span style="color:#cc0023">
              unterschieden, - = Haben, + = Soll)
             </span>
            </b>
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_c1a948_bild1.png">
             <img alt="IDoc-Befüllung WE19" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_c1a948_bild1.png"/>
            </a>
           </div>
           <p class="ob-desc">
            IDoc-Befüllung WE19
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_1178d2_bild2.png">
             <img alt="Erzeugter Beleg" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_1178d2_bild2.png"/>
            </a>
           </div>
           <p class="ob-desc">
            Erzeugter Beleg
           </p>
          </div>
          <div class="ob-section ob-section-html">
           <h2>
            <span style="font-size:18px;">
             Besonderheit bei Buchung mit Umsatzsteuer
            </span>
           </h2>
           <p>
            Im Gegensatz zum Batch-Input-Verfahren ist es mit dem Nachrichtentyp ACC_DOCUMENT (bzw. im Endeffekt mit dem dahinterliegenden BAPI_ACC_DOCUMENT_POST) nicht möglich, den Steueranteil einer Buchung vom System generieren zu lassen. D.h., die Steuerinformationen müssen dem IDoc auf folgende Weise mitgegeben werden:
           </p>
           <p>
            Bei der Position, die die Steuer beinhaltet (i.d.R. die Sachkontenposition) wird der Betrag netto mitgegeben. Zusätzlich wird eine Steuerzeile des Segmenttyps E1BPACTX09 nebst Betragssegment (E1BPACCR09)
            <b>
            </b>
            mit folgenden Informationen benötigt:
           </p>
           <p>
           </p>
           <p>
            <b>
             E1BPACTX09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000030
           </p>
           <p>
            TAX_CODE V1 (Steuerkennzeichen)
           </p>
           <p>
           </p>
           <p>
            <b>
             E1BPACCR09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000030
           </p>
           <p>
            CURRENCY EUR
           </p>
           <p>
            AMT_DOCCUR 1.60 (Steuerbetrag)
           </p>
           <p>
            AMT_BASE 8.40 (Steuerbasis)
           </p>
           <p>
           </p>
           <p>
           </p>
           <p>
            <u>
             Beispiel:
            </u>
           </p>
           <p>
            <i>
             Kreditorische Buchung
            </i>
           </p>
           <p>
            per Stromkosten 632500 8,40,-- an Kreditor 100003 10,--
           </p>
           <p cke-list-id="0" cke-list-level="1">
            Vorsteuer (V1) 1,60,--
           </p>
           <p>
           </p>
           <p>
           </p>
           <p>
            Belegkopf
            <b>
             E1BPACHE09
            </b>
            :
           </p>
           <p>
            BUS_ACT: RFBU
           </p>
           <p>
            USERNAME: USERXYZ
           </p>
           <p>
            HEADER_TXT: KOPFTEXT
           </p>
           <p>
            COMP_CODE: 1000
           </p>
           <p>
            DOC_DATE: 20150227
           </p>
           <p>
            PSTNG_DATE: 20150227
           </p>
           <p>
            DOC_TYPE: KR
           </p>
           <p>
            REF_DOC_NO: 378455676
           </p>
           <p>
           </p>
           <p>
            Kreditorenposition
            <b>
             E1BPACAP09
            </b>
            :
           </p>
           <p>
            ITEMNO_ACC 000010
           </p>
           <p>
            VENDOR_NO 0000100003 (Kreditorennummer)
           </p>
           <p>
           </p>
           <p>
            Betragsposition zur Kreditorenposition
            <b>
             E1BPACCR09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000010
           </p>
           <p>
            CURRENCY EUR
           </p>
           <p>
            AMT_DOCCUR 10-
           </p>
           <p>
           </p>
           <p>
            Sachkontenposition
            <b>
             E1BPACGL09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000020
           </p>
           <p>
            GL_ACCOUNT 0000632500
           </p>
           <p>
            ITEM_TEXT TESTBUCHUNG MIT STEUER
           </p>
           <p>
            TAX_CODE V1 (Steuerkennzeichen!)
           </p>
           <p>
            COSTCENTER 0000001000 (Kostenstelle, Konto 632500 ist Kostenart!)
           </p>
           <p>
           </p>
           <p>
            Betragsposition zur Sachkontenposition
            <b>
             E1BPACCR09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000020
           </p>
           <p>
            CURRENCY EUR
           </p>
           <p>
            AMT_DOCCUR 8.40 (netto!)
           </p>
           <p>
           </p>
           <p>
            <b>
             Steuerzeile E1BPACTX09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000030
           </p>
           <p>
            TAX_CODE V1
           </p>
           <p>
           </p>
           <p>
            <b>
             Betragsposition zur Steuerzeile E1BPACCR09
            </b>
           </p>
           <p>
            ITEMNO_ACC 000030
           </p>
           <p>
            CURRENCY EUR
           </p>
           <p>
            AMT_DOCCUR 1.60 (Steuerbetrag)
           </p>
           <p>
            AMT_BASE 8.40 (Steuerbasis)
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_4047d3_bild3.png">
             <img alt="IDoc-Befüllung (WE19)" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_4047d3_bild3.png"/>
            </a>
           </div>
           <p class="ob-desc">
            IDoc-Befüllung (WE19)
           </p>
          </div>
          <div class="ob-section ob-section-images ob-default">
           <div class="ob-row-1-col">
            <a class="ob-link-img" href="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_b4854e_bild4.png">
             <img alt="Erzeugter Beleg inkl. Steuer" class="ob-cell ob-img ob-media" src="http://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_b4854e_bild4.png"/>
            </a>
           </div>
           <p class="ob-desc">
            Erzeugter Beleg inkl. Steuer
           </p>
          </div>
         </div>
        </div>
        <a class="read-more" href="http://sapmandoo.over-blog.de/2017/02/idoc-acc_document-beispiele.html#comments" title="Will man FI-Belege aus externen Quellen ins System buchen, bietet sich die Verwendung von IDocs des Typs ACC_DOCUMENT an. In den nachfolgenden Abschnitten wird die ordnungsgemäße Befüllung des IDoc-Inhalts beschrieben.
 Eigenschaften der IDocs des Typ...">
         Kommentare
        </a>
        <div class="footer">
         <div class="share">
          <div class="ob-Shares ob-Shares--right ob-Shares--horizontal ">
           <div class="ob-Shares-facebookShare">
            <div class="fb-share-button" data-href="http://sapmandoo.over-blog.de/2017/02/idoc-acc_document-beispiele.html" data-layout="button_count">
            </div>
           </div>
           <div class="ob-Shares-twitter">
            <a class="twitter-share-button" data-count="horizontal" data-count-url="https://dev.twitter.com/web/tweet-button" data-hashtags="FI,Basis-Entwicklung allg." data-lang="en" data-text="IDoc ACC_DOCUMENT - Beispiele" data-url="http://sapmandoo.over-blog.de/2017/02/idoc-acc_document-beispiele.html" href="https://twitter.com/share">
            </a>
           </div>
           <div class="ob-Shares-pinterest">
            <a always-show-count="true" count-layout="horizontal" data-pin-color="red" data-pin-config="beside" data-pin-count="beside" data-pin-description="IDoc ACC_DOCUMENT - Beispiele" data-pin-media="https://img.over-blog-kiwi.com/1/47/36/37/20170220/ob_c1a948_bild1.png" data-pin-url="http://sapmandoo.over-blog.de/2017/02/idoc-acc_document-beispiele.html" href="//pinterest.com/pin/create/button/" target="_BLANK">
             <img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_20.png"/>
            </a>
           </div>
           <div class="ob-Shares-overblog">
            <a class="ob-repost-btn ob-repost-btn-1173259727" href="https://admin.over-blog.com/_repost/84328104" rel="nofollow" target="_blank">
             <span class="ob-repost-label">
              <span class="ob-repost-icon">
              </span>
              Repost
             </span>
             <span class="ob-repost-count">
              0
             </span>
            </a>
            <script>
             repost(document.querySelector(".ob-repost-btn-1173259727"))
            </script>
           </div>
           <div class="ob-Shares-print" style="display:none">
            <img src="//assets.over-blog-kiwi.com/b/blog/bundles/overblogblogblog/images/printer.png?v2.27.0.0"/>
           </div>
          </div>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.0';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'facebook-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//platform.twitter.com/widgets.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'twitter-jssdk'));
          </script>
          <script>
           (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (!d.getElementById(id)) {
             js = d.createElement(s);
             js.type = 'text/javascript';
             js.async = true;
             js.defer = true;
             js.id = id;
             js.src = '//assets.pinterest.com/js/pinit.js';
             fjs.parentNode.insertBefore(js, fjs);
         }
     }(document, 'script', 'pinterest-jssdk'));
          </script>
         </div>
        </div>
       </div>
      </div>
      <!-- Right col -->
      <div class="items right">
       <div class="ads ads-468x60">
        <div id="_4ecaf12">
         <script>
          try {
           if (!window.__4ecaf12) {
             window.__4ecaf12 = true;
             googletag.cmd.push(function() { googletag.display('_4ecaf12'); });
           }
         } catch(e) {}
         </script>
        </div>
       </div>
      </div>
      <div class="clear">
      </div>
     </div>
    </div>
   </div>
   <!-- Pagination -->
   <div class="ob-pagination">
    <span class="ob-page ob-page-current ">
     1
    </span>
    <a class="ob-page ob-page-link " href="/page/2">
     2
    </a>
    <a class="ob-page ob-page-link " href="/page/3">
     3
    </a>
    <a class="ob-page ob-page-link " href="/page/4">
     4
    </a>
    <a class="ob-page ob-page-link " href="/page/5">
     5
    </a>
    <a class="ob-page ob-page-link ob-page-next" href="/page/2">
     &gt;
    </a>
    <a class="ob-page ob-page-link ob-page-last" href="/page/5">
     &gt;&gt;
    </a>
   </div>
   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js">
   </script>
   <script src="//assets.over-blog.com/t/catalog/jquery/fancybox/2.5/source/jquery.fancybox.pack.js">
   </script>
   <script src="//assets.over-blog.com/t/catalog/jquery/imagesloaded/imagesloaded.pkgd.min.js">
   </script>
   <script src="//assets.over-blog.com/t/catalog/jquery/socialite/2.0/socialite.min.js">
   </script>
   <script>
    /* Défaut : dark blue */
                 var link_color = '#4b9fd3',
                     background_color = '#fff',
                     border_color = '#1d1d1d';
             
 
 
             
             
             
                             var Timeline = new Array();
 
                 Timeline.elsStart = null,
                 Timeline.counter = 1,
                 Timeline.MAXPAGE = 10,
 
                 // Dispatch posts on columns
                 Timeline.ItemDispatcher = function(elements) {
                     if (elements){
                         $(elements).hide();
                         for (var i = 0, len = elements.length; i < len; i++) {
                             if ($(".items.left").outerHeight(true) <= $(".items.right").outerHeight(true)) {
                                 $(elements[i]).appendTo(".items.left");
                             }
                             else {
                                 $(elements[i]).appendTo(".items.right");
                             }
                             $(elements[i]).show();
                         }
                     }
                 },
 
                 // Set pictures height and width
                 Timeline.EnhancePictures = function (elements) {
                     $(elements).find('.ob-section-text img, .ob-section-images img').each(function() {
                         $(this).attr(
                             'src',
                             $(this).attr('src').replace(/\/[0-9]+x[0-9]+(\-ct)?/, "/408x306-ct")
                         );
                     });
 
                     // temporary fix, to be removed after OB.restart restarts maps
                     $(elements).find('.ob-section-map img').each(function() {
                         $(this).attr(
                             'src',
                             $(this).attr('src').replace("600x400", "408x200")
                         );
                     });
                 },
 
                 // Set fancybox to all img except img in slideshows
                 Timeline.FancyboxControls = function(elements) {
                     $(elements).find(".ob-link-img").attr("rel","fancybox");
                 },
 
                 // Load sharing buttons on hover
                 Timeline.Socialite = function (elements, hover) {
                     if(hover){
                         $(elements).find('.share').one('mouseenter', function(){
                             Socialite.load($(this)[0]);
 
                         });
                     } else{
                         Socialite.load($(elements));
                     }
                 },
 
                 // Show repost button like socialite
                 Timeline.RepostButtonShow = function (elements) {
                     $(elements).find(".share").each(function() {
                         $(this).hover(function (){
                             $(this).find(".ob-repost-btn").css("display","inline-block");
                             $(this).find(".overblog-repost").remove();
                         });
                     });
                 },
 
                 Timeline.Draw = function(elements) {
                     $(elements).find(".corner").each(function() {
                         var ctx = this.getContext("2d"),
                             left = $(this).parents(".items").hasClass("left");
                         ctx.lineWidth = 2;
 
                         // Cicle
                         ctx.beginPath();
                         if(left){
                             circle_x = 21;
                         }else{
                             circle_x = 9;
                         }
                         ctx.arc(circle_x, 9, 5, 0, Math.PI*2, true);
                         ctx.strokeStyle = link_color;
                         ctx.stroke();
                         ctx.closePath();
 
                         // Border
                         ctx.beginPath();
                         if(left){
                             ctx.moveTo(0, 0);
                             ctx.lineTo(9, 9);
                             ctx.lineTo(0, 18);
                         }else{
                             ctx.moveTo(30, 0);
                             ctx.lineTo(21, 9);
                             ctx.lineTo(30, 18);
                         }
                         ctx.fillStyle = border_color;
                         ctx.fill();
                         ctx.closePath();
 
                         // Corner
                         ctx.beginPath();
                         if(left){
                             ctx.moveTo(0, 2);
                             ctx.lineTo(7, 9);
                             ctx.lineTo(0, 16);
                         }else{
                             ctx.moveTo(30, 2);
                             ctx.lineTo(23, 9);
                             ctx.lineTo(30, 16);
                         }
                         ctx.fillStyle = background_color;
                         ctx.fill();
                         ctx.closePath();
                     });
                 }
             
             $(document).ready(function() {
 
                 // Fancy box
                 $(".ob-link-img").attr("rel", "fancybox").fancybox({
                     type: "image"
                 });
 
                                     Timeline.elsStart = $('.item');
 
                     imagesLoaded(
                         $('.items-wrapper'),
                         function(){
                             Timeline.ItemDispatcher(Timeline.elsStart);
                             Timeline.EnhancePictures(Timeline.elsStart);
                             Timeline.FancyboxControls(Timeline.elsStart);
                             Timeline.Draw(Timeline.elsStart);
                         }
                     );
 
                     Timeline.Socialite(Timeline.elsStart, true);
 
                     Timeline.RepostButtonShow(Timeline.elsStart);
                 
                 // Placeholder Script
                 if($.browser.msie && $.browser.version <= 9.0 ){
                     $('input[placeholder]').each(function(){
                         var input = $(this);
                         $(input).val(input.attr('placeholder'));
                         $(input).focus(function(){
                              if (input.val() == input.attr('placeholder')) {
                                  input.val('');
                              }
                         });
                         $(input).blur(function(){
                             if (input.val() == '' || input.val() == input.attr('placeholder')) {
                                 input.val(input.attr('placeholder'));
                             }
                         });
                     });
                 }
 
                             });
   </script>
   <div class="ob-footer" id="legals">
    <ul>
     <li class="ob-footer-item">
      Sehen Sie das Profil
      <a href="http://de.over-blog.com/user/1372488.html" target="_blank">
       sapmandoo
      </a>
      auf dem Overblog portal
     </li>
     <li class="ob-footer-item">
      <a href="https://de.over-blog.com/" target="_blank">
       Erstelle kostenlos ein Blog auf Overblog
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="/top">
       Top-Artikel
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="/contact">
       Kontakt
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="https://en.over-blog.com/abuse/1473637">
       Report abuse
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="https://en.over-blog.com/terms-of-use" target="_blank">
       AGB
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="https://www.over-blog.com/features/earn-money.html" target="_blank">
       Werbepartnerschaft
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="https://www.over-blog.com/features/premium.html" target="_blank">
       Premium-Angebot
      </a>
     </li>
     <li class="ob-footer-item">
      <a href="https://de.over-blog.com/cookies" target="_blank">
       Cookies und persönlichen Daten
      </a>
     </li>
    </ul>
   </div>
   <!-- End Google Tag Manager -->
   <script>
    dataLayer = [{
         'category' : '',
         'rating'   : 'BS',
         'unused'   : 'No',
         'adult'    : 'No',
         'pda'      : 'No',
         'hasAds'   : 'No',
         'lang'     : 'de',
         'adblock'  : '__ads_loaded__' in window ? 'No' : 'Yes'
       }];
   </script>
   <!-- Google Tag Manager -->
   <noscript>
    <iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KJ6B85" style="display:none;visibility:hidden" width="0">
    </iframe>
   </noscript>
   <script>
    googletag.cmd.push(function() {
     (function(w,d,s,l,i){
       w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
       var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
       j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
     })(window,document,'script','dataLayer','GTM-KJ6B85');
   });
   </script>
   <!-- Begin comScore Tag -->
   <script>
    var _comscore = _comscore || [];
   _comscore.push({ c1: "2", c2: "6035191" });
   (function() {
     var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;
     s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
     el.parentNode.insertBefore(s, el);
   })();
   </script>
   <noscript>
    <img src="http://b.scorecardresearch.com/p?c1=2&amp;c2=6035191&amp;cv=2.0&amp;cj=1"/>
   </noscript>
   <!-- End comScore Tag -->
   <!-- Begin Mediamétrie Tag -->
   <script>
    function _eStat_Whap_loaded_func(){
   eStatWhap.serial("800000207013");
   eStatWhap.send();
 }
 
 (function() {
   var myscript = document.createElement('script');
   myscript.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'w.estat.com/js/whap.js';
   myscript.setAttribute('async', 'true');
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(myscript, s);
 })();
   </script>
   <!-- End Mediamétrie Tag -->
   <script>
    (function() {
   var alreadyAccept = getCookie('wbCookieNotifier');
   if(alreadyAccept != 1) showWbCookieNotifier();
 
   window.closeWbCookieNotifier = function() {
     setCookie('wbCookieNotifier', 1, 730);
     window.document.getElementById("ob-cookies").style.display = "none";
   }
 
   function showWbCookieNotifier(){
       var el = document.createElement("div");
       var bo = document.body;
 
       el.id = "ob-cookies";
       el.className = "__wads_no_click ob-cookies";
 
       var p = document.createElement("p");
       p.className = "ob-cookies-content";
       p.innerHTML = "By continuing your visit to this site, you accept the use of cookies. They ensure the proper functioning of our services, analytics tools and display of relevant ads. <a class='ob-cookies-link' href='https://www.over-blog.com/cookies' target='_blank'>Learn more</a> about cookies and control them. <span class='ob-cookies-button' onclick='closeWbCookieNotifier()'>Accept</span>"
 
       document.body.appendChild(el); el.appendChild(p);
       window.wbCookieNotifier = el;
   }
 
   function setCookie(e,t,n,d){var r=new Date;r.setDate(r.getDate()+n);var i=escape(t)+(n==null?"":"; expires="+r.toUTCString())+(d==null?"":"; domain="+d)+";path=/";document.cookie=e+"="+i}
   function getCookie(e){var t,n,r,i=document.cookie.split(";");for(t=0;t<i.length;t++){n=i[t].substr(0,i[t].indexOf("="));r=i[t].substr(i[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e){return unescape(r)}}}
 })();
   </script>
  </body>
 </html>

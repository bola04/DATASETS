<!DOCTYPE html>
 <html class="no-js" lang="de-DE">
  <head>
   <meta charset="utf-8"/>
   <meta content="width=device-width" name="viewport"/>
   <link href="http://gmpg.org/xfn/11" rel="profile"/>
   <link href="http://www.fladi.de/xmlrpc.php" rel="pingback"/>
   <!--[if lt IE 9]> <script src="http://www.fladi.de/wp-content/themes/twentyfifteen/js/html5.js"></script> <![endif]-->
   <script>
    (function(html){html.className=html.className.replace(/\bno-js\b/,'js')})(document.documentElement);
   </script>
   <title>
    Fladi Blog – Die Welt aus den Augen eines Webmuckel
   </title>
   <link href="//fonts.googleapis.com" rel="dns-prefetch"/>
   <link href="//s.w.org" rel="dns-prefetch"/>
   <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
   <link href="http://www.fladi.de/feed/" rel="alternate" title="Fladi Blog » Feed" type="application/rss+xml"/>
   <meta content="Fladi Blog" name="shareaholic:site_name"/>
   <meta content="de-DE" name="shareaholic:language"/>
   <meta content="private" name="shareaholic:article_visibility"/>
   <meta content="6.1.5.1" name="shareaholic:wp_version"/>
   <script type="text/javascript">
    /*<![CDATA[*/window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.fladi.de\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.6"}};!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);/*]]>*/
   </script>
   <style type="text/css">
    img.wp-smiley,img.emoji{display:inline !important;border:none !important;box-shadow:none !important;height:1em !important;width:1em !important;margin:0 .07em !important;vertical-align:-0.1em !important;background:none !important;padding:0 !important}
   </style>
   <link href="http://www.fladi.de/wp-content/plugins/q-and-a/css/q-a-plus.css?ver=1.0.6.2" id="q-a-plus-css" media="screen" rel="stylesheet" type="text/css"/>
   <link href="https://fonts.googleapis.com/css?family=Noto+Sans%3A400italic%2C700italic%2C400%2C700%7CNoto+Serif%3A400italic%2C700italic%2C400%2C700%7CInconsolata%3A400%2C700&amp;subset=latin%2Clatin-ext" id="twentyfifteen-fonts-css" media="all" rel="stylesheet" type="text/css"/>
   <link href="http://www.fladi.de/wp-content/themes/twentyfifteen/genericons/genericons.css?ver=3.2" id="genericons-css" media="all" rel="stylesheet" type="text/css"/>
   <link href="http://www.fladi.de/wp-content/themes/twentyfifteen/style.css?ver=4.9.6" id="twentyfifteen-style-css" media="all" rel="stylesheet" type="text/css"/>
   <!--[if lt IE 9]><link rel='stylesheet' id='twentyfifteen-ie-css'  href='http://www.fladi.de/wp-content/themes/twentyfifteen/css/ie.css?ver=20141010' type='text/css' media='all' /> <![endif]-->
   <!--[if lt IE 8]><link rel='stylesheet' id='twentyfifteen-ie7-css'  href='http://www.fladi.de/wp-content/themes/twentyfifteen/css/ie7.css?ver=20141010' type='text/css' media='all' /> <![endif]-->
   <script src="http://www.fladi.de/wp-content/plugins/donottrack/donottrack-min.js?ver=4.9.6" type="text/javascript">
   </script>
   <script src="http://www.fladi.de/wp-includes/js/jquery/jquery.js?ver=1.12.4" type="text/javascript">
   </script>
   <script src="http://www.fladi.de/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1" type="text/javascript">
   </script>
   <link href="http://www.fladi.de/wp-json/" rel="https://api.w.org/"/>
   <link href="http://www.fladi.de/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
   <link href="http://www.fladi.de/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
   <meta content="WordPress 4.9.6" name="generator"/>
   <link href="http://wp.me/eYhW" rel="shortlink"/>
   <noscript>
    <link href="http://www.fladi.de/wp-content/plugins/q-and-a/css/q-a-plus-noscript.css?ver=1.0.6.2" rel="stylesheet" type="text/css"/>
   </noscript>
   <meta content="index, follow" name="robots"/>
   <meta content="Oneplus One Update von LineageOS, Proxy in einem (LXC)-Container setzen, Separaten (SSD) Root unter Ceph einrichten, Einfache Config für Squid," name="description"/>
   <meta content="Update, Beim,  Update, Reboot, Erster, Boot, Download-Folder, SuperSU-Installation" name="keywords"/>
   <title>
    Die Welt aus den Augen eines Webmuckel « Fladi Blog
   </title>
  </head>
  <body class="home blog">
   <div class="hfeed site" id="page">
    <a class="skip-link screen-reader-text" href="#content">
     Springe zum Inhalt
    </a>
    <div class="sidebar" id="sidebar">
     <header class="site-header" id="masthead" role="banner">
      <div class="site-branding">
       <h1 class="site-title">
        <a href="http://www.fladi.de/" rel="home">
         Fladi Blog
        </a>
       </h1>
       <p class="site-description">
        Die Welt aus den Augen eines Webmuckel
       </p>
       <button class="secondary-toggle">
        Menü und Widgets
       </button>
      </div>
     </header>
     <div class="secondary" id="secondary">
      <div class="widget-area" id="widget-area" role="complementary">
       <aside class="widget widget_text" id="text-3">
        <h2 class="widget-title">
         Support Fladi-Blog
        </h2>
        <div class="textwidget">
         Falls Du mich ein wenig unterstützen willst freue mich über jede kleine Aufmerksamkeit. Dazu habe ich z.B. einen
         <a href="http://www.amazon.de/registry/wishlist/3KMEV8ZY8LIU0" target="_blank">
          Amazon-Wunschzettel
         </a>
         .
        </div>
       </aside>
       <aside class="widget widget_recent_entries" id="recent-posts-2">
        <h2 class="widget-title">
         Neueste Beiträge
        </h2>
        <ul>
         <li>
          <a href="http://www.fladi.de/2017/06/04/oneplus-one-update-von-lineageos/">
           Oneplus One Update von LineageOS
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2017/01/21/proxy-in-einem-lxc-container-setzen/">
           Proxy in einem (LXC)-Container setzen
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2017/01/10/separaten-ssd-root-unter-ceph-einrichten/">
           Separaten (SSD) Root unter Ceph einrichten
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2017/01/01/einfache-config-fuer-squid/">
           Einfache Config für Squid
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2015/02/23/vagrant-unter-windows-hinter-einem-proxy-nutzen/">
           Vagrant unter Windows hinter einem Proxy nutzen
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2014/04/19/fix-fuer-meldung-android-tastatur-aosp-wurde-beendet/">
           Fix für Meldung „Android-Tastatur (AOSP) wurde beendet“
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2014/04/09/speicher-am-samsung-galaxy-s2s3-laeuft-voll/">
           Speicher am Samsung Galaxy S2/S3 läuft voll
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2014/02/06/howto-npm-hinter-einem-proxy-verwenden/">
           HowTo: NPM hinter einem Proxy verwenden
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2013/01/29/the-typo3-forum-in-numbers/">
           The TYPO3 Forum in numbers
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2013/01/28/how-the-typo3-forum-was-built/">
           How the TYPO3-Forum was built
          </a>
         </li>
        </ul>
       </aside>
       <aside class="widget widget_get_recent_comments" id="get-recent-comments">
        <h2 class="widget-title">
         Letzte Kommentare
        </h2>
        <div id="get_recent_comments_wrap">
         <ul>
          <li>
           <a href="http://www.fladi.de/2007/04/30/bios-passwort-eines-hp-compaq-nc6120-ua-loeschen/#comment-262239" title="Bios-Passwort eines HP Compaq nc6120 (u.a.) löschen, 30. April 2007">
            Tabea
           </a>
           : Hallo! Hat super bei unserem HP nc6120 funktioniert!! DANKE!!!
          </li>
          <li>
           <a href="http://www.fladi.de/2014/04/19/fix-fuer-meldung-android-tastatur-aosp-wurde-beendet/#comment-260942" title="Fix für Meldung „Android-Tastatur (AOSP) wurde beendet“, 19. April 2014">
            Gerd Ebinger
           </a>
           : Danke, hat super geklappt!!! MfG.
          </li>
          <li>
           <a href="http://www.fladi.de/2017/01/10/separaten-ssd-root-unter-ceph-einrichten/#comment-257581" title="Separaten (SSD) Root unter Ceph einrichten, 10. Januar 2017">
            Sebastian
           </a>
           : Toller Artikel! Vielen Dank dafür! Einen Hinweis hätte ich noch. Ich würde die Hosts dann auch in den Pool...
          </li>
          <li>
           <a href="http://www.fladi.de/2008/04/28/howto-webseiten-redirect-mit-301/#comment-254826" title="HowTo: Webseiten Redirect mit 301, 28. April 2008">
            Mirko
           </a>
           : Dankeschön . War sehr hilfreich für mich. Werde diese Seite als Bookmark speichern das ich schnell wieder auf...
          </li>
          <li>
           <a href="http://www.fladi.de/2014/04/19/fix-fuer-meldung-android-tastatur-aosp-wurde-beendet/#comment-252925" title="Fix für Meldung „Android-Tastatur (AOSP) wurde beendet“, 19. April 2014">
            Gerd
           </a>
           : Danke hat funktioniert, nach dem Löschen der Daten für das Wörterbuch. Obwohl das Wörterbuch auf dem Handy...
          </li>
         </ul>
        </div>
       </aside>
       <aside class="widget widget_categories" id="categories-98797791">
        <h2 class="widget-title">
         Kategorien
        </h2>
        <ul>
         <li class="cat-item cat-item-1">
          <a href="http://www.fladi.de/kategorie/allgemein/">
           Allgemein
          </a>
          (9)
         </li>
         <li class="cat-item cat-item-122">
          <a href="http://www.fladi.de/kategorie/android/">
           Android
          </a>
          (9)
         </li>
         <li class="cat-item cat-item-145">
          <a href="http://www.fladi.de/kategorie/javascript-nodejs/">
           JavaScript (nodejs …)
          </a>
          (1)
         </li>
         <li class="cat-item cat-item-60">
          <a href="http://www.fladi.de/kategorie/jquery/">
           jquery
          </a>
          (2)
         </li>
         <li class="cat-item cat-item-12">
          <a href="http://www.fladi.de/kategorie/kreuz-quer/">
           kreuz &amp; quer
          </a>
          (17)
         </li>
         <li class="cat-item cat-item-11">
          <a href="http://www.fladi.de/kategorie/ubuntu/">
           Linux
          </a>
          (13)
          <ul class="children">
           <li class="cat-item cat-item-163">
            <a href="http://www.fladi.de/kategorie/ubuntu/ceph/">
             Ceph
            </a>
            (1)
           </li>
           <li class="cat-item cat-item-166">
            <a href="http://www.fladi.de/kategorie/ubuntu/proxmox/">
             Proxmox
            </a>
            (1)
           </li>
          </ul>
         </li>
         <li class="cat-item cat-item-3">
          <a href="http://www.fladi.de/kategorie/mac/">
           Mac
          </a>
          (8)
         </li>
         <li class="cat-item cat-item-102">
          <a href="http://www.fladi.de/kategorie/php/">
           PHP
          </a>
          (4)
         </li>
         <li class="cat-item cat-item-9">
          <a href="http://www.fladi.de/kategorie/ruby-on-rails/">
           Ruby on Rails
          </a>
          (9)
         </li>
         <li class="cat-item cat-item-7">
          <a href="http://www.fladi.de/kategorie/software/">
           Software
          </a>
          (2)
         </li>
         <li class="cat-item cat-item-36">
          <a href="http://www.fladi.de/kategorie/typo3/">
           TYPO3
          </a>
          (14)
         </li>
         <li class="cat-item cat-item-40">
          <a href="http://www.fladi.de/kategorie/webmuckel-kram/">
           Webmuckel-Kram
          </a>
          (9)
         </li>
         <li class="cat-item cat-item-29">
          <a href="http://www.fladi.de/kategorie/windows/">
           Windows
          </a>
          (2)
         </li>
        </ul>
       </aside>
       <aside class="widget widget_archive" id="archives-2">
        <h2 class="widget-title">
         Archive
        </h2>
        <ul>
         <li>
          <a href="http://www.fladi.de/2017/06/">
           Juni 2017
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2017/01/">
           Januar 2017
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2015/02/">
           Februar 2015
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2014/04/">
           April 2014
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2014/02/">
           Februar 2014
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2013/01/">
           Januar 2013
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2012/12/">
           Dezember 2012
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2012/10/">
           Oktober 2012
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2011/07/">
           Juli 2011
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2011/06/">
           Juni 2011
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2011/05/">
           Mai 2011
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2011/02/">
           Februar 2011
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2010/12/">
           Dezember 2010
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2010/11/">
           November 2010
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2010/09/">
           September 2010
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2010/08/">
           August 2010
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2010/07/">
           Juli 2010
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/11/">
           November 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/10/">
           Oktober 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/09/">
           September 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/08/">
           August 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/06/">
           Juni 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/03/">
           März 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/02/">
           Februar 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2009/01/">
           Januar 2009
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/12/">
           Dezember 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/11/">
           November 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/10/">
           Oktober 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/09/">
           September 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/07/">
           Juli 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/06/">
           Juni 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/05/">
           Mai 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2008/04/">
           April 2008
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2007/08/">
           August 2007
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2007/07/">
           Juli 2007
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2007/04/">
           April 2007
          </a>
         </li>
         <li>
          <a href="http://www.fladi.de/2007/03/">
           März 2007
          </a>
         </li>
        </ul>
       </aside>
       <aside class="widget widget_pages" id="pages-4">
        <h2 class="widget-title">
         Seiten
        </h2>
        <ul>
         <li class="page_item page-item-634">
          <a href="http://www.fladi.de/datenschutzerklaerung/">
           Datenschutzerklärung
          </a>
         </li>
         <li class="page_item page-item-35">
          <a href="http://www.fladi.de/kontakt/">
           Impressum
          </a>
         </li>
        </ul>
       </aside>
      </div>
     </div>
    </div>
    <div class="site-content" id="content">
     <div class="content-area" id="primary">
      <main class="site-main" id="main" role="main">
       <article class="post-631 post type-post status-publish format-standard hentry category-android" id="post-631">
        <header class="entry-header">
         <h2 class="entry-title">
          <a href="http://www.fladi.de/2017/06/04/oneplus-one-update-von-lineageos/" rel="bookmark">
           Oneplus One Update von LineageOS
          </a>
         </h2>
        </header>
        <div class="entry-content">
         <!-- google_ad_section_start -->
         <p>
          Als Erinnerung an mich selbst:
         </p>
         <p>
          Update herunterladen (in den Einstellungen). Update starten führt ins Recovery. Install wählen und das neueste Update im Pfad
         </p>
         <p>
          <code>
           /data/data/org.lineageos.updater/app_updates
          </code>
         </p>
         <p>
          auswählen. Anschließen ggf. noch das SuperSU, das man im Download-Folder liegen hat (vorher downloaden), hinzufügen.  Update starten. Beim Reboot „do not install“ für gewünschtes SuperSU-Installation wählen.
         </p>
         <p>
          Erster Boot dauert etwas länger.
         </p>
         <p>
         </p>
         <p>
         </p>
         <!-- google_ad_section_end -->
        </div>
        <footer class="entry-footer">
         <span class="posted-on">
          <span class="screen-reader-text">
           Veröffentlicht am
          </span>
          <a href="http://www.fladi.de/2017/06/04/oneplus-one-update-von-lineageos/" rel="bookmark">
           <time class="entry-date published updated" datetime="2017-06-04T12:11:13+00:00">
            4. Juni 2017
           </time>
          </a>
         </span>
         <span class="cat-links">
          <span class="screen-reader-text">
           Kategorien
          </span>
          <a href="http://www.fladi.de/kategorie/android/" rel="category tag">
           Android
          </a>
         </span>
        </footer>
       </article>
       <article class="post-623 post type-post status-publish format-standard hentry category-ubuntu category-proxmox tag-aptproxy tag-container tag-lxc tag-proxmox tag-proxy tag-wget" id="post-623">
        <header class="entry-header">
         <h2 class="entry-title">
          <a href="http://www.fladi.de/2017/01/21/proxy-in-einem-lxc-container-setzen/" rel="bookmark">
           Proxy in einem (LXC)-Container setzen
          </a>
         </h2>
        </header>
        <div class="entry-content">
         <!-- google_ad_section_start -->
         <p>
          Da ein paar Server in meinem Netz nicht direkt, sondern nur via Reverse-Proxy erreichbar sind haben diese auch keinen direkten Internetzugang. Sie müssen sich also auch Updates etc. via Proxy holen.
         </p>
         <p>
          Dafür setze ich zum einen APT-Cacher-NG, und zum Anderen einen Squid ein. Apt könnte natürlich auch über den Squid laufen, aber da ja mehrere Server laufen muss ich nicht alle Updates zig mal herunterladen.
         </p>
         <p>
          Den Proxy für APT setzt man einfach indem man eine Datei erstellt
         </p>
         <pre>$ nano /etc/apt/apt.conf.d/00aptproxy</pre>
         <p>
          Hier wird nun der Proxy eingetragen
         </p>
         <pre>Acquire::http::Proxy "http://aptproxy.domain.de:3142“;
 Acquire::https::Proxy "https://aptproxy.domain.de:3142“;
 </pre>
         <p>
          Damit wget z.B. aber auch via Proxy raus geht kann man den „normalen“ Proxy beispielsweise ins Environment setzen. Dies geschieht durch
         </p>
         <pre>$ nano /etc/enviroment</pre>
         <p>
          und eintragen der Werte
         </p>
         <pre class="p1"><span class="s1">$ nano /etc/environment</span></pre>
         <pre class="p1"><span class="s1">http_proxy=http://proxy.domain.de:3128
 </span><span class="s1">https_proxy=https://proxy.domain.de:3128
 </span><span class="s1">ftp_proxy=ftp://proxy.domain.de
 </span><span class="s1">no_proxy=localhost,intranet.domain.de
 </span><span class="s1">soap_use_proxy=on</span></pre>
         <p class="p1">
          Nun hatte ich das Problem das ein Container das so gesetzte Environment nicht übernimmt, sondern offensichtlich das des Host auf dem er läuft. Da sich Host und Gast aber in unterschiedlichen Netzen befinden kann der Proxy nicht aufgelöst werden.
         </p>
         <p class="p1">
          Deswegen setzt man den Proxy für wget in dessen Config-Datei
         </p>
         <pre class="p1">$ nano /etc/wgetrc</pre>
         <pre class="p1">https_proxy = https://proxy.domain.de:3128/
 http_proxy = http://proxy.domain.de:3128/
 ftp_proxy = http://proxy.domain.de:3128/</pre>
         <p class="p1">
          <!-- google_ad_section_end -->
         </p>
        </div>
        <footer class="entry-footer">
         <span class="posted-on">
          <span class="screen-reader-text">
           Veröffentlicht am
          </span>
          <a href="http://www.fladi.de/2017/01/21/proxy-in-einem-lxc-container-setzen/" rel="bookmark">
           <time class="entry-date published" datetime="2017-01-21T14:19:44+00:00">
            21. Januar 2017
           </time>
           <time class="updated" datetime="2017-01-21T14:23:21+00:00">
            21. Januar 2017
           </time>
          </a>
         </span>
         <span class="cat-links">
          <span class="screen-reader-text">
           Kategorien
          </span>
          <a href="http://www.fladi.de/kategorie/ubuntu/" rel="category tag">
           Linux
          </a>
          ,
          <a href="http://www.fladi.de/kategorie/ubuntu/proxmox/" rel="category tag">
           Proxmox
          </a>
         </span>
         <span class="tags-links">
          <span class="screen-reader-text">
           Tags
          </span>
          <a href="http://www.fladi.de/tag/aptproxy/" rel="tag">
           aptproxy
          </a>
          ,
          <a href="http://www.fladi.de/tag/container/" rel="tag">
           container
          </a>
          ,
          <a href="http://www.fladi.de/tag/lxc/" rel="tag">
           lxc
          </a>
          ,
          <a href="http://www.fladi.de/tag/proxmox/" rel="tag">
           proxmox
          </a>
          ,
          <a href="http://www.fladi.de/tag/proxy/" rel="tag">
           proxy
          </a>
          ,
          <a href="http://www.fladi.de/tag/wget/" rel="tag">
           wget
          </a>
         </span>
        </footer>
       </article>
       <article class="post-617 post type-post status-publish format-standard hentry category-ceph category-ubuntu tag-ceph tag-proxmox" id="post-617">
        <header class="entry-header">
         <h2 class="entry-title">
          <a href="http://www.fladi.de/2017/01/10/separaten-ssd-root-unter-ceph-einrichten/" rel="bookmark">
           Separaten (SSD) Root unter Ceph einrichten
          </a>
         </h2>
        </header>
        <div class="entry-content">
         <!-- google_ad_section_start -->
         <p>
          In meinem (Proxmox)-Ceph Cluster möchte ich mit ein paar SSD einen separaten Root Bereich zur Ablage von VM-Images realisieren. Früher musste man dazu die Crush-Map noch von Hand extrahieren, anpassen und wieder einspielen. In der von mir eingesetzten Jewel-Version geht das auch schon mit dem CLI.
         </p>
         <p>
          Zunächst ein neuen Root-Container erzeugen:
         </p>
         <pre><span class="">$ ceph osd crush add-bucket ssds root</span></pre>
         <p>
          Da in Ceph-Servern schon SATA Platten verbaut und genutzt sind, muss man für den neuen Pool gefakten Hostnamen anlegen
         </p>
         <pre>$ ceph osd crush add-bucket ceph01-ssd host
 $ ceph osd crush add-bucket ceph02-ssd host
 $ ceph osd crush add-bucket ceph03-ssd host</pre>
         <p>
          In die ceph.conf (/etc/pve/ceph.conf wird im [osd]-Abschnitt der folgende Eintrag gemacht, damit nach einem Reboot die OSD nicht wieder in den default-Pool gelegt werden.
         </p>
         <pre>[osd]
 osd crush update on start = false</pre>
         <p>
          In meinem Fall hat dies schon gelangt, damit die OSD permanent im SSD-Container bleiben. Falls das nicht klappt kann man probieren den jeweiligen OSD direkt anzuweisen wo er liegt. Dazu ebenfalls in der ceph.conf einen Eintrag pro OSD machen.
         </p>
         <pre><span class="">[osd.13]
 </span>host = ceph01
 osd_journal = /dev/disk/by-id/ata-SATA_SSD_67F584760C2400150026-part1
 crush_location = root=ssds host=ceph01-ssd</pre>
         <p>
          Nun kann man die neuen OSD anlegen. Entweder via GUI oder
         </p>
         <pre><span class="">ceph osd crush add 13 0.64 root=ssds</span></pre>
         <p>
          Hierbei ist „13“ die OSD-Nummer und 1.5 gibt die weight an. Eine weight von 1 entspricht 1TB.
         </p>
         <p>
          Im Anschluss verschiebt man die OSD in den neuen Container.
         </p>
         <pre>ceph osd crush set osd.13 0.64 root=ssds host=ceph01-ssd</pre>
         <p>
          Nun kann man einen neuen Pool erzeugen. Via Webinterface oder
         </p>
         <pre>ceph osd pool create ssdpool 64 64</pre>
         <p>
          Anschließend muss noch eine Crush-Rule erzeugt werden
         </p>
         <pre>ceph osd crush rule create-simple ssdpool ssds host</pre>
         <p>
          Der letzte Schritt ist die Cruh-Rule dem neuen Pool zuzuweisen
         </p>
         <pre>ceph osd pool set ssdpool crush_ruleset 3</pre>
         <p>
         </p>
         <!-- google_ad_section_end -->
        </div>
        <footer class="entry-footer">
         <span class="posted-on">
          <span class="screen-reader-text">
           Veröffentlicht am
          </span>
          <a href="http://www.fladi.de/2017/01/10/separaten-ssd-root-unter-ceph-einrichten/" rel="bookmark">
           <time class="entry-date published" datetime="2017-01-10T15:26:00+00:00">
            10. Januar 2017
           </time>
           <time class="updated" datetime="2017-01-16T15:55:15+00:00">
            16. Januar 2017
           </time>
          </a>
         </span>
         <span class="cat-links">
          <span class="screen-reader-text">
           Kategorien
          </span>
          <a href="http://www.fladi.de/kategorie/ubuntu/ceph/" rel="category tag">
           Ceph
          </a>
          ,
          <a href="http://www.fladi.de/kategorie/ubuntu/" rel="category tag">
           Linux
          </a>
         </span>
         <span class="tags-links">
          <span class="screen-reader-text">
           Tags
          </span>
          <a href="http://www.fladi.de/tag/ceph/" rel="tag">
           ceph
          </a>
          ,
          <a href="http://www.fladi.de/tag/proxmox/" rel="tag">
           proxmox
          </a>
         </span>
         <span class="comments-link">
          <a href="http://www.fladi.de/2017/01/10/separaten-ssd-root-unter-ceph-einrichten/#comments">
           1 Kommentar
           <span class="screen-reader-text">
            zu Separaten (SSD) Root unter Ceph einrichten
           </span>
          </a>
         </span>
        </footer>
       </article>
       <article class="post-613 post type-post status-publish format-standard hentry category-ubuntu tag-linux tag-server tag-squid" id="post-613">
        <header class="entry-header">
         <h2 class="entry-title">
          <a href="http://www.fladi.de/2017/01/01/einfache-config-fuer-squid/" rel="bookmark">
           Einfache Config für Squid
          </a>
         </h2>
        </header>
        <div class="entry-content">
         <!-- google_ad_section_start -->
         <p>
          In einem internen Netz sollen die Server nur via Proxy „nach draußen“. Unter Debian wird Squid z.B. mit
         </p>
         <pre>$ apt-get install squid3</pre>
         <p>
          installiert. Für CentOS wäre dies
         </p>
         <pre>yum -y install squid</pre>
         <p>
          Anschließend kann man in der Konfigurationsdatei /etc/squid/squid.conf folgende Einträge machen
         </p>
         <pre>#Recommended minimum configuration:
 acl manager proto cache_object
 acl localhost src 127.0.0.1/32
 # acl to_localhost dst 10.0.0.0/8
 acl localnet src 10.0.0.0/8
 # 0.0.0.0/8 192.168.100.0/24 192.168.101.0/24
 acl SSL_ports port 443
 acl Safe_ports port 80 # http
 acl Safe_ports port 21 # ftp
 acl Safe_ports port 443 # https
 acl Safe_ports port 70 # gopher
 acl Safe_ports port 210 # wais
 acl Safe_ports port 1025-65535 # unregistered ports
 acl Safe_ports port 280 # http-mgmt
 acl Safe_ports port 488 # gss-http
 acl Safe_ports port 591 # filemaker
 acl Safe_ports port 777 # multiling http
 
 acl CONNECT method CONNECT
 
 http_access allow manager localhost localnet
 http_access deny manager
 http_access deny !Safe_ports
 
 #http_access deny to_localhost
 http_access always_direct localnet
 icp_access deny all
 htcp_access deny all
 
 http_port 3128
 hierarchy_stoplist cgi-bin ?
 access_log /var/log/squid/access.log squid
 
 
 #Suggested default:
 refresh_pattern ^ftp: 1440 20% 10080
 refresh_pattern ^gopher: 1440 0% 1440
 refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
 refresh_pattern . 0 20% 4320
 # Leave coredumps in the first cache dir
 coredump_dir /var/spool/squid3
 
 # Allow all machines to all sites
 http_access allow all</pre>
         <!-- google_ad_section_end -->
        </div>
        <footer class="entry-footer">
         <span class="posted-on">
          <span class="screen-reader-text">
           Veröffentlicht am
          </span>
          <a href="http://www.fladi.de/2017/01/01/einfache-config-fuer-squid/" rel="bookmark">
           <time class="entry-date published" datetime="2017-01-01T14:48:24+00:00">
            1. Januar 2017
           </time>
           <time class="updated" datetime="2017-01-16T14:58:41+00:00">
            16. Januar 2017
           </time>
          </a>
         </span>
         <span class="cat-links">
          <span class="screen-reader-text">
           Kategorien
          </span>
          <a href="http://www.fladi.de/kategorie/ubuntu/" rel="category tag">
           Linux
          </a>
         </span>
         <span class="tags-links">
          <span class="screen-reader-text">
           Tags
          </span>
          <a href="http://www.fladi.de/tag/linux/" rel="tag">
           linux
          </a>
          ,
          <a href="http://www.fladi.de/tag/server/" rel="tag">
           server
          </a>
          ,
          <a href="http://www.fladi.de/tag/squid/" rel="tag">
           squid
          </a>
         </span>
        </footer>
       </article>
       <article class="post-600 post type-post status-publish format-standard hentry category-windows tag-proxy tag-vagrant tag-virtual-box" id="post-600">
        <header class="entry-header">
         <h2 class="entry-title">
          <a href="http://www.fladi.de/2015/02/23/vagrant-unter-windows-hinter-einem-proxy-nutzen/" rel="bookmark">
           Vagrant unter Windows hinter einem Proxy nutzen
          </a>
         </h2>
        </header>
        <div class="entry-content">
         <!-- google_ad_section_start -->
         <p>
          Um Vagrant unter Windows hinter einem Proxy sinnvoll zu nutzen bedient man sich am Besten des Vagrant-Plugins „vagrant-proxyconf“.
         </p>
         <p>
          Dies installiert man mit
         </p>
         <pre>vagrant plugin install vagrant-proxyconf</pre>
         <p>
          Wenn man nun aber z.B. in der Firma hinter einem Proxy sitzt, so klappt natürlich auch die Plugin-Installation aufgrund fehlenden Internet-Zugriffs nicht. Also muss zunächst für die Plugin-Installation der verwendete Proxy erstmal in der Shell bekannt gemacht werden. Unter Unix wäre das mit Export der Umgebungsvariable erledigt. Unter Windows bedienen wir uns des SET-Befehls:
         </p>
         <pre>SET HTTP_PROXY=http://user:passwort@proxy:port
 SET HTTPS_PROXY=http://user:passwort@proxy:port</pre>
         <p>
          Nun einfach die entsprechenden Werte einsetzen und in der Shell eingeben. Danach kann man dann das Plugin wie oben beschrieben installieren.
         </p>
         <p>
          Nun kann man die Proxy-Settings entweder in sein privates User-Vagrantfile einbinden, oder aber z.B. in das Vagrantfile der aktuellen Maschine:
         </p>
         <pre>config.proxy.http = "http://user:passwort@proxy:port"
 config.proxy.https = "http://user:passwort@proxy:port"
 config.proxy.no_proxy = "localhost,127.0.0.1"</pre>
         <p>
          Nun sollte beim nächsten „vagrant up“ der Zugriff klappen und z.B. das Image heruntergeladen werden.
         </p>
         <p>
          Sollte für den Zugriff kein User/Passwort nötig sein, wird der entsprechende Teil in der Proxy-URL einfach weggelassen.
         </p>
         <!-- google_ad_section_end -->
        </div>
        <footer class="entry-footer">
         <span class="posted-on">
          <span class="screen-reader-text">
           Veröffentlicht am
          </span>
          <a href="http://www.fladi.de/2015/02/23/vagrant-unter-windows-hinter-einem-proxy-nutzen/" rel="bookmark">
           <time class="entry-date published" datetime="2015-02-23T14:12:35+00:00">
            23. Februar 2015
           </time>
           <time class="updated" datetime="2015-02-23T14:13:04+00:00">
            23. Februar 2015
           </time>
          </a>
         </span>
         <span class="cat-links">
          <span class="screen-reader-text">
           Kategorien
          </span>
          <a href="http://www.fladi.de/kategorie/windows/" rel="category tag">
           Windows
          </a>
         </span>
         <span class="tags-links">
          <span class="screen-reader-text">
           Tags
          </span>
          <a href="http://www.fladi.de/tag/proxy/" rel="tag">
           proxy
          </a>
          ,
          <a href="http://www.fladi.de/tag/vagrant/" rel="tag">
           vagrant
          </a>
          ,
          <a href="http://www.fladi.de/tag/virtual-box/" rel="tag">
           virtual box
          </a>
         </span>
        </footer>
       </article>
       <nav class="navigation pagination" role="navigation">
        <h2 class="screen-reader-text">
         Beitrags-Navigation
        </h2>
        <div class="nav-links">
         <span aria-current="page" class="page-numbers current">
          <span class="meta-nav screen-reader-text">
           Seite
          </span>
          1
         </span>
         <a class="page-numbers" href="http://www.fladi.de/page/2/">
          <span class="meta-nav screen-reader-text">
           Seite
          </span>
          2
         </a>
         <span class="page-numbers dots">
          …
         </span>
         <a class="page-numbers" href="http://www.fladi.de/page/18/">
          <span class="meta-nav screen-reader-text">
           Seite
          </span>
          18
         </a>
         <a class="next page-numbers" href="http://www.fladi.de/page/2/">
          Nächste Seite
         </a>
        </div>
       </nav>
      </main>
     </div>
    </div>
    <footer class="site-footer" id="colophon" role="contentinfo">
     <div class="site-info">
      <a href="https://de.wordpress.org/">
       Stolz präsentiert von WordPress
      </a>
     </div>
    </footer>
   </div>
   <script type="text/javascript">
    var gaJsHost=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");document.write(unescape("%3Cscript src='"+gaJsHost+"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
   </script>
   <script type="text/javascript">
    var pageTracker=_gat._getTracker("UA-312978-1");pageTracker._initData();pageTracker._trackPageview();
   </script>
   <script src="http://www.fladi.de/wp-content/plugins/q-and-a/js/q-a-plus.js?ver=1.0.6.2" type="text/javascript">
   </script>
   <script src="http://www.fladi.de/wp-content/themes/twentyfifteen/js/skip-link-focus-fix.js?ver=20141010" type="text/javascript">
   </script>
   <script type="text/javascript">
    /*<![CDATA[*/var screenReaderText={"expand":"<span class=\"screen-reader-text\">Untermen\u00fc anzeigen<\/span>","collapse":"<span class=\"screen-reader-text\">Untermen\u00fc verbergen<\/span>"};/*]]>*/
   </script>
   <script src="http://www.fladi.de/wp-content/themes/twentyfifteen/js/functions.js?ver=20150330" type="text/javascript">
   </script>
   <script src="http://www.fladi.de/wp-includes/js/wp-embed.min.js?ver=4.9.6" type="text/javascript">
   </script>
   <script src="http://stats.wordpress.com/e-201821.js" type="text/javascript">
   </script>
   <script type="text/javascript">
    st_go({blog:'3568344',v:'ext',post:'0'});var load_cmc=function(){linktracker_init(3568344,0,2);};if(typeof addLoadEvent!='undefined')addLoadEvent(load_cmc);else load_cmc();
   </script>
  </body>
 </html>